-- ============================================
-- JavaScript Courses, Modules, and Lessons Export (Complete)
-- Generated: 2026-01-03 11:04:48
-- This script safely replaces all JavaScript-related data
-- ============================================

START TRANSACTION;

SET FOREIGN_KEY_CHECKS=0;

-- ============================================
-- Step 1: Delete existing JavaScript data
-- ============================================

-- Delete all JavaScript lessons
DELETE FROM `lessons` WHERE `course_id` IN (2,10,11,12,13,14,15,16,17,18);

-- Delete all JavaScript modules
DELETE FROM `modules` WHERE `course_id` IN (2,10,11,12,13,14,15,16,17,18);

-- Delete all JavaScript subcourses
DELETE FROM `courses` WHERE `parent_course_id` = 2;

-- Delete JavaScript Programming parent course
DELETE FROM `courses` WHERE `id` = 2 OR `slug` = 'javascript-programming';


-- ============================================
-- Step 2: Insert JavaScript courses
-- ============================================

INSERT INTO `courses` (`id`, `parent_course_id`, `title`, `slug`, `description`, `image`, `difficulty`, `status`, `sort_order`, `created_at`, `updated_at`, `category_id`, `instructor_id`, `enrollment_type`, `is_free`, `is_self_paced`, `capacity`, `syllabus`, `tags`) VALUES (2, NULL, 'JavaScript Programming', 'javascript-programming', 'Learn JavaScript from scratch. Master the fundamentals of web programming, DOM manipulation, modern ES6+ features, and build interactive web applications.', NULL, 'beginner', 'published', 2, '2025-12-30 18:25:44', '2025-12-30 18:25:44', NULL, NULL, 'open', 1, 1, NULL, NULL, NULL);
INSERT INTO `courses` (`id`, `parent_course_id`, `title`, `slug`, `description`, `image`, `difficulty`, `status`, `sort_order`, `created_at`, `updated_at`, `category_id`, `instructor_id`, `enrollment_type`, `is_free`, `is_self_paced`, `capacity`, `syllabus`, `tags`) VALUES (10, 2, 'JavaScript Fundamentals', 'javascript-fundamentals', 'Learn the fundamentals of JavaScript programming. Master syntax, variables, data types, operators, control flow, functions, objects, and arrays.', NULL, 'beginner', 'published', 1, '2026-01-03 09:03:38', '2026-01-03 09:03:38', NULL, NULL, 'open', 1, 1, NULL, NULL, NULL);
INSERT INTO `courses` (`id`, `parent_course_id`, `title`, `slug`, `description`, `image`, `difficulty`, `status`, `sort_order`, `created_at`, `updated_at`, `category_id`, `instructor_id`, `enrollment_type`, `is_free`, `is_self_paced`, `capacity`, `syllabus`, `tags`) VALUES (11, 2, 'Intermediate JavaScript', 'intermediate-javascript', 'Advance your JavaScript skills with ES6+ features, advanced functions, asynchronous JavaScript, iterators, generators, and modules.', NULL, 'intermediate', 'published', 2, '2026-01-03 09:03:38', '2026-01-03 09:03:38', NULL, NULL, 'open', 1, 1, NULL, NULL, NULL);
INSERT INTO `courses` (`id`, `parent_course_id`, `title`, `slug`, `description`, `image`, `difficulty`, `status`, `sort_order`, `created_at`, `updated_at`, `category_id`, `instructor_id`, `enrollment_type`, `is_free`, `is_self_paced`, `capacity`, `syllabus`, `tags`) VALUES (12, 2, 'DOM Manipulation and Events', 'dom-manipulation-events', 'Master the Document Object Model (DOM), event handling, form validation, and creating interactive web pages.', NULL, 'intermediate', 'published', 3, '2026-01-03 09:03:38', '2026-01-03 09:03:38', NULL, NULL, 'open', 1, 1, NULL, NULL, NULL);
INSERT INTO `courses` (`id`, `parent_course_id`, `title`, `slug`, `description`, `image`, `difficulty`, `status`, `sort_order`, `created_at`, `updated_at`, `category_id`, `instructor_id`, `enrollment_type`, `is_free`, `is_self_paced`, `capacity`, `syllabus`, `tags`) VALUES (13, 2, 'Browser APIs and Storage', 'browser-apis-storage', 'Learn browser storage (localStorage, sessionStorage, IndexedDB) and browser APIs for modern web development.', NULL, 'intermediate', 'published', 4, '2026-01-03 09:03:38', '2026-01-03 09:03:38', NULL, NULL, 'open', 1, 1, NULL, NULL, NULL);
INSERT INTO `courses` (`id`, `parent_course_id`, `title`, `slug`, `description`, `image`, `difficulty`, `status`, `sort_order`, `created_at`, `updated_at`, `category_id`, `instructor_id`, `enrollment_type`, `is_free`, `is_self_paced`, `capacity`, `syllabus`, `tags`) VALUES (14, 2, 'Advanced JavaScript', 'advanced-javascript', 'Master advanced JavaScript concepts including functional programming, design patterns, error handling, debugging, and performance optimization.', NULL, 'advanced', 'published', 5, '2026-01-03 09:03:38', '2026-01-03 09:03:38', NULL, NULL, 'open', 1, 1, NULL, NULL, NULL);
INSERT INTO `courses` (`id`, `parent_course_id`, `title`, `slug`, `description`, `image`, `difficulty`, `status`, `sort_order`, `created_at`, `updated_at`, `category_id`, `instructor_id`, `enrollment_type`, `is_free`, `is_self_paced`, `capacity`, `syllabus`, `tags`) VALUES (15, 2, 'Testing and Tools', 'javascript-testing-tools', 'Learn JavaScript testing frameworks, build tools, bundlers, code quality tools, and linting for professional development.', NULL, 'intermediate', 'published', 6, '2026-01-03 09:03:38', '2026-01-03 09:03:38', NULL, NULL, 'open', 1, 1, NULL, NULL, NULL);
INSERT INTO `courses` (`id`, `parent_course_id`, `title`, `slug`, `description`, `image`, `difficulty`, `status`, `sort_order`, `created_at`, `updated_at`, `category_id`, `instructor_id`, `enrollment_type`, `is_free`, `is_self_paced`, `capacity`, `syllabus`, `tags`) VALUES (16, 2, 'Frontend Frameworks', 'frontend-frameworks', 'Explore modern frontend frameworks including React basics and advanced concepts, and Vue.js as an alternative framework.', NULL, 'intermediate', 'published', 7, '2026-01-03 09:03:38', '2026-01-03 09:03:38', NULL, NULL, 'open', 1, 1, NULL, NULL, NULL);
INSERT INTO `courses` (`id`, `parent_course_id`, `title`, `slug`, `description`, `image`, `difficulty`, `status`, `sort_order`, `created_at`, `updated_at`, `category_id`, `instructor_id`, `enrollment_type`, `is_free`, `is_self_paced`, `capacity`, `syllabus`, `tags`) VALUES (17, 2, 'Node.js and Backend Development', 'nodejs-backend-development', 'Build backend applications with Node.js. Learn to create web servers, work with databases, and implement authentication.', NULL, 'intermediate', 'published', 8, '2026-01-03 09:03:38', '2026-01-03 09:03:38', NULL, NULL, 'open', 1, 1, NULL, NULL, NULL);
INSERT INTO `courses` (`id`, `parent_course_id`, `title`, `slug`, `description`, `image`, `difficulty`, `status`, `sort_order`, `created_at`, `updated_at`, `category_id`, `instructor_id`, `enrollment_type`, `is_free`, `is_self_paced`, `capacity`, `syllabus`, `tags`) VALUES (18, 2, 'Practical Projects', 'javascript-practical-projects', 'Build real-world JavaScript projects including interactive web applications, API integrations, and full-stack applications.', NULL, 'intermediate', 'published', 9, '2026-01-03 09:03:38', '2026-01-03 09:03:38', NULL, NULL, 'open', 1, 1, NULL, NULL, NULL);

-- ============================================
-- Step 3: Insert JavaScript modules
-- ============================================

INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (41, 10, 'Getting Started with JavaScript', 'Learn the fundamentals of JavaScript programming and set up your development environment.', 1, '2026-01-03 09:04:11', '2026-01-03 09:04:11');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (42, 10, 'Operators and Expressions', 'Learn about arithmetic, comparison, logical, and assignment operators in JavaScript.', 2, '2026-01-03 09:11:26', '2026-01-03 09:11:26');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (43, 10, 'Control Flow', 'Learn about conditional statements, loops, and error handling in JavaScript.', 3, '2026-01-03 09:13:00', '2026-01-03 09:13:00');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (44, 10, 'Functions', 'Learn about function declarations, expressions, arrow functions, scope, hoisting, and advanced function concepts.', 4, '2026-01-03 09:31:17', '2026-01-03 09:31:17');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (45, 10, 'Objects and Arrays', 'Learn about objects, arrays, object methods, array methods, iteration, and advanced array operations.', 5, '2026-01-03 09:33:30', '2026-01-03 09:33:30');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (46, 10, 'Object-Oriented Programming', 'Learn object-oriented programming concepts in JavaScript including classes, objects, inheritance, prototypes, and encapsulation.', 6, '2026-01-03 09:36:30', '2026-01-03 09:36:30');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (47, 11, 'ES6+ Features', 'Learn modern JavaScript features including let, const, block scope, destructuring, template literals, and symbols.', 1, '2026-01-03 09:40:36', '2026-01-03 09:40:36');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (48, 11, 'Advanced Functions', 'Learn advanced function concepts including closures, IIFE, bind, call, apply, and function composition.', 2, '2026-01-03 09:46:18', '2026-01-03 09:46:18');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (49, 11, 'Asynchronous JavaScript', 'Learn asynchronous JavaScript concepts including callbacks, promises, async/await, and handling asynchronous operations.', 3, '2026-01-03 09:47:33', '2026-01-03 09:47:33');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (50, 11, 'Iterators and Generators', 'Learn about iterators, generators, and how to create custom iterable objects in JavaScript.', 4, '2026-01-03 09:48:39', '2026-01-03 09:48:39');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (51, 11, 'Modules', 'Learn about ES6 modules, CommonJS, module systems, and module bundlers in JavaScript.', 5, '2026-01-03 09:49:46', '2026-01-03 09:49:46');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (52, 11, 'Working with APIs', 'Learn how to make HTTP requests using Fetch API, Axios, and handle API responses and errors.', 6, '2026-01-03 09:51:41', '2026-01-03 09:51:41');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (53, 12, 'Document Object Model (DOM)', 'Learn about the DOM, DOM structure, accessing elements, manipulating the DOM, and DOM traversal.', 1, '2026-01-03 09:52:47', '2026-01-03 09:52:47');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (54, 12, 'Events', 'Learn about event handling, event types, event propagation, and advanced event patterns in JavaScript.', 2, '2026-01-03 09:53:34', '2026-01-03 09:53:34');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (55, 12, 'Forms and Validation', 'Learn how to work with forms, form elements, form validation, and input types in JavaScript.', 3, '2026-01-03 09:53:34', '2026-01-03 09:53:34');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (56, 13, 'Browser Storage', 'Learn about browser storage APIs including localStorage, sessionStorage, and IndexedDB.', 1, '2026-01-03 09:54:38', '2026-01-03 09:54:38');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (57, 13, 'Browser APIs', 'Learn about various browser APIs including Geolocation, Canvas, Web Audio, and other browser APIs.', 2, '2026-01-03 09:54:38', '2026-01-03 09:54:38');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (58, 14, 'Functional Programming', 'Learn functional programming concepts including pure functions, immutability, higher-order functions, and functional patterns.', 1, '2026-01-03 09:59:25', '2026-01-03 09:59:25');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (59, 14, 'Design Patterns', 'Learn common design patterns in JavaScript including creational, structural, and behavioral patterns.', 2, '2026-01-03 09:59:25', '2026-01-03 09:59:25');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (60, 14, 'Error Handling and Debugging', 'Learn advanced error handling techniques and debugging strategies for JavaScript applications.', 3, '2026-01-03 10:03:01', '2026-01-03 10:03:01');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (61, 14, 'Performance Optimization', 'Learn techniques for optimizing JavaScript code performance, memory management, and rendering optimization.', 4, '2026-01-03 10:03:01', '2026-01-03 10:03:01');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (62, 15, 'Testing', 'Learn JavaScript testing fundamentals, Jest framework, and testing best practices.', 1, '2026-01-03 10:04:29', '2026-01-03 10:04:29');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (63, 15, 'Build Tools and Bundlers', 'Learn about build tools, bundlers like Webpack, and code quality tools for JavaScript development.', 2, '2026-01-03 10:04:29', '2026-01-03 10:04:29');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (64, 15, 'Code Quality and Linting', 'Learn about code quality tools, ESLint, Prettier, and best practices for maintaining JavaScript code quality.', 3, '2026-01-03 10:07:13', '2026-01-03 10:07:13');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (65, 16, 'React Basics', 'Learn React fundamentals including components, JSX, props, state, and React hooks.', 1, '2026-01-03 10:07:13', '2026-01-03 10:07:13');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (66, 16, 'React Advanced', 'Learn advanced React concepts including hooks, routing, state management, and performance optimization.', 2, '2026-01-03 10:09:12', '2026-01-03 10:09:12');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (67, 16, 'Vue.js (Alternative Framework)', 'Learn Vue.js as an alternative frontend framework, including Vue components, directives, and Vue ecosystem.', 3, '2026-01-03 10:09:12', '2026-01-03 10:09:12');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (68, 17, 'Node.js Basics', 'Learn Node.js fundamentals including modules, file system operations, and Node.js runtime environment.', 1, '2026-01-03 10:13:14', '2026-01-03 10:13:14');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (69, 17, 'Building Web Servers', 'Learn to build web servers using Node.js, Express.js framework, routing, and middleware.', 2, '2026-01-03 10:13:14', '2026-01-03 10:13:14');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (70, 17, 'Databases and Authentication', 'Learn to work with databases (MongoDB, SQL) and implement authentication in Node.js applications.', 3, '2026-01-03 10:13:14', '2026-01-03 10:13:14');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (71, 18, 'Interactive Web Pages', 'Build interactive web pages with DOM manipulation, event handling, and local storage.', 1, '2026-01-03 10:32:02', '2026-01-03 10:32:02');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (72, 18, 'Frontend Applications', 'Build frontend applications with React, including React components, routing, and state management.', 2, '2026-01-03 10:35:57', '2026-01-03 10:35:57');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (73, 18, 'Full-Stack Applications', 'Build full-stack applications with React frontend and Node.js backend, including database integration and authentication.', 3, '2026-01-03 10:37:38', '2026-01-03 10:37:38');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (74, 18, 'Advanced Projects', 'Build advanced projects including real-time applications, WebSockets, and complex JavaScript applications.', 4, '2026-01-03 10:39:34', '2026-01-03 10:39:34');
INSERT INTO `modules` (`id`, `course_id`, `title`, `description`, `sort_order`, `created_at`, `updated_at`) VALUES (75, 18, 'Capstone Projects', 'Complete capstone projects to demonstrate mastery of JavaScript, full-stack development, and modern web application architecture.', 5, '2026-01-03 10:41:52', '2026-01-03 10:41:52');

-- ============================================
-- Step 4: Insert JavaScript lessons
-- ============================================

INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (108, 41, 10, 'Introduction to JavaScript', 'introduction-to-javascript', '# Lesson 1.1: Introduction to JavaScript\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand what JavaScript is and its key characteristics\n- Explain the history and evolution of JavaScript\n- Distinguish between JavaScript in the browser and Node.js\n- Set up a development environment for JavaScript\n- Use the browser console and DevTools\n- Write and run your first JavaScript program\n\n---\n\n## What is JavaScript?\n\nJavaScript is a high-level, interpreted programming language that is one of the core technologies of the World Wide Web, alongside HTML and CSS. Created by Brendan Eich in 1995, JavaScript has evolved from a simple scripting language for web pages into a powerful, versatile language used for both frontend and backend development.\n\n### Key Characteristics of JavaScript\n\n1. **Interpreted Language**: JavaScript code is executed directly by a JavaScript engine (like V8 in Chrome) without needing compilation. However, modern engines use Just-In-Time (JIT) compilation for performance.\n\n2. **Dynamic Typing**: Variables don''t need explicit type declarations. JavaScript automatically determines the type based on the value assigned.\n\n3. **Prototype-Based**: JavaScript uses prototypes for inheritance rather than traditional classes (though ES6 introduced class syntax).\n\n4. **First-Class Functions**: Functions in JavaScript are treated as objects - they can be assigned to variables, passed as arguments, and returned from other functions.\n\n5. **Event-Driven**: JavaScript is designed to respond to user interactions and browser events, making it ideal for interactive web applications.\n\n6. **Single-Threaded with Asynchronous Capabilities**: JavaScript runs on a single thread but uses an event loop and callbacks to handle asynchronous operations.\n\n7. **Cross-Platform**: JavaScript runs in browsers (client-side) and on servers (Node.js), making it truly universal.\n\n### JavaScript''s Role in Web Development\n\nJavaScript is one of the three core web technologies:\n\n- **HTML**: Structure and content\n- **CSS**: Styling and layout\n- **JavaScript**: Behavior and interactivity\n\nTogether, they create modern, dynamic web experiences.\n\n---\n\n## JavaScript History and Evolution\n\n### The Early Years (1995-2000)\n\n**1995 - Birth of JavaScript**\n- Created by Brendan Eich at Netscape in just 10 days\n- Originally named "Mocha," then "LiveScript," finally "JavaScript"\n- Designed to add interactivity to static HTML pages\n- Released with Netscape Navigator 2.0\n\n**1996 - Standardization**\n- JavaScript was submitted to ECMA International for standardization\n- Became ECMAScript (ES1) - the official standard\n- Microsoft created JScript for Internet Explorer (similar but not identical)\n\n**1997-1999 - ECMAScript 2 & 3**\n- ES2 (1998): Minor updates\n- ES3 (1999): Added regular expressions, better string handling, try/catch\n- ES3 became the dominant version for over a decade\n\n### The Dark Ages (2000-2009)\n\n- Browser wars led to compatibility issues\n- Different browsers implemented JavaScript differently\n- Developers had to write browser-specific code\n- jQuery emerged (2006) to solve cross-browser compatibility\n\n### The Renaissance (2009-2015)\n\n**2009 - Node.js**\n- Ryan Dahl created Node.js, bringing JavaScript to the server\n- Enabled JavaScript to run outside browsers\n- Revolutionized backend development\n\n**2015 - ECMAScript 6 (ES6/ES2015)**\n- Major update after 6 years\n- Introduced: classes, arrow functions, let/const, modules, promises, and more\n- Modern JavaScript as we know it today\n\n### Modern Era (2015-Present)\n\n**Annual Releases**\n- ES2016, ES2017, ES2018, ES2019, ES2020, ES2021, ES2022, ES2023, ES2024\n- Regular updates with new features\n- Async/await, optional chaining, nullish coalescing, and more\n\n**Current State**\n- JavaScript is the most popular programming language (GitHub, Stack Overflow)\n- Used in web, mobile (React Native), desktop (Electron), IoT, and more\n- Massive ecosystem with npm (largest package registry)\n\n---\n\n## JavaScript in the Browser vs Node.js\n\n### Browser JavaScript (Client-Side)\n\nJavaScript in the browser runs on the user''s computer and interacts with:\n\n**Capabilities:**\n- Manipulate the DOM (Document Object Model)\n- Handle user events (clicks, keyboard input, etc.)\n- Make HTTP requests (AJAX/Fetch)\n- Store data locally (localStorage, sessionStorage)\n- Access browser APIs (Geolocation, Camera, etc.)\n- Create animations and visual effects\n\n**Limitations:**\n- Cannot access the file system (security)\n- Cannot make direct network connections (same-origin policy)\n- Limited by browser security sandbox\n\n**Example Use Cases:**\n- Interactive web pages\n- Form validation\n- Dynamic content updates\n- Single Page Applications (SPAs)\n- Games and animations\n\n### Node.js (Server-Side)\n\nNode.js allows JavaScript to run on servers and provides:\n\n**Capabilities:**\n- File system access\n- Network operations\n- Database connections\n- Server-side logic\n- API development\n- Command-line tools\n\n**Differences:**\n- No DOM (no `document` or `window` objects)\n- Different global objects (`global` instead of `window`)\n- Can use CommonJS modules (`require`/`module.exports`)\n- Access to system resources\n\n**Example Use Cases:**\n- Web servers (Express.js)\n- REST APIs\n- Real-time applications (WebSockets)\n- Build tools and automation\n- Desktop applications (Electron)\n\n### Key Similarities\n\nBoth environments share:\n- Core JavaScript language features\n- Same syntax and data types\n- Same control structures (if/else, loops, functions)\n- Modern ES6+ features\n\n---\n\n## Setting Up Your Development Environment\n\n### 1. **Web Browser**\n\nAny modern browser works, but recommended:\n- **Google Chrome** (Recommended) - Best DevTools\n- **Mozilla Firefox** - Excellent developer tools\n- **Microsoft Edge** - Good DevTools, Chromium-based\n- **Safari** - Good for macOS/iOS testing\n\n### 2. **Code Editor**\n\nChoose a code editor that fits your needs:\n\n**Visual Studio Code (VS Code)** (Highly Recommended)\n- Free and open-source\n- Excellent JavaScript support\n- Built-in terminal\n- Extensions available\n- Download: [code.visualstudio.com](https://code.visualstudio.com/)\n\n**Other Options:**\n- **Sublime Text**: Lightweight and fast\n- **Atom**: Open-source, customizable\n- **WebStorm**: Full-featured IDE (paid)\n- **Notepad++**: Simple text editor (Windows)\n\n### 3. **Installing VS Code Extensions**\n\nRecommended extensions for JavaScript:\n\n1. **JavaScript (ES6) code snippets** - Code completion\n2. **Prettier** - Code formatter\n3. **ESLint** - Code linting\n4. **Live Server** - Local development server\n5. **JavaScript Debugger** - Built-in debugging\n\n**How to Install:**\n1. Open VS Code\n2. Click Extensions icon (or `Ctrl+Shift+X` / `Cmd+Shift+X`)\n3. Search for extension name\n4. Click Install\n\n### 4. **Node.js (Optional but Recommended)**\n\nNode.js is useful even for frontend development (build tools, package managers).\n\n**Installation:**\n\n**Windows/macOS:**\n1. Visit [nodejs.org](https://nodejs.org/)\n2. Download LTS (Long Term Support) version\n3. Run installer\n4. Verify: Open terminal and type `node --version`\n\n**Linux:**\n```bash\n# Ubuntu/Debian\ncurl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -\nsudo apt-get install -y nodejs\n\n# Verify\nnode --version\nnpm --version\n```\n\n**Verify Installation:**\n```bash\nnode --version    # Should show v20.x.x or similar\nnpm --version     # Should show 10.x.x or similar\n```\n\n### 5. **Project Structure**\n\nCreate a folder for your JavaScript projects:\n\n```bash\n# Create project folder\nmkdir javascript-learning\ncd javascript-learning\n\n# Create your first file\ntouch index.html\ntouch script.js\n```\n\n---\n\n## Browser Console and DevTools\n\nThe browser console is your best friend for learning JavaScript. It allows you to:\n- Run JavaScript code immediately\n- See errors and debug issues\n- Inspect variables and objects\n- Test code snippets\n\n### Opening DevTools\n\n**Chrome/Edge:**\n- Press `F12`\n- Or `Ctrl+Shift+I` (Windows/Linux)\n- Or `Cmd+Option+I` (macOS)\n- Or Right-click → Inspect\n\n**Firefox:**\n- Press `F12`\n- Or `Ctrl+Shift+I` (Windows/Linux)\n- Or `Cmd+Option+I` (macOS)\n\n**Safari:**\n- Enable Developer menu: Preferences → Advanced → "Show Develop menu"\n- Then `Cmd+Option+I`\n\n### Console Tab\n\nThe Console tab is where you''ll spend most of your time:\n\n**Basic Usage:**\n```javascript\n// Type JavaScript code and press Enter\nconsole.log("Hello, World!");\n\n// Perform calculations\n2 + 2;\n\n// Create variables\nlet name = "JavaScript";\nconsole.log(name);\n```\n\n### Console Methods\n\n**console.log()** - General output\n```javascript\nconsole.log("Hello");\nconsole.log(42);\nconsole.log(true);\n```\n\n**console.error()** - Error messages\n```javascript\nconsole.error("Something went wrong!");\n```\n\n**console.warn()** - Warning messages\n```javascript\nconsole.warn("This is a warning");\n```\n\n**console.info()** - Informational messages\n```javascript\nconsole.info("This is information");\n```\n\n**console.table()** - Display data as table\n```javascript\nlet users = [\n  {name: "Alice", age: 25},\n  {name: "Bob", age: 30}\n];\nconsole.table(users);\n```\n\n### Other DevTools Tabs\n\n- **Elements**: Inspect HTML and CSS\n- **Network**: Monitor network requests\n- **Sources**: Debug JavaScript files\n- **Application**: View storage, cookies, etc.\n- **Performance**: Analyze performance\n\n### Tips for Using Console\n\n1. **Clear Console**: Type `clear()` or `Ctrl+L`\n2. **Multi-line Code**: Press `Shift+Enter` for new line\n3. **Command History**: Use up/down arrows\n4. **Auto-completion**: Press `Tab` for suggestions\n\n---\n\n## Your First JavaScript Program\n\n### Method 1: Browser Console (Quickest)\n\n1. **Open Browser Console** (F12)\n2. **Type in Console:**\n   ```javascript\n   console.log("Hello, World!");\n   ```\n3. **Press Enter**\n4. **See Output:**\n   ```\n   Hello, World!\n   ```\n\n### Method 2: HTML File with Inline Script\n\n1. **Create `index.html`:**\n   ```html\n   <!DOCTYPE html>\n   <html lang="en">\n   <head>\n       <meta charset="UTF-8">\n       <meta name="viewport" content="width=device-width, initial-scale=1.0">\n       <title>My First JavaScript</title>\n   </head>\n   <body>\n       <h1>Hello, World!</h1>\n       \n       <script>\n           console.log("Hello from JavaScript!");\n           alert("Welcome to JavaScript!");\n       </script>\n   </body>\n   </html>\n   ```\n\n2. **Open in Browser**: Double-click the file or right-click → Open with browser\n\n3. **Check Console**: Open DevTools (F12) to see the console output\n\n### Method 3: External JavaScript File (Recommended)\n\n1. **Create `index.html`:**\n   ```html\n   <!DOCTYPE html>\n   <html lang="en">\n   <head>\n       <meta charset="UTF-8">\n       <meta name="viewport" content="width=device-width, initial-scale=1.0">\n       <title>My First JavaScript</title>\n   </head>\n   <body>\n       <h1>Hello, World!</h1>\n       <p id="output"></p>\n       \n       <script src="script.js"></script>\n   </body>\n   </html>\n   ```\n\n2. **Create `script.js`:**\n   ```javascript\n   // My first JavaScript program\n   console.log("Hello, World!");\n   \n   // Display message on page\n   document.getElementById("output").textContent = "JavaScript is working!";\n   \n   // Alert message\n   alert("Welcome to JavaScript!");\n   ```\n\n3. **Open `index.html` in browser**\n\n### Method 4: Node.js (Command Line)\n\n1. **Create `hello.js`:**\n   ```javascript\n   console.log("Hello, World!");\n   ```\n\n2. **Run in Terminal:**\n   ```bash\n   node hello.js\n   ```\n\n3. **Output:**\n   ```\n   Hello, World!\n   ```\n\n### Understanding the Code\n\nLet''s break down the basic example:\n\n```javascript\nconsole.log("Hello, World!");\n```\n\n- `console` - A global object that provides access to the browser console\n- `.log()` - A method that outputs messages to the console\n- `"Hello, World!"` - A string (text) enclosed in quotation marks\n- `;` - Semicolon (optional in JavaScript but recommended)\n\n### Variations to Try\n\n```javascript\n// Simple message\nconsole.log("Hello, World!");\n\n// Multiple messages\nconsole.log("Hello");\nconsole.log("World");\n\n// Numbers\nconsole.log(42);\nconsole.log(3.14);\n\n// Calculations\nconsole.log(2 + 2);\nconsole.log(10 * 5);\n\n// Variables\nlet message = "Hello, JavaScript!";\nconsole.log(message);\n\n// Multiple values\nconsole.log("Name:", "Alice", "Age:", 25);\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Write and Run Your First Program\n\n**Objective**: Create a JavaScript program that introduces yourself and demonstrates basic console usage.\n\n**Instructions**:\n\n1. Create a new HTML file called `introduction.html`\n\n2. Create a JavaScript file called `introduction.js`\n\n3. Write a program that:\n   - Prints your name to the console\n   - Prints your favorite programming language\n   - Performs a simple calculation (your age in days: age × 365)\n   - Displays a message on the webpage\n   - Uses at least 3 different console methods\n\n4. Open the HTML file in a browser\n\n5. Check the console (F12) to see your output\n\n**Example Solution**:\n\n**introduction.html:**\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Introduction</title>\n</head>\n<body>\n    <h1>Welcome!</h1>\n    <div id="info"></div>\n    <script src="introduction.js"></script>\n</body>\n</html>\n```\n\n**introduction.js:**\n```javascript\n// Introduction Program\nlet name = "Your Name";\nlet age = 25;\nlet favoriteLanguage = "JavaScript";\n\n// Console output\nconsole.log("=== Introduction ===");\nconsole.log("Name:", name);\nconsole.log("Favorite Language:", favoriteLanguage);\nconsole.log("Age:", age);\nconsole.log("Age in days:", age * 365);\n\n// Display on page\ndocument.getElementById("info").innerHTML = `\n    <p><strong>Name:</strong> ${name}</p>\n    <p><strong>Age:</strong> ${age}</p>\n    <p><strong>Favorite Language:</strong> ${favoriteLanguage}</p>\n`;\n\n// Warning\nconsole.warn("This is my first JavaScript program!");\n\n// Info\nconsole.info("JavaScript is awesome!");\n```\n\n**Expected Output in Console:**\n```\n=== Introduction ===\nName: Your Name\nFavorite Language: JavaScript\nAge: 25\nAge in days: 9125\n⚠ This is my first JavaScript program!\nℹ JavaScript is awesome!\n```\n\n**Challenge (Optional)**:\n- Add more information about yourself\n- Use `console.table()` to display your information\n- Create multiple variables and combine them\n- Try different console methods\n\n---\n\n## Key Takeaways\n\n1. **JavaScript** is a versatile programming language for web development\n2. **History**: Created in 1995, evolved through ES6 (2015) to modern JavaScript\n3. **Two Environments**: Browser (client-side) and Node.js (server-side)\n4. **DevTools**: Essential for debugging and testing JavaScript\n5. **console.log()**: Primary method for outputting information\n6. **Three Ways to Run**: Browser console, HTML with script, or Node.js\n7. **External Files**: Best practice is to use separate `.js` files\n\n---\n\n## Common Mistakes to Avoid\n\n1. **Forgetting to Open Console**: Always check DevTools console for output\n2. **Syntax Errors**: Missing quotes, parentheses, or brackets\n3. **File Path Issues**: Make sure script file path is correct in HTML\n4. **Not Saving Files**: Always save before refreshing browser\n5. **Case Sensitivity**: JavaScript is case-sensitive (`console` not `Console`)\n\n---\n\n## Quiz: JavaScript Basics\n\nTest your understanding with these questions:\n\n1. **What is JavaScript?**\n   - A) A coffee brand\n   - B) A programming language for web development\n   - C) A database system\n   - D) An operating system\n\n2. **When was JavaScript created?**\n   - A) 1990\n   - B) 1995\n   - C) 2000\n   - D) 2010\n\n3. **What does console.log() do?**\n   - A) Creates a new file\n   - B) Displays output in the browser console\n   - C) Performs calculations\n   - D) Styles web pages\n\n4. **Which of these is NOT a way to run JavaScript?**\n   - A) Browser console\n   - B) HTML file with script tag\n   - C) Node.js\n   - D) Python interpreter\n\n5. **True or False: JavaScript can only run in browsers.**\n   - A) True\n   - B) False (Node.js allows server-side JavaScript)\n\n6. **What key opens DevTools in most browsers?**\n   - A) F1\n   - B) F12\n   - C) F5\n   - D) Ctrl+S\n\n7. **What is the file extension for JavaScript files?**\n   - A) .java\n   - B) .js\n   - C) .javascript\n   - D) .script\n\n**Answers**:\n1. B) A programming language for web development\n2. B) 1995\n3. B) Displays output in the browser console\n4. D) Python interpreter\n5. B) False (Node.js allows server-side JavaScript)\n6. B) F12\n7. B) .js\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed your first JavaScript lesson. You now know:\n- What JavaScript is and its history\n- How JavaScript works in browsers vs Node.js\n- How to set up a development environment\n- How to use browser DevTools and console\n- How to write and run your first JavaScript program\n\n**What''s Next?**\n- Lesson 1.2: JavaScript Syntax and Basics\n- Practice writing more console programs\n- Experiment with different console methods\n- Explore DevTools features\n- Try creating interactive web pages\n\n---\n\n## Additional Resources\n\n- **MDN Web Docs**: [developer.mozilla.org/en-US/docs/Web/JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript)\n- **JavaScript.info**: [javascript.info](https://javascript.info/)\n- **Node.js Documentation**: [nodejs.org/docs](https://nodejs.org/docs)\n- **Chrome DevTools Guide**: [developer.chrome.com/docs/devtools](https://developer.chrome.com/docs/devtools)\n- **JavaScript History**: [en.wikipedia.org/wiki/JavaScript](https://en.wikipedia.org/wiki/JavaScript)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:04:11', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand what JavaScript is and its key characteristics\n- Explain the history and evolution of JavaScript\n- Distinguish between JavaScript in the browser and Node.js\n- Set up a development environment for JavaScript\n- Use the browser console and DevTools\n- Write and run your first JavaScript program');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (109, 41, 10, 'JavaScript Syntax and Basics', 'javascript-syntax-and-basics', '# Lesson 1.2: JavaScript Syntax and Basics\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand JavaScript syntax rules and conventions\n- Distinguish between statements and expressions\n- Know when semicolons are required vs optional\n- Write single-line and multi-line comments\n- Understand code blocks and basic scope concepts\n- Write syntactically correct JavaScript code\n\n---\n\n## JavaScript Syntax Rules\n\nSyntax is the set of rules that defines how JavaScript code must be written. Understanding syntax is crucial for writing valid, executable code.\n\n### Basic Syntax Rules\n\n1. **Case Sensitivity**: JavaScript is case-sensitive\n   ```javascript\n   let name = "Alice";\n   let Name = "Bob";  // Different variable\n   let NAME = "Charlie";  // Another different variable\n   ```\n\n2. **Whitespace**: Spaces and tabs are generally ignored (except in strings)\n   ```javascript\n   let x=5;      // Valid\n   let x = 5;    // Also valid (more readable)\n   let x  =  5;  // Also valid (spaces ignored)\n   ```\n\n3. **Line Breaks**: Generally ignored, but can affect code readability\n   ```javascript\n   let x = 5; let y = 10;  // Multiple statements on one line\n   let x = 5;\n   let y = 10;  // More readable\n   ```\n\n4. **Identifiers**: Names for variables, functions, etc.\n   - Must start with letter, underscore (_), or dollar sign ($)\n   - Can contain letters, digits, underscores, or dollar signs\n   - Cannot be reserved words (if, for, function, etc.)\n   ```javascript\n   let name = "Alice";      // Valid\n   let _private = "secret"; // Valid\n   let $element = "div";    // Valid\n   let 2name = "invalid";   // Invalid - starts with number\n   let my-name = "invalid"; // Invalid - contains hyphen\n   ```\n\n5. **Reserved Words**: Cannot be used as identifiers\n   ```javascript\n   // These are reserved and cannot be used:\n   // if, else, for, while, function, var, let, const, return, etc.\n   let function = "invalid";  // Error!\n   ```\n\n---\n\n## Statements and Expressions\n\nUnderstanding the difference between statements and expressions is fundamental to JavaScript.\n\n### Expressions\n\nAn **expression** is a piece of code that produces a value. Expressions can be evaluated to a single value.\n\n**Examples of Expressions:**\n```javascript\n// Literal values\n42\n"Hello"\ntrue\n\n// Variables\nname\nx\n\n// Operations\n2 + 2\nx * 5\nname.length\n\n// Function calls (that return values)\nMath.max(1, 2, 3)\nparseInt("42")\n```\n\n**Expression Evaluation:**\n```javascript\n// Each of these evaluates to a value\nconsole.log(5);           // 5\nconsole.log(2 + 3);       // 5\nconsole.log("Hello");     // "Hello"\nconsole.log(name);        // Value of name variable\n```\n\n### Statements\n\nA **statement** is an instruction that performs an action. Statements don''t necessarily produce values, but they do something.\n\n**Examples of Statements:**\n```javascript\n// Variable declaration\nlet x = 5;\n\n// Conditional statement\nif (x > 0) {\n    console.log("Positive");\n}\n\n// Loop statement\nfor (let i = 0; i < 5; i++) {\n    console.log(i);\n}\n\n// Function declaration\nfunction greet() {\n    console.log("Hello");\n}\n```\n\n### Expression Statements\n\nSome expressions can be used as statements:\n\n```javascript\n// Assignment expression used as statement\nx = 5;\n\n// Function call expression used as statement\nconsole.log("Hello");\n\n// Increment expression used as statement\nx++;\n```\n\n### Key Differences\n\n| Expressions | Statements |\n|------------|-----------|\n| Produce values | Perform actions |\n| Can be used in other expressions | Standalone instructions |\n| Examples: `2 + 2`, `name.length` | Examples: `let x = 5;`, `if (condition) {}` |\n\n---\n\n## Semicolons in JavaScript\n\nSemicolons (`;`) in JavaScript are used to mark the end of statements. However, JavaScript has a feature called **Automatic Semicolon Insertion (ASI)** that can automatically add semicolons in many cases.\n\n### When Semicolons Are Required\n\n**1. Multiple Statements on One Line:**\n```javascript\nlet x = 5; let y = 10;  // Semicolons required\n```\n\n**2. Before Certain Keywords:**\n```javascript\n// Without semicolon, this could cause issues\nlet x = 5\n[1, 2, 3].forEach(console.log)  // Could be interpreted as x[1, 2, 3]\n\n// With semicolon, it''s clear\nlet x = 5;\n[1, 2, 3].forEach(console.log);\n```\n\n**3. Return Statements:**\n```javascript\nfunction getValue() {\n    return  // ASI adds semicolon here, returns undefined!\n        5;\n}\n\n// Correct:\nfunction getValue() {\n    return 5;  // Explicit semicolon\n}\n```\n\n### When Semicolons Are Optional\n\n**Single Statement on a Line:**\n```javascript\nlet x = 5;  // Semicolon optional\nlet x = 5   // Also works (ASI adds it)\n```\n\n**After Block Statements:**\n```javascript\nif (x > 0) {\n    console.log("Positive");\n}  // No semicolon needed after blocks\n```\n\n### Best Practices\n\n**Recommended: Always Use Semicolons**\n- Makes code more explicit\n- Prevents potential ASI bugs\n- Consistent style\n- Required in some cases anyway\n\n```javascript\n// Good practice\nlet name = "Alice";\nlet age = 25;\nconsole.log(name, age);\n\n// Also acceptable (but less explicit)\nlet name = "Alice"\nlet age = 25\nconsole.log(name, age)\n```\n\n**Common Semicolon Mistakes:**\n```javascript\n// Missing semicolon can cause issues\nlet x = 5\nlet y = 10  // Works, but risky\n\n// Better:\nlet x = 5;\nlet y = 10;\n```\n\n---\n\n## Comments\n\nComments are notes in your code that are ignored by JavaScript. They help document your code and explain what it does.\n\n### Single-Line Comments\n\nUse `//` for single-line comments. Everything after `//` on that line is ignored.\n\n```javascript\n// This is a single-line comment\nlet x = 5;  // This comment explains the variable\n\n// You can also comment out code\n// let y = 10;\n// console.log(y);\n```\n\n**Common Uses:**\n```javascript\n// Explain what the code does\nlet userName = "Alice";  // Store the user''s name\n\n// Temporarily disable code\n// console.log("Debug message");\n\n// Add notes\n// TODO: Add error handling here\n// FIXME: This needs optimization\n```\n\n### Multi-Line Comments\n\nUse `/* */` for multi-line comments. Everything between `/*` and `*/` is ignored.\n\n```javascript\n/* This is a multi-line comment\n   It can span multiple lines\n   Useful for longer explanations */\n\nlet x = 5;\n\n/*\n * This is a common style for multi-line comments\n * Each line starts with an asterisk\n * Makes it more readable\n */\n```\n\n**Block Comments:**\n```javascript\n/* \n   Function: calculateTotal\n   Description: Calculates the total price\n   Parameters: price (number), tax (number)\n   Returns: total (number)\n*/\nfunction calculateTotal(price, tax) {\n    return price + (price * tax);\n}\n```\n\n### When to Use Comments\n\n**Good Uses:**\n- Explain **why** code exists, not what it does\n- Document complex algorithms\n- Add TODO notes\n- Explain non-obvious code\n- Document function parameters and return values\n\n**Avoid:**\n- Stating the obvious\n- Commenting out large blocks of code (use version control instead)\n- Outdated comments that don''t match the code\n\n**Examples:**\n\n```javascript\n// Good comment\n// Calculate discount based on user''s membership level\nlet discount = membershipLevel * 0.1;\n\n// Bad comment (too obvious)\n// Set x to 5\nlet x = 5;\n\n// Good comment (explains why)\n// Use Math.floor to prevent floating-point precision issues\nlet result = Math.floor(price * 1.1);\n\n// Good multi-line comment for complex logic\n/*\n * This algorithm uses the Euclidean method to find\n * the greatest common divisor of two numbers.\n * Time complexity: O(log(min(a, b)))\n */\nfunction gcd(a, b) {\n    // Implementation here\n}\n```\n\n### Commenting Out Code\n\nComments are useful for temporarily disabling code:\n\n```javascript\n// Old implementation\n// function oldFunction() {\n//     return "old";\n// }\n\n// New implementation\nfunction newFunction() {\n    return "new";\n}\n```\n\n**Note**: For large blocks of code, consider using version control (Git) instead of commenting out.\n\n---\n\n## Code Blocks and Scope\n\n### Code Blocks\n\nA **code block** is a group of statements enclosed in curly braces `{}`. Code blocks define scope and are used with control structures.\n\n**Basic Syntax:**\n```javascript\n{\n    // This is a code block\n    let x = 5;\n    let y = 10;\n    console.log(x + y);\n}\n```\n\n### Blocks with Control Structures\n\n**If Statement:**\n```javascript\nif (condition) {\n    // Code block\n    console.log("Condition is true");\n}\n```\n\n**Function:**\n```javascript\nfunction greet() {\n    // Code block\n    console.log("Hello");\n}\n```\n\n**Loop:**\n```javascript\nfor (let i = 0; i < 5; i++) {\n    // Code block\n    console.log(i);\n}\n```\n\n### Scope Basics\n\n**Scope** determines where variables are accessible. JavaScript has different types of scope:\n\n**Global Scope:**\n```javascript\n// Variables declared outside any block\nlet globalVar = "I''m global";\n\nfunction myFunction() {\n    console.log(globalVar);  // Can access globalVar\n}\n```\n\n**Local/Function Scope:**\n```javascript\nfunction myFunction() {\n    let localVar = "I''m local";\n    console.log(localVar);  // Can access localVar\n}\n\n// console.log(localVar);  // Error! localVar is not accessible here\n```\n\n**Block Scope (with let/const):**\n```javascript\nif (true) {\n    let blockVar = "I''m in a block";\n    console.log(blockVar);  // Can access blockVar\n}\n\n// console.log(blockVar);  // Error! blockVar is not accessible here\n```\n\n### Scope Rules\n\n1. **Variables declared with `var`** have function scope (or global if outside function)\n2. **Variables declared with `let`/`const`** have block scope\n3. **Inner scopes can access outer scopes**, but not vice versa\n\n**Example:**\n```javascript\nlet outer = "I''m outside";\n\nfunction myFunction() {\n    let middle = "I''m in the function";\n    \n    if (true) {\n        let inner = "I''m in the block";\n        \n        console.log(outer);   // ✅ Can access outer\n        console.log(middle);  // ✅ Can access middle\n        console.log(inner);    // ✅ Can access inner\n    }\n    \n    console.log(outer);   // ✅ Can access outer\n    console.log(middle);  // ✅ Can access middle\n    // console.log(inner);  // ❌ Error! inner is not accessible\n}\n\n// console.log(outer);   // ✅ Can access outer\n// console.log(middle);  // ❌ Error! middle is not accessible\n// console.log(inner);   // ❌ Error! inner is not accessible\n```\n\n### Nested Blocks\n\nBlocks can be nested inside other blocks:\n\n```javascript\n{\n    let level1 = "Level 1";\n    \n    {\n        let level2 = "Level 2";\n        \n        {\n            let level3 = "Level 3";\n            console.log(level1);  // ✅ Can access all levels\n            console.log(level2);  // ✅ Can access level2 and level3\n            console.log(level3);  // ✅ Can access level3\n        }\n        \n        console.log(level1);  // ✅ Can access level1 and level2\n        console.log(level2);  // ✅ Can access level2\n        // console.log(level3);  // ❌ Error! level3 not accessible\n    }\n    \n    console.log(level1);  // ✅ Can access level1\n    // console.log(level2);  // ❌ Error! level2 not accessible\n    // console.log(level3);  // ❌ Error! level3 not accessible\n}\n```\n\n---\n\n## Syntax Best Practices\n\n### 1. Consistent Formatting\n\n```javascript\n// Good: Consistent spacing\nlet name = "Alice";\nlet age = 25;\nlet city = "New York";\n\n// Bad: Inconsistent spacing\nlet name="Alice";\nlet age= 25;\nlet city ="New York";\n```\n\n### 2. Meaningful Names\n\n```javascript\n// Good: Descriptive names\nlet userName = "Alice";\nlet userAge = 25;\n\n// Bad: Unclear names\nlet n = "Alice";\nlet a = 25;\n```\n\n### 3. Proper Indentation\n\n```javascript\n// Good: Proper indentation\nif (condition) {\n    console.log("True");\n    if (nested) {\n        console.log("Nested");\n    }\n}\n\n// Bad: No indentation\nif (condition) {\nconsole.log("True");\nif (nested) {\nconsole.log("Nested");\n}\n}\n```\n\n### 4. Use Semicolons\n\n```javascript\n// Good: Explicit semicolons\nlet x = 5;\nlet y = 10;\n\n// Acceptable but less explicit\nlet x = 5\nlet y = 10\n```\n\n### 5. Comment Wisely\n\n```javascript\n// Good: Comments explain why\n// Calculate tax using state-specific rate\nlet tax = price * stateTaxRate;\n\n// Bad: Comment states the obvious\n// Set tax to price times stateTaxRate\nlet tax = price * stateTaxRate;\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Practice Syntax\n\n**Objective**: Write JavaScript code that demonstrates proper syntax, comments, and code blocks.\n\n**Instructions**:\n\n1. Create a file called `syntax-practice.js`\n\n2. Write code that includes:\n   - At least 5 variable declarations with proper syntax\n   - Single-line comments explaining each variable\n   - A multi-line comment describing what the program does\n   - At least 2 code blocks (if statements or functions)\n   - Proper use of semicolons\n   - Proper indentation\n\n3. Your code should demonstrate:\n   - Different data types (strings, numbers, booleans)\n   - Scope (global and local variables)\n   - Code blocks with proper formatting\n\n**Example Solution**:\n\n```javascript\n/*\n * Syntax Practice Program\n * This program demonstrates JavaScript syntax rules,\n * comments, code blocks, and scope.\n */\n\n// Global variables\nlet userName = "Alice";\nlet userAge = 25;\nlet isActive = true;\nlet userScore = 95.5;\nlet userCity = "New York";\n\n// Function with local scope\nfunction displayUserInfo() {\n    // Local variable\n    let greeting = "Hello";\n    \n    // Code block with if statement\n    if (isActive) {\n        console.log(greeting + ", " + userName);\n        console.log("Age: " + userAge);\n        console.log("City: " + userCity);\n        console.log("Score: " + userScore);\n    }\n}\n\n// Another code block\nif (userScore >= 90) {\n    let grade = "A";\n    console.log("Grade: " + grade);\n}\n\n// Call the function\ndisplayUserInfo();\n```\n\n**Expected Output**:\n```\nHello, Alice\nAge: 25\nCity: New York\nScore: 95.5\nGrade: A\n```\n\n**Challenge (Optional)**:\n- Add nested code blocks\n- Use different comment styles\n- Create variables in different scopes\n- Add more complex expressions\n\n---\n\n## Common Syntax Errors\n\n### 1. Missing Quotes\n\n```javascript\n// Error\nlet name = Alice;  // Alice is not defined\n\n// Correct\nlet name = "Alice";\n```\n\n### 2. Mismatched Brackets\n\n```javascript\n// Error\nif (condition) {\n    console.log("Hello";\n}\n\n// Correct\nif (condition) {\n    console.log("Hello");\n}\n```\n\n### 3. Reserved Words\n\n```javascript\n// Error\nlet function = "invalid";\n\n// Correct\nlet myFunction = "valid";\n```\n\n### 4. Invalid Identifiers\n\n```javascript\n// Error\nlet 2name = "invalid";\nlet my-name = "invalid";\n\n// Correct\nlet name2 = "valid";\nlet myName = "valid";\n```\n\n### 5. Missing Semicolons (in some cases)\n\n```javascript\n// Can cause issues\nlet x = 5\n[1, 2, 3].forEach(console.log)  // Could be interpreted as x[1, 2, 3]\n\n// Better\nlet x = 5;\n[1, 2, 3].forEach(console.log);\n```\n\n---\n\n## Key Takeaways\n\n1. **Syntax Rules**: JavaScript is case-sensitive, uses specific naming rules\n2. **Statements vs Expressions**: Statements perform actions, expressions produce values\n3. **Semicolons**: Optional but recommended for clarity and to avoid ASI bugs\n4. **Comments**: Use `//` for single-line, `/* */` for multi-line\n5. **Code Blocks**: Defined with `{}`, create scope boundaries\n6. **Scope**: Variables are accessible based on where they''re declared\n7. **Best Practices**: Consistent formatting, meaningful names, proper indentation\n\n---\n\n## Quiz: Syntax Fundamentals\n\nTest your understanding with these questions:\n\n1. **JavaScript is case-sensitive. True or False?**\n   - A) True\n   - B) False\n\n2. **Which of these is a valid identifier?**\n   - A) `2name`\n   - B) `my-name`\n   - C) `_name`\n   - D) `function`\n\n3. **What does `console.log(2 + 2)` represent?**\n   - A) A statement\n   - B) An expression\n   - C) Both statement and expression\n   - D) Neither\n\n4. **Semicolons in JavaScript are:**\n   - A) Always required\n   - B) Always optional\n   - C) Optional but recommended\n   - D) Never used\n\n5. **Which comment style is for multi-line comments?**\n   - A) `//`\n   - B) `/* */`\n   - C) `#`\n   - D) `<!-- -->`\n\n6. **Variables declared inside a code block with `let` are accessible:**\n   - A) Globally\n   - B) Only within that block\n   - C) In parent blocks only\n   - D) Everywhere\n\n7. **What symbol is used to define code blocks?**\n   - A) `[]`\n   - B) `()`\n   - C) `{}`\n   - D) `<>`\n\n**Answers**:\n1. A) True\n2. C) `_name`\n3. C) Both statement and expression (it''s an expression used as a statement)\n4. C) Optional but recommended\n5. B) `/* */`\n6. B) Only within that block\n7. C) `{}`\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned JavaScript syntax fundamentals. You now know:\n- JavaScript syntax rules and conventions\n- The difference between statements and expressions\n- How to use semicolons properly\n- How to write comments\n- How code blocks and scope work\n\n**What''s Next?**\n- Lesson 1.3: Variables and Data Types\n- Practice writing syntactically correct code\n- Experiment with different code block structures\n- Explore scope with nested blocks\n\n---\n\n## Additional Resources\n\n- **MDN: JavaScript Syntax**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types)\n- **JavaScript.info: Code Quality**: [javascript.info/code-quality](https://javascript.info/code-quality)\n- **Airbnb JavaScript Style Guide**: [github.com/airbnb/javascript](https://github.com/airbnb/javascript)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:06:44', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand JavaScript syntax rules and conventions\n- Distinguish between statements and expressions\n- Know when semicolons are required vs optional\n- Write single-line and multi-line comments\n- Understand code blocks and basic scope concepts\n- Write syntactically correct JavaScript code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (110, 41, 10, 'Variables and Data Types', 'variables-and-data-types', '# Lesson 1.3: Variables and Data Types\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand the three ways to declare variables (var, let, const)\n- Know the differences between var, let, and const\n- Identify all JavaScript primitive data types\n- Understand type coercion and conversion\n- Use the typeof operator to check data types\n- Work with different data types in your code\n\n---\n\n## Variable Declarations\n\nVariables are containers that store data values. In JavaScript, you can declare variables using three keywords: `var`, `let`, and `const`.\n\n### var (Legacy - Avoid in Modern Code)\n\n`var` was the original way to declare variables in JavaScript. It has function scope and some quirks.\n\n```javascript\nvar name = "Alice";\nvar age = 25;\nvar isActive = true;\n```\n\n**Characteristics of var:**\n- Function-scoped (not block-scoped)\n- Can be redeclared\n- Can be reassigned\n- Hoisted (moved to top of scope)\n- **Recommendation**: Avoid using `var` in modern JavaScript\n\n**Example:**\n```javascript\nif (true) {\n    var x = 5;\n}\nconsole.log(x);  // 5 - accessible outside block (function scope)\n```\n\n### let (Modern - Use for Variables That Change)\n\n`let` was introduced in ES6 (2015) and is the modern way to declare variables that will be reassigned.\n\n```javascript\nlet name = "Alice";\nlet age = 25;\nlet isActive = true;\n```\n\n**Characteristics of let:**\n- Block-scoped\n- Cannot be redeclared in the same scope\n- Can be reassigned\n- Not hoisted (temporal dead zone)\n- **Use when**: Value will change\n\n**Example:**\n```javascript\nlet count = 0;\ncount = 1;      // ✅ Can reassign\ncount = 2;      // ✅ Can reassign\n\nif (true) {\n    let y = 10;\n}\n// console.log(y);  // ❌ Error - not accessible outside block\n```\n\n### const (Modern - Use for Constants)\n\n`const` was also introduced in ES6. It creates constants that cannot be reassigned.\n\n```javascript\nconst PI = 3.14159;\nconst MAX_SIZE = 100;\nconst API_URL = "https://api.example.com";\n```\n\n**Characteristics of const:**\n- Block-scoped\n- Cannot be redeclared\n- Cannot be reassigned\n- Must be initialized when declared\n- Not hoisted (temporal dead zone)\n- **Use when**: Value should not change\n\n**Example:**\n```javascript\nconst name = "Alice";\n// name = "Bob";  // ❌ Error - cannot reassign\n\nconst numbers = [1, 2, 3];\nnumbers.push(4);  // ✅ Can modify array contents (not reassigning)\n// numbers = [5, 6, 7];  // ❌ Error - cannot reassign\n```\n\n### When to Use Each\n\n**Use `const` by default:**\n```javascript\nconst userName = "Alice";\nconst userAge = 25;\nconst isLoggedIn = true;\n```\n\n**Use `let` when you need to reassign:**\n```javascript\nlet counter = 0;\ncounter++;  // Need to change value\n\nlet currentUser = null;\ncurrentUser = getUser();  // Will be assigned later\n```\n\n**Avoid `var` (legacy code only):**\n```javascript\n// Old style (avoid)\nvar oldStyle = "don''t use";\n\n// Modern style\nconst modernStyle = "use this";\nlet changeableValue = "or this";\n```\n\n### Variable Naming Rules\n\n1. **Must start with**: letter, underscore (_), or dollar sign ($)\n2. **Can contain**: letters, digits, underscores, dollar signs\n3. **Cannot be**: reserved words (if, for, function, etc.)\n4. **Case-sensitive**: `name` and `Name` are different\n\n**Good Names:**\n```javascript\nlet userName = "Alice";\nlet user_age = 25;\nlet $element = document.getElementById("id");\nlet _private = "internal";\n```\n\n**Bad Names:**\n```javascript\nlet 2name = "invalid";      // Starts with number\nlet my-name = "invalid";    // Contains hyphen\nlet let = "invalid";        // Reserved word\n```\n\n### Naming Conventions\n\n**camelCase** (Recommended for variables):\n```javascript\nlet userName = "Alice";\nlet userAge = 25;\nlet isActiveUser = true;\n```\n\n**UPPER_CASE** (For constants):\n```javascript\nconst MAX_SIZE = 100;\nconst API_BASE_URL = "https://api.example.com";\nconst PI = 3.14159;\n```\n\n**PascalCase** (For classes/constructors):\n```javascript\nclass UserAccount { }\nfunction UserProfile() { }\n```\n\n---\n\n## Primitive Data Types\n\nJavaScript has 7 primitive data types. Primitives are immutable (cannot be changed) and are compared by value.\n\n### 1. String\n\nStrings represent text data, enclosed in quotes.\n\n```javascript\nlet name = "Alice";           // Double quotes\nlet city = ''New York'';        // Single quotes\nlet message = `Hello`;        // Template literals (backticks)\n```\n\n**String Operations:**\n```javascript\nlet firstName = "Alice";\nlet lastName = "Smith";\n\n// Concatenation\nlet fullName = firstName + " " + lastName;  // "Alice Smith"\n\n// Template literals (ES6)\nlet greeting = `Hello, ${firstName}!`;     // "Hello, Alice!"\n\n// Length\nconsole.log(firstName.length);              // 5\n\n// Access characters\nconsole.log(firstName[0]);                  // "A"\n```\n\n**Escape Characters:**\n```javascript\nlet text = "She said \\"Hello\\"";     // Escape quotes\nlet newline = "Line 1\\nLine 2";      // New line\nlet tab = "Column1\\tColumn2";        // Tab\nlet backslash = "Path: C:\\\\Users";   // Backslash\n```\n\n### 2. Number\n\nNumbers represent numeric values. JavaScript has one number type (no separate int/float).\n\n```javascript\nlet integer = 42;\nlet decimal = 3.14;\nlet negative = -10;\nlet scientific = 1.5e6;  // 1,500,000\n```\n\n**Number Operations:**\n```javascript\nlet a = 10;\nlet b = 3;\n\nconsole.log(a + b);   // 13 (addition)\nconsole.log(a - b);   // 7 (subtraction)\nconsole.log(a * b);   // 30 (multiplication)\nconsole.log(a / b);   // 3.333... (division)\nconsole.log(a % b);   // 1 (modulo/remainder)\nconsole.log(a ** b);  // 1000 (exponentiation)\n```\n\n**Special Number Values:**\n```javascript\nlet infinity = Infinity;\nlet notANumber = NaN;  // Not a Number\nlet maxValue = Number.MAX_VALUE;\nlet minValue = Number.MIN_VALUE;\n```\n\n**Number Methods:**\n```javascript\nlet num = 3.14159;\n\nconsole.log(num.toFixed(2));      // "3.14" (string)\nconsole.log(parseInt("42"));      // 42\nconsole.log(parseFloat("3.14"));  // 3.14\nconsole.log(Number("123"));       // 123\n```\n\n### 3. Boolean\n\nBooleans represent logical values: `true` or `false`.\n\n```javascript\nlet isActive = true;\nlet isLoggedIn = false;\nlet hasPermission = true;\n```\n\n**Boolean Operations:**\n```javascript\nlet a = true;\nlet b = false;\n\nconsole.log(a && b);   // false (AND)\nconsole.log(a || b);   // true (OR)\nconsole.log(!a);       // false (NOT)\n```\n\n**Truthy and Falsy Values:**\n```javascript\n// Falsy values (evaluate to false)\nfalse\n0\n-0\n0n (BigInt zero)\n"" (empty string)\nnull\nundefined\nNaN\n\n// Everything else is truthy\ntrue\n1\n"hello"\n[]\n{}\n```\n\n### 4. undefined\n\n`undefined` means a variable has been declared but not assigned a value.\n\n```javascript\nlet x;\nconsole.log(x);  // undefined\n\nlet y = undefined;  // Explicitly set to undefined\n```\n\n**Common Scenarios:**\n```javascript\n// Variable declared but not initialized\nlet name;\nconsole.log(name);  // undefined\n\n// Function with no return\nfunction doNothing() { }\nconsole.log(doNothing());  // undefined\n\n// Accessing non-existent property\nlet obj = {};\nconsole.log(obj.property);  // undefined\n```\n\n### 5. null\n\n`null` represents the intentional absence of a value (different from `undefined`).\n\n```javascript\nlet user = null;  // Explicitly set to null\n```\n\n**null vs undefined:**\n```javascript\nlet a;           // undefined (not assigned)\nlet b = null;     // null (explicitly set)\n\nconsole.log(a == null);   // true (loose equality)\nconsole.log(a === null);  // false (strict equality)\nconsole.log(b === null);  // true\n```\n\n**When to Use null:**\n```javascript\n// Indicate "no value" intentionally\nlet currentUser = null;  // No user logged in\n\n// Reset a variable\nlet data = getData();\ndata = null;  // Clear the data\n```\n\n### 6. Symbol (ES6)\n\nSymbols are unique, immutable identifiers, often used as object property keys.\n\n```javascript\nlet id1 = Symbol("id");\nlet id2 = Symbol("id");\n\nconsole.log(id1 === id2);  // false (each Symbol is unique)\n```\n\n**Common Uses:**\n```javascript\n// Create unique property keys\nlet user = {\n    name: "Alice",\n    [Symbol("id")]: 123  // Hidden property\n};\n\n// Well-known symbols\nSymbol.iterator\nSymbol.toStringTag\n```\n\n### 7. BigInt (ES2020)\n\nBigInt represents integers of arbitrary length, useful for very large numbers.\n\n```javascript\nlet bigNumber = 9007199254740991n;  // Note the ''n'' suffix\nlet anotherBig = BigInt(9007199254740991);\n```\n\n**When to Use:**\n```javascript\n// Regular numbers have limits\nconsole.log(Number.MAX_SAFE_INTEGER);  // 9007199254740991\n\n// BigInt for larger numbers\nlet huge = 9007199254740992n;\nconsole.log(huge + 1n);  // 9007199254740993n\n```\n\n---\n\n## Type Coercion and Conversion\n\nJavaScript automatically converts types in certain situations (coercion) or you can explicitly convert types.\n\n### Type Coercion (Automatic)\n\nJavaScript automatically converts types when needed:\n\n```javascript\n// String + Number = String\nconsole.log("5" + 3);        // "53" (concatenation)\nconsole.log("5" + "3");      // "53"\n\n// Number operations convert to number\nconsole.log("5" - 3);        // 2\nconsole.log("5" * "3");     // 15\nconsole.log("10" / "2");    // 5\n\n// Boolean in numeric context\nconsole.log(true + 1);       // 2\nconsole.log(false + 1);      // 1\n\n// Loose equality (==) does coercion\nconsole.log(5 == "5");       // true (coerced)\nconsole.log(5 === "5");      // false (strict, no coercion)\n```\n\n### Type Conversion (Explicit)\n\nYou can explicitly convert types:\n\n**To String:**\n```javascript\nlet num = 42;\nlet str1 = String(num);      // "42"\nlet str2 = num.toString();   // "42"\nlet str3 = "" + num;         // "42" (coercion)\n```\n\n**To Number:**\n```javascript\nlet str = "42";\nlet num1 = Number(str);      // 42\nlet num2 = parseInt(str);    // 42\nlet num3 = parseFloat("3.14"); // 3.14\nlet num4 = +str;             // 42 (unary plus)\n```\n\n**To Boolean:**\n```javascript\nlet value = "hello";\nlet bool1 = Boolean(value);  // true\nlet bool2 = !!value;          // true (double negation)\n```\n\n**Common Conversions:**\n```javascript\n// String to Number\nNumber("42");        // 42\nNumber("3.14");      // 3.14\nNumber("abc");       // NaN\n\nparseInt("42px");    // 42 (stops at first non-digit)\nparseFloat("3.14.5"); // 3.14\n\n// Number to String\nString(42);          // "42"\n(42).toString();     // "42"\n42 + "";             // "42"\n\n// To Boolean\nBoolean(1);          // true\nBoolean(0);          // false\nBoolean("");         // false\nBoolean("hello");    // true\n```\n\n---\n\n## typeof Operator\n\nThe `typeof` operator returns a string indicating the type of a value.\n\n### Basic Usage\n\n```javascript\ntypeof "hello";        // "string"\ntypeof 42;             // "number"\ntypeof true;            // "boolean"\ntypeof undefined;       // "undefined"\ntypeof null;            // "object" (quirk - null is not an object!)\ntypeof Symbol("id");   // "symbol"\ntypeof 42n;            // "bigint"\n```\n\n### typeof Examples\n\n```javascript\n// Primitives\nconsole.log(typeof "hello");      // "string"\nconsole.log(typeof 42);           // "number"\nconsole.log(typeof true);         // "boolean"\nconsole.log(typeof undefined);    // "undefined"\nconsole.log(typeof null);         // "object" (historical quirk)\n\n// Objects\nconsole.log(typeof {});           // "object"\nconsole.log(typeof []);           // "object" (arrays are objects)\nconsole.log(typeof function(){}); // "function"\n\n// Variables\nlet name = "Alice";\nconsole.log(typeof name);         // "string"\n\nlet age = 25;\nconsole.log(typeof age);          // "number"\n```\n\n### typeof Quirks\n\n```javascript\n// null returns "object" (historical bug, can''t be fixed)\nconsole.log(typeof null);         // "object"\n\n// Arrays are objects\nconsole.log(typeof []);           // "object"\nconsole.log(Array.isArray([]));   // true (use this instead)\n\n// Functions are objects but typeof returns "function"\nconsole.log(typeof function(){}); // "function"\n```\n\n### Practical Uses\n\n```javascript\n// Type checking function\nfunction processValue(value) {\n    if (typeof value === "string") {\n        return value.toUpperCase();\n    } else if (typeof value === "number") {\n        return value * 2;\n    } else {\n        return "Unknown type";\n    }\n}\n\nconsole.log(processValue("hello"));  // "HELLO"\nconsole.log(processValue(5));        // 10\n```\n\n---\n\n## Working with Different Data Types\n\n### String Operations\n\n```javascript\nlet firstName = "Alice";\nlet lastName = "Smith";\n\n// Concatenation\nlet fullName = firstName + " " + lastName;\n\n// Template literals\nlet greeting = `Hello, ${firstName}!`;\n\n// Methods\nconsole.log(firstName.length);           // 5\nconsole.log(firstName.toUpperCase());    // "ALICE"\nconsole.log(firstName.toLowerCase());     // "alice"\nconsole.log(firstName.charAt(0));         // "A"\nconsole.log(firstName.includes("lic"));  // true\n```\n\n### Number Operations\n\n```javascript\nlet num1 = 10;\nlet num2 = 3;\n\n// Arithmetic\nconsole.log(num1 + num2);   // 13\nconsole.log(num1 - num2);   // 7\nconsole.log(num1 * num2);   // 30\nconsole.log(num1 / num2);   // 3.333...\nconsole.log(num1 % num2);   // 1\nconsole.log(num1 ** num2);  // 1000\n\n// Math methods\nconsole.log(Math.max(1, 2, 3));    // 3\nconsole.log(Math.min(1, 2, 3));    // 1\nconsole.log(Math.round(3.7));      // 4\nconsole.log(Math.floor(3.7));      // 3\nconsole.log(Math.ceil(3.2));       // 4\nconsole.log(Math.random());        // Random number 0-1\n```\n\n### Boolean Logic\n\n```javascript\nlet isActive = true;\nlet isLoggedIn = false;\n\n// Logical operators\nconsole.log(isActive && isLoggedIn);  // false\nconsole.log(isActive || isLoggedIn);  // true\nconsole.log(!isActive);               // false\n\n// Comparison\nlet age = 25;\nconsole.log(age >= 18);  // true\nconsole.log(age < 30);   // true\nconsole.log(age === 25); // true\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Variable Manipulation\n\n**Objective**: Create a program that demonstrates working with different data types, variables, and type operations.\n\n**Instructions**:\n\n1. Create a file called `variables-practice.js`\n\n2. Declare variables using `let` and `const`:\n   - Your name (string)\n   - Your age (number)\n   - Whether you''re a student (boolean)\n   - A constant for your birth year\n   - An undefined variable\n   - A null variable\n\n3. Perform operations:\n   - Concatenate your name with a greeting\n   - Calculate your age in days (age × 365)\n   - Use template literals to create a message\n   - Convert a number to a string\n   - Convert a string to a number\n   - Check types using typeof\n\n4. Display all results using console.log()\n\n**Example Solution**:\n\n```javascript\n// Variable Declarations\nlet userName = "Alice";\nlet userAge = 25;\nlet isStudent = true;\nconst birthYear = 1999;\nlet futureValue = undefined;\nlet pastValue = null;\n\n// String Operations\nlet greeting = "Hello, " + userName;\nlet message = `My name is ${userName} and I''m ${userAge} years old.`;\n\n// Number Operations\nlet ageInDays = userAge * 365;\nlet ageInMonths = userAge * 12;\n\n// Type Conversions\nlet ageString = String(userAge);        // "25"\nlet ageNumber = Number(ageString);      // 25\nlet ageBoolean = Boolean(userAge);      // true\n\n// Type Checking\nconsole.log("=== Variable Types ===");\nconsole.log("userName type:", typeof userName);      // "string"\nconsole.log("userAge type:", typeof userAge);        // "number"\nconsole.log("isStudent type:", typeof isStudent);    // "boolean"\nconsole.log("futureValue type:", typeof futureValue); // "undefined"\nconsole.log("pastValue type:", typeof pastValue);    // "object"\n\n// Display Results\nconsole.log("\\n=== Variable Values ===");\nconsole.log("Name:", userName);\nconsole.log("Age:", userAge);\nconsole.log("Is Student:", isStudent);\nconsole.log("Birth Year:", birthYear);\nconsole.log("Age in Days:", ageInDays);\nconsole.log("Age in Months:", ageInMonths);\n\nconsole.log("\\n=== String Operations ===");\nconsole.log(greeting);\nconsole.log(message);\n\nconsole.log("\\n=== Type Conversions ===");\nconsole.log("Age as String:", ageString, typeof ageString);\nconsole.log("Age as Number:", ageNumber, typeof ageNumber);\nconsole.log("Age as Boolean:", ageBoolean, typeof ageBoolean);\n```\n\n**Expected Output**:\n```\n=== Variable Types ===\nuserName type: string\nuserAge type: number\nisStudent type: boolean\nfutureValue type: undefined\npastValue type: object\n\n=== Variable Values ===\nName: Alice\nAge: 25\nIs Student: true\nBirth Year: 1999\nAge in Days: 9125\nAge in Months: 300\n\n=== String Operations ===\nHello, Alice\nMy name is Alice and I''m 25 years old.\n\n=== Type Conversions ===\nAge as String: 25 string\nAge as Number: 25 number\nAge as Boolean: true boolean\n```\n\n**Challenge (Optional)**:\n- Create variables of all 7 primitive types\n- Perform type coercion experiments\n- Use BigInt for large numbers\n- Create a Symbol and use it\n- Test truthy/falsy values\n\n---\n\n## Common Mistakes\n\n### 1. Using var Instead of let/const\n\n```javascript\n// ❌ Old style\nvar oldStyle = "avoid";\n\n// ✅ Modern style\nconst modernStyle = "use this";\nlet changeable = "or this";\n```\n\n### 2. Reassigning const\n\n```javascript\n// ❌ Error\nconst PI = 3.14;\nPI = 3.14159;  // TypeError\n\n// ✅ Correct\nconst PI = 3.14159;  // Set correct value initially\n```\n\n### 3. Confusing null and undefined\n\n```javascript\n// Different meanings\nlet a;              // undefined (not assigned)\nlet b = null;       // null (explicitly no value)\n\n// Check correctly\nif (a === undefined) { }  // Check for undefined\nif (b === null) { }        // Check for null\n```\n\n### 4. Type Coercion Surprises\n\n```javascript\n// ❌ Unexpected\nconsole.log("5" + 3);      // "53" (not 8!)\n\n// ✅ Explicit\nconsole.log(Number("5") + 3);  // 8\n```\n\n### 5. typeof null Quirk\n\n```javascript\n// Remember: typeof null is "object"\nconsole.log(typeof null);  // "object" (not "null"!)\n\n// Check for null correctly\nlet value = null;\nif (value === null) { }  // Use strict equality\n```\n\n---\n\n## Key Takeaways\n\n1. **Variable Declarations**: Use `const` by default, `let` when reassigning, avoid `var`\n2. **Primitive Types**: 7 types - string, number, boolean, undefined, null, symbol, bigint\n3. **Type Coercion**: JavaScript automatically converts types in some situations\n4. **Type Conversion**: Use explicit methods (String(), Number(), Boolean()) when needed\n5. **typeof Operator**: Returns type as string, but has quirks (null returns "object")\n6. **Naming**: Use camelCase for variables, UPPER_CASE for constants\n7. **Best Practice**: Prefer `const` and `let` over `var` in modern JavaScript\n\n---\n\n## Quiz: Data Types\n\nTest your understanding with these questions:\n\n1. **Which keyword should you use for a variable that won''t change?**\n   - A) var\n   - B) let\n   - C) const\n   - D) All of the above\n\n2. **What is the result of `typeof null`?**\n   - A) "null"\n   - B) "object"\n   - C) "undefined"\n   - D) "number"\n\n3. **What is the result of `"5" + 3`?**\n   - A) 8\n   - B) "8"\n   - C) "53"\n   - D) Error\n\n4. **How many primitive data types does JavaScript have?**\n   - A) 5\n   - B) 6\n   - C) 7\n   - D) 8\n\n5. **Which of these is NOT a primitive type?**\n   - A) string\n   - B) number\n   - C) object\n   - D) boolean\n\n6. **What does `let` provide that `var` doesn''t?**\n   - A) Block scope\n   - B) Function scope\n   - C) Global scope\n   - D) All of the above\n\n7. **What is the result of `Boolean("")`?**\n   - A) true\n   - B) false\n   - C) undefined\n   - D) null\n\n**Answers**:\n1. C) const\n2. B) "object" (historical quirk)\n3. C) "53" (string concatenation)\n4. C) 7\n5. C) object (objects are not primitives)\n6. A) Block scope\n7. B) false (empty string is falsy)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned about variables and data types. You now know:\n- How to declare variables with var, let, and const\n- All 7 primitive data types\n- Type coercion and conversion\n- How to use the typeof operator\n\n**What''s Next?**\n- Module 2: Operators and Expressions\n- Lesson 2.1: Arithmetic Operators\n- Practice working with different data types\n- Experiment with type conversions\n\n---\n\n## Additional Resources\n\n- **MDN: Variables**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types#declarations](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types#declarations)\n- **MDN: Data Types**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures)\n- **JavaScript.info: Variables**: [javascript.info/variables](https://javascript.info/variables)\n- **JavaScript.info: Types**: [javascript.info/types](https://javascript.info/types)\n\n---\n\n*Lesson completed! You''re ready to move on to the next module.*\n\n', NULL, 3, '2026-01-03 09:06:44', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand the three ways to declare variables (var, let, const)\n- Know the differences between var, let, and const\n- Identify all JavaScript primitive data types\n- Understand type coercion and conversion\n- Use the typeof operator to check data types\n- Work with different data types in your code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (111, 42, 10, 'Arithmetic Operators', 'arithmetic-operators', '# Lesson 2.1: Arithmetic Operators\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use all basic arithmetic operators (+, -, *, /)\n- Understand and use the modulo operator (%)\n- Work with exponentiation (**)\n- Apply increment and decrement operators (++, --)\n- Understand operator precedence and associativity\n- Build a simple calculator program\n\n---\n\n## Introduction to Arithmetic Operators\n\nArithmetic operators perform mathematical operations on numbers (and sometimes strings). They are fundamental to any programming language and are used extensively in JavaScript.\n\n### Basic Arithmetic Operators\n\nJavaScript provides five basic arithmetic operators:\n\n| Operator | Name | Example | Result |\n|----------|------|---------|--------|\n| `+` | Addition | `5 + 3` | `8` |\n| `-` | Subtraction | `5 - 3` | `2` |\n| `*` | Multiplication | `5 * 3` | `15` |\n| `/` | Division | `5 / 3` | `1.666...` |\n| `%` | Modulo (Remainder) | `5 % 3` | `2` |\n| `**` | Exponentiation | `5 ** 3` | `125` |\n\n---\n\n## Addition (+)\n\nThe addition operator adds two numbers together.\n\n### Basic Addition\n\n```javascript\nlet sum = 5 + 3;\nconsole.log(sum);  // 8\n\nlet a = 10;\nlet b = 20;\nlet result = a + b;\nconsole.log(result);  // 30\n```\n\n### String Concatenation\n\nWhen used with strings, `+` performs concatenation (joining strings):\n\n```javascript\nlet firstName = "Alice";\nlet lastName = "Smith";\nlet fullName = firstName + " " + lastName;\nconsole.log(fullName);  // "Alice Smith"\n\nlet greeting = "Hello, " + "World!";\nconsole.log(greeting);  // "Hello, World!"\n```\n\n### Mixed Types\n\nWhen mixing numbers and strings, JavaScript converts numbers to strings:\n\n```javascript\nconsole.log("5" + 3);      // "53" (string concatenation)\nconsole.log(5 + "3");     // "53" (string concatenation)\nconsole.log("Result: " + 10);  // "Result: 10"\n```\n\n**To force numeric addition:**\n```javascript\nconsole.log(Number("5") + 3);  // 8\nconsole.log(+"5" + 3);          // 8 (unary plus)\n```\n\n### Multiple Additions\n\n```javascript\nlet total = 10 + 20 + 30;\nconsole.log(total);  // 60\n\nlet a = 5;\nlet b = 10;\nlet c = 15;\nlet sum = a + b + c;\nconsole.log(sum);  // 30\n```\n\n---\n\n## Subtraction (-)\n\nThe subtraction operator subtracts the right operand from the left operand.\n\n### Basic Subtraction\n\n```javascript\nlet difference = 10 - 3;\nconsole.log(difference);  // 7\n\nlet a = 50;\nlet b = 20;\nlet result = a - b;\nconsole.log(result);  // 30\n```\n\n### Negative Numbers\n\n```javascript\nlet result = 5 - 10;\nconsole.log(result);  // -5\n\nlet negative = -5;\nlet positive = 10;\nlet sum = negative + positive;\nconsole.log(sum);  // 5\n```\n\n### Unary Minus\n\nThe minus operator can also be used as a unary operator to negate a value:\n\n```javascript\nlet x = 5;\nlet y = -x;\nconsole.log(y);  // -5\n\nlet positive = 10;\nlet negative = -positive;\nconsole.log(negative);  // -10\n```\n\n### Multiple Subtractions\n\n```javascript\nlet result = 100 - 20 - 10;\nconsole.log(result);  // 70\n\n// Order matters\nlet a = 100;\nlet b = 20;\nlet c = 10;\nlet difference = a - b - c;  // (100 - 20) - 10 = 70\nconsole.log(difference);\n```\n\n---\n\n## Multiplication (*)\n\nThe multiplication operator multiplies two numbers.\n\n### Basic Multiplication\n\n```javascript\nlet product = 5 * 3;\nconsole.log(product);  // 15\n\nlet a = 10;\nlet b = 4;\nlet result = a * b;\nconsole.log(result);  // 40\n```\n\n### Decimal Numbers\n\n```javascript\nlet result = 3.5 * 2;\nconsole.log(result);  // 7\n\nlet price = 9.99;\nlet quantity = 3;\nlet total = price * quantity;\nconsole.log(total);  // 29.97\n```\n\n### Multiple Multiplications\n\n```javascript\nlet result = 2 * 3 * 4;\nconsole.log(result);  // 24\n\nlet a = 5;\nlet b = 2;\nlet c = 3;\nlet product = a * b * c;\nconsole.log(product);  // 30\n```\n\n### Common Use Cases\n\n```javascript\n// Calculate area\nlet width = 10;\nlet height = 5;\nlet area = width * height;\nconsole.log(area);  // 50\n\n// Calculate total price\nlet unitPrice = 15.50;\nlet quantity = 4;\nlet totalPrice = unitPrice * quantity;\nconsole.log(totalPrice);  // 62\n```\n\n---\n\n## Division (/)\n\nThe division operator divides the left operand by the right operand.\n\n### Basic Division\n\n```javascript\nlet quotient = 10 / 2;\nconsole.log(quotient);  // 5\n\nlet a = 20;\nlet b = 4;\nlet result = a / b;\nconsole.log(result);  // 5\n```\n\n### Decimal Results\n\n```javascript\nlet result = 10 / 3;\nconsole.log(result);  // 3.3333333333333335\n\nlet a = 7;\nlet b = 2;\nlet quotient = a / b;\nconsole.log(quotient);  // 3.5\n```\n\n### Division by Zero\n\n```javascript\nconsole.log(10 / 0);   // Infinity\nconsole.log(-10 / 0);  // -Infinity\nconsole.log(0 / 0);    // NaN (Not a Number)\n```\n\n### Integer Division\n\nJavaScript doesn''t have integer division. To get integer results:\n\n```javascript\n// Using Math.floor()\nlet result = Math.floor(10 / 3);\nconsole.log(result);  // 3\n\n// Using parseInt()\nlet result2 = parseInt(10 / 3);\nconsole.log(result2);  // 3\n\n// Using bitwise operator (for positive numbers only)\nlet result3 = (10 / 3) | 0;\nconsole.log(result3);  // 3\n```\n\n### Common Use Cases\n\n```javascript\n// Calculate average\nlet sum = 85 + 90 + 78;\nlet count = 3;\nlet average = sum / count;\nconsole.log(average);  // 84.333...\n\n// Calculate percentage\nlet part = 25;\nlet whole = 100;\nlet percentage = (part / whole) * 100;\nconsole.log(percentage);  // 25\n```\n\n---\n\n## Modulo Operator (%)\n\nThe modulo operator returns the remainder of a division operation.\n\n### Basic Modulo\n\n```javascript\nlet remainder = 10 % 3;\nconsole.log(remainder);  // 1 (10 divided by 3 is 3 with remainder 1)\n\nlet result = 15 % 4;\nconsole.log(result);  // 3 (15 divided by 4 is 3 with remainder 3)\n```\n\n### Understanding Modulo\n\n```javascript\n// 10 % 3 = 1\n// Because: 10 = 3 * 3 + 1\n\n// 15 % 4 = 3\n// Because: 15 = 4 * 3 + 3\n\n// 20 % 5 = 0\n// Because: 20 = 5 * 4 + 0 (no remainder)\n```\n\n### Common Use Cases\n\n**1. Check if a number is even or odd:**\n```javascript\nlet number = 7;\nif (number % 2 === 0) {\n    console.log("Even");\n} else {\n    console.log("Odd");  // This runs\n}\n\nlet num = 8;\nconsole.log(num % 2 === 0);  // true (even)\n```\n\n**2. Check divisibility:**\n```javascript\nlet number = 15;\nif (number % 5 === 0) {\n    console.log("Divisible by 5");  // This runs\n}\n\nlet num = 12;\nconsole.log(num % 3 === 0);  // true (divisible by 3)\n```\n\n**3. Get the last digit:**\n```javascript\nlet number = 12345;\nlet lastDigit = number % 10;\nconsole.log(lastDigit);  // 5\n```\n\n**4. Cycle through values:**\n```javascript\n// Cycle 0, 1, 2, 0, 1, 2...\nfor (let i = 0; i < 10; i++) {\n    console.log(i % 3);  // 0, 1, 2, 0, 1, 2, 0, 1, 2, 0\n}\n```\n\n**5. Wrap around values:**\n```javascript\n// Keep value between 0 and 9\nlet value = 15;\nlet wrapped = value % 10;\nconsole.log(wrapped);  // 5\n```\n\n### Negative Modulo\n\n```javascript\nconsole.log(-10 % 3);   // -1\nconsole.log(10 % -3);   // 1\nconsole.log(-10 % -3);  // -1\n```\n\n---\n\n## Exponentiation (**)\n\nThe exponentiation operator raises the left operand to the power of the right operand.\n\n### Basic Exponentiation\n\n```javascript\nlet result = 2 ** 3;\nconsole.log(result);  // 8 (2 to the power of 3 = 2 * 2 * 2)\n\nlet power = 5 ** 2;\nconsole.log(power);  // 25 (5 squared)\n```\n\n### Understanding Exponentiation\n\n```javascript\n// 2 ** 3 = 2 * 2 * 2 = 8\n// 3 ** 2 = 3 * 3 = 9\n// 4 ** 3 = 4 * 4 * 4 = 64\n// 10 ** 2 = 10 * 10 = 100\n```\n\n### Common Use Cases\n\n**1. Calculate squares:**\n```javascript\nlet number = 5;\nlet square = number ** 2;\nconsole.log(square);  // 25\n```\n\n**2. Calculate cubes:**\n```javascript\nlet number = 3;\nlet cube = number ** 3;\nconsole.log(cube);  // 27\n```\n\n**3. Calculate powers:**\n```javascript\nlet base = 2;\nlet exponent = 10;\nlet result = base ** exponent;\nconsole.log(result);  // 1024\n```\n\n**4. Square root (using fractional exponent):**\n```javascript\nlet number = 16;\nlet squareRoot = number ** 0.5;\nconsole.log(squareRoot);  // 4\n\n// Or use Math.sqrt()\nlet sqrt = Math.sqrt(16);\nconsole.log(sqrt);  // 4\n```\n\n**5. Cube root:**\n```javascript\nlet number = 27;\nlet cubeRoot = number ** (1/3);\nconsole.log(cubeRoot);  // 3\n```\n\n### Alternative: Math.pow()\n\nBefore ES2016, you had to use `Math.pow()`:\n\n```javascript\n// Old way\nlet result = Math.pow(2, 3);  // 8\n\n// Modern way\nlet result2 = 2 ** 3;  // 8\n```\n\n---\n\n## Increment and Decrement Operators\n\nThese operators increase or decrease a value by 1.\n\n### Increment Operator (++)\n\n**Post-increment** (returns value, then increments):\n```javascript\nlet x = 5;\nlet y = x++;  // y = 5, x = 6\nconsole.log(x);  // 6\nconsole.log(y);  // 5\n```\n\n**Pre-increment** (increments, then returns value):\n```javascript\nlet x = 5;\nlet y = ++x;  // x = 6, y = 6\nconsole.log(x);  // 6\nconsole.log(y);  // 6\n```\n\n### Decrement Operator (--)\n\n**Post-decrement** (returns value, then decrements):\n```javascript\nlet x = 5;\nlet y = x--;  // y = 5, x = 4\nconsole.log(x);  // 4\nconsole.log(y);  // 5\n```\n\n**Pre-decrement** (decrements, then returns value):\n```javascript\nlet x = 5;\nlet y = --x;  // x = 4, y = 4\nconsole.log(x);  // 4\nconsole.log(y);  // 4\n```\n\n### Common Use Cases\n\n**In loops:**\n```javascript\nfor (let i = 0; i < 5; i++) {\n    console.log(i);  // 0, 1, 2, 3, 4\n}\n\n// Equivalent to:\nfor (let i = 0; i < 5; i = i + 1) {\n    console.log(i);\n}\n```\n\n**Counter:**\n```javascript\nlet count = 0;\ncount++;  // count is now 1\ncount++;  // count is now 2\nconsole.log(count);  // 2\n```\n\n**Array indexing:**\n```javascript\nlet index = 0;\nlet arr = [10, 20, 30];\nconsole.log(arr[index++]);  // 10, index is now 1\nconsole.log(arr[index++]);  // 20, index is now 2\n```\n\n### Important Notes\n\n```javascript\n// Be careful with post vs pre\nlet x = 5;\nconsole.log(x++);  // 5 (prints, then increments)\nconsole.log(x);    // 6\n\nlet y = 5;\nconsole.log(++y);  // 6 (increments, then prints)\nconsole.log(y);    // 6\n```\n\n---\n\n## Operator Precedence\n\nOperator precedence determines the order in which operations are performed when multiple operators are present.\n\n### Precedence Order (Highest to Lowest)\n\n1. **Parentheses** `()` - Highest precedence\n2. **Exponentiation** `**`\n3. **Multiplication, Division, Modulo** `*`, `/`, `%`\n4. **Addition, Subtraction** `+`, `-`\n5. **Assignment** `=`\n\n### Examples\n\n```javascript\n// Without parentheses\nlet result = 2 + 3 * 4;\nconsole.log(result);  // 14 (not 20!)\n// Because: 2 + (3 * 4) = 2 + 12 = 14\n\n// With parentheses\nlet result2 = (2 + 3) * 4;\nconsole.log(result2);  // 20\n// Because: (2 + 3) * 4 = 5 * 4 = 20\n```\n\n### More Examples\n\n```javascript\n// Exponentiation first\nlet a = 2 ** 3 + 1;\nconsole.log(a);  // 9 (8 + 1, not 16!)\n\n// Multiplication before addition\nlet b = 10 + 5 * 2;\nconsole.log(b);  // 20 (10 + 10, not 30!)\n\n// Modulo same as multiplication/division\nlet c = 10 + 15 % 4;\nconsole.log(c);  // 13 (10 + 3)\n\n// Complex expression\nlet d = 2 + 3 * 4 ** 2;\nconsole.log(d);  // 50\n// Step 1: 4 ** 2 = 16\n// Step 2: 3 * 16 = 48\n// Step 3: 2 + 48 = 50\n```\n\n### Using Parentheses\n\nParentheses override precedence and make code clearer:\n\n```javascript\n// Clear intent\nlet result = (2 + 3) * (4 + 5);\nconsole.log(result);  // 45\n\n// Complex calculation\nlet total = (10 + 5) * 2 - 3;\nconsole.log(total);  // 27\n// Step 1: (10 + 5) = 15\n// Step 2: 15 * 2 = 30\n// Step 3: 30 - 3 = 27\n```\n\n### Associativity\n\nWhen operators have the same precedence, associativity determines the order:\n\n```javascript\n// Left-to-right for +, -, *, /\nlet result = 10 - 5 - 2;\nconsole.log(result);  // 3\n// Evaluated as: (10 - 5) - 2 = 5 - 2 = 3\n\n// Right-to-left for **\nlet power = 2 ** 3 ** 2;\nconsole.log(power);  // 512\n// Evaluated as: 2 ** (3 ** 2) = 2 ** 9 = 512\n```\n\n---\n\n## Combining Operators\n\nYou can combine multiple operators in expressions:\n\n```javascript\n// Simple combination\nlet result = 10 + 5 * 2;\nconsole.log(result);  // 20\n\n// Complex expression\nlet total = (100 - 20) / 2 + 10;\nconsole.log(total);  // 50\n\n// With variables\nlet a = 10;\nlet b = 5;\nlet c = 2;\nlet result2 = a + b * c;\nconsole.log(result2);  // 20\n```\n\n### Best Practices\n\n**1. Use parentheses for clarity:**\n```javascript\n// Unclear\nlet result = a + b * c / d;\n\n// Clear\nlet result = a + (b * c / d);\n```\n\n**2. Break complex expressions:**\n```javascript\n// Hard to read\nlet result = (a + b) * (c - d) / (e + f) ** 2;\n\n// Better\nlet sum1 = a + b;\nlet diff = c - d;\nlet sum2 = e + f;\nlet result = (sum1 * diff) / (sum2 ** 2);\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Calculator Program\n\n**Objective**: Build a simple calculator program that performs basic arithmetic operations.\n\n**Instructions**:\n\n1. Create a file called `calculator.js`\n\n2. Define variables for two numbers:\n   ```javascript\n   let num1 = 10;\n   let num2 = 3;\n   ```\n\n3. Perform and display the following operations:\n   - Addition\n   - Subtraction\n   - Multiplication\n   - Division\n   - Modulo\n   - Exponentiation\n\n4. Calculate and display:\n   - The average of the two numbers\n   - The square of num1\n   - The cube of num2\n   - Whether num1 is even or odd (using modulo)\n\n5. Use proper formatting and clear output messages\n\n**Example Solution**:\n\n```javascript\n// Simple Calculator Program\nlet num1 = 10;\nlet num2 = 3;\n\nconsole.log("=== Simple Calculator ===");\nconsole.log(`Number 1: ${num1}`);\nconsole.log(`Number 2: ${num2}`);\nconsole.log();\n\n// Basic Operations\nconsole.log("=== Basic Operations ===");\nconsole.log(`${num1} + ${num2} = ${num1 + num2}`);\nconsole.log(`${num1} - ${num2} = ${num1 - num2}`);\nconsole.log(`${num1} * ${num2} = ${num1 * num2}`);\nconsole.log(`${num1} / ${num2} = ${num1 / num2}`);\nconsole.log(`${num1} % ${num2} = ${num1 % num2}`);\nconsole.log(`${num1} ** ${num2} = ${num1 ** num2}`);\nconsole.log();\n\n// Advanced Calculations\nconsole.log("=== Advanced Calculations ===");\nlet average = (num1 + num2) / 2;\nconsole.log(`Average: ${average}`);\n\nlet square1 = num1 ** 2;\nconsole.log(`${num1} squared: ${square1}`);\n\nlet cube2 = num2 ** 3;\nconsole.log(`${num2} cubed: ${cube2}`);\n\n// Check if even or odd\nif (num1 % 2 === 0) {\n    console.log(`${num1} is even`);\n} else {\n    console.log(`${num1} is odd`);\n}\n\nif (num2 % 2 === 0) {\n    console.log(`${num2} is even`);\n} else {\n    console.log(`${num2} is odd`);\n}\nconsole.log();\n\n// Operator Precedence Examples\nconsole.log("=== Operator Precedence ===");\nlet result1 = 2 + 3 * 4;\nconsole.log(`2 + 3 * 4 = ${result1} (not 20!)`);\n\nlet result2 = (2 + 3) * 4;\nconsole.log(`(2 + 3) * 4 = ${result2}`);\n\nlet result3 = 2 ** 3 + 1;\nconsole.log(`2 ** 3 + 1 = ${result3} (not 16!)`);\n```\n\n**Expected Output**:\n```\n=== Simple Calculator ===\nNumber 1: 10\nNumber 2: 3\n\n=== Basic Operations ===\n10 + 3 = 13\n10 - 3 = 7\n10 * 3 = 30\n10 / 3 = 3.3333333333333335\n10 % 3 = 1\n10 ** 3 = 1000\n\n=== Advanced Calculations ===\nAverage: 6.5\n10 squared: 100\n3 cubed: 27\n10 is even\n3 is odd\n\n=== Operator Precedence ===\n2 + 3 * 4 = 14 (not 20!)\n(2 + 3) * 4 = 20\n2 ** 3 + 1 = 9 (not 16!)\n```\n\n**Challenge (Optional)**:\n- Add more operations (square root, percentage)\n- Create functions for each operation\n- Handle edge cases (division by zero)\n- Add input validation\n- Create an interactive calculator using prompt()\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting Operator Precedence\n\n```javascript\n// ❌ Wrong expectation\nlet result = 2 + 3 * 4;  // Expects 20, gets 14\n\n// ✅ Correct\nlet result = (2 + 3) * 4;  // Gets 20\n```\n\n### 2. String Concatenation Instead of Addition\n\n```javascript\n// ❌ String concatenation\nlet result = "5" + 3;  // "53"\n\n// ✅ Numeric addition\nlet result = Number("5") + 3;  // 8\n```\n\n### 3. Confusing Post vs Pre Increment\n\n```javascript\n// ❌ Wrong expectation\nlet x = 5;\nlet y = x++;  // Expects y = 6, gets y = 5\n\n// ✅ Correct\nlet x = 5;\nlet y = ++x;  // Gets y = 6\n```\n\n### 4. Division by Zero\n\n```javascript\n// ⚠️ Be careful\nlet result = 10 / 0;  // Infinity (not an error!)\n```\n\n### 5. Modulo with Negative Numbers\n\n```javascript\n// Remember: result sign matches dividend\nconsole.log(-10 % 3);  // -1 (not 2!)\n```\n\n---\n\n## Key Takeaways\n\n1. **Arithmetic Operators**: `+`, `-`, `*`, `/`, `%`, `**`\n2. **Addition**: Can concatenate strings or add numbers\n3. **Modulo**: Returns remainder, useful for checking even/odd, divisibility\n4. **Exponentiation**: `**` raises to power (ES2016+)\n5. **Increment/Decrement**: `++` and `--` change value by 1\n6. **Precedence**: Parentheses > Exponentiation > * / % > + -\n7. **Use Parentheses**: Make complex expressions clear and correct\n\n---\n\n## Quiz: Arithmetic Operations\n\nTest your understanding with these questions:\n\n1. **What is the result of `10 % 3`?**\n   - A) 3\n   - B) 1\n   - C) 0\n   - D) 3.33\n\n2. **What is the result of `2 ** 3`?**\n   - A) 6\n   - B) 8\n   - C) 9\n   - D) 5\n\n3. **What is the result of `2 + 3 * 4`?**\n   - A) 20\n   - B) 14\n   - C) 24\n   - D) 12\n\n4. **What is the result of `"5" + 3`?**\n   - A) 8\n   - B) "8"\n   - C) "53"\n   - D) Error\n\n5. **What is the result of `let x = 5; let y = x++;` (y = ?)**\n   - A) 5\n   - B) 6\n   - C) 4\n   - D) undefined\n\n6. **What is the result of `10 / 0`?**\n   - A) 0\n   - B) Error\n   - C) Infinity\n   - D) NaN\n\n7. **Which operator has the highest precedence?**\n   - A) +\n   - B) *\n   - C) **\n   - D) ()\n\n**Answers**:\n1. B) 1\n2. B) 8\n3. B) 14 (multiplication before addition)\n4. C) "53" (string concatenation)\n5. A) 5 (post-increment returns value first)\n6. C) Infinity\n7. D) () (parentheses have highest precedence)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned arithmetic operators. You now know:\n- How to perform basic arithmetic operations\n- How to use modulo and exponentiation\n- How increment and decrement work\n- How operator precedence affects calculations\n\n**What''s Next?**\n- Lesson 2.2: Comparison and Logical Operators\n- Practice building more complex calculations\n- Experiment with operator precedence\n- Try building a more advanced calculator\n\n---\n\n## Additional Resources\n\n- **MDN: Arithmetic Operators**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#arithmetic_operators](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#arithmetic_operators)\n- **MDN: Operator Precedence**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence)\n- **JavaScript.info: Operators**: [javascript.info/operators](https://javascript.info/operators)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:11:26', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use all basic arithmetic operators (+, -, *, /)\n- Understand and use the modulo operator (%)\n- Work with exponentiation (**)\n- Apply increment and decrement operators (++, --)\n- Understand operator precedence and associativity\n- Build a simple calculator program');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (112, 42, 10, 'Comparison and Logical Operators', 'comparison-and-logical-operators', '# Lesson 2.2: Comparison and Logical Operators\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use all comparison operators (==, ===, !=, !==, <, >, <=, >=)\n- Understand the difference between strict (===) and loose (==) equality\n- Apply logical operators (&&, ||, !)\n- Understand short-circuit evaluation\n- Combine comparison and logical operators\n- Write conditional logic expressions\n\n---\n\n## Introduction to Comparison Operators\n\nComparison operators compare two values and return a boolean (`true` or `false`). They are essential for making decisions in your code.\n\n### Comparison Operators Overview\n\n| Operator | Name | Example | Result |\n|----------|------|---------|--------|\n| `==` | Loose equality | `5 == "5"` | `true` |\n| `===` | Strict equality | `5 === "5"` | `false` |\n| `!=` | Loose inequality | `5 != "5"` | `false` |\n| `!==` | Strict inequality | `5 !== "5"` | `true` |\n| `<` | Less than | `3 < 5` | `true` |\n| `>` | Greater than | `5 > 3` | `true` |\n| `<=` | Less than or equal | `5 <= 5` | `true` |\n| `>=` | Greater than or equal | `5 >= 3` | `true` |\n\n---\n\n## Equality Operators\n\n### Loose Equality (==)\n\nThe `==` operator performs type coercion before comparison. It converts operands to the same type before comparing.\n\n```javascript\nconsole.log(5 == 5);        // true\nconsole.log(5 == "5");     // true (string converted to number)\nconsole.log(true == 1);     // true (boolean converted to number)\nconsole.log(false == 0);    // true (boolean converted to number)\nconsole.log(null == undefined); // true (special case)\n```\n\n**Type Coercion Examples:**\n```javascript\n// String to number\nconsole.log("5" == 5);      // true\n\n// Boolean to number\nconsole.log(true == 1);    // true\nconsole.log(false == 0);   // true\n\n// null and undefined\nconsole.log(null == undefined);  // true\nconsole.log(null == 0);         // false\nconsole.log(undefined == 0);   // false\n\n// Arrays and objects\nconsole.log([] == 0);      // true (array converted to string, then number)\nconsole.log([5] == 5);     // true\nconsole.log([1, 2] == "1,2"); // true\n```\n\n**When Loose Equality Can Be Problematic:**\n```javascript\n// Unexpected results\nconsole.log("" == 0);           // true\nconsole.log("0" == 0);          // true\nconsole.log(false == "false");  // false (string "false" is not converted to boolean false)\nconsole.log([] == false);       // true\nconsole.log([0] == false);      // true\n```\n\n### Strict Equality (===)\n\nThe `===` operator compares both value and type. No type coercion occurs.\n\n```javascript\nconsole.log(5 === 5);        // true\nconsole.log(5 === "5");     // false (different types)\nconsole.log(true === 1);     // false (different types)\nconsole.log(false === 0);    // false (different types)\nconsole.log(null === undefined); // false (different types)\n```\n\n**Why Use Strict Equality:**\n```javascript\n// More predictable\nconsole.log(5 === 5);        // true\nconsole.log(5 === "5");     // false (clear: different types)\nconsole.log(true === 1);     // false (clear: different types)\n\n// Prevents bugs\nlet value = "5";\nif (value === 5) {  // false - won''t execute\n    console.log("Number");\n} else {\n    console.log("String");  // This runs\n}\n```\n\n**Best Practice: Always Use `===`**\n```javascript\n// ✅ Good\nif (age === 18) { }\nif (name === "Alice") { }\nif (isActive === true) { }\n\n// ❌ Avoid\nif (age == 18) { }\nif (name == "Alice") { }\n```\n\n### Inequality Operators\n\n**Loose Inequality (!=):**\n```javascript\nconsole.log(5 != 3);        // true\nconsole.log(5 != "5");     // false (coerced, so equal)\nconsole.log(true != 1);     // false (coerced, so equal)\n```\n\n**Strict Inequality (!==):**\n```javascript\nconsole.log(5 !== 3);        // true\nconsole.log(5 !== "5");     // true (different types)\nconsole.log(true !== 1);     // true (different types)\n```\n\n**Best Practice: Always Use `!==`**\n```javascript\n// ✅ Good\nif (age !== 18) { }\nif (name !== "Alice") { }\n\n// ❌ Avoid\nif (age != 18) { }\n```\n\n---\n\n## Relational Operators\n\nRelational operators compare the order of values.\n\n### Less Than (<)\n\n```javascript\nconsole.log(3 < 5);        // true\nconsole.log(5 < 3);       // false\nconsole.log(3 < 3);       // false\nconsole.log("a" < "b");   // true (lexicographic comparison)\nconsole.log("apple" < "banana"); // true\n```\n\n**String Comparison:**\n```javascript\n// Lexicographic (dictionary) order\nconsole.log("a" < "b");        // true\nconsole.log("A" < "a");        // true (uppercase < lowercase in ASCII)\nconsole.log("10" < "2");      // true (string comparison, not numeric!)\nconsole.log("10" < 2);        // false (string "10" converted to 10, then compared)\n```\n\n### Greater Than (>)\n\n```javascript\nconsole.log(5 > 3);        // true\nconsole.log(3 > 5);       // false\nconsole.log(5 > 5);       // false\nconsole.log("b" > "a");   // true\n```\n\n### Less Than or Equal (<=)\n\n```javascript\nconsole.log(3 <= 5);       // true\nconsole.log(5 <= 5);      // true\nconsole.log(5 <= 3);      // false\n```\n\n### Greater Than or Equal (>=)\n\n```javascript\nconsole.log(5 >= 3);       // true\nconsole.log(5 >= 5);      // true\nconsole.log(3 >= 5);      // false\n```\n\n### Numeric Comparisons\n\n```javascript\nlet age = 25;\nconsole.log(age >= 18);    // true (adult)\nconsole.log(age < 65);     // true (not senior)\n\nlet score = 85;\nconsole.log(score >= 90);  // false (not A grade)\nconsole.log(score >= 80);  // true (B grade or higher)\n```\n\n### String Comparisons\n\n```javascript\n// Alphabetical order\nconsole.log("apple" < "banana");  // true\nconsole.log("zebra" > "apple");   // true\n\n// Case matters\nconsole.log("Apple" < "apple");    // true (uppercase comes first in ASCII)\nconsole.log("A" < "a");           // true\n\n// Numbers as strings\nconsole.log("10" < "2");          // true (lexicographic, not numeric!)\nconsole.log("10" < 2);            // false (type coercion to number)\n```\n\n---\n\n## Logical Operators\n\nLogical operators combine or negate boolean values.\n\n### Logical AND (&&)\n\nReturns `true` only if both operands are `true`.\n\n```javascript\nconsole.log(true && true);    // true\nconsole.log(true && false);   // false\nconsole.log(false && true);   // false\nconsole.log(false && false);  // false\n```\n\n**Practical Examples:**\n```javascript\nlet age = 25;\nlet hasLicense = true;\n\nif (age >= 18 && hasLicense) {\n    console.log("Can drive");  // This runs\n}\n\nlet isLoggedIn = true;\nlet isAdmin = false;\n\nif (isLoggedIn && isAdmin) {\n    console.log("Admin access");  // Doesn''t run\n}\n```\n\n**Truth Table for AND:**\n| A | B | A && B |\n|---|---|--------|\n| true | true | true |\n| true | false | false |\n| false | true | false |\n| false | false | false |\n\n### Logical OR (||)\n\nReturns `true` if at least one operand is `true`.\n\n```javascript\nconsole.log(true || true);    // true\nconsole.log(true || false);   // true\nconsole.log(false || true);    // true\nconsole.log(false || false);  // false\n```\n\n**Practical Examples:**\n```javascript\nlet hasCreditCard = false;\nlet hasPayPal = true;\n\nif (hasCreditCard || hasPayPal) {\n    console.log("Can make payment");  // This runs\n}\n\nlet isWeekend = false;\nlet isHoliday = true;\n\nif (isWeekend || isHoliday) {\n    console.log("No work today");  // This runs\n}\n```\n\n**Truth Table for OR:**\n| A | B | A \\|\\| B |\n|---|---|----------|\n| true | true | true |\n| true | false | true |\n| false | true | true |\n| false | false | false |\n\n### Logical NOT (!)\n\nNegates a boolean value.\n\n```javascript\nconsole.log(!true);    // false\nconsole.log(!false);   // true\nconsole.log(!0);       // true (0 is falsy)\nconsole.log(!1);       // false (1 is truthy)\nconsole.log(!!"hello"); // true (double negation converts to boolean)\n```\n\n**Practical Examples:**\n```javascript\nlet isLoggedOut = !isLoggedIn;\n\nif (!isAdmin) {\n    console.log("Regular user");\n}\n\nlet isEmpty = !array.length;  // true if array is empty\n```\n\n**Truth Table for NOT:**\n| A | !A |\n|---|---|\n| true | false |\n| false | true |\n\n### Combining Logical Operators\n\n```javascript\nlet age = 25;\nlet hasLicense = true;\nlet hasInsurance = false;\n\n// Complex condition\nif (age >= 18 && hasLicense && hasInsurance) {\n    console.log("Can drive legally");\n} else {\n    console.log("Cannot drive");  // This runs (missing insurance)\n}\n\n// Using OR\nif (age < 18 || !hasLicense) {\n    console.log("Cannot drive");\n}\n\n// Combining AND and OR\nif ((age >= 18 && hasLicense) || hasInsurance) {\n    console.log("Some form of driving allowed");\n}\n```\n\n**Operator Precedence:**\n```javascript\n// NOT has highest precedence, then AND, then OR\nlet result = !false && true || false;\n// Evaluated as: ((!false) && true) || false\n// = (true && true) || false\n// = true || false\n// = true\n```\n\n---\n\n## Short-Circuit Evaluation\n\nJavaScript uses short-circuit evaluation for logical operators, meaning it stops evaluating as soon as the result is determined.\n\n### AND Short-Circuit (&&)\n\nIf the left operand is `false`, the right operand is not evaluated.\n\n```javascript\n// If first is false, second is never evaluated\nfalse && console.log("This won''t print");\n\n// If first is true, second is evaluated\ntrue && console.log("This will print");  // "This will print"\n```\n\n**Practical Use - Default Values:**\n```javascript\n// If user exists, get name, otherwise use "Guest"\nlet userName = user && user.name || "Guest";\n\n// If config exists, use it, otherwise use default\nlet settings = config && config.settings || defaultSettings;\n```\n\n**Conditional Execution:**\n```javascript\n// Only call function if condition is true\nisLoggedIn && showDashboard();\n\n// Only set value if it exists\ndata && processData(data);\n```\n\n### OR Short-Circuit (||)\n\nIf the left operand is `true`, the right operand is not evaluated.\n\n```javascript\n// If first is true, second is never evaluated\ntrue || console.log("This won''t print");\n\n// If first is false, second is evaluated\nfalse || console.log("This will print");  // "This will print"\n```\n\n**Practical Use - Default Values:**\n```javascript\n// Use provided value or default\nlet name = userName || "Guest";\nlet port = config.port || 3000;\nlet theme = userTheme || "light";\n```\n\n**Fallback Values:**\n```javascript\n// Try first option, fallback to second, then third\nlet value = option1 || option2 || option3 || "default";\n```\n\n### Real-World Examples\n\n**1. Safe Property Access:**\n```javascript\n// Avoid errors if user might be null\nlet name = user && user.profile && user.profile.name || "Anonymous";\n\n// Modern alternative (optional chaining - ES2020)\nlet name2 = user?.profile?.name || "Anonymous";\n```\n\n**2. Function Calls:**\n```javascript\n// Only call if function exists\ncallback && callback(data);\n\n// Call with fallback\nonSuccess && onSuccess(result) || console.log("No callback");\n```\n\n**3. Default Parameters:**\n```javascript\nfunction greet(name) {\n    name = name || "Guest";\n    console.log(`Hello, ${name}!`);\n}\n\ngreet("Alice");  // "Hello, Alice!"\ngreet();        // "Hello, Guest!"\n```\n\n---\n\n## Combining Comparison and Logical Operators\n\nYou can combine comparison and logical operators to create complex conditions.\n\n### Examples\n\n```javascript\nlet age = 25;\nlet hasLicense = true;\nlet hasInsurance = true;\n\n// Multiple conditions\nif (age >= 18 && age <= 65 && hasLicense && hasInsurance) {\n    console.log("Fully qualified driver");\n}\n\nlet score = 85;\nlet attendance = 0.95;\n\n// Grade determination\nif (score >= 90 && attendance >= 0.9) {\n    console.log("Grade A");\n} else if (score >= 80 && attendance >= 0.8) {\n    console.log("Grade B");\n} else if (score >= 70 || attendance < 0.7) {\n    console.log("Grade C or needs improvement");\n}\n```\n\n### Complex Conditions\n\n```javascript\nlet temperature = 25;\nlet isRaining = false;\nlet isWeekend = true;\n\n// Complex weather condition\nif ((temperature > 20 && temperature < 30) && !isRaining && isWeekend) {\n    console.log("Perfect day for outdoor activities");\n}\n\nlet user = {\n    age: 25,\n    isPremium: true,\n    isActive: true\n};\n\n// Multiple checks\nif (user.age >= 18 && user.isPremium && user.isActive) {\n    console.log("Full access granted");\n}\n```\n\n### Precedence in Complex Expressions\n\n```javascript\n// Parentheses clarify intent\nlet result = (age >= 18 && hasLicense) || (hasParent && isSupervised);\n\n// Without parentheses (same result due to precedence)\nlet result2 = age >= 18 && hasLicense || hasParent && isSupervised;\n// Evaluated as: (age >= 18 && hasLicense) || (hasParent && isSupervised)\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Conditional Logic Practice\n\n**Objective**: Write a program that uses comparison and logical operators to make decisions.\n\n**Instructions**:\n\n1. Create a file called `conditional-logic.js`\n\n2. Define variables for a user profile:\n   - Age\n   - Has driver''s license (boolean)\n   - Has insurance (boolean)\n   - Credit score\n   - Is premium member (boolean)\n\n3. Write conditions to determine:\n   - Can the user drive? (age >= 18 && hasLicense)\n   - Can the user drive legally? (age >= 18 && hasLicense && hasInsurance)\n   - Is the user eligible for a loan? (credit score >= 700 || isPremium)\n   - What membership level? (premium or regular)\n   - Age category (minor, adult, senior)\n\n4. Display all results with clear messages\n\n**Example Solution**:\n\n```javascript\n// Conditional Logic Practice\nlet age = 25;\nlet hasLicense = true;\nlet hasInsurance = true;\nlet creditScore = 750;\nlet isPremium = false;\n\nconsole.log("=== User Profile ===");\nconsole.log(`Age: ${age}`);\nconsole.log(`Has License: ${hasLicense}`);\nconsole.log(`Has Insurance: ${hasInsurance}`);\nconsole.log(`Credit Score: ${creditScore}`);\nconsole.log(`Premium Member: ${isPremium}`);\nconsole.log();\n\n// Driving Eligibility\nconsole.log("=== Driving Eligibility ===");\nif (age >= 18 && hasLicense) {\n    console.log("✅ Can drive");\n} else {\n    console.log("❌ Cannot drive");\n}\n\nif (age >= 18 && hasLicense && hasInsurance) {\n    console.log("✅ Can drive legally");\n} else {\n    console.log("❌ Cannot drive legally");\n}\nconsole.log();\n\n// Loan Eligibility\nconsole.log("=== Loan Eligibility ===");\nif (creditScore >= 700 || isPremium) {\n    console.log("✅ Eligible for loan");\n} else {\n    console.log("❌ Not eligible for loan");\n}\nconsole.log();\n\n// Membership Level\nconsole.log("=== Membership Level ===");\nif (isPremium) {\n    console.log("⭐ Premium Member");\n} else {\n    console.log("👤 Regular Member");\n}\nconsole.log();\n\n// Age Category\nconsole.log("=== Age Category ===");\nif (age < 18) {\n    console.log("Minor");\n} else if (age >= 18 && age < 65) {\n    console.log("Adult");\n} else {\n    console.log("Senior");\n}\nconsole.log();\n\n// Complex Conditions\nconsole.log("=== Complex Conditions ===");\nlet canRentCar = age >= 21 && hasLicense && hasInsurance && (creditScore >= 650 || isPremium);\nif (canRentCar) {\n    console.log("✅ Can rent a car");\n} else {\n    console.log("❌ Cannot rent a car");\n}\n\nlet hasFullAccess = age >= 18 && isPremium && creditScore >= 700;\nif (hasFullAccess) {\n    console.log("✅ Has full platform access");\n} else {\n    console.log("❌ Limited access");\n}\n\n// Comparison Examples\nconsole.log();\nconsole.log("=== Comparison Examples ===");\nconsole.log(`Age >= 18: ${age >= 18}`);\nconsole.log(`Age < 30: ${age < 30}`);\nconsole.log(`Credit Score > 700: ${creditScore > 700}`);\nconsole.log(`Credit Score <= 800: ${creditScore <= 800}`);\n\n// Logical Operator Examples\nconsole.log();\nconsole.log("=== Logical Operator Examples ===");\nconsole.log(`hasLicense && hasInsurance: ${hasLicense && hasInsurance}`);\nconsole.log(`hasLicense || hasInsurance: ${hasLicense || hasInsurance}`);\nconsole.log(`!isPremium: ${!isPremium}`);\nconsole.log(`age >= 18 && creditScore >= 700: ${age >= 18 && creditScore >= 700}`);\n```\n\n**Expected Output**:\n```\n=== User Profile ===\nAge: 25\nHas License: true\nHas Insurance: true\nCredit Score: 750\nPremium Member: false\n\n=== Driving Eligibility ===\n✅ Can drive\n✅ Can drive legally\n\n=== Loan Eligibility ===\n✅ Eligible for loan\n\n=== Membership Level ===\n👤 Regular Member\n\n=== Age Category ===\nAdult\n\n=== Complex Conditions ===\n✅ Can rent a car\n✅ Has full platform access\n\n=== Comparison Examples ===\nAge >= 18: true\nAge < 30: true\nCredit Score > 700: true\nCredit Score <= 800: true\n\n=== Logical Operator Examples ===\nhasLicense && hasInsurance: true\nhasLicense || hasInsurance: true\n!isPremium: true\nage >= 18 && creditScore >= 700: true\n```\n\n**Challenge (Optional)**:\n- Add more conditions (voting eligibility, senior discounts)\n- Create a grading system (A, B, C, D, F)\n- Build a discount calculator based on multiple conditions\n- Use short-circuit evaluation for default values\n\n---\n\n## Common Mistakes\n\n### 1. Using == Instead of ===\n\n```javascript\n// ❌ Can cause bugs\nif (age == "18") { }  // Might be true unexpectedly\n\n// ✅ Always use strict equality\nif (age === 18) { }\n```\n\n### 2. Confusing && and ||\n\n```javascript\n// ❌ Wrong logic\nif (age >= 18 || hasLicense) { }  // Too permissive\n\n// ✅ Correct\nif (age >= 18 && hasLicense) { }  // Both required\n```\n\n### 3. Forgetting Operator Precedence\n\n```javascript\n// ❌ Might not work as expected\nif (age >= 18 && hasLicense || isParent) { }\n\n// ✅ Use parentheses for clarity\nif ((age >= 18 && hasLicense) || isParent) { }\n```\n\n### 4. String vs Number Comparison\n\n```javascript\n// ❌ String comparison\nif ("10" < "2") { }  // true (lexicographic)\n\n// ✅ Numeric comparison\nif (10 < 2) { }  // false\nif (Number("10") < 2) { }  // false\n```\n\n### 5. Truthy/Falsy Confusion\n\n```javascript\n// ⚠️ Be careful with truthy/falsy\nif (userName) { }  // false if userName is "" or null\n\n// ✅ Explicit check\nif (userName !== "" && userName !== null) { }\n// Or\nif (userName && userName.length > 0) { }\n```\n\n---\n\n## Key Takeaways\n\n1. **Strict Equality**: Always use `===` and `!==` instead of `==` and `!=`\n2. **Comparison Operators**: `<`, `>`, `<=`, `>=` compare values\n3. **Logical Operators**: `&&` (AND), `||` (OR), `!` (NOT)\n4. **Short-Circuit**: `&&` and `||` stop evaluating when result is known\n5. **Combining Operators**: Use parentheses to clarify complex conditions\n6. **Best Practice**: Use strict equality and explicit boolean checks\n\n---\n\n## Quiz: Operators\n\nTest your understanding with these questions:\n\n1. **What is the result of `5 === "5"`?**\n   - A) true\n   - B) false\n   - C) undefined\n   - D) Error\n\n2. **What is the result of `true && false`?**\n   - A) true\n   - B) false\n   - C) undefined\n   - D) null\n\n3. **What is the result of `true || false`?**\n   - A) true\n   - B) false\n   - C) undefined\n   - D) null\n\n4. **Which operator should you use for equality?**\n   - A) ==\n   - B) ===\n   - C) =\n   - D) == or === (doesn''t matter)\n\n5. **What is the result of `!true`?**\n   - A) true\n   - B) false\n   - C) 1\n   - D) 0\n\n6. **What is the result of `"10" < "2"`?**\n   - A) true\n   - B) false\n   - C) Error\n   - D) undefined\n\n7. **In `true && false || true`, what is evaluated first?**\n   - A) true && false\n   - B) false || true\n   - C) They''re evaluated simultaneously\n   - D) Depends on the context\n\n**Answers**:\n1. B) false (strict equality checks type)\n2. B) false (AND requires both true)\n3. A) true (OR needs at least one true)\n4. B) === (always use strict equality)\n5. B) false (NOT negates the value)\n6. A) true (string comparison is lexicographic)\n7. A) true && false (AND has higher precedence than OR)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned comparison and logical operators. You now know:\n- How to compare values with comparison operators\n- The difference between strict and loose equality\n- How to use logical operators\n- How short-circuit evaluation works\n\n**What''s Next?**\n- Lesson 2.3: Assignment and Other Operators\n- Practice combining operators\n- Experiment with short-circuit evaluation\n- Build more complex conditional logic\n\n---\n\n## Additional Resources\n\n- **MDN: Comparison Operators**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#comparison_operators](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#comparison_operators)\n- **MDN: Logical Operators**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#logical_operators](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#logical_operators)\n- **JavaScript.info: Comparisons**: [javascript.info/comparison](https://javascript.info/comparison)\n- **JavaScript.info: Logical Operators**: [javascript.info/logical-operators](https://javascript.info/logical-operators)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:11:26', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use all comparison operators (==, ===, !=, !==, <, >, <=, >=)\n- Understand the difference between strict (===) and loose (==) equality\n- Apply logical operators (&&, ||, !)\n- Understand short-circuit evaluation\n- Combine comparison and logical operators\n- Write conditional logic expressions');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (113, 42, 10, 'Assignment and Other Operators', 'assignment-and-other-operators', '# Lesson 2.3: Assignment and Other Operators\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use the assignment operator (=)\n- Apply augmented assignment operators (+=, -=, *=, /=, %=, **=)\n- Use the ternary operator (?:) for conditional expressions\n- Understand nullish coalescing (??) for default values\n- Use optional chaining (?.) for safe property access\n- Combine these operators effectively in your code\n\n---\n\n## Assignment Operator (=)\n\nThe assignment operator assigns a value to a variable.\n\n### Basic Assignment\n\n```javascript\nlet x = 5;        // Assign 5 to x\nlet name = "Alice";  // Assign "Alice" to name\nlet isActive = true; // Assign true to isActive\n```\n\n### Multiple Assignments\n\n```javascript\n// Chain assignments (same value)\nlet a, b, c;\na = b = c = 10;\nconsole.log(a, b, c);  // 10 10 10\n\n// Multiple variables, different values\nlet x = 5, y = 10, z = 15;\n```\n\n### Assignment Returns a Value\n\nThe assignment operator returns the assigned value, allowing chaining:\n\n```javascript\nlet x;\nlet y = x = 5;  // x = 5, then y = x (which is 5)\nconsole.log(x, y);  // 5 5\n```\n\n### Common Patterns\n\n```javascript\n// Initialize variable\nlet count = 0;\n\n// Update variable\ncount = count + 1;  // Increment\n\n// Reassign with new value\nlet price = 10;\nprice = 15;  // Update price\n```\n\n---\n\n## Augmented Assignment Operators\n\nAugmented assignment operators combine an operation with assignment, making code more concise.\n\n### Addition Assignment (+=)\n\n```javascript\nlet x = 5;\nx += 3;  // Equivalent to: x = x + 3\nconsole.log(x);  // 8\n\n// With strings (concatenation)\nlet message = "Hello";\nmessage += " World";\nconsole.log(message);  // "Hello World"\n```\n\n### Subtraction Assignment (-=)\n\n```javascript\nlet x = 10;\nx -= 3;  // Equivalent to: x = x - 3\nconsole.log(x);  // 7\n```\n\n### Multiplication Assignment (*=)\n\n```javascript\nlet x = 5;\nx *= 3;  // Equivalent to: x = x * 3\nconsole.log(x);  // 15\n```\n\n### Division Assignment (/=)\n\n```javascript\nlet x = 15;\nx /= 3;  // Equivalent to: x = x / 3\nconsole.log(x);  // 5\n```\n\n### Modulo Assignment (%=)\n\n```javascript\nlet x = 10;\nx %= 3;  // Equivalent to: x = x % 3\nconsole.log(x);  // 1\n```\n\n### Exponentiation Assignment (**=)\n\n```javascript\nlet x = 2;\nx **= 3;  // Equivalent to: x = x ** 3\nconsole.log(x);  // 8\n```\n\n### Complete List\n\n| Operator | Example | Equivalent To |\n|----------|---------|--------------|\n| `+=` | `x += 5` | `x = x + 5` |\n| `-=` | `x -= 5` | `x = x - 5` |\n| `*=` | `x *= 5` | `x = x * 5` |\n| `/=` | `x /= 5` | `x = x / 5` |\n| `%=` | `x %= 5` | `x = x % 5` |\n| `**=` | `x **= 5` | `x = x ** 5` |\n\n### Practical Examples\n\n```javascript\n// Counter\nlet count = 0;\ncount += 1;  // count is now 1\ncount += 1;  // count is now 2\n\n// Accumulator\nlet total = 0;\ntotal += 10;  // total is 10\ntotal += 20;  // total is 30\ntotal += 30;  // total is 60\n\n// String building\nlet html = "";\nhtml += "<div>";\nhtml += "Hello";\nhtml += "</div>";\nconsole.log(html);  // "<div>Hello</div>"\n\n// Percentage calculation\nlet price = 100;\nprice *= 1.1;  // Add 10% (price = price * 1.1)\nconsole.log(price);  // 110\n\n// Halving\nlet value = 100;\nvalue /= 2;  // value = value / 2\nconsole.log(value);  // 50\n```\n\n### Benefits of Augmented Assignment\n\n**More Concise:**\n```javascript\n// Without augmented assignment\nlet x = 5;\nx = x + 3;\n\n// With augmented assignment\nlet x = 5;\nx += 3;  // Shorter and clearer\n```\n\n**Less Error-Prone:**\n```javascript\n// Easy to make mistake\nlet x = 5;\nx = x + 3;  // What if you forget the ''x ='' part?\n\n// Harder to make mistake\nlet x = 5;\nx += 3;  // Clear intent\n```\n\n---\n\n## Ternary Operator (?:)\n\nThe ternary operator is a concise way to write conditional expressions. It''s the only operator that takes three operands.\n\n### Syntax\n\n```javascript\ncondition ? valueIfTrue : valueIfFalse\n```\n\n### Basic Usage\n\n```javascript\nlet age = 20;\nlet status = age >= 18 ? "Adult" : "Minor";\nconsole.log(status);  // "Adult"\n\n// Equivalent if-else\nlet status2;\nif (age >= 18) {\n    status2 = "Adult";\n} else {\n    status2 = "Minor";\n}\n```\n\n### Examples\n\n**Simple Condition:**\n```javascript\nlet isLoggedIn = true;\nlet message = isLoggedIn ? "Welcome back!" : "Please log in";\nconsole.log(message);  // "Welcome back!"\n\nlet score = 85;\nlet grade = score >= 90 ? "A" : "B";\nconsole.log(grade);  // "B"\n```\n\n**Multiple Uses:**\n```javascript\nlet temperature = 25;\nlet weather = temperature > 20 ? "Warm" : "Cold";\nconsole.log(weather);  // "Warm"\n\nlet user = null;\nlet userName = user ? user.name : "Guest";\nconsole.log(userName);  // "Guest"\n```\n\n### Nested Ternary (Use Sparingly)\n\n```javascript\nlet score = 85;\nlet grade = score >= 90 ? "A" : \n            score >= 80 ? "B" : \n            score >= 70 ? "C" : "F";\nconsole.log(grade);  // "B"\n\n// More readable with if-else\nlet grade2;\nif (score >= 90) {\n    grade2 = "A";\n} else if (score >= 80) {\n    grade2 = "B";\n} else if (score >= 70) {\n    grade2 = "C";\n} else {\n    grade2 = "F";\n}\n```\n\n### Ternary in Expressions\n\n```javascript\nlet x = 5;\nlet y = 10;\nlet max = x > y ? x : y;\nconsole.log(max);  // 10\n\nlet a = 3;\nlet b = 7;\nlet result = a > b ? a * 2 : b * 2;\nconsole.log(result);  // 14\n```\n\n### Ternary for Function Calls\n\n```javascript\nlet isAdmin = true;\nisAdmin ? showAdminPanel() : showUserPanel();\n\nlet user = getUser();\nuser ? logUserActivity(user) : logGuestActivity();\n```\n\n### When to Use Ternary\n\n**Good Use Cases:**\n- Simple true/false assignments\n- Short, readable conditions\n- Inline conditional values\n\n**Avoid For:**\n- Complex nested conditions\n- Multiple statements\n- When if-else is clearer\n\n```javascript\n// ✅ Good\nlet message = isActive ? "Active" : "Inactive";\n\n// ❌ Too complex\nlet result = a > b ? (c > d ? e : f) : (g > h ? i : j);\n\n// ✅ Better\nlet result;\nif (a > b) {\n    result = c > d ? e : f;\n} else {\n    result = g > h ? i : j;\n}\n```\n\n---\n\n## Nullish Coalescing (??)\n\nThe nullish coalescing operator (`??`) returns the right operand when the left is `null` or `undefined`, otherwise returns the left operand.\n\n### Basic Usage\n\n```javascript\nlet value = null;\nlet result = value ?? "default";\nconsole.log(result);  // "default"\n\nlet value2 = undefined;\nlet result2 = value2 ?? "default";\nconsole.log(result2);  // "default"\n\nlet value3 = "actual";\nlet result3 = value3 ?? "default";\nconsole.log(result3);  // "actual"\n```\n\n### vs Logical OR (||)\n\n**Key Difference:**\n- `||` returns right operand for any falsy value (false, 0, "", null, undefined, NaN)\n- `??` only returns right operand for `null` or `undefined`\n\n```javascript\n// With ||\nlet value1 = 0;\nlet result1 = value1 || "default";\nconsole.log(result1);  // "default" (0 is falsy)\n\nlet value2 = "";\nlet result2 = value2 || "default";\nconsole.log(result2);  // "default" ("" is falsy)\n\nlet value3 = false;\nlet result3 = value3 || "default";\nconsole.log(result3);  // "default" (false is falsy)\n\n// With ??\nlet value4 = 0;\nlet result4 = value4 ?? "default";\nconsole.log(result4);  // 0 (0 is not null/undefined)\n\nlet value5 = "";\nlet result5 = value5 ?? "default";\nconsole.log(result5);  // "" ("" is not null/undefined)\n\nlet value6 = false;\nlet result6 = value6 ?? "default";\nconsole.log(result6);  // false (false is not null/undefined)\n\n// Only null/undefined trigger ??\nlet value7 = null;\nlet result7 = value7 ?? "default";\nconsole.log(result7);  // "default"\n\nlet value8 = undefined;\nlet result8 = value8 ?? "default";\nconsole.log(result8);  // "default"\n```\n\n### Practical Examples\n\n**Default Values:**\n```javascript\n// User input\nlet userName = getUserName() ?? "Guest";\nconsole.log(userName);\n\n// Configuration\nlet port = config.port ?? 3000;\nlet theme = userSettings.theme ?? "light";\n\n// API response\nlet data = response.data ?? [];\nlet count = response.count ?? 0;\n```\n\n**Function Parameters:**\n```javascript\nfunction greet(name) {\n    name = name ?? "Guest";\n    console.log(`Hello, ${name}!`);\n}\n\ngreet("Alice");  // "Hello, Alice!"\ngreet(null);     // "Hello, Guest!"\ngreet();         // "Hello, Guest!"\n```\n\n**Object Properties:**\n```javascript\nlet user = {\n    name: "Alice",\n    age: null,\n    email: undefined\n};\n\nlet displayName = user.name ?? "Anonymous";\nlet displayAge = user.age ?? "Not specified";\nlet displayEmail = user.email ?? "No email";\n\nconsole.log(displayName);   // "Alice"\nconsole.log(displayAge);     // "Not specified"\nconsole.log(displayEmail);   // "No email"\n```\n\n**Chaining:**\n```javascript\nlet value = null;\nlet result = value ?? getDefault() ?? "fallback";\nconsole.log(result);  // result of getDefault() or "fallback"\n```\n\n### When to Use ??\n\n**Use `??` when:**\n- You want to preserve falsy values (0, "", false)\n- You only care about null/undefined\n- Setting default values for optional properties\n\n**Use `||` when:**\n- You want to replace any falsy value\n- Working with boolean logic\n- Legacy code compatibility\n\n```javascript\n// ✅ Use ?? for numeric defaults\nlet count = userCount ?? 0;  // Preserves 0 if userCount is 0\n\n// ✅ Use ?? for string defaults\nlet name = userName ?? "";  // Preserves "" if userName is ""\n\n// ✅ Use || for boolean logic\nlet isActive = user.isActive || false;  // Converts truthy to true\n```\n\n---\n\n## Optional Chaining (?.)\n\nThe optional chaining operator (`?.`) allows safe access to nested object properties and methods, returning `undefined` if any part of the chain is `null` or `undefined`.\n\n### Property Access\n\n```javascript\nlet user = {\n    name: "Alice",\n    address: {\n        city: "New York"\n    }\n};\n\n// Without optional chaining (can throw error)\nlet city1 = user.address.city;  // Works\n// let city2 = user.address.street.name;  // Error if street is undefined\n\n// With optional chaining (safe)\nlet city3 = user.address?.city;  // "New York"\nlet street = user.address?.street?.name;  // undefined (no error)\n```\n\n### Method Calls\n\n```javascript\nlet user = {\n    name: "Alice",\n    greet: function() {\n        return `Hello, ${this.name}`;\n    }\n};\n\n// Safe method call\nlet greeting = user.greet?.();  // "Hello, Alice"\n\nlet user2 = null;\nlet greeting2 = user2.greet?.();  // undefined (no error)\n```\n\n### Array Access\n\n```javascript\nlet users = [\n    { name: "Alice" },\n    { name: "Bob" }\n];\n\n// Safe array access\nlet firstName = users?.[0]?.name;  // "Alice"\nlet invalid = users?.[10]?.name;  // undefined (no error)\n\nlet emptyArray = null;\nlet item = emptyArray?.[0];  // undefined (no error)\n```\n\n### Combining with Nullish Coalescing\n\n```javascript\nlet user = {\n    profile: {\n        name: "Alice"\n    }\n};\n\n// Safe access with default\nlet name = user?.profile?.name ?? "Guest";\nconsole.log(name);  // "Alice"\n\nlet user2 = null;\nlet name2 = user2?.profile?.name ?? "Guest";\nconsole.log(name2);  // "Guest"\n```\n\n### Practical Examples\n\n**API Responses:**\n```javascript\nlet response = {\n    data: {\n        user: {\n            name: "Alice",\n            email: "alice@example.com"\n        }\n    }\n};\n\n// Safe access\nlet userName = response?.data?.user?.name ?? "Unknown";\nlet userEmail = response?.data?.user?.email ?? "No email";\n\n// If response structure is different\nlet userName2 = response?.data?.users?.[0]?.name ?? "Unknown";\n```\n\n**DOM Manipulation:**\n```javascript\n// Safe DOM access\nlet element = document.querySelector(".my-element");\nlet text = element?.textContent ?? "Not found";\n\n// Method calls\nelement?.addEventListener("click", handleClick);\nelement?.classList?.add("active");\n```\n\n**Function Calls:**\n```javascript\nlet obj = {\n    method: function() {\n        return "result";\n    }\n};\n\n// Safe method call\nlet result = obj.method?.();  // "result"\n\nlet obj2 = {};\nlet result2 = obj2.method?.();  // undefined (no error)\n```\n\n### When to Use Optional Chaining\n\n**Use `?.` when:**\n- Accessing nested properties that might not exist\n- Working with API responses with uncertain structure\n- Accessing DOM elements that might be null\n- Calling methods that might not exist\n\n**Benefits:**\n- Prevents errors from null/undefined\n- Cleaner code than multiple if checks\n- Works well with nullish coalescing\n\n```javascript\n// Without optional chaining (verbose)\nlet city;\nif (user && user.address && user.address.city) {\n    city = user.address.city;\n} else {\n    city = "Unknown";\n}\n\n// With optional chaining (concise)\nlet city = user?.address?.city ?? "Unknown";\n```\n\n---\n\n## Combining Operators\n\nYou can combine these operators for powerful, concise code.\n\n### Examples\n\n```javascript\n// Augmented assignment with calculation\nlet total = 0;\ntotal += 10;\ntotal += 20;\ntotal *= 1.1;  // Add 10%\nconsole.log(total);  // 33\n\n// Ternary with assignment\nlet age = 20;\nlet canVote = age >= 18 ? true : false;\nlet status = age >= 18 ? "Adult" : "Minor";\n\n// Optional chaining with nullish coalescing\nlet user = getUser();\nlet name = user?.profile?.name ?? "Guest";\nlet email = user?.contact?.email ?? "No email";\n\n// Complex expression\nlet result = (x ?? 0) + (y ?? 0);\nlet display = user?.name ?? config?.defaultName ?? "Anonymous";\n```\n\n### Real-World Example\n\n```javascript\n// User profile with safe defaults\nlet user = getUserFromAPI();\n\nlet profile = {\n    name: user?.name ?? "Guest",\n    age: user?.age ?? 0,\n    email: user?.contact?.email ?? "No email",\n    city: user?.address?.city ?? "Unknown",\n    isPremium: user?.subscription?.type === "premium"\n};\n\n// Update counters\nlet viewCount = 0;\nviewCount += 1;\nviewCount *= 1.1;  // Add 10% bonus\n\n// Conditional assignment\nlet discount = user?.isPremium ? 0.2 : 0.1;\nlet finalPrice = price * (1 - discount);\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Using Operators\n\n**Objective**: Write a program that demonstrates all assignment and other operators.\n\n**Instructions**:\n\n1. Create a file called `operators-practice.js`\n\n2. Use augmented assignment operators:\n   - Start with a value and modify it using +=, -=, *=, /=\n\n3. Use ternary operator:\n   - Determine status based on conditions\n   - Assign values conditionally\n\n4. Use nullish coalescing:\n   - Set default values for potentially null/undefined variables\n   - Handle API-like data structures\n\n5. Use optional chaining:\n   - Safely access nested object properties\n   - Handle potentially missing properties\n\n6. Combine operators:\n   - Create complex expressions using multiple operators\n\n**Example Solution**:\n\n```javascript\n// Operators Practice\nconsole.log("=== Augmented Assignment ===");\nlet total = 100;\nconsole.log(`Initial: ${total}`);\n\ntotal += 50;  // Add 50\nconsole.log(`After += 50: ${total}`);  // 150\n\ntotal -= 25;  // Subtract 25\nconsole.log(`After -= 25: ${total}`);  // 125\n\ntotal *= 2;   // Multiply by 2\nconsole.log(`After *= 2: ${total}`);   // 250\n\ntotal /= 5;   // Divide by 5\nconsole.log(`After /= 5: ${total}`);   // 50\n\ntotal %= 7;   // Modulo 7\nconsole.log(`After %= 7: ${total}`);   // 1\nconsole.log();\n\nconsole.log("=== Ternary Operator ===");\nlet age = 20;\nlet status = age >= 18 ? "Adult" : "Minor";\nconsole.log(`Age ${age}: ${status}`);  // "Adult"\n\nlet score = 85;\nlet grade = score >= 90 ? "A" : score >= 80 ? "B" : "C";\nconsole.log(`Score ${score}: Grade ${grade}`);  // "B"\n\nlet isLoggedIn = true;\nlet message = isLoggedIn ? "Welcome back!" : "Please log in";\nconsole.log(message);  // "Welcome back!"\nconsole.log();\n\nconsole.log("=== Nullish Coalescing ===");\nlet userName = null;\nlet displayName = userName ?? "Guest";\nconsole.log(`User: ${displayName}`);  // "Guest"\n\nlet count = 0;\nlet result = count ?? 10;\nconsole.log(`Count: ${result}`);  // 0 (preserved, not replaced)\n\nlet value = undefined;\nlet defaultValue = value ?? "Not set";\nconsole.log(`Value: ${defaultValue}`);  // "Not set"\n\n// With function\nfunction getConfig() {\n    return null;\n}\nlet config = getConfig() ?? { port: 3000, theme: "light" };\nconsole.log(`Config:`, config);\nconsole.log();\n\nconsole.log("=== Optional Chaining ===");\nlet user = {\n    name: "Alice",\n    profile: {\n        age: 25,\n        email: "alice@example.com"\n    }\n};\n\nlet name = user?.name ?? "Unknown";\nlet age = user?.profile?.age ?? 0;\nlet email = user?.profile?.email ?? "No email";\nlet city = user?.profile?.city ?? "Not specified";\n\nconsole.log(`Name: ${name}`);\nconsole.log(`Age: ${age}`);\nconsole.log(`Email: ${email}`);\nconsole.log(`City: ${city}`);\n\n// Safe method call\nlet user2 = {\n    greet: function() {\n        return "Hello!";\n    }\n};\nlet greeting = user2.greet?.() ?? "No greeting";\nconsole.log(`Greeting: ${greeting}`);  // "Hello!"\n\nlet user3 = null;\nlet greeting2 = user3.greet?.() ?? "No greeting";\nconsole.log(`Greeting: ${greeting2}`);  // "No greeting"\nconsole.log();\n\nconsole.log("=== Combining Operators ===");\nlet data = {\n    user: {\n        profile: {\n            name: "Bob",\n            score: 85\n        }\n    }\n};\n\n// Complex expression\nlet finalScore = (data?.user?.profile?.score ?? 0) + 10;\nlet finalGrade = finalScore >= 90 ? "A" : finalScore >= 80 ? "B" : "C";\n\nconsole.log(`Score: ${finalScore}`);\nconsole.log(`Grade: ${finalGrade}`);\n\n// Accumulator with conditions\nlet points = 0;\npoints += data?.user?.profile?.score ?? 0;\npoints *= 1.1;  // 10% bonus\nconsole.log(`Final Points: ${points}`);\n\n// Conditional assignment with defaults\nlet settings = {\n    theme: null,\n    language: "en"\n};\n\nlet theme = settings?.theme ?? "light";\nlet language = settings?.language ?? "en";\nlet fontSize = settings?.fontSize ?? 16;\n\nconsole.log(`Theme: ${theme}`);\nconsole.log(`Language: ${language}`);\nconsole.log(`Font Size: ${fontSize}`);\n```\n\n**Expected Output**:\n```\n=== Augmented Assignment ===\nInitial: 100\nAfter += 50: 150\nAfter -= 25: 125\nAfter *= 2: 250\nAfter /= 5: 50\nAfter %= 7: 1\n\n=== Ternary Operator ===\nAge 20: Adult\nScore 85: Grade B\nWelcome back!\n\n=== Nullish Coalescing ===\nUser: Guest\nCount: 0\nValue: Not set\nConfig: { port: 3000, theme: ''light'' }\n\n=== Optional Chaining ===\nName: Alice\nAge: 25\nEmail: alice@example.com\nCity: Not specified\nGreeting: Hello!\nGreeting: No greeting\n\n=== Combining Operators ===\nScore: 95\nGrade: A\nFinal Points: 104.5\nTheme: light\nLanguage: en\nFont Size: 16\n```\n\n**Challenge (Optional)**:\n- Create a shopping cart calculator using augmented assignment\n- Build a user profile system with optional chaining and nullish coalescing\n- Create a grading system using ternary operators\n- Build a configuration manager with all operators\n\n---\n\n## Common Mistakes\n\n### 1. Confusing = with == or ===\n\n```javascript\n// ❌ Wrong (assignment, not comparison)\nif (x = 5) { }  // Always true, assigns 5 to x\n\n// ✅ Correct\nif (x === 5) { }  // Compares x with 5\n```\n\n### 2. Using || Instead of ??\n\n```javascript\n// ❌ Might not preserve 0 or ""\nlet count = userCount || 0;  // Loses 0 if userCount is 0\n\n// ✅ Preserves falsy values\nlet count = userCount ?? 0;  // Keeps 0 if userCount is 0\n```\n\n### 3. Forgetting Optional Chaining\n\n```javascript\n// ❌ Can throw error\nlet city = user.address.city;  // Error if address is undefined\n\n// ✅ Safe access\nlet city = user?.address?.city ?? "Unknown";\n```\n\n### 4. Overusing Ternary\n\n```javascript\n// ❌ Too complex\nlet result = a > b ? (c > d ? e : f) : (g > h ? i : j);\n\n// ✅ More readable\nlet result;\nif (a > b) {\n    result = c > d ? e : f;\n} else {\n    result = g > h ? i : j;\n}\n```\n\n### 5. Wrong Operator Precedence\n\n```javascript\n// ⚠️ Be careful with precedence\nlet x = 5;\nlet y = x += 3;  // x is 8, y is 8 (assignment returns value)\n\n// Clearer\nlet x = 5;\nx += 3;\nlet y = x;\n```\n\n---\n\n## Key Takeaways\n\n1. **Assignment (=)**: Assigns values to variables\n2. **Augmented Assignment**: Shorthand for `x = x op y` (e.g., `x += 5`)\n3. **Ternary (?:)**: Concise conditional expression\n4. **Nullish Coalescing (??)**: Default values for null/undefined only\n5. **Optional Chaining (?.)**: Safe access to nested properties\n6. **Combine Operators**: Use together for powerful, concise code\n7. **Best Practice**: Use `??` for defaults, `?.` for safe access, ternary for simple conditions\n\n---\n\n## Quiz: Assignment Operations\n\nTest your understanding with these questions:\n\n1. **What is the result of `let x = 5; x += 3;` (x = ?)**\n   - A) 5\n   - B) 8\n   - C) 15\n   - D) Error\n\n2. **What is the result of `let x = 5; let y = x += 3;` (y = ?)**\n   - A) 5\n   - B) 8\n   - C) 3\n   - D) undefined\n\n3. **What is the result of `5 > 3 ? "Yes" : "No"`?**\n   - A) true\n   - B) false\n   - C) "Yes"\n   - D) "No"\n\n4. **What is the result of `null ?? "default"`?**\n   - A) null\n   - B) "default"\n   - C) undefined\n   - D) Error\n\n5. **What is the result of `0 ?? "default"`?**\n   - A) 0\n   - B) "default"\n   - C) undefined\n   - D) false\n\n6. **What is the result of `user?.profile?.name` if user is null?**\n   - A) null\n   - B) undefined\n   - C) Error\n   - D) ""\n\n7. **Which operator should you use for default values when you want to preserve 0 and ""?**\n   - A) ||\n   - B) ??\n   - C) ?.\n   - D) :\n\n**Answers**:\n1. B) 8\n2. B) 8 (assignment returns the assigned value)\n3. C) "Yes" (ternary returns value based on condition)\n4. B) "default" (null triggers nullish coalescing)\n5. A) 0 (0 is not null/undefined, so it''s preserved)\n6. B) undefined (optional chaining returns undefined for null)\n7. B) ?? (nullish coalescing preserves falsy values except null/undefined)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned assignment and other operators. You now know:\n- How to use augmented assignment operators\n- How to write conditional expressions with ternary\n- How to set defaults with nullish coalescing\n- How to safely access properties with optional chaining\n\n**What''s Next?**\n- Module 3: Control Flow\n- Lesson 3.1: Conditional Statements\n- Practice combining all operators\n- Build more complex programs\n\n---\n\n## Additional Resources\n\n- **MDN: Assignment Operators**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#assignment_operators](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#assignment_operators)\n- **MDN: Conditional (Ternary) Operator**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator)\n- **MDN: Nullish Coalescing**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing)\n- **MDN: Optional Chaining**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining)\n- **JavaScript.info: Operators**: [javascript.info/operators](https://javascript.info/operators)\n\n---\n\n*Lesson completed! You''ve finished Module 2. Ready for Module 3: Control Flow!*\n\n', NULL, 3, '2026-01-03 09:11:26', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use the assignment operator (=)\n- Apply augmented assignment operators (+=, -=, *=, /=, %=, **=)\n- Use the ternary operator (?:) for conditional expressions\n- Understand nullish coalescing (??) for default values\n- Use optional chaining (?.) for safe property access\n- Combine these operators effectively in your code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (114, 43, 10, 'Conditional Statements', 'conditional-statements', '# Lesson 3.1: Conditional Statements\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use if, else, and else if statements to make decisions\n- Understand truthy and falsy values in JavaScript\n- Use switch statements for multiple conditions\n- Write nested conditional statements\n- Apply conditional logic to solve real-world problems\n\n---\n\n## Introduction to Conditional Statements\n\nConditional statements allow your program to make decisions and execute different code based on conditions. They are fundamental to programming and enable your code to respond dynamically to different situations.\n\n### Why Conditional Statements?\n\n- Make decisions based on user input\n- Handle different scenarios\n- Validate data\n- Control program flow\n- Create interactive applications\n\n---\n\n## if Statement\n\nThe `if` statement executes a block of code only if a condition is true.\n\n### Basic Syntax\n\n```javascript\nif (condition) {\n    // Code to execute if condition is true\n}\n```\n\n### Simple Example\n\n```javascript\nlet age = 20;\n\nif (age >= 18) {\n    console.log("You are an adult");\n}\n// Output: "You are an adult"\n```\n\n### Multiple Statements\n\n```javascript\nlet score = 85;\n\nif (score >= 80) {\n    console.log("Great job!");\n    console.log("You passed the exam");\n    console.log("Your grade is B or higher");\n}\n```\n\n### Real-World Examples\n\n```javascript\n// Check if user is logged in\nlet isLoggedIn = true;\n\nif (isLoggedIn) {\n    console.log("Welcome back!");\n    showDashboard();\n}\n\n// Check if number is positive\nlet number = 5;\n\nif (number > 0) {\n    console.log("Number is positive");\n}\n\n// Check if string is not empty\nlet name = "Alice";\n\nif (name.length > 0) {\n    console.log(`Hello, ${name}!`);\n}\n```\n\n---\n\n## else Statement\n\nThe `else` statement provides an alternative code block that executes when the condition is false.\n\n### Basic Syntax\n\n```javascript\nif (condition) {\n    // Code if condition is true\n} else {\n    // Code if condition is false\n}\n```\n\n### Example\n\n```javascript\nlet age = 15;\n\nif (age >= 18) {\n    console.log("You are an adult");\n} else {\n    console.log("You are a minor");\n}\n// Output: "You are a minor"\n```\n\n### More Examples\n\n```javascript\n// Even or odd\nlet number = 7;\n\nif (number % 2 === 0) {\n    console.log("Even");\n} else {\n    console.log("Odd");\n}\n// Output: "Odd"\n\n// Login check\nlet isLoggedIn = false;\n\nif (isLoggedIn) {\n    console.log("Welcome!");\n} else {\n    console.log("Please log in");\n}\n// Output: "Please log in"\n\n// Temperature check\nlet temperature = 25;\n\nif (temperature > 20) {\n    console.log("It''s warm");\n} else {\n    console.log("It''s cold");\n}\n// Output: "It''s warm"\n```\n\n---\n\n## else if Statement\n\nThe `else if` statement allows you to check multiple conditions in sequence.\n\n### Basic Syntax\n\n```javascript\nif (condition1) {\n    // Code if condition1 is true\n} else if (condition2) {\n    // Code if condition2 is true\n} else if (condition3) {\n    // Code if condition3 is true\n} else {\n    // Code if all conditions are false\n}\n```\n\n### Example: Grade System\n\n```javascript\nlet score = 85;\n\nif (score >= 90) {\n    console.log("Grade A");\n} else if (score >= 80) {\n    console.log("Grade B");\n} else if (score >= 70) {\n    console.log("Grade C");\n} else if (score >= 60) {\n    console.log("Grade D");\n} else {\n    console.log("Grade F");\n}\n// Output: "Grade B"\n```\n\n### Multiple Conditions\n\n```javascript\n// Age categories\nlet age = 25;\n\nif (age < 13) {\n    console.log("Child");\n} else if (age < 20) {\n    console.log("Teenager");\n} else if (age < 65) {\n    console.log("Adult");\n} else {\n    console.log("Senior");\n}\n// Output: "Adult"\n\n// Temperature ranges\nlet temp = 15;\n\nif (temp > 30) {\n    console.log("Hot");\n} else if (temp > 20) {\n    console.log("Warm");\n} else if (temp > 10) {\n    console.log("Cool");\n} else {\n    console.log("Cold");\n}\n// Output: "Cool"\n```\n\n### Important Notes\n\n- Conditions are checked in order\n- Only the first true condition executes\n- Once a condition is true, remaining conditions are skipped\n\n```javascript\nlet score = 95;\n\nif (score >= 90) {\n    console.log("A");  // This executes\n} else if (score >= 80) {\n    console.log("B");  // Skipped (already found match)\n} else {\n    console.log("C");  // Skipped\n}\n// Output: "A"\n```\n\n---\n\n## Nested if Statements\n\nYou can nest if statements inside other if statements for complex logic.\n\n### Basic Nested Structure\n\n```javascript\nif (condition1) {\n    if (condition2) {\n        // Code if both conditions are true\n    }\n}\n```\n\n### Example: Login and Permission Check\n\n```javascript\nlet isLoggedIn = true;\nlet isAdmin = true;\n\nif (isLoggedIn) {\n    console.log("User is logged in");\n    \n    if (isAdmin) {\n        console.log("Admin access granted");\n        showAdminPanel();\n    } else {\n        console.log("Regular user access");\n        showUserPanel();\n    }\n} else {\n    console.log("Please log in");\n}\n```\n\n### Example: Age and License Check\n\n```javascript\nlet age = 20;\nlet hasLicense = true;\n\nif (age >= 18) {\n    console.log("Age requirement met");\n    \n    if (hasLicense) {\n        console.log("Can drive");\n    } else {\n        console.log("Need a license");\n    }\n} else {\n    console.log("Too young to drive");\n}\n```\n\n### Complex Nested Example\n\n```javascript\nlet user = {\n    age: 25,\n    hasLicense: true,\n    hasInsurance: false\n};\n\nif (user.age >= 18) {\n    if (user.hasLicense) {\n        if (user.hasInsurance) {\n            console.log("Can drive legally");\n        } else {\n            console.log("Need insurance");\n        }\n    } else {\n        console.log("Need a license");\n    }\n} else {\n    console.log("Too young");\n}\n```\n\n### Best Practices for Nesting\n\n**Avoid Deep Nesting:**\n```javascript\n// ❌ Too nested (hard to read)\nif (condition1) {\n    if (condition2) {\n        if (condition3) {\n            if (condition4) {\n                // Code\n            }\n        }\n    }\n}\n\n// ✅ Better (use else if or early returns)\nif (!condition1) {\n    return;\n}\nif (!condition2) {\n    return;\n}\nif (!condition3) {\n    return;\n}\n// Code here\n```\n\n---\n\n## Truthy and Falsy Values\n\nJavaScript uses truthy and falsy values in conditional statements. Understanding these is crucial for writing correct conditions.\n\n### Falsy Values\n\nThese values evaluate to `false` in boolean context:\n\n1. `false` - Boolean false\n2. `0` - Number zero\n3. `-0` - Negative zero\n4. `0n` - BigInt zero\n5. `""` - Empty string\n6. `null` - Null value\n7. `undefined` - Undefined value\n8. `NaN` - Not a Number\n\n```javascript\nif (false) { }      // Falsy\nif (0) { }          // Falsy\nif (-0) { }         // Falsy\nif (0n) { }         // Falsy\nif ("") { }         // Falsy\nif (null) { }       // Falsy\nif (undefined) { }  // Falsy\nif (NaN) { }        // Falsy\n```\n\n### Truthy Values\n\nEverything else is truthy, including:\n\n```javascript\nif (true) { }           // Truthy\nif (1) { }              // Truthy\nif (-1) { }             // Truthy\nif ("hello") { }        // Truthy\nif ("0") { }            // Truthy (string)\nif ("false") { }        // Truthy (string)\nif ([]) { }             // Truthy (empty array)\nif ({}) { }             // Truthy (empty object)\nif (function() {}) { }  // Truthy\n```\n\n### Practical Examples\n\n```javascript\n// Check if variable exists\nlet name = "Alice";\n\nif (name) {  // Truthy if name is not empty string\n    console.log(`Hello, ${name}!`);\n} else {\n    console.log("No name provided");\n}\n\n// Check if array has items\nlet items = [1, 2, 3];\n\nif (items.length) {  // Truthy if length > 0\n    console.log("Array has items");\n} else {\n    console.log("Array is empty");\n}\n\n// Check if object property exists\nlet user = {\n    name: "Alice"\n};\n\nif (user.name) {  // Truthy if name exists and is not empty\n    console.log(user.name);\n} else {\n    console.log("No name");\n}\n```\n\n### Common Pitfalls\n\n```javascript\n// ⚠️ Empty array is truthy!\nlet arr = [];\nif (arr) {\n    console.log("Array exists");  // This runs (array is truthy)\n}\n\n// ✅ Check length instead\nif (arr.length > 0) {\n    console.log("Array has items");\n} else {\n    console.log("Array is empty");\n}\n\n// ⚠️ String "0" is truthy!\nlet value = "0";\nif (value) {\n    console.log("Has value");  // This runs\n}\n\n// ✅ Explicit check\nif (value !== "" && value !== null) {\n    console.log("Has value");\n}\n```\n\n### Explicit Boolean Conversion\n\n```javascript\n// Convert to boolean explicitly\nlet value = "hello";\nif (Boolean(value)) { }  // Explicit\nif (!!value) { }         // Double negation (common pattern)\n\n// Check for specific values\nlet name = "";\nif (name !== "" && name !== null && name !== undefined) {\n    console.log(name);\n}\n\n// Or use nullish coalescing\nlet name2 = "";\nlet displayName = name2 || "Guest";\n```\n\n---\n\n## Switch Statement\n\nThe `switch` statement provides an alternative to multiple `else if` statements when comparing one value against multiple options.\n\n### Basic Syntax\n\n```javascript\nswitch (expression) {\n    case value1:\n        // Code for value1\n        break;\n    case value2:\n        // Code for value2\n        break;\n    default:\n        // Code if no match\n}\n```\n\n### Simple Example\n\n```javascript\nlet day = "Monday";\n\nswitch (day) {\n    case "Monday":\n        console.log("Start of work week");\n        break;\n    case "Friday":\n        console.log("TGIF!");\n        break;\n    case "Saturday":\n    case "Sunday":\n        console.log("Weekend!");\n        break;\n    default:\n        console.log("Regular day");\n}\n// Output: "Start of work week"\n```\n\n### Grade System with Switch\n\n```javascript\nlet grade = "B";\n\nswitch (grade) {\n    case "A":\n        console.log("Excellent!");\n        break;\n    case "B":\n        console.log("Good job!");\n        break;\n    case "C":\n        console.log("Average");\n        break;\n    case "D":\n        console.log("Needs improvement");\n        break;\n    case "F":\n        console.log("Failed");\n        break;\n    default:\n        console.log("Invalid grade");\n}\n// Output: "Good job!"\n```\n\n### The break Statement\n\n**Without break (fall-through):**\n```javascript\nlet day = "Monday";\n\nswitch (day) {\n    case "Monday":\n        console.log("Monday");\n        // No break - falls through!\n    case "Tuesday":\n        console.log("Tuesday");\n        break;\n}\n// Output: "Monday" and "Tuesday"\n```\n\n**With break (stops execution):**\n```javascript\nlet day = "Monday";\n\nswitch (day) {\n    case "Monday":\n        console.log("Monday");\n        break;  // Stops here\n    case "Tuesday":\n        console.log("Tuesday");\n        break;\n}\n// Output: "Monday" only\n```\n\n### Multiple Cases (Fall-Through)\n\nYou can have multiple cases execute the same code:\n\n```javascript\nlet day = "Saturday";\n\nswitch (day) {\n    case "Monday":\n    case "Tuesday":\n    case "Wednesday":\n    case "Thursday":\n    case "Friday":\n        console.log("Weekday");\n        break;\n    case "Saturday":\n    case "Sunday":\n        console.log("Weekend");\n        break;\n    default:\n        console.log("Invalid day");\n}\n// Output: "Weekend"\n```\n\n### Switch with Numbers\n\n```javascript\nlet month = 3;\n\nswitch (month) {\n    case 1:\n        console.log("January");\n        break;\n    case 2:\n        console.log("February");\n        break;\n    case 3:\n        console.log("March");\n        break;\n    // ... more cases\n    default:\n        console.log("Invalid month");\n}\n// Output: "March"\n```\n\n### Switch vs if-else\n\n**When to use switch:**\n- Comparing one value against multiple options\n- Clear, discrete values\n- More readable for many conditions\n\n**When to use if-else:**\n- Complex conditions (>, <, >=, etc.)\n- Multiple variables\n- Range checks\n- Boolean logic\n\n```javascript\n// ✅ Good for switch\nlet status = "active";\nswitch (status) {\n    case "active":\n    case "pending":\n    case "inactive":\n        // Handle\n}\n\n// ✅ Better with if-else\nlet score = 85;\nif (score >= 90) {\n    // A\n} else if (score >= 80) {\n    // B\n} else if (score >= 70) {\n    // C\n}\n```\n\n### Default Case\n\nThe `default` case executes when no other case matches:\n\n```javascript\nlet status = "unknown";\n\nswitch (status) {\n    case "active":\n        console.log("Active");\n        break;\n    case "inactive":\n        console.log("Inactive");\n        break;\n    default:\n        console.log("Unknown status");\n}\n// Output: "Unknown status"\n```\n\n---\n\n## Combining Conditions\n\nYou can combine multiple conditions using logical operators.\n\n### AND (&&)\n\n```javascript\nlet age = 25;\nlet hasLicense = true;\n\nif (age >= 18 && hasLicense) {\n    console.log("Can drive");\n} else {\n    console.log("Cannot drive");\n}\n```\n\n### OR (||)\n\n```javascript\nlet isWeekend = false;\nlet isHoliday = true;\n\nif (isWeekend || isHoliday) {\n    console.log("No work today");\n} else {\n    console.log("Work day");\n}\n```\n\n### NOT (!)\n\n```javascript\nlet isLoggedIn = false;\n\nif (!isLoggedIn) {\n    console.log("Please log in");\n} else {\n    console.log("Welcome!");\n}\n```\n\n### Complex Conditions\n\n```javascript\nlet age = 25;\nlet hasLicense = true;\nlet hasInsurance = true;\n\nif (age >= 18 && hasLicense && hasInsurance) {\n    console.log("Can drive legally");\n} else if (age >= 18 && hasLicense) {\n    console.log("Need insurance");\n} else if (age >= 18) {\n    console.log("Need license");\n} else {\n    console.log("Too young");\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Building Decision Logic\n\n**Objective**: Create a program that uses conditional statements to make various decisions.\n\n**Instructions**:\n\n1. Create a file called `conditional-practice.js`\n\n2. Create a user profile with:\n   - Age\n   - Is student (boolean)\n   - Has membership (boolean)\n   - Score/grade\n\n3. Write conditional logic for:\n   - Age category (child, teenager, adult, senior)\n   - Discount eligibility (student or member)\n   - Grade determination (A, B, C, D, F)\n   - Access level (admin, member, guest)\n   - Day of week activities (using switch)\n\n4. Use if-else, else if, switch, and nested conditions\n\n**Example Solution**:\n\n```javascript\n// Conditional Logic Practice\nconsole.log("=== User Profile ===");\nlet user = {\n    age: 22,\n    isStudent: true,\n    hasMembership: false,\n    score: 85,\n    role: "member",\n    day: "Saturday"\n};\n\nconsole.log(`Age: ${user.age}`);\nconsole.log(`Student: ${user.isStudent}`);\nconsole.log(`Member: ${user.hasMembership}`);\nconsole.log(`Score: ${user.score}`);\nconsole.log(`Role: ${user.role}`);\nconsole.log(`Day: ${user.day}`);\nconsole.log();\n\n// Age Category\nconsole.log("=== Age Category ===");\nif (user.age < 13) {\n    console.log("Child");\n} else if (user.age < 20) {\n    console.log("Teenager");\n} else if (user.age < 65) {\n    console.log("Adult");\n} else {\n    console.log("Senior");\n}\nconsole.log();\n\n// Discount Eligibility\nconsole.log("=== Discount Eligibility ===");\nif (user.isStudent || user.hasMembership) {\n    let discount = 0;\n    if (user.isStudent && user.hasMembership) {\n        discount = 25;  // Both\n    } else if (user.isStudent) {\n        discount = 15;  // Student only\n    } else {\n        discount = 10;  // Member only\n    }\n    console.log(`You qualify for a ${discount}% discount!`);\n} else {\n    console.log("No discount available");\n}\nconsole.log();\n\n// Grade Determination\nconsole.log("=== Grade Determination ===");\nif (user.score >= 90) {\n    console.log("Grade: A (Excellent)");\n} else if (user.score >= 80) {\n    console.log("Grade: B (Good)");\n} else if (user.score >= 70) {\n    console.log("Grade: C (Average)");\n} else if (user.score >= 60) {\n    console.log("Grade: D (Needs Improvement)");\n} else {\n    console.log("Grade: F (Failed)");\n}\nconsole.log();\n\n// Access Level\nconsole.log("=== Access Level ===");\nif (user.role === "admin") {\n    console.log("Full admin access");\n    console.log("Can manage users");\n    console.log("Can modify settings");\n} else if (user.role === "member") {\n    console.log("Member access");\n    console.log("Can view content");\n    console.log("Can post comments");\n} else {\n    console.log("Guest access");\n    console.log("Limited content viewing");\n}\nconsole.log();\n\n// Day Activities (Switch)\nconsole.log("=== Day Activities ===");\nswitch (user.day) {\n    case "Monday":\n        console.log("Start of work week");\n        console.log("Team meeting at 10 AM");\n        break;\n    case "Tuesday":\n    case "Wednesday":\n    case "Thursday":\n        console.log("Regular work day");\n        break;\n    case "Friday":\n        console.log("TGIF! End of work week");\n        break;\n    case "Saturday":\n    case "Sunday":\n        console.log("Weekend! Time to relax");\n        break;\n    default:\n        console.log("Invalid day");\n}\nconsole.log();\n\n// Complex Nested Condition\nconsole.log("=== Complex Condition ===");\nif (user.age >= 18) {\n    if (user.isStudent) {\n        if (user.score >= 80) {\n            console.log("Eligible for scholarship");\n        } else {\n            console.log("Maintain good grades for scholarship");\n        }\n    } else {\n        console.log("Not a student");\n    }\n} else {\n    console.log("Too young");\n}\nconsole.log();\n\n// Truthy/Falsy Examples\nconsole.log("=== Truthy/Falsy Examples ===");\nlet values = [0, "", null, undefined, false, "hello", 42, [], {}];\n\nvalues.forEach(value => {\n    if (value) {\n        console.log(`${JSON.stringify(value)} is truthy`);\n    } else {\n        console.log(`${JSON.stringify(value)} is falsy`);\n    }\n});\n```\n\n**Expected Output**:\n```\n=== User Profile ===\nAge: 22\nStudent: true\nMember: false\nScore: 85\nRole: member\nDay: Saturday\n\n=== Age Category ===\nAdult\n\n=== Discount Eligibility ===\nYou qualify for a 15% discount!\n\n=== Grade Determination ===\nGrade: B (Good)\n\n=== Access Level ===\nMember access\nCan view content\nCan post comments\n\n=== Day Activities ===\nWeekend! Time to relax\n\n=== Complex Condition ===\nEligible for scholarship\n\n=== Truthy/Falsy Examples ===\n0 is falsy\n"" is falsy\nnull is falsy\nundefined is falsy\nfalse is falsy\n"hello" is truthy\n42 is truthy\n[] is truthy\n{} is truthy\n```\n\n**Challenge (Optional)**:\n- Create a weather-based activity planner\n- Build a menu system with switch\n- Create a permission system with nested conditions\n- Add input validation with conditionals\n\n---\n\n## Common Mistakes\n\n### 1. Using = Instead of ===\n\n```javascript\n// ❌ Wrong (assignment, not comparison)\nif (x = 5) { }\n\n// ✅ Correct\nif (x === 5) { }\n```\n\n### 2. Missing break in Switch\n\n```javascript\n// ❌ Falls through\nswitch (day) {\n    case "Monday":\n        console.log("Monday");\n        // Missing break!\n    case "Tuesday":\n        console.log("Tuesday");\n}\n\n// ✅ With break\nswitch (day) {\n    case "Monday":\n        console.log("Monday");\n        break;\n    case "Tuesday":\n        console.log("Tuesday");\n        break;\n}\n```\n\n### 3. Truthy/Falsy Confusion\n\n```javascript\n// ⚠️ Empty array is truthy!\nlet arr = [];\nif (arr) {\n    console.log("Has items");  // Wrong! Array is empty\n}\n\n// ✅ Check length\nif (arr.length > 0) {\n    console.log("Has items");\n}\n```\n\n### 4. Incorrect else if Order\n\n```javascript\n// ❌ Wrong order\nif (score >= 60) {\n    console.log("D");\n} else if (score >= 90) {  // Never reached!\n    console.log("A");\n}\n\n// ✅ Correct order\nif (score >= 90) {\n    console.log("A");\n} else if (score >= 60) {\n    console.log("D");\n}\n```\n\n### 5. Forgetting Default Case\n\n```javascript\n// ⚠️ No handling for unexpected values\nswitch (status) {\n    case "active":\n        // Handle\n    case "inactive":\n        // Handle\n    // What if status is "pending"?\n}\n\n// ✅ With default\nswitch (status) {\n    case "active":\n        // Handle\n    case "inactive":\n        // Handle\n    default:\n        console.log("Unknown status");\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **if Statement**: Executes code when condition is true\n2. **else Statement**: Provides alternative when condition is false\n3. **else if**: Checks multiple conditions in sequence\n4. **Nested if**: if statements inside other if statements\n5. **Switch**: Alternative to multiple else if for discrete values\n6. **Truthy/Falsy**: Understand which values evaluate to true/false\n7. **break**: Essential in switch to prevent fall-through\n8. **Best Practice**: Use switch for discrete values, if-else for ranges\n\n---\n\n## Quiz: Conditionals\n\nTest your understanding with these questions:\n\n1. **What is the output of: `if (0) { console.log("Yes"); } else { console.log("No"); }`?**\n   - A) "Yes"\n   - B) "No"\n   - C) Error\n   - D) Nothing\n\n2. **What happens if you forget `break` in a switch case?**\n   - A) Error\n   - B) Code stops executing\n   - C) Code falls through to next case\n   - D) Nothing\n\n3. **Which is falsy in JavaScript?**\n   - A) "0"\n   - B) []\n   - C) {}\n   - D) ""\n\n4. **How many `else if` statements can you have?**\n   - A) 1\n   - B) 2\n   - C) Unlimited\n   - D) 10\n\n5. **What is the purpose of the `default` case in switch?**\n   - A) Required syntax\n   - B) Handles unmatched values\n   - C) Always executes\n   - D) Error handling\n\n6. **Which evaluates to true?**\n   - A) `if (0)`\n   - B) `if ("")`\n   - C) `if ([])`\n   - D) `if (null)`\n\n7. **When should you use switch instead of if-else?**\n   - A) Always\n   - B) For range checks\n   - C) For discrete value comparisons\n   - D) Never\n\n**Answers**:\n1. B) "No" (0 is falsy)\n2. C) Code falls through to next case\n3. D) "" (empty string is falsy)\n4. C) Unlimited\n5. B) Handles unmatched values\n6. C) `if ([])` (empty array is truthy)\n7. C) For discrete value comparisons\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned conditional statements. You now know:\n- How to use if, else, and else if\n- How to use switch statements\n- Understanding of truthy and falsy values\n- How to write nested conditions\n\n**What''s Next?**\n- Lesson 3.2: Loops\n- Practice building more complex conditional logic\n- Experiment with switch statements\n- Combine conditions with logical operators\n\n---\n\n## Additional Resources\n\n- **MDN: if...else**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/if...else](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/if...else)\n- **MDN: switch**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch)\n- **JavaScript.info: Conditional Branching**: [javascript.info/ifelse](https://javascript.info/ifelse)\n- **JavaScript.info: Switch**: [javascript.info/switch](https://javascript.info/switch)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:13:00', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use if, else, and else if statements to make decisions\n- Understand truthy and falsy values in JavaScript\n- Use switch statements for multiple conditions\n- Write nested conditional statements\n- Apply conditional logic to solve real-world problems');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (115, 43, 10, 'Loops', 'loops', '# Lesson 3.2: Loops\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use for loops to iterate a specific number of times\n- Use while loops for condition-based iteration\n- Use do...while loops for guaranteed execution\n- Iterate over objects with for...in loops\n- Iterate over iterables with for...of loops\n- Control loop execution with break and continue\n- Create and understand nested loops\n- Choose the right loop for different scenarios\n\n---\n\n## Introduction to Loops\n\nLoops allow you to execute a block of code repeatedly. They are essential for:\n- Processing arrays and collections\n- Repeating actions\n- Iterating through data\n- Automating repetitive tasks\n\n---\n\n## for Loop\n\nThe `for` loop is used when you know how many times you want to iterate.\n\n### Basic Syntax\n\n```javascript\nfor (initialization; condition; increment) {\n    // Code to execute\n}\n```\n\n### Simple Example\n\n```javascript\nfor (let i = 0; i < 5; i++) {\n    console.log(i);\n}\n// Output: 0, 1, 2, 3, 4\n```\n\n### How It Works\n\n1. **Initialization**: `let i = 0` - Runs once at the start\n2. **Condition**: `i < 5` - Checked before each iteration\n3. **Code Block**: Executes if condition is true\n4. **Increment**: `i++` - Runs after each iteration\n5. **Repeat**: Go back to step 2\n\n### Common Patterns\n\n**Count from 0 to n-1:**\n```javascript\nfor (let i = 0; i < 5; i++) {\n    console.log(i);\n}\n// 0, 1, 2, 3, 4\n```\n\n**Count from 1 to n:**\n```javascript\nfor (let i = 1; i <= 5; i++) {\n    console.log(i);\n}\n// 1, 2, 3, 4, 5\n```\n\n**Count backwards:**\n```javascript\nfor (let i = 5; i > 0; i--) {\n    console.log(i);\n}\n// 5, 4, 3, 2, 1\n```\n\n**Count by steps:**\n```javascript\nfor (let i = 0; i < 10; i += 2) {\n    console.log(i);\n}\n// 0, 2, 4, 6, 8\n```\n\n### Iterating Over Arrays\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\n\nfor (let i = 0; i < fruits.length; i++) {\n    console.log(fruits[i]);\n}\n// Output: apple, banana, orange\n```\n\n### Practical Examples\n\n**Sum numbers:**\n```javascript\nlet sum = 0;\nfor (let i = 1; i <= 10; i++) {\n    sum += i;\n}\nconsole.log(sum);  // 55\n```\n\n**Build a string:**\n```javascript\nlet result = "";\nfor (let i = 0; i < 5; i++) {\n    result += "*";\n}\nconsole.log(result);  // "*****"\n```\n\n**Calculate factorial:**\n```javascript\nlet n = 5;\nlet factorial = 1;\nfor (let i = 1; i <= n; i++) {\n    factorial *= i;\n}\nconsole.log(factorial);  // 120\n```\n\n---\n\n## while Loop\n\nThe `while` loop continues as long as a condition is true.\n\n### Basic Syntax\n\n```javascript\nwhile (condition) {\n    // Code to execute\n}\n```\n\n### Simple Example\n\n```javascript\nlet i = 0;\nwhile (i < 5) {\n    console.log(i);\n    i++;\n}\n// Output: 0, 1, 2, 3, 4\n```\n\n### When to Use while\n\n- When you don''t know how many iterations\n- When condition depends on external factors\n- When you need to check condition before each iteration\n\n### Examples\n\n**Countdown:**\n```javascript\nlet countdown = 5;\nwhile (countdown > 0) {\n    console.log(countdown);\n    countdown--;\n}\nconsole.log("Blast off!");\n// Output: 5, 4, 3, 2, 1, "Blast off!"\n```\n\n**User input simulation:**\n```javascript\nlet userInput = "";\nwhile (userInput !== "quit") {\n    // Simulate getting input\n    userInput = getUserInput();\n    processInput(userInput);\n}\n```\n\n**Processing until condition:**\n```javascript\nlet total = 0;\nlet number = 1;\nwhile (total < 100) {\n    total += number;\n    number++;\n}\nconsole.log(total);  // First sum >= 100\n```\n\n### Infinite Loops Warning\n\n**⚠️ Be careful - this creates an infinite loop:**\n```javascript\n// ❌ Infinite loop!\nlet i = 0;\nwhile (i < 5) {\n    console.log(i);\n    // Forgot to increment i!\n}\n```\n\n**✅ Always ensure condition becomes false:**\n```javascript\nlet i = 0;\nwhile (i < 5) {\n    console.log(i);\n    i++;  // Increment to avoid infinite loop\n}\n```\n\n---\n\n## do...while Loop\n\nThe `do...while` loop executes the code block at least once, then checks the condition.\n\n### Basic Syntax\n\n```javascript\ndo {\n    // Code to execute\n} while (condition);\n```\n\n### Simple Example\n\n```javascript\nlet i = 0;\ndo {\n    console.log(i);\n    i++;\n} while (i < 5);\n// Output: 0, 1, 2, 3, 4\n```\n\n### Key Difference from while\n\n**while** - checks condition first (may not execute):\n```javascript\nlet i = 10;\nwhile (i < 5) {\n    console.log(i);  // Never executes\n    i++;\n}\n```\n\n**do...while** - executes at least once:\n```javascript\nlet i = 10;\ndo {\n    console.log(i);  // Executes once: 10\n    i++;\n} while (i < 5);\n```\n\n### When to Use do...while\n\n- When you need code to run at least once\n- Menu systems\n- Input validation (try at least once)\n\n### Example: Menu System\n\n```javascript\nlet choice;\ndo {\n    console.log("1. Option 1");\n    console.log("2. Option 2");\n    console.log("3. Quit");\n    choice = getUserChoice();\n    processChoice(choice);\n} while (choice !== 3);\n```\n\n---\n\n## for...in Loop\n\nThe `for...in` loop iterates over the enumerable properties of an object.\n\n### Basic Syntax\n\n```javascript\nfor (let key in object) {\n    // Code using key\n}\n```\n\n### Iterating Over Objects\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York"\n};\n\nfor (let key in person) {\n    console.log(key + ": " + person[key]);\n}\n// Output:\n// name: Alice\n// age: 25\n// city: New York\n```\n\n### Important Notes\n\n**Order is not guaranteed** (though modern JS engines usually maintain insertion order for string keys)\n\n**Only enumerable properties:**\n```javascript\nlet obj = {\n    a: 1,\n    b: 2\n};\n\nObject.defineProperty(obj, ''c'', {\n    value: 3,\n    enumerable: false  // Not enumerable\n});\n\nfor (let key in obj) {\n    console.log(key);  // Only ''a'' and ''b''\n}\n```\n\n### With Arrays (Not Recommended)\n\n```javascript\nlet arr = ["a", "b", "c"];\n\nfor (let index in arr) {\n    console.log(index, arr[index]);\n}\n// Output: "0 a", "1 b", "2 c"\n// But index is a string, not a number!\n```\n\n**⚠️ Use for...of or regular for loop for arrays instead**\n\n### Practical Example\n\n```javascript\nlet config = {\n    host: "localhost",\n    port: 3000,\n    debug: true\n};\n\nfor (let key in config) {\n    console.log(`Setting ${key} to ${config[key]}`);\n}\n```\n\n---\n\n## for...of Loop\n\nThe `for...of` loop iterates over iterable objects (arrays, strings, etc.).\n\n### Basic Syntax\n\n```javascript\nfor (let item of iterable) {\n    // Code using item\n}\n```\n\n### Iterating Over Arrays\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\n\nfor (let fruit of fruits) {\n    console.log(fruit);\n}\n// Output: apple, banana, orange\n```\n\n### Iterating Over Strings\n\n```javascript\nlet text = "Hello";\n\nfor (let char of text) {\n    console.log(char);\n}\n// Output: H, e, l, l, o\n```\n\n### Getting Index with for...of\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\n\nfor (let [index, fruit] of fruits.entries()) {\n    console.log(index, fruit);\n}\n// Output: 0 apple, 1 banana, 2 orange\n```\n\n### for...of vs for...in\n\n**for...of** (values):\n```javascript\nlet arr = ["a", "b", "c"];\nfor (let value of arr) {\n    console.log(value);  // "a", "b", "c"\n}\n```\n\n**for...in** (keys/indices):\n```javascript\nlet arr = ["a", "b", "c"];\nfor (let index in arr) {\n    console.log(index);  // "0", "1", "2" (strings!)\n}\n```\n\n### When to Use for...of\n\n- ✅ Arrays\n- ✅ Strings\n- ✅ Other iterables (Maps, Sets, NodeLists)\n- ✅ When you need values, not indices\n\n### Practical Examples\n\n**Process array items:**\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet sum = 0;\n\nfor (let num of numbers) {\n    sum += num;\n}\nconsole.log(sum);  // 15\n```\n\n**Find item:**\n```javascript\nlet users = ["Alice", "Bob", "Charlie"];\nlet found = false;\n\nfor (let user of users) {\n    if (user === "Bob") {\n        found = true;\n        break;\n    }\n}\n```\n\n---\n\n## break Statement\n\nThe `break` statement exits a loop immediately.\n\n### Basic Usage\n\n```javascript\nfor (let i = 0; i < 10; i++) {\n    if (i === 5) {\n        break;  // Exit loop when i is 5\n    }\n    console.log(i);\n}\n// Output: 0, 1, 2, 3, 4\n```\n\n### Examples\n\n**Find first match:**\n```javascript\nlet numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nlet found = null;\n\nfor (let num of numbers) {\n    if (num > 5) {\n        found = num;\n        break;  // Stop searching\n    }\n}\nconsole.log(found);  // 6\n```\n\n**Exit on condition:**\n```javascript\nlet count = 0;\nwhile (true) {\n    count++;\n    if (count > 10) {\n        break;  // Exit infinite loop\n    }\n    console.log(count);\n}\n```\n\n**In switch (different context):**\n```javascript\nswitch (day) {\n    case "Monday":\n        console.log("Start of week");\n        break;  // Exit switch\n    case "Friday":\n        console.log("End of week");\n        break;\n}\n```\n\n---\n\n## continue Statement\n\nThe `continue` statement skips the rest of the current iteration and continues with the next.\n\n### Basic Usage\n\n```javascript\nfor (let i = 0; i < 10; i++) {\n    if (i % 2 === 0) {\n        continue;  // Skip even numbers\n    }\n    console.log(i);\n}\n// Output: 1, 3, 5, 7, 9\n```\n\n### Examples\n\n**Skip specific values:**\n```javascript\nlet numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n\nfor (let num of numbers) {\n    if (num % 2 === 0) {\n        continue;  // Skip even numbers\n    }\n    console.log(num);  // Only odd numbers\n}\n// Output: 1, 3, 5, 7, 9\n```\n\n**Process only valid items:**\n```javascript\nlet data = [1, null, 3, undefined, 5, "", 7];\n\nfor (let item of data) {\n    if (!item) {\n        continue;  // Skip falsy values\n    }\n    console.log(item);\n}\n// Output: 1, 3, 5, 7\n```\n\n**Skip on condition:**\n```javascript\nfor (let i = 0; i < 10; i++) {\n    if (i < 3) {\n        continue;  // Skip first 3 iterations\n    }\n    console.log(i);\n}\n// Output: 3, 4, 5, 6, 7, 8, 9\n```\n\n### break vs continue\n\n**break** - exits the loop:\n```javascript\nfor (let i = 0; i < 10; i++) {\n    if (i === 5) {\n        break;  // Loop stops here\n    }\n    console.log(i);\n}\n// Output: 0, 1, 2, 3, 4\n```\n\n**continue** - skips to next iteration:\n```javascript\nfor (let i = 0; i < 10; i++) {\n    if (i === 5) {\n        continue;  // Skip 5, continue with 6\n    }\n    console.log(i);\n}\n// Output: 0, 1, 2, 3, 4, 6, 7, 8, 9\n```\n\n---\n\n## Nested Loops\n\nYou can place loops inside other loops to create nested iterations.\n\n### Basic Nested Structure\n\n```javascript\nfor (let i = 0; i < 3; i++) {\n    for (let j = 0; j < 3; j++) {\n        console.log(i, j);\n    }\n}\n// Output:\n// 0 0, 0 1, 0 2\n// 1 0, 1 1, 1 2\n// 2 0, 2 1, 2 2\n```\n\n### Multiplication Table\n\n```javascript\nfor (let i = 1; i <= 5; i++) {\n    for (let j = 1; j <= 5; j++) {\n        console.log(`${i} x ${j} = ${i * j}`);\n    }\n    console.log("---");\n}\n```\n\n### 2D Array Processing\n\n```javascript\nlet matrix = [\n    [1, 2, 3],\n    [4, 5, 6],\n    [7, 8, 9]\n];\n\nfor (let i = 0; i < matrix.length; i++) {\n    for (let j = 0; j < matrix[i].length; j++) {\n        console.log(matrix[i][j]);\n    }\n}\n```\n\n### Pattern Printing\n\n```javascript\n// Print triangle\nfor (let i = 1; i <= 5; i++) {\n    let row = "";\n    for (let j = 1; j <= i; j++) {\n        row += "*";\n    }\n    console.log(row);\n}\n// Output:\n// *\n// **\n// ***\n// ****\n// *****\n```\n\n### Performance Consideration\n\n**⚠️ Nested loops can be slow:**\n```javascript\n// O(n²) complexity\nfor (let i = 0; i < 1000; i++) {\n    for (let j = 0; j < 1000; j++) {\n        // This runs 1,000,000 times!\n    }\n}\n```\n\n### break and continue in Nested Loops\n\n**break** - exits only the innermost loop:\n```javascript\nfor (let i = 0; i < 3; i++) {\n    for (let j = 0; j < 3; j++) {\n        if (j === 1) {\n            break;  // Only breaks inner loop\n        }\n        console.log(i, j);\n    }\n}\n// Output: 0 0, 1 0, 2 0\n```\n\n**Labeled break** - exits outer loop:\n```javascript\nouter: for (let i = 0; i < 3; i++) {\n    for (let j = 0; j < 3; j++) {\n        if (j === 1) {\n            break outer;  // Breaks outer loop\n        }\n        console.log(i, j);\n    }\n}\n// Output: 0 0\n```\n\n---\n\n## Choosing the Right Loop\n\n### When to Use Each Loop\n\n**for loop:**\n- Known number of iterations\n- Iterating over arrays with index\n- Counting\n\n**while loop:**\n- Unknown number of iterations\n- Condition-based iteration\n- Waiting for external condition\n\n**do...while loop:**\n- Need to execute at least once\n- Menu systems\n- Input validation\n\n**for...in loop:**\n- Iterating over object properties\n- Need keys, not values\n\n**for...of loop:**\n- Iterating over arrays/iterables\n- Need values, not indices\n- Modern, clean syntax\n\n### Comparison Table\n\n| Loop | Use Case | Example |\n|------|----------|---------|\n| for | Known iterations | `for (let i = 0; i < 10; i++)` |\n| while | Condition-based | `while (condition)` |\n| do...while | At least once | `do { } while (condition)` |\n| for...in | Object properties | `for (let key in obj)` |\n| for...of | Iterables | `for (let item of array)` |\n\n---\n\n## Practice Exercise\n\n### Exercise: Loop Practice\n\n**Objective**: Write programs using different types of loops to solve various problems.\n\n**Instructions**:\n\n1. Create a file called `loop-practice.js`\n\n2. Complete these tasks:\n   - Count from 1 to 10 using for loop\n   - Calculate sum of numbers 1-100 using for loop\n   - Print multiplication table using nested loops\n   - Iterate over an array using for...of\n   - Iterate over an object using for...in\n   - Use while loop to find first number > 100\n   - Use break to exit loop early\n   - Use continue to skip certain values\n   - Print patterns using nested loops\n\n**Example Solution**:\n\n```javascript\n// Loop Practice\nconsole.log("=== For Loop: Count 1-10 ===");\nfor (let i = 1; i <= 10; i++) {\n    console.log(i);\n}\nconsole.log();\n\nconsole.log("=== For Loop: Sum 1-100 ===");\nlet sum = 0;\nfor (let i = 1; i <= 100; i++) {\n    sum += i;\n}\nconsole.log(`Sum: ${sum}`);  // 5050\nconsole.log();\n\nconsole.log("=== Nested Loops: Multiplication Table ===");\nfor (let i = 1; i <= 5; i++) {\n    let row = "";\n    for (let j = 1; j <= 5; j++) {\n        row += `${i * j}\\t`;\n    }\n    console.log(row);\n}\nconsole.log();\n\nconsole.log("=== For...of: Array Iteration ===");\nlet fruits = ["apple", "banana", "orange", "grape"];\nfor (let fruit of fruits) {\n    console.log(fruit);\n}\nconsole.log();\n\nconsole.log("=== For...in: Object Iteration ===");\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York",\n    occupation: "Developer"\n};\nfor (let key in person) {\n    console.log(`${key}: ${person[key]}`);\n}\nconsole.log();\n\nconsole.log("=== While Loop: Find First > 100 ===");\nlet numbers = [45, 67, 89, 102, 134, 156];\nlet i = 0;\nwhile (i < numbers.length) {\n    if (numbers[i] > 100) {\n        console.log(`First number > 100: ${numbers[i]}`);\n        break;\n    }\n    i++;\n}\nconsole.log();\n\nconsole.log("=== Break: Exit Early ===");\nfor (let i = 1; i <= 10; i++) {\n    if (i === 6) {\n        console.log("Stopping at 6");\n        break;\n    }\n    console.log(i);\n}\nconsole.log();\n\nconsole.log("=== Continue: Skip Even Numbers ===");\nfor (let i = 1; i <= 10; i++) {\n    if (i % 2 === 0) {\n        continue;  // Skip even numbers\n    }\n    console.log(i);\n}\nconsole.log();\n\nconsole.log("=== Nested Loops: Pattern ===");\nfor (let i = 1; i <= 5; i++) {\n    let pattern = "";\n    for (let j = 1; j <= i; j++) {\n        pattern += "*";\n    }\n    console.log(pattern);\n}\nconsole.log();\n\nconsole.log("=== Do...While: At Least Once ===");\nlet count = 10;\ndo {\n    console.log(`Count: ${count}`);\n    count++;\n} while (count < 5);  // Condition is false, but executes once\nconsole.log();\n\nconsole.log("=== Complex: Process 2D Array ===");\nlet matrix = [\n    [1, 2, 3],\n    [4, 5, 6],\n    [7, 8, 9]\n];\nlet total = 0;\nfor (let row of matrix) {\n    for (let cell of row) {\n        total += cell;\n    }\n}\nconsole.log(`Sum of all cells: ${total}`);  // 45\n```\n\n**Expected Output**:\n```\n=== For Loop: Count 1-10 ===\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n=== For Loop: Sum 1-100 ===\nSum: 5050\n\n=== Nested Loops: Multiplication Table ===\n1	2	3	4	5	\n2	4	6	8	10	\n3	6	9	12	15	\n4	8	12	16	20	\n5	10	15	20	25	\n\n=== For...of: Array Iteration ===\napple\nbanana\norange\ngrape\n\n=== For...in: Object Iteration ===\nname: Alice\nage: 25\ncity: New York\noccupation: Developer\n\n=== While Loop: Find First > 100 ===\nFirst number > 100: 102\n\n=== Break: Exit Early ===\n1\n2\n3\n4\n5\nStopping at 6\n\n=== Continue: Skip Even Numbers ===\n1\n3\n5\n7\n9\n\n=== Nested Loops: Pattern ===\n*\n**\n***\n****\n*****\n\n=== Do...While: At Least Once ===\nCount: 10\n\n=== Complex: Process 2D Array ===\nSum of all cells: 45\n```\n\n**Challenge (Optional)**:\n- Create a number guessing game with loops\n- Build a calendar generator\n- Create a pattern generator (diamonds, triangles)\n- Process nested data structures\n- Optimize nested loops\n\n---\n\n## Common Mistakes\n\n### 1. Infinite Loops\n\n```javascript\n// ❌ Infinite loop\nlet i = 0;\nwhile (i < 5) {\n    console.log(i);\n    // Forgot to increment!\n}\n\n// ✅ Always increment\nlet i = 0;\nwhile (i < 5) {\n    console.log(i);\n    i++;\n}\n```\n\n### 2. Off-by-One Errors\n\n```javascript\n// ❌ Wrong range\nfor (let i = 0; i <= 5; i++) { }  // 0-5 (6 iterations)\n\n// ✅ Correct range\nfor (let i = 0; i < 5; i++) { }   // 0-4 (5 iterations)\n```\n\n### 3. Modifying Array During Iteration\n\n```javascript\n// ⚠️ Can cause issues\nlet arr = [1, 2, 3, 4, 5];\nfor (let i = 0; i < arr.length; i++) {\n    if (arr[i] === 2) {\n        arr.splice(i, 1);  // Modifies array\n    }\n}\n\n// ✅ Better: iterate backwards or use filter\n```\n\n### 4. Using for...in on Arrays\n\n```javascript\n// ⚠️ Not recommended\nlet arr = [1, 2, 3];\nfor (let index in arr) {\n    console.log(typeof index);  // "string"!\n}\n\n// ✅ Use for...of\nfor (let value of arr) {\n    console.log(value);\n}\n```\n\n### 5. Confusing break and continue\n\n```javascript\n// break - exits loop\nfor (let i = 0; i < 10; i++) {\n    if (i === 5) break;  // Loop stops at 5\n}\n\n// continue - skips iteration\nfor (let i = 0; i < 10; i++) {\n    if (i === 5) continue;  // Skips 5, continues\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **for Loop**: Best for known iterations\n2. **while Loop**: Best for condition-based iteration\n3. **do...while**: Executes at least once\n4. **for...in**: Iterates over object properties\n5. **for...of**: Iterates over iterable values\n6. **break**: Exits loop immediately\n7. **continue**: Skips to next iteration\n8. **Nested Loops**: Loops inside loops (watch performance)\n9. **Choose Wisely**: Pick the right loop for the task\n\n---\n\n## Quiz: Loops\n\nTest your understanding with these questions:\n\n1. **How many times does this loop run? `for (let i = 0; i < 5; i++)`**\n   - A) 4\n   - B) 5\n   - C) 6\n   - D) Infinite\n\n2. **What does `break` do in a loop?**\n   - A) Skips current iteration\n   - B) Exits the loop\n   - C) Continues to next iteration\n   - D) Restarts the loop\n\n3. **Which loop executes at least once?**\n   - A) for\n   - B) while\n   - C) do...while\n   - D) for...of\n\n4. **What does `continue` do?**\n   - A) Exits the loop\n   - B) Skips to next iteration\n   - C) Restarts the loop\n   - D) Breaks the loop\n\n5. **Which is best for iterating over array values?**\n   - A) for...in\n   - B) for...of\n   - C) while\n   - D) do...while\n\n6. **What is the output of: `for (let i = 0; i < 3; i++) { if (i === 1) continue; console.log(i); }`**\n   - A) 0, 1, 2\n   - B) 0, 2\n   - C) 1, 2\n   - D) 0, 1\n\n7. **Which creates an infinite loop?**\n   - A) `for (let i = 0; i < 5; i++)`\n   - B) `while (true) { break; }`\n   - C) `while (false) { }`\n   - D) `while (true) { }` (no break)\n\n**Answers**:\n1. B) 5 (0, 1, 2, 3, 4)\n2. B) Exits the loop\n3. C) do...while\n4. B) Skips to next iteration\n5. B) for...of\n6. B) 0, 2 (skips 1)\n7. D) `while (true) { }` (no break)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned all about loops. You now know:\n- How to use for, while, and do...while loops\n- How to iterate with for...in and for...of\n- How to control loops with break and continue\n- How to create nested loops\n\n**What''s Next?**\n- Lesson 3.3: Error Handling\n- Practice with different loop types\n- Build programs using loops\n- Optimize loop performance\n\n---\n\n## Additional Resources\n\n- **MDN: for**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for)\n- **MDN: while**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/while](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/while)\n- **MDN: for...of**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of)\n- **MDN: for...in**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in)\n- **JavaScript.info: Loops**: [javascript.info/while-for](https://javascript.info/while-for)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:13:00', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use for loops to iterate a specific number of times\n- Use while loops for condition-based iteration\n- Use do...while loops for guaranteed execution\n- Iterate over objects with for...in loops\n- Iterate over iterables with for...of loops\n- Control loop execution with break and continue\n- Create and understand nested loops\n- Choose the right loop for different scenarios');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (116, 43, 10, 'Error Handling', 'error-handling', '# Lesson 3.3: Error Handling\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use try-catch blocks to handle errors\n- Throw custom errors with throw statements\n- Use finally blocks for cleanup code\n- Identify and handle common error types\n- Write robust error handling code\n- Understand error propagation\n- Create custom error messages\n\n---\n\n## Introduction to Error Handling\n\nError handling allows your program to gracefully handle unexpected situations instead of crashing. It''s essential for building robust, production-ready applications.\n\n### Why Error Handling?\n\n- Prevents program crashes\n- Provides user-friendly error messages\n- Allows graceful recovery\n- Helps with debugging\n- Improves user experience\n\n### Types of Errors\n\n1. **Syntax Errors**: Code that violates JavaScript syntax\n2. **Runtime Errors**: Errors that occur during execution\n3. **Logical Errors**: Code runs but produces wrong results\n\n---\n\n## try-catch Blocks\n\nThe `try-catch` statement allows you to test a block of code for errors and handle them gracefully.\n\n### Basic Syntax\n\n```javascript\ntry {\n    // Code that might throw an error\n} catch (error) {\n    // Code to handle the error\n}\n```\n\n### Simple Example\n\n```javascript\ntry {\n    let result = 10 / 0;\n    console.log(result);  // Infinity (not an error, but unexpected)\n} catch (error) {\n    console.log("An error occurred:", error.message);\n}\n```\n\n### Catching Actual Errors\n\n```javascript\ntry {\n    let x = y + 5;  // y is not defined\n} catch (error) {\n    console.log("Error:", error.message);  // "y is not defined"\n    console.log("Error name:", error.name);  // "ReferenceError"\n}\n```\n\n### Real-World Example\n\n```javascript\ntry {\n    let userInput = getUserInput();\n    let number = parseInt(userInput);\n    \n    if (isNaN(number)) {\n        throw new Error("Invalid number");\n    }\n    \n    console.log("Number:", number);\n} catch (error) {\n    console.log("Error:", error.message);\n    // Handle error gracefully\n}\n```\n\n### Accessing Error Information\n\n```javascript\ntry {\n    // Code that might error\n    let result = someFunction();\n} catch (error) {\n    console.log("Error name:", error.name);\n    console.log("Error message:", error.message);\n    console.log("Error stack:", error.stack);\n    console.log("Full error:", error);\n}\n```\n\n---\n\n## Common Error Types\n\nJavaScript has several built-in error types.\n\n### ReferenceError\n\nOccurs when trying to access a variable that doesn''t exist.\n\n```javascript\ntry {\n    console.log(nonExistentVariable);\n} catch (error) {\n    console.log(error.name);  // "ReferenceError"\n    console.log(error.message);  // "nonExistentVariable is not defined"\n}\n```\n\n### TypeError\n\nOccurs when a value is not of the expected type.\n\n```javascript\ntry {\n    let x = null;\n    x.someMethod();  // Can''t call method on null\n} catch (error) {\n    console.log(error.name);  // "TypeError"\n    console.log(error.message);  // "Cannot read property ''someMethod'' of null"\n}\n```\n\n### SyntaxError\n\nOccurs when code violates JavaScript syntax (usually caught at parse time).\n\n```javascript\ntry {\n    eval("let x = ;");  // Invalid syntax\n} catch (error) {\n    console.log(error.name);  // "SyntaxError"\n}\n```\n\n### RangeError\n\nOccurs when a value is outside the allowed range.\n\n```javascript\ntry {\n    let arr = new Array(-1);  // Invalid array length\n} catch (error) {\n    console.log(error.name);  // "RangeError"\n}\n```\n\n### URIError\n\nOccurs with incorrect use of URI handling functions.\n\n```javascript\ntry {\n    decodeURIComponent("%");  // Invalid URI\n} catch (error) {\n    console.log(error.name);  // "URIError"\n}\n```\n\n### Handling Specific Error Types\n\n```javascript\ntry {\n    // Code that might error\n    riskyOperation();\n} catch (error) {\n    if (error instanceof TypeError) {\n        console.log("Type error:", error.message);\n    } else if (error instanceof ReferenceError) {\n        console.log("Reference error:", error.message);\n    } else {\n        console.log("Other error:", error.message);\n    }\n}\n```\n\n---\n\n## throw Statement\n\nThe `throw` statement allows you to create and throw custom errors.\n\n### Basic Syntax\n\n```javascript\nthrow expression;\n```\n\n### Throwing Strings\n\n```javascript\ntry {\n    throw "Something went wrong";\n} catch (error) {\n    console.log(error);  // "Something went wrong"\n}\n```\n\n### Throwing Error Objects\n\n```javascript\ntry {\n    throw new Error("Custom error message");\n} catch (error) {\n    console.log(error.message);  // "Custom error message"\n    console.log(error.name);     // "Error"\n}\n```\n\n### Throwing Specific Error Types\n\n```javascript\n// TypeError\nthrow new TypeError("Expected a number");\n\n// ReferenceError\nthrow new ReferenceError("Variable not defined");\n\n// Custom message\nthrow new Error("Invalid input: must be positive number");\n```\n\n### Practical Examples\n\n**Input Validation:**\n```javascript\nfunction divide(a, b) {\n    if (b === 0) {\n        throw new Error("Division by zero is not allowed");\n    }\n    return a / b;\n}\n\ntry {\n    let result = divide(10, 0);\n} catch (error) {\n    console.log("Error:", error.message);\n}\n```\n\n**Type Checking:**\n```javascript\nfunction processNumber(num) {\n    if (typeof num !== "number") {\n        throw new TypeError("Expected a number");\n    }\n    if (num < 0) {\n        throw new RangeError("Number must be positive");\n    }\n    return num * 2;\n}\n\ntry {\n    processNumber("hello");\n} catch (error) {\n    console.log(error.name + ":", error.message);\n}\n```\n\n**Custom Validation:**\n```javascript\nfunction validateAge(age) {\n    if (age < 0) {\n        throw new Error("Age cannot be negative");\n    }\n    if (age > 150) {\n        throw new Error("Age seems unrealistic");\n    }\n    if (!Number.isInteger(age)) {\n        throw new Error("Age must be an integer");\n    }\n    return true;\n}\n\ntry {\n    validateAge(-5);\n} catch (error) {\n    console.log("Validation failed:", error.message);\n}\n```\n\n---\n\n## finally Block\n\nThe `finally` block executes code regardless of whether an error occurred or not. It''s useful for cleanup operations.\n\n### Basic Syntax\n\n```javascript\ntry {\n    // Code that might error\n} catch (error) {\n    // Handle error\n} finally {\n    // Always executes\n}\n```\n\n### Simple Example\n\n```javascript\ntry {\n    console.log("Try block");\n    throw new Error("Test error");\n} catch (error) {\n    console.log("Catch block:", error.message);\n} finally {\n    console.log("Finally block - always runs");\n}\n// Output:\n// Try block\n// Catch block: Test error\n// Finally block - always runs\n```\n\n### Without Error\n\n```javascript\ntry {\n    console.log("Try block - no error");\n} catch (error) {\n    console.log("Catch block");\n} finally {\n    console.log("Finally block - always runs");\n}\n// Output:\n// Try block - no error\n// Finally block - always runs\n```\n\n### Practical Use Cases\n\n**Resource Cleanup:**\n```javascript\nlet fileHandle = null;\n\ntry {\n    fileHandle = openFile("data.txt");\n    processFile(fileHandle);\n} catch (error) {\n    console.log("Error processing file:", error.message);\n} finally {\n    if (fileHandle) {\n        closeFile(fileHandle);  // Always close, even on error\n    }\n}\n```\n\n**Database Connections:**\n```javascript\nlet connection = null;\n\ntry {\n    connection = connectToDatabase();\n    executeQuery(connection);\n} catch (error) {\n    console.log("Database error:", error.message);\n} finally {\n    if (connection) {\n        connection.close();  // Always close connection\n    }\n}\n```\n\n**Timer Cleanup:**\n```javascript\nlet timer = null;\n\ntry {\n    timer = setInterval(() => {\n        // Do something\n    }, 1000);\n    // Some code that might error\n} catch (error) {\n    console.log("Error:", error.message);\n} finally {\n    if (timer) {\n        clearInterval(timer);  // Always clear timer\n    }\n}\n```\n\n### finally with return\n\n**Important**: `finally` executes even if there''s a return statement:\n\n```javascript\nfunction test() {\n    try {\n        return "from try";\n    } catch (error) {\n        return "from catch";\n    } finally {\n        console.log("Finally always runs");\n    }\n}\n\nconsole.log(test());\n// Output:\n// Finally always runs\n// from try\n```\n\n---\n\n## Error Propagation\n\nErrors propagate up the call stack until they''re caught or reach the top level.\n\n### Uncaught Errors\n\n```javascript\nfunction level1() {\n    level2();\n}\n\nfunction level2() {\n    level3();\n}\n\nfunction level3() {\n    throw new Error("Error in level3");\n}\n\ntry {\n    level1();\n} catch (error) {\n    console.log("Caught:", error.message);  // "Error in level3"\n}\n```\n\n### Catching at Different Levels\n\n```javascript\nfunction level1() {\n    try {\n        level2();\n    } catch (error) {\n        console.log("Caught in level1:", error.message);\n    }\n}\n\nfunction level2() {\n    level3();\n}\n\nfunction level3() {\n    throw new Error("Error in level3");\n}\n\nlevel1();  // Error caught in level1\n```\n\n### Re-throwing Errors\n\nYou can catch an error, handle it, and then re-throw it:\n\n```javascript\nfunction processData(data) {\n    try {\n        validateData(data);\n    } catch (error) {\n        console.log("Validation failed, logging error");\n        throw error;  // Re-throw to caller\n    }\n}\n\ntry {\n    processData(null);\n} catch (error) {\n    console.log("Caught by caller:", error.message);\n}\n```\n\n---\n\n## Best Practices\n\n### 1. Be Specific with Error Messages\n\n```javascript\n// ❌ Vague\nthrow new Error("Error");\n\n// ✅ Specific\nthrow new Error("Invalid email format: must contain @ symbol");\n```\n\n### 2. Handle Errors Appropriately\n\n```javascript\n// ✅ Good: Handle and recover\ntry {\n    let data = fetchData();\n} catch (error) {\n    console.log("Using default data");\n    data = getDefaultData();\n}\n\n// ❌ Bad: Swallow errors silently\ntry {\n    riskyOperation();\n} catch (error) {\n    // Silent failure - bad!\n}\n```\n\n### 3. Use finally for Cleanup\n\n```javascript\n// ✅ Good: Always cleanup\nlet resource = acquireResource();\ntry {\n    useResource(resource);\n} finally {\n    releaseResource(resource);\n}\n```\n\n### 4. Don''t Catch Everything Blindly\n\n```javascript\n// ⚠️ Too broad\ntry {\n    // Lots of code\n} catch (error) {\n    // Catches everything - might hide bugs\n}\n\n// ✅ Better: Catch specific errors\ntry {\n    // Code\n} catch (error) {\n    if (error instanceof TypeError) {\n        // Handle type errors\n    } else {\n        throw error;  // Re-throw unexpected errors\n    }\n}\n```\n\n### 5. Provide Context\n\n```javascript\n// ✅ Good: Add context\ntry {\n    processUser(userId);\n} catch (error) {\n    throw new Error(`Failed to process user ${userId}: ${error.message}`);\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Error Handling\n\n**Objective**: Write a program that demonstrates error handling with try-catch, throw, and finally.\n\n**Instructions**:\n\n1. Create a file called `error-handling.js`\n\n2. Create functions that might throw errors:\n   - Divide function (throw on division by zero)\n   - Validate age function (throw on invalid age)\n   - Parse number function (throw on invalid input)\n   - Access array element (might throw)\n\n3. Use try-catch to handle errors:\n   - Catch specific error types\n   - Provide user-friendly messages\n   - Handle different scenarios\n\n4. Use finally blocks:\n   - Clean up resources\n   - Log completion status\n\n5. Demonstrate:\n   - Error propagation\n   - Re-throwing errors\n   - Multiple catch scenarios\n\n**Example Solution**:\n\n```javascript\n// Error Handling Practice\nconsole.log("=== Basic Try-Catch ===");\ntry {\n    let result = 10 / 0;\n    console.log("Result:", result);  // Infinity (not an error)\n} catch (error) {\n    console.log("Error:", error.message);\n}\n\ntry {\n    let x = undefinedVariable;\n} catch (error) {\n    console.log("Caught:", error.name, "-", error.message);\n}\nconsole.log();\n\nconsole.log("=== Custom Error with Throw ===");\nfunction divide(a, b) {\n    if (b === 0) {\n        throw new Error("Division by zero is not allowed");\n    }\n    if (typeof a !== "number" || typeof b !== "number") {\n        throw new TypeError("Both arguments must be numbers");\n    }\n    return a / b;\n}\n\ntry {\n    console.log(divide(10, 2));  // 5\n} catch (error) {\n    console.log("Error:", error.message);\n}\n\ntry {\n    console.log(divide(10, 0));  // Error\n} catch (error) {\n    console.log("Error:", error.message);\n}\n\ntry {\n    console.log(divide("10", 2));  // Error\n} catch (error) {\n    console.log("Error:", error.message);\n}\nconsole.log();\n\nconsole.log("=== Validation Function ===");\nfunction validateAge(age) {\n    if (typeof age !== "number") {\n        throw new TypeError("Age must be a number");\n    }\n    if (!Number.isInteger(age)) {\n        throw new Error("Age must be an integer");\n    }\n    if (age < 0) {\n        throw new RangeError("Age cannot be negative");\n    }\n    if (age > 150) {\n        throw new RangeError("Age seems unrealistic");\n    }\n    return true;\n}\n\nlet testAges = [25, -5, "thirty", 25.5, 200];\n\ntestAges.forEach(age => {\n    try {\n        validateAge(age);\n        console.log(`Age ${age} is valid`);\n    } catch (error) {\n        console.log(`Age ${age}: ${error.name} - ${error.message}`);\n    }\n});\nconsole.log();\n\nconsole.log("=== Finally Block ===");\nfunction processFile(filename) {\n    let fileHandle = `handle_${filename}`;\n    console.log(`Opening file: ${filename}`);\n    \n    try {\n        if (filename === "error.txt") {\n            throw new Error("File not found");\n        }\n        console.log(`Processing ${filename}...`);\n        return "File processed successfully";\n    } catch (error) {\n        console.log(`Error processing ${filename}:`, error.message);\n        throw error;  // Re-throw\n    } finally {\n        console.log(`Closing file handle: ${fileHandle}`);\n    }\n}\n\ntry {\n    console.log(processFile("data.txt"));\n} catch (error) {\n    console.log("Caught by caller:", error.message);\n}\n\ntry {\n    console.log(processFile("error.txt"));\n} catch (error) {\n    console.log("Caught by caller:", error.message);\n}\nconsole.log();\n\nconsole.log("=== Error Propagation ===");\nfunction level1() {\n    console.log("Level 1: calling level2");\n    level2();\n}\n\nfunction level2() {\n    console.log("Level 2: calling level3");\n    level3();\n}\n\nfunction level3() {\n    console.log("Level 3: throwing error");\n    throw new Error("Error originated in level3");\n}\n\ntry {\n    level1();\n} catch (error) {\n    console.log("Caught at top level:", error.message);\n    console.log("Stack trace:", error.stack.split("\\n")[0]);\n}\nconsole.log();\n\nconsole.log("=== Handling Specific Error Types ===");\nfunction riskyOperation(type) {\n    if (type === "reference") {\n        console.log(nonExistent);  // ReferenceError\n    } else if (type === "type") {\n        let x = null;\n        x.method();  // TypeError\n    } else if (type === "range") {\n        let arr = new Array(-1);  // RangeError\n    } else {\n        throw new Error("Unknown operation type");\n    }\n}\n\nlet operations = ["reference", "type", "range", "unknown"];\n\noperations.forEach(op => {\n    try {\n        riskyOperation(op);\n    } catch (error) {\n        if (error instanceof ReferenceError) {\n            console.log(`ReferenceError: ${error.message}`);\n        } else if (error instanceof TypeError) {\n            console.log(`TypeError: ${error.message}`);\n        } else if (error instanceof RangeError) {\n            console.log(`RangeError: ${error.message}`);\n        } else {\n            console.log(`Other error: ${error.message}`);\n        }\n    }\n});\nconsole.log();\n\nconsole.log("=== Safe Array Access ===");\nfunction safeArrayAccess(arr, index) {\n    try {\n        if (!Array.isArray(arr)) {\n            throw new TypeError("First argument must be an array");\n        }\n        if (typeof index !== "number") {\n            throw new TypeError("Index must be a number");\n        }\n        if (index < 0 || index >= arr.length) {\n            throw new RangeError(`Index ${index} is out of bounds`);\n        }\n        return arr[index];\n    } catch (error) {\n        console.log(`Error accessing array: ${error.message}`);\n        return null;\n    }\n}\n\nlet numbers = [10, 20, 30, 40, 50];\nconsole.log(safeArrayAccess(numbers, 2));    // 30\nconsole.log(safeArrayAccess(numbers, 10));   // Error\nconsole.log(safeArrayAccess(numbers, -1));   // Error\nconsole.log(safeArrayAccess("not array", 0)); // Error\n```\n\n**Expected Output**:\n```\n=== Basic Try-Catch ===\nResult: Infinity\nCaught: ReferenceError - undefinedVariable is not defined\n\n=== Custom Error with Throw ===\n5\nError: Division by zero is not allowed\nError: Both arguments must be numbers\n\n=== Validation Function ===\nAge 25 is valid\nAge -5: RangeError - Age cannot be negative\nAge thirty: TypeError - Age must be a number\nAge 25.5: Error - Age must be an integer\nAge 200: RangeError - Age seems unrealistic\n\n=== Finally Block ===\nOpening file: data.txt\nProcessing data.txt...\nClosing file handle: handle_data.txt\nFile processed successfully\nOpening file: error.txt\nError processing error.txt: File not found\nClosing file handle: handle_error.txt\nCaught by caller: File not found\n\n=== Error Propagation ===\nLevel 1: calling level2\nLevel 2: calling level3\nLevel 3: throwing error\nCaught at top level: Error originated in level3\nStack trace: Error: Error originated in level3\n\n=== Handling Specific Error Types ===\nReferenceError: nonExistent is not defined\nTypeError: Cannot read property ''method'' of null\nRangeError: Invalid array length\nOther error: Unknown operation type\n\n=== Safe Array Access ===\n30\nError accessing array: Index 10 is out of bounds\nError accessing array: Index -1 is out of bounds\nError accessing array: First argument must be an array\n```\n\n**Challenge (Optional)**:\n- Create a robust input validation system\n- Build error logging functionality\n- Create custom error classes\n- Implement retry logic with error handling\n- Build a safe API caller with error handling\n\n---\n\n## Common Mistakes\n\n### 1. Swallowing Errors\n\n```javascript\n// ❌ Bad: Silent failure\ntry {\n    riskyOperation();\n} catch (error) {\n    // Do nothing - hides bugs!\n}\n\n// ✅ Good: Log or handle\ntry {\n    riskyOperation();\n} catch (error) {\n    console.error("Operation failed:", error);\n    // Or handle appropriately\n}\n```\n\n### 2. Catching Too Broadly\n\n```javascript\n// ⚠️ Catches everything\ntry {\n    // Lots of code\n} catch (error) {\n    // Might hide unexpected errors\n}\n\n// ✅ Better: Be specific\ntry {\n    // Code\n} catch (error) {\n    if (error instanceof ExpectedError) {\n        // Handle expected error\n    } else {\n        throw error;  // Re-throw unexpected\n    }\n}\n```\n\n### 3. Not Using finally for Cleanup\n\n```javascript\n// ❌ Resource might not be cleaned up\nlet resource = acquire();\ntry {\n    use(resource);\n} catch (error) {\n    handle(error);\n}\n// What if error occurs? Resource not cleaned up!\n\n// ✅ Always cleanup\nlet resource = acquire();\ntry {\n    use(resource);\n} catch (error) {\n    handle(error);\n} finally {\n    cleanup(resource);\n}\n```\n\n### 4. Throwing Non-Error Values\n\n```javascript\n// ⚠️ Works but not ideal\nthrow "Error message";\n\n// ✅ Better: Use Error object\nthrow new Error("Error message");\n```\n\n### 5. Not Providing Context\n\n```javascript\n// ❌ Vague\nthrow new Error("Error");\n\n// ✅ Specific\nthrow new Error(`Failed to process user ${userId}: ${originalError.message}`);\n```\n\n---\n\n## Key Takeaways\n\n1. **try-catch**: Handle errors gracefully\n2. **throw**: Create and throw custom errors\n3. **finally**: Always executes, useful for cleanup\n4. **Error Types**: ReferenceError, TypeError, RangeError, etc.\n5. **Error Propagation**: Errors bubble up until caught\n6. **Best Practices**: Be specific, handle appropriately, use finally\n7. **Don''t Swallow**: Always log or handle errors\n\n---\n\n## Quiz: Error Handling\n\nTest your understanding with these questions:\n\n1. **What does a try-catch block do?**\n   - A) Prevents all errors\n   - B) Handles errors gracefully\n   - C) Stops program execution\n   - D) Nothing\n\n2. **When does a finally block execute?**\n   - A) Only if error occurs\n   - B) Only if no error\n   - C) Always\n   - D) Never\n\n3. **What is thrown when accessing undefined variable?**\n   - A) TypeError\n   - B) ReferenceError\n   - C) SyntaxError\n   - D) RangeError\n\n4. **What does `throw` do?**\n   - A) Catches errors\n   - B) Creates and throws errors\n   - C) Prevents errors\n   - D) Logs errors\n\n5. **What happens to uncaught errors?**\n   - A) They''re ignored\n   - B) They crash the program\n   - C) They''re logged automatically\n   - D) They''re converted to warnings\n\n6. **Which is best practice?**\n   - A) Catch all errors silently\n   - B) Use specific error handling\n   - C) Never use try-catch\n   - D) Always throw errors\n\n7. **What does `error.message` contain?**\n   - A) Error name\n   - B) Error description\n   - C) Stack trace\n   - D) Error type\n\n**Answers**:\n1. B) Handles errors gracefully\n2. C) Always\n3. B) ReferenceError\n4. B) Creates and throws errors\n5. B) They crash the program (in browser/Node.js)\n6. B) Use specific error handling\n7. B) Error description\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 3: Control Flow. You now know:\n- Conditional statements (if, else, switch)\n- All types of loops\n- Error handling with try-catch\n\n**What''s Next?**\n- Module 4: Functions\n- Lesson 4.1: Function Basics\n- Practice combining control flow concepts\n- Build more complex programs\n\n---\n\n## Additional Resources\n\n- **MDN: try...catch**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch)\n- **MDN: throw**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/throw](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/throw)\n- **MDN: Error**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)\n- **JavaScript.info: Error Handling**: [javascript.info/error-handling](https://javascript.info/error-handling)\n\n---\n\n*Lesson completed! You''ve finished Module 3: Control Flow. Ready for Module 4: Functions!*\n\n', NULL, 3, '2026-01-03 09:13:00', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use try-catch blocks to handle errors\n- Throw custom errors with throw statements\n- Use finally blocks for cleanup code\n- Identify and handle common error types\n- Write robust error handling code\n- Understand error propagation\n- Create custom error messages');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (117, 44, 10, 'Function Basics', 'function-basics', '# Lesson 4.1: Function Basics\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Declare functions using function declarations\n- Create functions using function expressions\n- Write arrow functions (ES6)\n- Understand function parameters and arguments\n- Use return statements effectively\n- Call functions and pass arguments\n- Write reusable, modular code\n\n---\n\n## Introduction to Functions\n\nFunctions are reusable blocks of code that perform specific tasks. They are fundamental to JavaScript and enable:\n- Code reusability\n- Modularity\n- Abstraction\n- Organization\n\n### Why Use Functions?\n\n- **Avoid Repetition**: Write once, use many times\n- **Organization**: Break code into logical pieces\n- **Maintainability**: Update in one place\n- **Testing**: Test individual functions\n- **Readability**: Clear, descriptive names\n\n---\n\n## Function Declarations\n\nFunction declarations define a function with a name. They are hoisted (can be called before they''re defined).\n\n### Basic Syntax\n\n```javascript\nfunction functionName(parameters) {\n    // Function body\n    return value;\n}\n```\n\n### Simple Example\n\n```javascript\nfunction greet() {\n    console.log("Hello, World!");\n}\n\ngreet();  // Call the function\n// Output: "Hello, World!"\n```\n\n### Function with Parameters\n\n```javascript\nfunction greet(name) {\n    console.log(`Hello, ${name}!`);\n}\n\ngreet("Alice");  // "Hello, Alice!"\ngreet("Bob");    // "Hello, Bob!"\n```\n\n### Function with Return Value\n\n```javascript\nfunction add(a, b) {\n    return a + b;\n}\n\nlet result = add(5, 3);\nconsole.log(result);  // 8\n```\n\n### Multiple Parameters\n\n```javascript\nfunction calculateTotal(price, quantity, tax) {\n    let subtotal = price * quantity;\n    let total = subtotal + (subtotal * tax);\n    return total;\n}\n\nlet total = calculateTotal(10, 3, 0.1);\nconsole.log(total);  // 33\n```\n\n### Real-World Examples\n\n```javascript\n// Calculate area of rectangle\nfunction calculateArea(width, height) {\n    return width * height;\n}\n\nlet area = calculateArea(10, 5);\nconsole.log(area);  // 50\n\n// Check if number is even\nfunction isEven(number) {\n    return number % 2 === 0;\n}\n\nconsole.log(isEven(4));   // true\nconsole.log(isEven(7));   // false\n\n// Get full name\nfunction getFullName(firstName, lastName) {\n    return `${firstName} ${lastName}`;\n}\n\nlet name = getFullName("Alice", "Smith");\nconsole.log(name);  // "Alice Smith"\n```\n\n### Function Hoisting\n\nFunction declarations are hoisted - you can call them before they''re defined:\n\n```javascript\n// Call before declaration\nsayHello();\n\nfunction sayHello() {\n    console.log("Hello!");\n}\n// Works! Function is hoisted\n```\n\n---\n\n## Function Expressions\n\nFunction expressions create functions and assign them to variables. They are not hoisted.\n\n### Basic Syntax\n\n```javascript\nlet functionName = function(parameters) {\n    // Function body\n    return value;\n};\n```\n\n### Simple Example\n\n```javascript\nlet greet = function() {\n    console.log("Hello, World!");\n};\n\ngreet();  // "Hello, World!"\n```\n\n### Function Expression with Parameters\n\n```javascript\nlet add = function(a, b) {\n    return a + b;\n};\n\nlet result = add(5, 3);\nconsole.log(result);  // 8\n```\n\n### Anonymous Functions\n\nFunction expressions are often anonymous (no name):\n\n```javascript\nlet multiply = function(x, y) {\n    return x * y;\n};\n```\n\n### Named Function Expressions\n\nYou can give function expressions names (useful for debugging):\n\n```javascript\nlet divide = function divideNumbers(a, b) {\n    return a / b;\n};\n```\n\n### No Hoisting\n\nFunction expressions are NOT hoisted:\n\n```javascript\n// ❌ Error: Cannot access before initialization\nsayHello();\n\nlet sayHello = function() {\n    console.log("Hello!");\n};\n```\n\n### When to Use Function Expressions\n\n- When you need a function as a value\n- For callbacks\n- When hoisting behavior matters\n- For immediately invoked functions (IIFE)\n\n---\n\n## Arrow Functions (ES6)\n\nArrow functions provide a shorter syntax for writing functions. They have some differences from regular functions.\n\n### Basic Syntax\n\n```javascript\n// Regular function\nfunction add(a, b) {\n    return a + b;\n}\n\n// Arrow function\nlet add = (a, b) => {\n    return a + b;\n};\n```\n\n### Single Expression (Implicit Return)\n\nIf the function body is a single expression, you can omit braces and return:\n\n```javascript\n// Regular function\nfunction multiply(a, b) {\n    return a * b;\n}\n\n// Arrow function (implicit return)\nlet multiply = (a, b) => a * b;\n```\n\n### Single Parameter\n\nIf there''s only one parameter, you can omit parentheses:\n\n```javascript\n// Regular function\nfunction square(x) {\n    return x * x;\n}\n\n// Arrow function\nlet square = x => x * x;\n```\n\n### No Parameters\n\nIf there are no parameters, use empty parentheses:\n\n```javascript\n// Regular function\nfunction greet() {\n    return "Hello!";\n}\n\n// Arrow function\nlet greet = () => "Hello!";\n```\n\n### Multiple Statements\n\nFor multiple statements, use braces and explicit return:\n\n```javascript\nlet calculate = (a, b) => {\n    let sum = a + b;\n    let product = a * b;\n    return sum + product;\n};\n```\n\n### Examples\n\n```javascript\n// Simple calculation\nlet add = (a, b) => a + b;\nconsole.log(add(5, 3));  // 8\n\n// Check even\nlet isEven = num => num % 2 === 0;\nconsole.log(isEven(4));  // true\n\n// Get first character\nlet firstChar = str => str[0];\nconsole.log(firstChar("Hello"));  // "H"\n\n// Multiple statements\nlet process = (x, y) => {\n    let sum = x + y;\n    let diff = x - y;\n    return { sum, diff };\n};\n```\n\n### Arrow Functions vs Regular Functions\n\n**Key Differences:**\n- Arrow functions don''t have their own `this` (covered later)\n- Arrow functions can''t be used as constructors\n- Arrow functions don''t have `arguments` object\n- Arrow functions are always anonymous\n\n**When to Use Arrow Functions:**\n- Short, simple functions\n- Callbacks\n- Array methods (map, filter, etc.)\n- When you don''t need `this` binding\n\n---\n\n## Function Parameters and Arguments\n\n### Parameters vs Arguments\n\n- **Parameters**: Variables in the function definition\n- **Arguments**: Values passed when calling the function\n\n```javascript\n// Parameters: a and b\nfunction add(a, b) {\n    return a + b;\n}\n\n// Arguments: 5 and 3\nlet result = add(5, 3);\n```\n\n### Multiple Parameters\n\n```javascript\nfunction introduce(name, age, city) {\n    console.log(`I''m ${name}, ${age} years old, from ${city}`);\n}\n\nintroduce("Alice", 25, "New York");\n// Output: "I''m Alice, 25 years old, from New York"\n```\n\n### Parameter Order Matters\n\n```javascript\nfunction greet(greeting, name) {\n    console.log(`${greeting}, ${name}!`);\n}\n\ngreet("Hello", "Alice");  // "Hello, Alice!"\ngreet("Alice", "Hello");  // "Alice, Hello!" (wrong order!)\n```\n\n### Missing Arguments\n\nIf you call a function with fewer arguments than parameters, missing parameters are `undefined`:\n\n```javascript\nfunction greet(name, greeting) {\n    console.log(`${greeting}, ${name}!`);\n}\n\ngreet("Alice");  // "undefined, Alice!"\n```\n\n### Extra Arguments\n\nExtra arguments are ignored:\n\n```javascript\nfunction add(a, b) {\n    return a + b;\n}\n\nconsole.log(add(1, 2, 3, 4, 5));  // 3 (only uses first two)\n```\n\n### Arguments Object\n\nRegular functions have access to an `arguments` object:\n\n```javascript\nfunction sum() {\n    let total = 0;\n    for (let i = 0; i < arguments.length; i++) {\n        total += arguments[i];\n    }\n    return total;\n}\n\nconsole.log(sum(1, 2, 3, 4, 5));  // 15\n```\n\n**Note**: Arrow functions don''t have `arguments` object.\n\n---\n\n## Return Statements\n\nThe `return` statement specifies the value a function returns. Functions without `return` return `undefined`.\n\n### Basic Return\n\n```javascript\nfunction add(a, b) {\n    return a + b;\n}\n\nlet result = add(5, 3);\nconsole.log(result);  // 8\n```\n\n### Early Return\n\nYou can return early to exit a function:\n\n```javascript\nfunction checkAge(age) {\n    if (age < 0) {\n        return "Invalid age";\n    }\n    if (age < 18) {\n        return "Minor";\n    }\n    return "Adult";\n}\n\nconsole.log(checkAge(25));  // "Adult"\nconsole.log(checkAge(-5));   // "Invalid age"\n```\n\n### Multiple Return Points\n\n```javascript\nfunction getGrade(score) {\n    if (score >= 90) return "A";\n    if (score >= 80) return "B";\n    if (score >= 70) return "C";\n    if (score >= 60) return "D";\n    return "F";\n}\n\nconsole.log(getGrade(85));  // "B"\n```\n\n### Returning Objects\n\n```javascript\nfunction createUser(name, age) {\n    return {\n        name: name,\n        age: age,\n        isAdult: age >= 18\n    };\n}\n\nlet user = createUser("Alice", 25);\nconsole.log(user);  // { name: "Alice", age: 25, isAdult: true }\n```\n\n### Returning Arrays\n\n```javascript\nfunction getEvenNumbers(max) {\n    let evens = [];\n    for (let i = 2; i <= max; i += 2) {\n        evens.push(i);\n    }\n    return evens;\n}\n\nlet numbers = getEvenNumbers(10);\nconsole.log(numbers);  // [2, 4, 6, 8, 10]\n```\n\n### No Return Statement\n\nFunctions without `return` return `undefined`:\n\n```javascript\nfunction doSomething() {\n    console.log("Doing something");\n    // No return statement\n}\n\nlet result = doSomething();\nconsole.log(result);  // undefined\n```\n\n### Return Stops Execution\n\nAfter `return`, no code executes:\n\n```javascript\nfunction test() {\n    console.log("Before return");\n    return "Done";\n    console.log("After return");  // Never executes\n}\n\nconsole.log(test());\n// Output: "Before return", "Done"\n```\n\n---\n\n## Calling Functions\n\n### Basic Function Call\n\n```javascript\nfunction greet() {\n    console.log("Hello!");\n}\n\ngreet();  // Call the function\n```\n\n### Calling with Arguments\n\n```javascript\nfunction add(a, b) {\n    return a + b;\n}\n\nlet result = add(5, 3);  // Call with arguments\nconsole.log(result);\n```\n\n### Storing Function in Variable\n\n```javascript\nfunction multiply(a, b) {\n    return a * b;\n}\n\nlet calc = multiply;  // Store function reference\nconsole.log(calc(5, 3));  // 15\n```\n\n### Functions as Values\n\nFunctions are first-class citizens - they can be:\n- Assigned to variables\n- Passed as arguments\n- Returned from functions\n- Stored in data structures\n\n```javascript\n// Assign to variable\nlet myFunction = function() {\n    return "Hello";\n};\n\n// Pass as argument\nfunction callFunction(fn) {\n    return fn();\n}\n\nconsole.log(callFunction(myFunction));  // "Hello"\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Writing Functions\n\n**Objective**: Write various functions demonstrating different function types and concepts.\n\n**Instructions**:\n\n1. Create a file called `functions-practice.js`\n\n2. Write functions using different styles:\n   - Function declarations\n   - Function expressions\n   - Arrow functions\n\n3. Create functions for:\n   - Mathematical operations (add, subtract, multiply, divide)\n   - String operations (reverse, capitalize, count words)\n   - Validation (isEven, isPositive, isValidEmail)\n   - Data transformation (convert temperature, format currency)\n\n4. Test all functions with different inputs\n\n**Example Solution**:\n\n```javascript\n// Functions Practice\nconsole.log("=== Function Declarations ===");\n\n// Math functions\nfunction add(a, b) {\n    return a + b;\n}\n\nfunction subtract(a, b) {\n    return a - b;\n}\n\nfunction multiply(a, b) {\n    return a * b;\n}\n\nfunction divide(a, b) {\n    if (b === 0) {\n        return "Cannot divide by zero";\n    }\n    return a / b;\n}\n\nconsole.log("Add:", add(10, 5));           // 15\nconsole.log("Subtract:", subtract(10, 5)); // 5\nconsole.log("Multiply:", multiply(10, 5)); // 50\nconsole.log("Divide:", divide(10, 5));     // 2\nconsole.log("Divide by zero:", divide(10, 0));\nconsole.log();\n\nconsole.log("=== Function Expressions ===");\n\n// String functions\nlet reverseString = function(str) {\n    return str.split("").reverse().join("");\n};\n\nlet capitalize = function(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n};\n\nlet countWords = function(str) {\n    return str.trim().split(/\\s+/).length;\n};\n\nconsole.log("Reverse:", reverseString("Hello"));      // "olleH"\nconsole.log("Capitalize:", capitalize("hello"));      // "Hello"\nconsole.log("Count words:", countWords("Hello world")); // 2\nconsole.log();\n\nconsole.log("=== Arrow Functions ===");\n\n// Validation functions\nlet isEven = num => num % 2 === 0;\nlet isPositive = num => num > 0;\nlet isValidEmail = email => email.includes("@") && email.includes(".");\n\n// Temperature conversion\nlet celsiusToFahrenheit = celsius => (celsius * 9/5) + 32;\nlet fahrenheitToCelsius = fahrenheit => (fahrenheit - 32) * 5/9;\n\n// Currency formatting\nlet formatCurrency = (amount, currency = "$") => {\n    return `${currency}${amount.toFixed(2)}`;\n};\n\nconsole.log("Is even:", isEven(4));                    // true\nconsole.log("Is positive:", isPositive(-5));           // false\nconsole.log("Valid email:", isValidEmail("test@email.com")); // true\nconsole.log("C to F:", celsiusToFahrenheit(25));       // 77\nconsole.log("F to C:", fahrenheitToCelsius(77));       // 25\nconsole.log("Currency:", formatCurrency(1234.56));     // "$1234.56"\nconsole.log();\n\nconsole.log("=== Complex Functions ===");\n\n// Function with multiple statements\nfunction calculateTotal(items, taxRate) {\n    let subtotal = 0;\n    for (let item of items) {\n        subtotal += item.price * item.quantity;\n    }\n    let tax = subtotal * taxRate;\n    return {\n        subtotal: subtotal,\n        tax: tax,\n        total: subtotal + tax\n    };\n}\n\nlet cart = [\n    { price: 10, quantity: 2 },\n    { price: 5, quantity: 3 }\n];\n\nlet total = calculateTotal(cart, 0.1);\nconsole.log("Cart total:", total);\n// { subtotal: 35, tax: 3.5, total: 38.5 }\nconsole.log();\n\nconsole.log("=== Functions with Early Return ===");\n\nfunction getGrade(score) {\n    if (score < 0 || score > 100) {\n        return "Invalid score";\n    }\n    if (score >= 90) return "A";\n    if (score >= 80) return "B";\n    if (score >= 70) return "C";\n    if (score >= 60) return "D";\n    return "F";\n}\n\nconsole.log("Grade (95):", getGrade(95));   // "A"\nconsole.log("Grade (85):", getGrade(85));   // "B"\nconsole.log("Grade (75):", getGrade(75));   // "C"\nconsole.log("Grade (105):", getGrade(105)); // "Invalid score"\nconsole.log();\n\nconsole.log("=== Functions Returning Arrays ===");\n\nfunction getMultiples(number, count) {\n    let multiples = [];\n    for (let i = 1; i <= count; i++) {\n        multiples.push(number * i);\n    }\n    return multiples;\n}\n\nlet multiples = getMultiples(5, 5);\nconsole.log("Multiples of 5:", multiples);  // [5, 10, 15, 20, 25]\nconsole.log();\n\nconsole.log("=== Functions as Values ===");\n\nlet operations = {\n    add: (a, b) => a + b,\n    subtract: (a, b) => a - b,\n    multiply: (a, b) => a * b,\n    divide: (a, b) => a / b\n};\n\nfunction calculate(operation, a, b) {\n    if (operations[operation]) {\n        return operations[operation](a, b);\n    }\n    return "Unknown operation";\n}\n\nconsole.log("Calculate add:", calculate("add", 10, 5));        // 15\nconsole.log("Calculate multiply:", calculate("multiply", 10, 5)); // 50\nconsole.log("Calculate unknown:", calculate("power", 10, 5));   // "Unknown operation"\n```\n\n**Expected Output**:\n```\n=== Function Declarations ===\nAdd: 15\nSubtract: 5\nMultiply: 50\nDivide: 2\nDivide by zero: Cannot divide by zero\n\n=== Function Expressions ===\nReverse: olleH\nCapitalize: Hello\nCount words: 2\n\n=== Arrow Functions ===\nIs even: true\nIs positive: false\nValid email: true\nC to F: 77\nF to C: 25\nCurrency: $1234.56\n\n=== Complex Functions ===\nCart total: { subtotal: 35, tax: 3.5, total: 38.5 }\n\n=== Functions with Early Return ===\nGrade (95): A\nGrade (85): B\nGrade (75): C\nGrade (105): Invalid score\n\n=== Functions Returning Arrays ===\nMultiples of 5: [5, 10, 15, 20, 25]\n\n=== Functions as Values ===\nCalculate add: 15\nCalculate multiply: 50\nCalculate unknown: Unknown operation\n```\n\n**Challenge (Optional)**:\n- Create a calculator with multiple operations\n- Build a string manipulation library\n- Create validation functions for forms\n- Build utility functions for common tasks\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting Return Statement\n\n```javascript\n// ❌ Returns undefined\nfunction add(a, b) {\n    a + b;  // Missing return\n}\n\n// ✅ Correct\nfunction add(a, b) {\n    return a + b;\n}\n```\n\n### 2. Calling Function Without Parentheses\n\n```javascript\n// ❌ Doesn''t call function\nlet result = add;  // Stores function, doesn''t call it\n\n// ✅ Correct\nlet result = add(5, 3);  // Calls function\n```\n\n### 3. Parameter vs Argument Confusion\n\n```javascript\n// Parameters: a, b\nfunction multiply(a, b) {\n    return a * b;\n}\n\n// Arguments: 5, 3\nmultiply(5, 3);\n```\n\n### 4. Arrow Function Syntax\n\n```javascript\n// ❌ Wrong syntax\nlet add = a, b => a + b;\n\n// ✅ Correct\nlet add = (a, b) => a + b;\n```\n\n### 5. Hoisting Confusion\n\n```javascript\n// ✅ Works (function declaration)\nsayHello();\nfunction sayHello() {\n    console.log("Hello");\n}\n\n// ❌ Doesn''t work (function expression)\nsayHello();\nlet sayHello = function() {\n    console.log("Hello");\n};\n```\n\n---\n\n## Key Takeaways\n\n1. **Function Declarations**: `function name() {}` - hoisted\n2. **Function Expressions**: `let name = function() {}` - not hoisted\n3. **Arrow Functions**: `() => {}` - shorter syntax, no `this` binding\n4. **Parameters**: Variables in function definition\n5. **Arguments**: Values passed when calling function\n6. **Return**: Specifies function''s return value\n7. **Functions are Values**: Can be assigned, passed, returned\n8. **Choose Style**: Use appropriate function type for context\n\n---\n\n## Quiz: Functions Basics\n\nTest your understanding with these questions:\n\n1. **What is the output of: `function test() { } console.log(test())`?**\n   - A) undefined\n   - B) null\n   - C) Error\n   - D) "test"\n\n2. **Which function type is hoisted?**\n   - A) Function expression\n   - B) Arrow function\n   - C) Function declaration\n   - D) None\n\n3. **What does `return` do?**\n   - A) Stops function execution\n   - B) Returns a value\n   - C) Both A and B\n   - D) Nothing\n\n4. **Arrow functions can omit braces when:**\n   - A) Always\n   - B) Single expression\n   - C) No parameters\n   - D) Never\n\n5. **What are the variables in function definition called?**\n   - A) Arguments\n   - B) Parameters\n   - C) Variables\n   - D) Values\n\n6. **Which is correct arrow function syntax?**\n   - A) `let fn = a => a * 2`\n   - B) `let fn = (a) => a * 2`\n   - C) `let fn = a => { return a * 2 }`\n   - D) All of the above\n\n7. **Functions without return statement return:**\n   - A) null\n   - B) undefined\n   - C) 0\n   - D) Error\n\n**Answers**:\n1. A) undefined (no return statement)\n2. C) Function declaration\n3. C) Both A and B\n4. B) Single expression\n5. B) Parameters\n6. D) All of the above (all are valid)\n7. B) undefined\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned function basics. You now know:\n- How to declare functions\n- Function expressions and arrow functions\n- Parameters and arguments\n- Return statements\n\n**What''s Next?**\n- Lesson 4.2: Function Scope and Hoisting\n- Practice writing different function types\n- Experiment with return values\n- Build reusable functions\n\n---\n\n## Additional Resources\n\n- **MDN: Functions**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions)\n- **MDN: Arrow Functions**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions)\n- **JavaScript.info: Functions**: [javascript.info/function-basics](https://javascript.info/function-basics)\n- **JavaScript.info: Arrow Functions**: [javascript.info/arrow-functions-basics](https://javascript.info/arrow-functions-basics)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:31:17', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Declare functions using function declarations\n- Create functions using function expressions\n- Write arrow functions (ES6)\n- Understand function parameters and arguments\n- Use return statements effectively\n- Call functions and pass arguments\n- Write reusable, modular code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (118, 44, 10, 'Function Scope and Hoisting', 'function-scope-and-hoisting', '# Lesson 4.2: Function Scope and Hoisting\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand global scope vs local scope\n- Work with block scope (let, const)\n- Understand hoisting behavior in JavaScript\n- Know how function hoisting works\n- Understand variable hoisting\n- Avoid common scope-related bugs\n- Write code that uses scope effectively\n\n---\n\n## Introduction to Scope\n\nScope determines where variables and functions are accessible in your code. Understanding scope is crucial for writing correct JavaScript.\n\n### What is Scope?\n\nScope is the context in which variables and functions are accessible. JavaScript has different types of scope:\n- Global scope\n- Function scope\n- Block scope\n\n---\n\n## Global Scope\n\nVariables declared outside any function are in the global scope and accessible everywhere.\n\n### Global Variables\n\n```javascript\n// Global variable\nlet globalVar = "I''m global";\n\nfunction test() {\n    console.log(globalVar);  // Can access global variable\n}\n\ntest();  // "I''m global"\nconsole.log(globalVar);  // "I''m global"\n```\n\n### Global Functions\n\n```javascript\n// Global function\nfunction globalFunction() {\n    console.log("I''m global");\n}\n\n// Can call from anywhere\nglobalFunction();\n```\n\n### Problems with Global Scope\n\n**⚠️ Avoid polluting global scope:**\n```javascript\n// ❌ Too many global variables\nlet userName = "Alice";\nlet userAge = 25;\nlet userCity = "NYC";\nlet userEmail = "alice@example.com";\n// ... many more\n\n// ✅ Better: Use objects\nlet user = {\n    name: "Alice",\n    age: 25,\n    city: "NYC",\n    email: "alice@example.com"\n};\n```\n\n### window Object (Browser)\n\nIn browsers, global variables become properties of the `window` object:\n\n```javascript\nvar globalVar = "Hello";\nconsole.log(window.globalVar);  // "Hello"\nconsole.log(globalVar);         // "Hello" (same thing)\n```\n\n**Note**: `let` and `const` don''t create properties on `window`.\n\n---\n\n## Local/Function Scope\n\nVariables declared inside a function are in local scope and only accessible within that function.\n\n### Function Scope\n\n```javascript\nfunction myFunction() {\n    let localVar = "I''m local";\n    console.log(localVar);  // Can access\n}\n\nmyFunction();\n// console.log(localVar);  // ❌ Error: localVar is not defined\n```\n\n### Multiple Functions\n\nEach function has its own scope:\n\n```javascript\nfunction function1() {\n    let x = 1;\n    console.log(x);  // 1\n}\n\nfunction function2() {\n    let x = 2;  // Different x\n    console.log(x);  // 2\n}\n\nfunction1();  // 1\nfunction2();  // 2\n```\n\n### Nested Functions\n\nInner functions can access outer function variables:\n\n```javascript\nfunction outer() {\n    let outerVar = "outer";\n    \n    function inner() {\n        console.log(outerVar);  // Can access outer variable\n        let innerVar = "inner";\n        console.log(innerVar);  // Can access own variable\n    }\n    \n    inner();\n    // console.log(innerVar);  // ❌ Error: innerVar not accessible\n}\n\nouter();\n```\n\n### Scope Chain\n\nJavaScript looks up the scope chain to find variables:\n\n```javascript\nlet global = "global";\n\nfunction level1() {\n    let level1Var = "level1";\n    \n    function level2() {\n        let level2Var = "level2";\n        \n        function level3() {\n            // Can access all outer scopes\n            console.log(global);      // "global"\n            console.log(level1Var);  // "level1"\n            console.log(level2Var);  // "level2"\n        }\n        \n        level3();\n    }\n    \n    level2();\n}\n\nlevel1();\n```\n\n---\n\n## Block Scope (let, const)\n\n`let` and `const` create block-scoped variables (ES6). They''re only accessible within the block `{}` where they''re declared.\n\n### Block Scope Basics\n\n```javascript\nif (true) {\n    let blockVar = "I''m in a block";\n    console.log(blockVar);  // Can access\n}\n\n// console.log(blockVar);  // ❌ Error: blockVar is not defined\n```\n\n### Block Scope in Loops\n\n```javascript\nfor (let i = 0; i < 3; i++) {\n    console.log(i);  // 0, 1, 2\n}\n\n// console.log(i);  // ❌ Error: i is not defined\n```\n\n### Block Scope vs Function Scope\n\n**var (function scope):**\n```javascript\nfunction test() {\n    if (true) {\n        var x = 5;\n    }\n    console.log(x);  // 5 (accessible in function)\n}\n\ntest();\n```\n\n**let/const (block scope):**\n```javascript\nfunction test() {\n    if (true) {\n        let x = 5;\n    }\n    // console.log(x);  // ❌ Error: x is not defined\n}\n\ntest();\n```\n\n### Multiple Blocks\n\nEach block creates its own scope:\n\n```javascript\n{\n    let x = 1;\n    console.log(x);  // 1\n}\n\n{\n    let x = 2;  // Different x\n    console.log(x);  // 2\n}\n```\n\n### Block Scope in Functions\n\n```javascript\nfunction example() {\n    let functionVar = "function";\n    \n    if (true) {\n        let blockVar = "block";\n        console.log(functionVar);  // ✅ Can access\n        console.log(blockVar);     // ✅ Can access\n    }\n    \n    console.log(functionVar);  // ✅ Can access\n    // console.log(blockVar);  // ❌ Error: not accessible\n}\n```\n\n---\n\n## var vs let vs const Scope\n\n### var (Function Scope)\n\n```javascript\nfunction test() {\n    if (true) {\n        var x = 5;\n    }\n    console.log(x);  // 5 (accessible in function)\n}\n\n// var is function-scoped, not block-scoped\nfor (var i = 0; i < 3; i++) {\n    // i is accessible here\n}\nconsole.log(i);  // 3 (accessible outside loop!)\n```\n\n### let (Block Scope)\n\n```javascript\nfunction test() {\n    if (true) {\n        let x = 5;\n    }\n    // console.log(x);  // ❌ Error: not accessible\n}\n\n// let is block-scoped\nfor (let i = 0; i < 3; i++) {\n    // i is only accessible here\n}\n// console.log(i);  // ❌ Error: not accessible\n```\n\n### const (Block Scope)\n\n```javascript\nfunction test() {\n    if (true) {\n        const x = 5;\n    }\n    // console.log(x);  // ❌ Error: not accessible\n}\n\n// const is block-scoped (same as let)\nfor (const i = 0; i < 3; i++) {\n    // Each iteration has its own i\n}\n```\n\n### Best Practice\n\n**✅ Use `let` and `const` (block scope):**\n```javascript\n// Modern JavaScript\nlet count = 0;\nconst MAX = 100;\n\nif (true) {\n    let temp = 5;\n    // temp only accessible here\n}\n```\n\n**❌ Avoid `var` (legacy):**\n```javascript\n// Old style (avoid)\nvar count = 0;\n```\n\n---\n\n## Hoisting\n\nHoisting is JavaScript''s behavior of moving declarations to the top of their scope before code execution.\n\n### Function Hoisting\n\nFunction declarations are hoisted - you can call them before they''re defined:\n\n```javascript\n// Call before declaration\nsayHello();\n\nfunction sayHello() {\n    console.log("Hello!");\n}\n// Works! Function is hoisted\n```\n\n### How Function Hoisting Works\n\nJavaScript "moves" function declarations to the top:\n\n```javascript\n// What you write:\nconsole.log(typeof myFunction);  // "function"\nmyFunction();  // Works\n\nfunction myFunction() {\n    console.log("Hello");\n}\n\n// What JavaScript "sees":\nfunction myFunction() {\n    console.log("Hello");\n}\n\nconsole.log(typeof myFunction);\nmyFunction();\n```\n\n### Function Expressions Are NOT Hoisted\n\n```javascript\n// ❌ Error: Cannot access before initialization\nsayHello();\n\nlet sayHello = function() {\n    console.log("Hello!");\n};\n```\n\n### Arrow Functions Are NOT Hoisted\n\n```javascript\n// ❌ Error: Cannot access before initialization\nsayHello();\n\nlet sayHello = () => {\n    console.log("Hello!");\n};\n```\n\n---\n\n## Variable Hoisting\n\n### var Hoisting\n\nVariables declared with `var` are hoisted but initialized with `undefined`:\n\n```javascript\nconsole.log(x);  // undefined (not an error!)\nvar x = 5;\nconsole.log(x);  // 5\n```\n\n**What JavaScript "sees":**\n```javascript\nvar x;  // Declaration hoisted\nconsole.log(x);  // undefined\nx = 5;  // Assignment stays in place\nconsole.log(x);  // 5\n```\n\n### let and const Hoisting\n\n`let` and `const` are hoisted but not initialized (Temporal Dead Zone):\n\n```javascript\n// ❌ Error: Cannot access before initialization\nconsole.log(x);\nlet x = 5;\n```\n\n**Temporal Dead Zone (TDZ):**\n- Variables exist but can''t be accessed\n- Period between start of scope and declaration\n- Prevents using variable before declaration\n\n### Hoisting Examples\n\n**var:**\n```javascript\nconsole.log(a);  // undefined\nvar a = 5;\nconsole.log(a);  // 5\n```\n\n**let:**\n```javascript\n// console.log(b);  // ❌ Error: Cannot access\nlet b = 5;\nconsole.log(b);  // 5\n```\n\n**const:**\n```javascript\n// console.log(c);  // ❌ Error: Cannot access\nconst c = 5;\nconsole.log(c);  // 5\n```\n\n### Function vs Variable Hoisting\n\nFunctions are hoisted first, then variables:\n\n```javascript\nconsole.log(typeof myFunc);  // "function" (function hoisted)\nconsole.log(typeof myVar);   // "undefined" (var hoisted but undefined)\n\nfunction myFunc() { }\nvar myVar = 5;\n```\n\n---\n\n## Common Hoisting Scenarios\n\n### Scenario 1: Function Declaration\n\n```javascript\n// ✅ Works\ntest();\n\nfunction test() {\n    console.log("Hello");\n}\n```\n\n### Scenario 2: Function Expression\n\n```javascript\n// ❌ Error\ntest();\n\nlet test = function() {\n    console.log("Hello");\n};\n```\n\n### Scenario 3: var Variable\n\n```javascript\n// ⚠️ Works but x is undefined\nconsole.log(x);  // undefined\nvar x = 5;\n```\n\n### Scenario 4: let Variable\n\n```javascript\n// ❌ Error\nconsole.log(x);\nlet x = 5;\n```\n\n### Scenario 5: Function and Variable\n\n```javascript\nfunction example() {\n    console.log(typeof myVar);  // "undefined" (not "function")\n    var myVar = function() { };\n}\n\nexample();\n```\n\n---\n\n## Scope Best Practices\n\n### 1. Use let and const\n\n```javascript\n// ✅ Good\nlet count = 0;\nconst MAX = 100;\n\n// ❌ Avoid\nvar count = 0;\n```\n\n### 2. Declare Variables at Top\n\n```javascript\n// ✅ Good: Clear scope\nfunction example() {\n    let x = 5;\n    let y = 10;\n    // Use x and y\n}\n\n// ⚠️ Works but less clear\nfunction example() {\n    // Some code\n    let x = 5;\n    // More code\n    let y = 10;\n}\n```\n\n### 3. Avoid Global Variables\n\n```javascript\n// ❌ Bad: Global pollution\nlet userName = "Alice";\nlet userAge = 25;\n\n// ✅ Good: Encapsulate\nlet user = {\n    name: "Alice",\n    age: 25\n};\n```\n\n### 4. Use Block Scope\n\n```javascript\n// ✅ Good: Block scope\nif (condition) {\n    let temp = calculate();\n    // Use temp\n}\n// temp is not accessible (good!)\n\n// ⚠️ Less ideal: Function scope\nif (condition) {\n    var temp = calculate();\n}\n// temp still accessible (might be unwanted)\n```\n\n### 5. Understand Hoisting\n\n```javascript\n// ✅ Good: Declare before use\nfunction example() {\n    let x = 5;\n    console.log(x);\n}\n\n// ⚠️ Works but confusing\nfunction example() {\n    console.log(x);  // undefined (hoisted)\n    var x = 5;\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Scope Practice\n\n**Objective**: Write code that demonstrates different scoping behaviors and hoisting.\n\n**Instructions**:\n\n1. Create a file called `scope-practice.js`\n\n2. Demonstrate:\n   - Global scope variables\n   - Function scope variables\n   - Block scope variables (let, const)\n   - Function hoisting\n   - Variable hoisting (var, let, const)\n   - Nested scopes\n   - Scope chain\n\n3. Show common mistakes and correct patterns\n\n**Example Solution**:\n\n```javascript\n// Scope Practice\nconsole.log("=== Global Scope ===");\nlet globalVar = "I''m global";\n\nfunction accessGlobal() {\n    console.log("Inside function:", globalVar);\n}\n\naccessGlobal();\nconsole.log("Outside function:", globalVar);\nconsole.log();\n\nconsole.log("=== Function Scope ===");\nfunction function1() {\n    let localVar = "Function 1 variable";\n    console.log("Function 1:", localVar);\n}\n\nfunction function2() {\n    let localVar = "Function 2 variable";  // Different variable\n    console.log("Function 2:", localVar);\n}\n\nfunction1();\nfunction2();\n// console.log(localVar);  // ❌ Error: not accessible\nconsole.log();\n\nconsole.log("=== Block Scope (let/const) ===");\nif (true) {\n    let blockVar = "Block variable";\n    const blockConst = "Block constant";\n    console.log("Inside block:", blockVar, blockConst);\n}\n// console.log(blockVar);  // ❌ Error: not accessible\nconsole.log();\n\nconsole.log("=== var vs let Scope ===");\nfunction varExample() {\n    if (true) {\n        var functionScoped = "Function scope";\n    }\n    console.log("var accessible:", functionScoped);  // Accessible\n}\n\nfunction letExample() {\n    if (true) {\n        let blockScoped = "Block scope";\n        console.log("let inside block:", blockScoped);\n    }\n    // console.log(blockScoped);  // ❌ Error: not accessible\n}\n\nvarExample();\nletExample();\nconsole.log();\n\nconsole.log("=== Nested Scopes ===");\nlet outer = "outer";\n\nfunction outerFunction() {\n    let middle = "middle";\n    console.log("Outer function:", outer, middle);\n    \n    function innerFunction() {\n        let inner = "inner";\n        console.log("Inner function:", outer, middle, inner);\n    }\n    \n    innerFunction();\n    // console.log(inner);  // ❌ Error: not accessible\n}\n\nouterFunction();\nconsole.log();\n\nconsole.log("=== Function Hoisting ===");\n// Call before declaration\nhoistedFunction();\n\nfunction hoistedFunction() {\n    console.log("I''m hoisted!");\n}\n\n// Function expression - NOT hoisted\n// notHoisted();  // ❌ Error\n\nlet notHoisted = function() {\n    console.log("I''m not hoisted");\n};\nconsole.log();\n\nconsole.log("=== Variable Hoisting ===");\n// var hoisting\nconsole.log("var before declaration:", hoistedVar);  // undefined\nvar hoistedVar = "I''m hoisted";\nconsole.log("var after declaration:", hoistedVar);\n\n// let hoisting (Temporal Dead Zone)\n// console.log(hoistedLet);  // ❌ Error: Cannot access\nlet hoistedLet = "I''m in TDZ";\nconsole.log("let after declaration:", hoistedLet);\nconsole.log();\n\nconsole.log("=== Scope Chain ===");\nlet level0 = "Level 0";\n\nfunction level1() {\n    let level1Var = "Level 1";\n    console.log("Level 1 can access:", level0, level1Var);\n    \n    function level2() {\n        let level2Var = "Level 2";\n        console.log("Level 2 can access:", level0, level1Var, level2Var);\n        \n        function level3() {\n            let level3Var = "Level 3";\n            console.log("Level 3 can access:", level0, level1Var, level2Var, level3Var);\n        }\n        \n        level3();\n    }\n    \n    level2();\n}\n\nlevel1();\nconsole.log();\n\nconsole.log("=== Block Scope in Loops ===");\nconsole.log("Using let (block scope):");\nfor (let i = 0; i < 3; i++) {\n    setTimeout(() => {\n        console.log("let i:", i);  // 0, 1, 2 (each iteration has own i)\n    }, 100);\n}\n\nconsole.log("Using var (function scope):");\nfor (var j = 0; j < 3; j++) {\n    setTimeout(() => {\n        console.log("var j:", j);  // 3, 3, 3 (shared variable)\n    }, 200);\n}\nconsole.log();\n\nconsole.log("=== Best Practices ===");\n// ✅ Good: Use let/const, declare at top\nfunction goodExample() {\n    let x = 5;\n    let y = 10;\n    \n    if (x > 0) {\n        let temp = x + y;\n        console.log("Temp:", temp);\n    }\n    // temp not accessible (good!)\n}\n\n// ⚠️ Less ideal: var, scattered declarations\nfunction lessIdealExample() {\n    console.log(x);  // undefined (hoisted)\n    var x = 5;\n    \n    if (x > 0) {\n        var temp = x + 5;\n    }\n    console.log(temp);  // Still accessible (might be unwanted)\n}\n\ngoodExample();\nlessIdealExample();\n```\n\n**Expected Output**:\n```\n=== Global Scope ===\nInside function: I''m global\nOutside function: I''m global\n\n=== Function Scope ===\nFunction 1: Function 1 variable\nFunction 2: Function 2 variable\n\n=== Block Scope (let/const) ===\nInside block: Block variable Block constant\n\n=== var vs let Scope ===\nvar accessible: Function scope\nlet inside block: Block scope\n\n=== Nested Scopes ===\nOuter function: outer middle\nInner function: outer middle inner\n\n=== Function Hoisting ===\nI''m hoisted!\n\n=== Variable Hoisting ===\nvar before declaration: undefined\nvar after declaration: I''m hoisted\nlet after declaration: I''m in TDZ\n\n=== Scope Chain ===\nLevel 1 can access: Level 0 Level 1\nLevel 2 can access: Level 0 Level 1 Level 2\nLevel 3 can access: Level 0 Level 1 Level 2 Level 3\n\n=== Block Scope in Loops ===\nUsing let (block scope):\nUsing var (function scope):\nlet i: 0\nlet i: 1\nlet i: 2\nvar j: 3\nvar j: 3\nvar j: 3\n\n=== Best Practices ===\nTemp: 15\nundefined\n15\n```\n\n**Challenge (Optional)**:\n- Create examples showing closure behavior\n- Demonstrate module pattern using scope\n- Show IIFE (Immediately Invoked Function Expression)\n- Create scope-related bugs and fixes\n\n---\n\n## Common Mistakes\n\n### 1. Assuming Block Scope for var\n\n```javascript\n// ⚠️ var is function-scoped, not block-scoped\nif (true) {\n    var x = 5;\n}\nconsole.log(x);  // 5 (accessible!)\n\n// ✅ Use let for block scope\nif (true) {\n    let y = 5;\n}\n// console.log(y);  // ❌ Error: not accessible\n```\n\n### 2. Hoisting Confusion\n\n```javascript\n// ⚠️ Confusing: x is undefined\nconsole.log(x);  // undefined\nvar x = 5;\n\n// ✅ Clear: declare first\nlet y = 5;\nconsole.log(y);  // 5\n```\n\n### 3. Global Variable Pollution\n\n```javascript\n// ❌ Bad: Too many globals\nlet userName = "Alice";\nlet userAge = 25;\nlet userCity = "NYC";\n\n// ✅ Good: Encapsulate\nlet user = {\n    name: "Alice",\n    age: 25,\n    city: "NYC"\n};\n```\n\n### 4. Loop Variable Scope\n\n```javascript\n// ⚠️ Problem with var\nfor (var i = 0; i < 3; i++) {\n    setTimeout(() => {\n        console.log(i);  // 3, 3, 3 (all same!)\n    }, 100);\n}\n\n// ✅ Solution: Use let\nfor (let i = 0; i < 3; i++) {\n    setTimeout(() => {\n        console.log(i);  // 0, 1, 2 (correct!)\n    }, 100);\n}\n```\n\n### 5. Accessing Before Declaration\n\n```javascript\n// ❌ Error with let/const\nconsole.log(x);\nlet x = 5;\n\n// ✅ Declare first\nlet y = 5;\nconsole.log(y);\n```\n\n---\n\n## Key Takeaways\n\n1. **Global Scope**: Variables outside functions, accessible everywhere\n2. **Function Scope**: Variables inside functions, accessible only in function\n3. **Block Scope**: Variables in `{}` blocks (let/const), accessible only in block\n4. **Function Hoisting**: Function declarations can be called before definition\n5. **Variable Hoisting**: var hoisted to undefined, let/const in TDZ\n6. **Scope Chain**: Inner scopes can access outer scopes\n7. **Best Practice**: Use let/const, avoid var, minimize globals\n\n---\n\n## Quiz: Scope and Hoisting\n\nTest your understanding with these questions:\n\n1. **What scope does `var` have?**\n   - A) Block scope\n   - B) Function scope\n   - C) Global scope\n   - D) No scope\n\n2. **What is the output: `console.log(x); var x = 5;`?**\n   - A) 5\n   - B) undefined\n   - C) Error\n   - D) null\n\n3. **Which is hoisted?**\n   - A) Function expression\n   - B) Arrow function\n   - C) Function declaration\n   - D) let variable\n\n4. **What is Temporal Dead Zone?**\n   - A) Error zone\n   - B) Period before let/const initialization\n   - C) Block scope\n   - D) Function scope\n\n5. **Inner functions can access:**\n   - A) Only their own variables\n   - B) Outer function variables\n   - C) Global variables\n   - D) All of the above\n\n6. **What scope do `let` and `const` have?**\n   - A) Function scope\n   - B) Block scope\n   - C) Global scope\n   - D) No scope\n\n7. **Function declarations are:**\n   - A) Not hoisted\n   - B) Hoisted\n   - C) Block scoped\n   - D) Always undefined\n\n**Answers**:\n1. B) Function scope\n2. B) undefined (var is hoisted but undefined)\n3. C) Function declaration\n4. B) Period before let/const initialization\n5. D) All of the above (scope chain)\n6. B) Block scope\n7. B) Hoisted\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned about scope and hoisting. You now know:\n- Global, function, and block scope\n- How hoisting works\n- Differences between var, let, and const\n- Scope chain and nested scopes\n\n**What''s Next?**\n- Lesson 4.3: Advanced Function Concepts\n- Practice with different scoping scenarios\n- Understand closure (uses scope)\n- Build functions with proper scope\n\n---\n\n## Additional Resources\n\n- **MDN: Scope**: [developer.mozilla.org/en-US/docs/Glossary/Scope](https://developer.mozilla.org/en-US/docs/Glossary/Scope)\n- **MDN: Hoisting**: [developer.mozilla.org/en-US/docs/Glossary/Hoisting](https://developer.mozilla.org/en-US/docs/Glossary/Hoisting)\n- **JavaScript.info: Variable Scope**: [javascript.info/var](https://javascript.info/var)\n- **JavaScript.info: Closure**: [javascript.info/closure](https://javascript.info/closure)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:31:17', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand global scope vs local scope\n- Work with block scope (let, const)\n- Understand hoisting behavior in JavaScript\n- Know how function hoisting works\n- Understand variable hoisting\n- Avoid common scope-related bugs\n- Write code that uses scope effectively');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (119, 44, 10, 'Advanced Function Concepts', 'advanced-function-concepts', '# Lesson 4.3: Advanced Function Concepts\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use default parameters in functions\n- Work with rest parameters (...)\n- Use the spread operator effectively\n- Understand and create higher-order functions\n- Use callback functions\n- Combine these concepts in practical scenarios\n\n---\n\n## Introduction\n\nAdvanced function concepts make JavaScript functions more powerful and flexible. These features (mostly from ES6+) enable:\n- More flexible function signatures\n- Better handling of variable arguments\n- Functional programming patterns\n- Cleaner, more expressive code\n\n---\n\n## Default Parameters\n\nDefault parameters allow you to set default values for function parameters if no argument is provided.\n\n### Basic Syntax\n\n```javascript\nfunction functionName(param1 = defaultValue1, param2 = defaultValue2) {\n    // Function body\n}\n```\n\n### Simple Example\n\n```javascript\nfunction greet(name = "Guest") {\n    console.log(`Hello, ${name}!`);\n}\n\ngreet("Alice");  // "Hello, Alice!"\ngreet();         // "Hello, Guest!"\n```\n\n### Multiple Default Parameters\n\n```javascript\nfunction createUser(name = "Anonymous", age = 0, city = "Unknown") {\n    return {\n        name: name,\n        age: age,\n        city: city\n    };\n}\n\nconsole.log(createUser());                    // All defaults\nconsole.log(createUser("Alice"));             // name only\nconsole.log(createUser("Alice", 25));         // name and age\nconsole.log(createUser("Alice", 25, "NYC"));  // All provided\n```\n\n### Default with Expressions\n\nDefault values can be expressions:\n\n```javascript\nfunction calculateTotal(price, quantity = 1, tax = price * 0.1) {\n    return price * quantity + tax;\n}\n\nconsole.log(calculateTotal(100));      // 100 + 10 = 110\nconsole.log(calculateTotal(100, 2));   // 200 + 10 = 210\n```\n\n### Default with Function Calls\n\n```javascript\nfunction getDefaultName() {\n    return "Guest";\n}\n\nfunction greet(name = getDefaultName()) {\n    console.log(`Hello, ${name}!`);\n}\n\ngreet();           // "Hello, Guest!"\ngreet("Alice");    // "Hello, Alice!"\n```\n\n### Skipping Parameters\n\nYou can skip parameters by passing `undefined`:\n\n```javascript\nfunction greet(greeting = "Hello", name = "Guest") {\n    console.log(`${greeting}, ${name}!`);\n}\n\ngreet("Hi", "Alice");        // "Hi, Alice!"\ngreet(undefined, "Alice");   // "Hello, Alice!" (uses default for greeting)\ngreet("Hi");                 // "Hi, Guest!" (uses default for name)\n```\n\n### Practical Examples\n\n```javascript\n// Configuration with defaults\nfunction createConfig(host = "localhost", port = 3000, ssl = false) {\n    return {\n        host: host,\n        port: port,\n        ssl: ssl\n    };\n}\n\n// Math function with default\nfunction power(base, exponent = 2) {\n    return base ** exponent;\n}\n\nconsole.log(power(5));    // 25 (5^2)\nconsole.log(power(5, 3)); // 125 (5^3)\n```\n\n---\n\n## Rest Parameters (...)\n\nRest parameters allow you to represent an indefinite number of arguments as an array.\n\n### Basic Syntax\n\n```javascript\nfunction functionName(...restParams) {\n    // restParams is an array\n}\n```\n\n### Simple Example\n\n```javascript\nfunction sum(...numbers) {\n    let total = 0;\n    for (let num of numbers) {\n        total += num;\n    }\n    return total;\n}\n\nconsole.log(sum(1, 2, 3));        // 6\nconsole.log(sum(1, 2, 3, 4, 5));  // 15\nconsole.log(sum());                // 0\n```\n\n### Rest Must Be Last\n\nRest parameter must be the last parameter:\n\n```javascript\n// ✅ Correct\nfunction example(a, b, ...rest) {\n    console.log(a, b, rest);\n}\n\n// ❌ Error\n// function example(...rest, a) { }\n```\n\n### Combining Regular and Rest Parameters\n\n```javascript\nfunction introduce(firstName, lastName, ...hobbies) {\n    console.log(`Name: ${firstName} ${lastName}`);\n    console.log(`Hobbies: ${hobbies.join(", ")}`);\n}\n\nintroduce("Alice", "Smith", "reading", "coding", "traveling");\n// Name: Alice Smith\n// Hobbies: reading, coding, traveling\n```\n\n### Rest vs Arguments Object\n\n**Rest parameters (modern):**\n```javascript\nfunction sum(...numbers) {\n    return numbers.reduce((a, b) => a + b, 0);\n}\n```\n\n**Arguments object (legacy):**\n```javascript\nfunction sum() {\n    let total = 0;\n    for (let i = 0; i < arguments.length; i++) {\n        total += arguments[i];\n    }\n    return total;\n}\n```\n\n**Benefits of rest parameters:**\n- Real array (can use array methods)\n- Clearer intent\n- Works with arrow functions\n\n### Practical Examples\n\n```javascript\n// Find maximum\nfunction max(...numbers) {\n    return Math.max(...numbers);\n}\n\nconsole.log(max(1, 5, 3, 9, 2));  // 9\n\n// Collect all arguments\nfunction logAll(...args) {\n    args.forEach((arg, index) => {\n        console.log(`Argument ${index}:`, arg);\n    });\n}\n\nlogAll("a", "b", "c");\n```\n\n---\n\n## Spread Operator (...)\n\nThe spread operator expands an iterable (array, string) into individual elements.\n\n### Basic Syntax\n\n```javascript\n...iterable\n```\n\n### Spreading Arrays\n\n```javascript\nlet arr1 = [1, 2, 3];\nlet arr2 = [4, 5, 6];\nlet combined = [...arr1, ...arr2];\nconsole.log(combined);  // [1, 2, 3, 4, 5, 6]\n```\n\n### Function Arguments\n\nSpread array elements as function arguments:\n\n```javascript\nfunction add(a, b, c) {\n    return a + b + c;\n}\n\nlet numbers = [1, 2, 3];\nconsole.log(add(...numbers));  // 6\n// Equivalent to: add(1, 2, 3)\n```\n\n### Copying Arrays\n\n```javascript\nlet original = [1, 2, 3];\nlet copy = [...original];\ncopy.push(4);\nconsole.log(original);  // [1, 2, 3] (unchanged)\nconsole.log(copy);       // [1, 2, 3, 4]\n```\n\n### Combining Arrays\n\n```javascript\nlet arr1 = [1, 2];\nlet arr2 = [3, 4];\nlet arr3 = [5, 6];\n\nlet combined = [...arr1, ...arr2, ...arr3];\nconsole.log(combined);  // [1, 2, 3, 4, 5, 6]\n```\n\n### Spreading Objects (ES2018)\n\n```javascript\nlet obj1 = { a: 1, b: 2 };\nlet obj2 = { c: 3, d: 4 };\nlet combined = { ...obj1, ...obj2 };\nconsole.log(combined);  // { a: 1, b: 2, c: 3, d: 4 }\n```\n\n### Spreading Strings\n\n```javascript\nlet str = "Hello";\nlet chars = [...str];\nconsole.log(chars);  // ["H", "e", "l", "l", "o"]\n```\n\n### Practical Examples\n\n```javascript\n// Math operations\nlet numbers = [1, 5, 3, 9, 2];\nconsole.log(Math.max(...numbers));  // 9\nconsole.log(Math.min(...numbers));  // 1\n\n// Array methods\nlet arr1 = [1, 2, 3];\nlet arr2 = [4, 5, 6];\nlet all = [...arr1, ...arr2, 7, 8, 9];\nconsole.log(all);  // [1, 2, 3, 4, 5, 6, 7, 8, 9]\n\n// Function calls\nfunction greet(greeting, name) {\n    console.log(`${greeting}, ${name}!`);\n}\n\nlet args = ["Hello", "Alice"];\ngreet(...args);  // "Hello, Alice!"\n```\n\n### Rest vs Spread\n\n**Rest** (collects into array):\n```javascript\nfunction collect(...items) {\n    console.log(items);  // Array\n}\ncollect(1, 2, 3);  // [1, 2, 3]\n```\n\n**Spread** (expands array):\n```javascript\nlet arr = [1, 2, 3];\nconsole.log(...arr);  // 1 2 3 (individual elements)\n```\n\n---\n\n## Higher-Order Functions\n\nHigher-order functions are functions that:\n- Take other functions as arguments, or\n- Return functions as results\n\n### Functions as Arguments\n\n```javascript\nfunction operate(a, b, operation) {\n    return operation(a, b);\n}\n\nfunction add(x, y) {\n    return x + y;\n}\n\nfunction multiply(x, y) {\n    return x * y;\n}\n\nconsole.log(operate(5, 3, add));        // 8\nconsole.log(operate(5, 3, multiply));   // 15\n```\n\n### Functions as Return Values\n\n```javascript\nfunction createMultiplier(factor) {\n    return function(number) {\n        return number * factor;\n    };\n}\n\nlet double = createMultiplier(2);\nlet triple = createMultiplier(3);\n\nconsole.log(double(5));   // 10\nconsole.log(triple(5));   // 15\n```\n\n### Arrow Function Version\n\n```javascript\nfunction createMultiplier(factor) {\n    return (number) => number * factor;\n}\n\nlet double = createMultiplier(2);\nconsole.log(double(5));  // 10\n```\n\n### Built-in Higher-Order Functions\n\nJavaScript has many built-in higher-order functions:\n\n**Array.map():**\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet doubled = numbers.map(num => num * 2);\nconsole.log(doubled);  // [2, 4, 6, 8, 10]\n```\n\n**Array.filter():**\n```javascript\nlet numbers = [1, 2, 3, 4, 5, 6];\nlet evens = numbers.filter(num => num % 2 === 0);\nconsole.log(evens);  // [2, 4, 6]\n```\n\n**Array.reduce():**\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet sum = numbers.reduce((acc, num) => acc + num, 0);\nconsole.log(sum);  // 15\n```\n\n### Custom Higher-Order Functions\n\n```javascript\n// Function that takes a function and calls it multiple times\nfunction repeat(times, fn) {\n    for (let i = 0; i < times; i++) {\n        fn(i);\n    }\n}\n\nrepeat(3, (index) => {\n    console.log(`Iteration ${index}`);\n});\n// Iteration 0\n// Iteration 1\n// Iteration 2\n```\n\n### Practical Example: Calculator\n\n```javascript\nfunction calculator(operation) {\n    return function(a, b) {\n        return operation(a, b);\n    };\n}\n\nlet add = calculator((a, b) => a + b);\nlet subtract = calculator((a, b) => a - b);\nlet multiply = calculator((a, b) => a * b);\n\nconsole.log(add(5, 3));        // 8\nconsole.log(subtract(5, 3));   // 2\nconsole.log(multiply(5, 3));   // 15\n```\n\n---\n\n## Callback Functions\n\nA callback function is a function passed as an argument to another function and executed later.\n\n### Basic Callback\n\n```javascript\nfunction greet(name, callback) {\n    console.log(`Hello, ${name}!`);\n    callback();\n}\n\nfunction sayGoodbye() {\n    console.log("Goodbye!");\n}\n\ngreet("Alice", sayGoodbye);\n// Hello, Alice!\n// Goodbye!\n```\n\n### Inline Callbacks\n\n```javascript\nfunction process(data, callback) {\n    console.log("Processing:", data);\n    callback(data);\n}\n\nprocess("test", function(result) {\n    console.log("Callback received:", result);\n});\n```\n\n### Arrow Function Callbacks\n\n```javascript\nfunction process(data, callback) {\n    console.log("Processing:", data);\n    callback(data);\n}\n\nprocess("test", (result) => {\n    console.log("Callback received:", result);\n});\n```\n\n### Common Use Cases\n\n**Array Methods:**\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\n\n// forEach callback\nnumbers.forEach(num => {\n    console.log(num * 2);\n});\n\n// map callback\nlet doubled = numbers.map(num => num * 2);\n\n// filter callback\nlet evens = numbers.filter(num => num % 2 === 0);\n```\n\n**Event Handlers:**\n```javascript\n// Simulated event handler\nfunction onClick(callback) {\n    // Simulate click\n    callback("button clicked");\n}\n\nonClick((event) => {\n    console.log("Event:", event);\n});\n```\n\n**Async Operations:**\n```javascript\nfunction fetchData(callback) {\n    // Simulate async operation\n    setTimeout(() => {\n        callback({ data: "result" });\n    }, 1000);\n}\n\nfetchData((result) => {\n    console.log("Received:", result);\n});\n```\n\n### Error-First Callbacks\n\nCommon pattern in Node.js:\n\n```javascript\nfunction asyncOperation(callback) {\n    // Simulate operation\n    let success = Math.random() > 0.5;\n    \n    if (success) {\n        callback(null, "Success!");\n    } else {\n        callback(new Error("Operation failed"), null);\n    }\n}\n\nasyncOperation((error, result) => {\n    if (error) {\n        console.log("Error:", error.message);\n    } else {\n        console.log("Result:", result);\n    }\n});\n```\n\n### Callback Hell\n\nMultiple nested callbacks can become hard to read:\n\n```javascript\n// ⚠️ Callback hell\noperation1((result1) => {\n    operation2(result1, (result2) => {\n        operation3(result2, (result3) => {\n            operation4(result3, (result4) => {\n                console.log(result4);\n            });\n        });\n    });\n});\n```\n\n**Solution**: Use Promises or async/await (covered later).\n\n---\n\n## Combining Concepts\n\n### Default Parameters + Rest\n\n```javascript\nfunction createUser(name = "Guest", ...hobbies) {\n    return {\n        name: name,\n        hobbies: hobbies\n    };\n}\n\nconsole.log(createUser("Alice", "reading", "coding"));\n// { name: "Alice", hobbies: ["reading", "coding"] }\n```\n\n### Spread + Rest\n\n```javascript\nfunction combine(...arrays) {\n    return [...arrays].flat();\n}\n\nlet arr1 = [1, 2];\nlet arr2 = [3, 4];\nlet arr3 = [5, 6];\n\nconsole.log(combine(arr1, arr2, arr3));  // [1, 2, 3, 4, 5, 6]\n```\n\n### Higher-Order + Callbacks\n\n```javascript\nfunction processArray(arr, callback) {\n    return arr.map(callback);\n}\n\nlet numbers = [1, 2, 3, 4, 5];\nlet doubled = processArray(numbers, num => num * 2);\nconsole.log(doubled);  // [2, 4, 6, 8, 10]\n```\n\n### Complete Example\n\n```javascript\nfunction createCalculator(defaultOperation = "add") {\n    const operations = {\n        add: (a, b) => a + b,\n        subtract: (a, b) => a - b,\n        multiply: (a, b) => a * b\n    };\n    \n    return function(...numbers) {\n        const operation = operations[defaultOperation];\n        return numbers.reduce(operation);\n    };\n}\n\nlet adder = createCalculator("add");\nconsole.log(adder(1, 2, 3, 4));  // 10\n\nlet multiplier = createCalculator("multiply");\nconsole.log(multiplier(2, 3, 4));  // 24\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Advanced Functions\n\n**Objective**: Write functions using default parameters, rest parameters, spread operator, higher-order functions, and callbacks.\n\n**Instructions**:\n\n1. Create a file called `advanced-functions.js`\n\n2. Create functions demonstrating:\n   - Default parameters\n   - Rest parameters\n   - Spread operator\n   - Higher-order functions\n   - Callback functions\n\n3. Combine multiple concepts in practical examples\n\n**Example Solution**:\n\n```javascript\n// Advanced Functions Practice\nconsole.log("=== Default Parameters ===");\n\nfunction greet(name = "Guest", greeting = "Hello") {\n    console.log(`${greeting}, ${name}!`);\n}\n\ngreet("Alice");              // "Hello, Alice!"\ngreet("Bob", "Hi");          // "Hi, Bob!"\ngreet();                     // "Hello, Guest!"\n\nfunction createProduct(name, price = 0, discount = 0) {\n    return {\n        name: name,\n        price: price,\n        discount: discount,\n        finalPrice: price * (1 - discount)\n    };\n}\n\nconsole.log(createProduct("Laptop", 1000, 0.1));\n// { name: "Laptop", price: 1000, discount: 0.1, finalPrice: 900 }\nconsole.log();\n\nconsole.log("=== Rest Parameters ===");\n\nfunction sum(...numbers) {\n    return numbers.reduce((acc, num) => acc + num, 0);\n}\n\nconsole.log("Sum:", sum(1, 2, 3, 4, 5));  // 15\n\nfunction collectInfo(name, age, ...hobbies) {\n    return {\n        name: name,\n        age: age,\n        hobbies: hobbies\n    };\n}\n\nlet info = collectInfo("Alice", 25, "reading", "coding", "traveling");\nconsole.log(info);\nconsole.log();\n\nconsole.log("=== Spread Operator ===");\n\n// Spreading arrays\nlet arr1 = [1, 2, 3];\nlet arr2 = [4, 5, 6];\nlet combined = [...arr1, ...arr2];\nconsole.log("Combined:", combined);  // [1, 2, 3, 4, 5, 6]\n\n// Function arguments\nfunction add(a, b, c) {\n    return a + b + c;\n}\n\nlet numbers = [1, 2, 3];\nconsole.log("Add:", add(...numbers));  // 6\n\n// Math operations\nlet values = [5, 10, 15, 20, 25];\nconsole.log("Max:", Math.max(...values));  // 25\nconsole.log("Min:", Math.min(...values));  // 5\nconsole.log();\n\nconsole.log("=== Higher-Order Functions ===");\n\n// Function that takes function as argument\nfunction applyOperation(a, b, operation) {\n    return operation(a, b);\n}\n\nlet add = (x, y) => x + y;\nlet multiply = (x, y) => x * y;\n\nconsole.log("Add:", applyOperation(5, 3, add));        // 8\nconsole.log("Multiply:", applyOperation(5, 3, multiply)); // 15\n\n// Function that returns function\nfunction createMultiplier(factor) {\n    return (number) => number * factor;\n}\n\nlet double = createMultiplier(2);\nlet triple = createMultiplier(3);\n\nconsole.log("Double 5:", double(5));   // 10\nconsole.log("Triple 5:", triple(5));   // 15\n\n// Custom higher-order function\nfunction repeat(times, callback) {\n    for (let i = 0; i < times; i++) {\n        callback(i);\n    }\n}\n\nrepeat(3, (index) => {\n    console.log(`Iteration ${index}`);\n});\nconsole.log();\n\nconsole.log("=== Callback Functions ===");\n\n// Simple callback\nfunction processData(data, callback) {\n    console.log("Processing:", data);\n    let result = data.toUpperCase();\n    callback(result);\n}\n\nprocessData("hello", (result) => {\n    console.log("Result:", result);\n});\n\n// Array callbacks\nlet numbers = [1, 2, 3, 4, 5];\n\nlet doubled = numbers.map(num => num * 2);\nconsole.log("Doubled:", doubled);  // [2, 4, 6, 8, 10]\n\nlet evens = numbers.filter(num => num % 2 === 0);\nconsole.log("Evens:", evens);  // [2, 4]\n\nlet sum = numbers.reduce((acc, num) => acc + num, 0);\nconsole.log("Sum:", sum);  // 15\nconsole.log();\n\nconsole.log("=== Combining Concepts ===");\n\n// Default + Rest + Spread\nfunction createUser(name = "Guest", age = 0, ...tags) {\n    return {\n        name: name,\n        age: age,\n        tags: tags\n    };\n}\n\nlet user1 = createUser("Alice", 25, "developer", "blogger");\nconsole.log("User 1:", user1);\n\nlet user2 = createUser("Bob");\nconsole.log("User 2:", user2);\n\n// Higher-order + Callback + Spread\nfunction processNumbers(operation, ...numbers) {\n    return numbers.reduce(operation);\n}\n\nlet total = processNumbers((a, b) => a + b, 1, 2, 3, 4, 5);\nconsole.log("Total:", total);  // 15\n\nlet product = processNumbers((a, b) => a * b, 2, 3, 4);\nconsole.log("Product:", product);  // 24\n\n// Complex example\nfunction createValidator(rules) {\n    return function(data) {\n        return rules.every(rule => rule(data));\n    };\n}\n\nlet isPositive = x => x > 0;\nlet isInteger = x => Number.isInteger(x);\nlet isLessThan100 = x => x < 100;\n\nlet validate = createValidator([isPositive, isInteger, isLessThan100]);\n\nconsole.log("Validate 50:", validate(50));    // true\nconsole.log("Validate -5:", validate(-5));    // false\nconsole.log("Validate 150:", validate(150));  // false\n```\n\n**Expected Output**:\n```\n=== Default Parameters ===\nHello, Alice!\nHi, Bob!\nHello, Guest!\n{ name: "Laptop", price: 1000, discount: 0.1, finalPrice: 900 }\n\n=== Rest Parameters ===\nSum: 15\n{ name: "Alice", age: 25, hobbies: ["reading", "coding", "traveling"] }\n\n=== Spread Operator ===\nCombined: [1, 2, 3, 4, 5, 6]\nAdd: 6\nMax: 25\nMin: 5\n\n=== Higher-Order Functions ===\nAdd: 8\nMultiply: 15\nDouble 5: 10\nTriple 5: 15\nIteration 0\nIteration 1\nIteration 2\n\n=== Callback Functions ===\nProcessing: hello\nResult: HELLO\nDoubled: [2, 4, 6, 8, 10]\nEvens: [2, 4]\nSum: 15\n\n=== Combining Concepts ===\nUser 1: { name: "Alice", age: 25, tags: ["developer", "blogger"] }\nUser 2: { name: "Guest", age: 0, tags: [] }\nTotal: 15\nProduct: 24\nValidate 50: true\nValidate -5: false\nValidate 150: false\n```\n\n**Challenge (Optional)**:\n- Create a function builder using higher-order functions\n- Build a validation system with callbacks\n- Create utility functions using all concepts\n- Build a functional programming library\n\n---\n\n## Common Mistakes\n\n### 1. Rest Parameter Position\n\n```javascript\n// ❌ Error: Rest must be last\n// function example(...rest, a) { }\n\n// ✅ Correct\nfunction example(a, ...rest) { }\n```\n\n### 2. Confusing Rest and Spread\n\n```javascript\n// Rest: collects into array\nfunction collect(...items) {\n    console.log(items);  // Array\n}\n\n// Spread: expands array\nlet arr = [1, 2, 3];\nconsole.log(...arr);  // Individual elements\n```\n\n### 3. Default Parameter Order\n\n```javascript\n// ⚠️ Can be confusing\nfunction example(a = 1, b) {\n    // If you want b default, must pass undefined for a\n}\n\n// ✅ Better: Put defaults last\nfunction example(a, b = 1) {\n}\n```\n\n### 4. Callback Not Function\n\n```javascript\n// ❌ Error if callback is not function\nfunction process(callback) {\n    callback();  // Error if callback is not function\n}\n\n// ✅ Check first\nfunction process(callback) {\n    if (typeof callback === "function") {\n        callback();\n    }\n}\n```\n\n### 5. Forgetting Return in Callback\n\n```javascript\n// ⚠️ No return value\nlet doubled = numbers.map(num => {\n    num * 2;  // Missing return\n});\n\n// ✅ With return\nlet doubled = numbers.map(num => {\n    return num * 2;\n});\n\n// ✅ Or implicit return\nlet doubled = numbers.map(num => num * 2);\n```\n\n---\n\n## Key Takeaways\n\n1. **Default Parameters**: Set default values for parameters\n2. **Rest Parameters**: Collect remaining arguments into array\n3. **Spread Operator**: Expand arrays/objects into individual elements\n4. **Higher-Order Functions**: Functions that take/return functions\n5. **Callbacks**: Functions passed as arguments\n6. **Combine Concepts**: Use together for powerful patterns\n7. **Best Practice**: Use modern features (default, rest, spread) over legacy patterns\n\n---\n\n## Quiz: Advanced Functions\n\nTest your understanding with these questions:\n\n1. **What is the output: `function test(a = 1, b) { return a + b; } test(undefined, 2)`?**\n   - A) 3\n   - B) undefined2\n   - C) Error\n   - D) NaN\n\n2. **Rest parameter must be:**\n   - A) First parameter\n   - B) Last parameter\n   - C) Middle parameter\n   - D) Anywhere\n\n3. **What does spread operator do?**\n   - A) Collects into array\n   - B) Expands array/object\n   - C) Creates function\n   - D) Nothing\n\n4. **Higher-order function:**\n   - A) Takes function as argument\n   - B) Returns function\n   - C) Both A and B\n   - D) Neither\n\n5. **What is a callback?**\n   - A) Function passed as argument\n   - B) Function that returns value\n   - C) Default parameter\n   - D) Rest parameter\n\n6. **What is `...args` in function definition?**\n   - A) Spread operator\n   - B) Rest parameter\n   - C) Default parameter\n   - D) Error\n\n7. **Arrow functions can use:**\n   - A) Rest parameters\n   - B) Default parameters\n   - C) Spread operator\n   - D) All of the above\n\n**Answers**:\n1. A) 3 (a uses default 1, b is 2)\n2. B) Last parameter\n3. B) Expands array/object\n4. C) Both A and B\n5. A) Function passed as argument\n6. B) Rest parameter (collects)\n7. D) All of the above\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 4: Functions. You now know:\n- Function basics (declarations, expressions, arrows)\n- Scope and hoisting\n- Advanced concepts (defaults, rest, spread, callbacks)\n\n**What''s Next?**\n- Module 5: Objects and Arrays\n- Lesson 5.1: Objects\n- Practice combining function concepts\n- Build reusable function libraries\n\n---\n\n## Additional Resources\n\n- **MDN: Default Parameters**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters)\n- **MDN: Rest Parameters**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters)\n- **MDN: Spread Syntax**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax)\n- **JavaScript.info: Advanced Functions**: [javascript.info/advanced-functions](https://javascript.info/advanced-functions)\n\n---\n\n*Lesson completed! You''ve finished Module 4: Functions. Ready for Module 5: Objects and Arrays!*\n\n', NULL, 3, '2026-01-03 09:31:17', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use default parameters in functions\n- Work with rest parameters (...)\n- Use the spread operator effectively\n- Understand and create higher-order functions\n- Use callback functions\n- Combine these concepts in practical scenarios');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (120, 45, 10, 'Objects', 'objects', '# Lesson 5.1: Objects\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Create objects using object literals\n- Access object properties using dot and bracket notation\n- Add, modify, and delete object properties\n- Create and use object methods\n- Understand the `this` keyword\n- Work with nested objects\n- Iterate over object properties\n\n---\n\n## Introduction to Objects\n\nObjects are collections of key-value pairs. They''re fundamental to JavaScript and used to represent real-world entities, organize data, and structure code.\n\n### What are Objects?\n\nObjects store data as properties (keys) with associated values. They''re similar to dictionaries in other languages.\n\n```javascript\n// Simple object\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York"\n};\n```\n\n### Why Use Objects?\n\n- Organize related data\n- Represent real-world entities\n- Group functionality (methods)\n- Create complex data structures\n- Enable object-oriented programming\n\n---\n\n## Object Literals\n\nObject literals are the most common way to create objects in JavaScript.\n\n### Basic Syntax\n\n```javascript\nlet objectName = {\n    key1: value1,\n    key2: value2,\n    key3: value3\n};\n```\n\n### Simple Example\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York"\n};\n```\n\n### Different Value Types\n\nObjects can contain any type of value:\n\n```javascript\nlet person = {\n    name: "Alice",           // String\n    age: 25,                  // Number\n    isActive: true,           // Boolean\n    hobbies: ["reading", "coding"],  // Array\n    address: {                // Nested object\n        street: "123 Main St",\n        city: "New York"\n    },\n    greet: function() {        // Function\n        return "Hello!";\n    }\n};\n```\n\n### Empty Object\n\n```javascript\nlet emptyObj = {};\nlet person = {};  // Start empty, add properties later\n```\n\n### Shorthand Property Names (ES6)\n\nIf variable name matches property name:\n\n```javascript\nlet name = "Alice";\nlet age = 25;\n\n// Old way\nlet person = {\n    name: name,\n    age: age\n};\n\n// ES6 shorthand\nlet person = {\n    name,\n    age\n};\n```\n\n---\n\n## Accessing Properties\n\n### Dot Notation\n\nUse dot notation for simple property access:\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25\n};\n\nconsole.log(person.name);  // "Alice"\nconsole.log(person.age);   // 25\n```\n\n### Bracket Notation\n\nUse bracket notation for dynamic property access or when property names contain special characters:\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    "first name": "Alice"  // Property with space\n};\n\nconsole.log(person["name"]);        // "Alice"\nconsole.log(person["age"]);        // 25\nconsole.log(person["first name"]); // "Alice" (required for spaces)\n```\n\n### When to Use Each\n\n**Dot notation** (preferred):\n- Simple property names\n- Known at coding time\n- Cleaner syntax\n\n**Bracket notation** (required when):\n- Property name has spaces or special characters\n- Property name is stored in a variable\n- Property name is computed dynamically\n\n```javascript\nlet person = {\n    name: "Alice",\n    "first name": "Alice"\n};\n\n// Dot notation\nconsole.log(person.name);  // "Alice"\n\n// Bracket notation (required for space)\nconsole.log(person["first name"]);  // "Alice"\n\n// Dynamic access\nlet prop = "name";\nconsole.log(person[prop]);  // "Alice" (must use brackets)\n```\n\n### Accessing Nested Properties\n\n```javascript\nlet person = {\n    name: "Alice",\n    address: {\n        street: "123 Main St",\n        city: "New York",\n        country: {\n            name: "USA",\n            code: "US"\n        }\n    }\n};\n\nconsole.log(person.address.city);                    // "New York"\nconsole.log(person.address.country.name);            // "USA"\nconsole.log(person["address"]["city"]);             // "New York"\nconsole.log(person.address["country"]["name"]);     // "USA"\n```\n\n### Safe Property Access\n\nCheck if property exists before accessing:\n\n```javascript\nlet person = {\n    name: "Alice"\n};\n\n// Check before access\nif (person.age !== undefined) {\n    console.log(person.age);\n}\n\n// Or use optional chaining (ES2020)\nconsole.log(person?.age);  // undefined (no error)\n```\n\n---\n\n## Adding and Modifying Properties\n\n### Adding Properties\n\nYou can add properties to objects at any time:\n\n```javascript\nlet person = {\n    name: "Alice"\n};\n\n// Add new property\nperson.age = 25;\nperson.city = "New York";\n\nconsole.log(person);  // { name: "Alice", age: 25, city: "New York" }\n```\n\n### Modifying Properties\n\nChange existing property values:\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25\n};\n\n// Modify property\nperson.age = 26;\nperson.name = "Alice Smith";\n\nconsole.log(person);  // { name: "Alice Smith", age: 26 }\n```\n\n### Using Bracket Notation\n\n```javascript\nlet person = {};\n\n// Add with bracket notation\nperson["name"] = "Alice";\nperson["age"] = 25;\n\n// Modify with bracket notation\nperson["age"] = 26;\n```\n\n### Dynamic Property Names\n\n```javascript\nlet person = {};\nlet propertyName = "email";\nlet propertyValue = "alice@example.com";\n\nperson[propertyName] = propertyValue;\nconsole.log(person.email);  // "alice@example.com"\n```\n\n### Computed Property Names (ES6)\n\n```javascript\nlet prefix = "user";\nlet person = {\n    [prefix + "Name"]: "Alice",\n    [prefix + "Age"]: 25\n};\n\nconsole.log(person.userName);  // "Alice"\nconsole.log(person.userAge);   // 25\n```\n\n---\n\n## Deleting Properties\n\nUse the `delete` operator to remove properties from objects.\n\n### Basic Deletion\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York"\n};\n\ndelete person.city;\nconsole.log(person);  // { name: "Alice", age: 25 }\n```\n\n### Delete with Dot Notation\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25\n};\n\ndelete person.age;\nconsole.log(person.age);  // undefined\n```\n\n### Delete with Bracket Notation\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25\n};\n\ndelete person["age"];\nconsole.log(person);  // { name: "Alice" }\n```\n\n### Checking if Property Exists\n\n```javascript\nlet person = {\n    name: "Alice"\n};\n\n// Check before deleting\nif ("age" in person) {\n    delete person.age;\n}\n\n// Or check after\ndelete person.age;\nif (!("age" in person)) {\n    console.log("Age property deleted");\n}\n```\n\n### Cannot Delete Variables\n\n```javascript\n// ❌ Cannot delete variables\nlet x = 5;\ndelete x;  // false (doesn''t work)\n\n// ✅ Can delete object properties\nlet obj = { x: 5 };\ndelete obj.x;  // true (works)\n```\n\n---\n\n## Object Methods\n\nMethods are functions stored as object properties.\n\n### Creating Methods\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    greet: function() {\n        return `Hello, I''m ${this.name}`;\n    }\n};\n\nconsole.log(person.greet());  // "Hello, I''m Alice"\n```\n\n### Method Shorthand (ES6)\n\n```javascript\n// Old way\nlet person = {\n    greet: function() {\n        return "Hello!";\n    }\n};\n\n// ES6 shorthand\nlet person = {\n    greet() {\n        return "Hello!";\n    }\n};\n```\n\n### Multiple Methods\n\n```javascript\nlet calculator = {\n    add(a, b) {\n        return a + b;\n    },\n    subtract(a, b) {\n        return a - b;\n    },\n    multiply(a, b) {\n        return a * b;\n    },\n    divide(a, b) {\n        return a / b;\n    }\n};\n\nconsole.log(calculator.add(5, 3));        // 8\nconsole.log(calculator.multiply(5, 3));  // 15\n```\n\n### Methods Accessing Properties\n\n```javascript\nlet person = {\n    firstName: "Alice",\n    lastName: "Smith",\n    getFullName() {\n        return `${this.firstName} ${this.lastName}`;\n    },\n    setAge(age) {\n        this.age = age;\n    }\n};\n\nconsole.log(person.getFullName());  // "Alice Smith"\nperson.setAge(25);\nconsole.log(person.age);            // 25\n```\n\n---\n\n## this Keyword\n\nThe `this` keyword refers to the object that owns the method.\n\n### Understanding this\n\n```javascript\nlet person = {\n    name: "Alice",\n    greet() {\n        console.log(`Hello, I''m ${this.name}`);\n    }\n};\n\nperson.greet();  // "Hello, I''m Alice"\n// this refers to person object\n```\n\n### this in Methods\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    introduce() {\n        return `I''m ${this.name}, ${this.age} years old`;\n    },\n    haveBirthday() {\n        this.age++;\n        return `Happy birthday! Now I''m ${this.age}`;\n    }\n};\n\nconsole.log(person.introduce());     // "I''m Alice, 25 years old"\nconsole.log(person.haveBirthday());  // "Happy birthday! Now I''m 26"\nconsole.log(person.introduce());     // "I''m Alice, 26 years old"\n```\n\n### this Context\n\n`this` depends on how the function is called:\n\n```javascript\nlet person = {\n    name: "Alice",\n    greet() {\n        console.log(this.name);\n    }\n};\n\nperson.greet();  // "Alice" (this = person)\n\nlet greetFunc = person.greet;\ngreetFunc();     // undefined (this = global/window)\n```\n\n### Arrow Functions and this\n\nArrow functions don''t have their own `this` - they inherit from surrounding scope:\n\n```javascript\nlet person = {\n    name: "Alice",\n    regular: function() {\n        console.log(this.name);  // "Alice"\n    },\n    arrow: () => {\n        console.log(this.name);  // undefined (no this binding)\n    }\n};\n\nperson.regular();  // "Alice"\nperson.arrow();    // undefined\n```\n\n**Best Practice**: Use regular functions for object methods that need `this`.\n\n---\n\n## Nested Objects\n\nObjects can contain other objects, creating nested structures.\n\n### Simple Nesting\n\n```javascript\nlet person = {\n    name: "Alice",\n    address: {\n        street: "123 Main St",\n        city: "New York",\n        zipCode: "10001"\n    }\n};\n\nconsole.log(person.address.city);  // "New York"\n```\n\n### Deep Nesting\n\n```javascript\nlet company = {\n    name: "Tech Corp",\n    location: {\n        address: {\n            street: "123 Tech St",\n            city: "San Francisco",\n            country: {\n                name: "USA",\n                code: "US"\n            }\n        }\n    }\n};\n\nconsole.log(company.location.address.country.name);  // "USA"\n```\n\n### Modifying Nested Objects\n\n```javascript\nlet person = {\n    name: "Alice",\n    address: {\n        city: "New York"\n    }\n};\n\n// Modify nested property\nperson.address.city = "Boston";\nperson.address.street = "456 Oak Ave";\n\n// Add nested property\nperson.address.zipCode = "02101";\n\nconsole.log(person.address);\n// { city: "Boston", street: "456 Oak Ave", zipCode: "02101" }\n```\n\n---\n\n## Iterating Over Objects\n\n### for...in Loop\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York"\n};\n\nfor (let key in person) {\n    console.log(key + ": " + person[key]);\n}\n// name: Alice\n// age: 25\n// city: New York\n```\n\n### Object.keys()\n\nGet array of property names:\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York"\n};\n\nlet keys = Object.keys(person);\nconsole.log(keys);  // ["name", "age", "city"]\n\nkeys.forEach(key => {\n    console.log(key, person[key]);\n});\n```\n\n### Object.values()\n\nGet array of property values:\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York"\n};\n\nlet values = Object.values(person);\nconsole.log(values);  // ["Alice", 25, "New York"]\n```\n\n### Object.entries()\n\nGet array of [key, value] pairs:\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York"\n};\n\nlet entries = Object.entries(person);\nconsole.log(entries);\n// [["name", "Alice"], ["age", 25], ["city", "New York"]]\n\nentries.forEach(([key, value]) => {\n    console.log(key, value);\n});\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Object Manipulation\n\n**Objective**: Create and manipulate objects using various techniques.\n\n**Instructions**:\n\n1. Create a file called `objects-practice.js`\n\n2. Create objects for:\n   - A person with properties and methods\n   - A product with nested properties\n   - A calculator with methods\n\n3. Practice:\n   - Creating objects with literals\n   - Accessing properties (dot and bracket)\n   - Adding and modifying properties\n   - Deleting properties\n   - Creating and using methods\n   - Using `this` keyword\n   - Iterating over objects\n\n**Example Solution**:\n\n```javascript\n// Objects Practice\nconsole.log("=== Creating Objects ===");\n\n// Person object\nlet person = {\n    firstName: "Alice",\n    lastName: "Smith",\n    age: 25,\n    city: "New York",\n    isActive: true\n};\n\nconsole.log("Person:", person);\nconsole.log();\n\nconsole.log("=== Accessing Properties ===");\n// Dot notation\nconsole.log("Name (dot):", person.firstName);\nconsole.log("Age (dot):", person.age);\n\n// Bracket notation\nconsole.log("Name (bracket):", person["firstName"]);\nconsole.log("Age (bracket):", person["age"]);\n\n// Dynamic access\nlet property = "city";\nconsole.log("City (dynamic):", person[property]);\nconsole.log();\n\nconsole.log("=== Adding Properties ===");\nperson.email = "alice@example.com";\nperson["phone"] = "555-1234";\nperson.hobbies = ["reading", "coding"];\n\nconsole.log("After adding:", person);\nconsole.log();\n\nconsole.log("=== Modifying Properties ===");\nperson.age = 26;\nperson["city"] = "Boston";\nperson.hobbies.push("traveling");\n\nconsole.log("After modifying:", person);\nconsole.log();\n\nconsole.log("=== Deleting Properties ===");\ndelete person.phone;\ndelete person["isActive"];\n\nconsole.log("After deleting:", person);\nconsole.log();\n\nconsole.log("=== Object Methods ===");\nlet calculator = {\n    result: 0,\n    add(num) {\n        this.result += num;\n        return this;\n    },\n    subtract(num) {\n        this.result -= num;\n        return this;\n    },\n    multiply(num) {\n        this.result *= num;\n        return this;\n    },\n    divide(num) {\n        this.result /= num;\n        return this;\n    },\n    getResult() {\n        return this.result;\n    },\n    reset() {\n        this.result = 0;\n        return this;\n    }\n};\n\ncalculator.add(10).multiply(2).subtract(5);\nconsole.log("Calculator result:", calculator.getResult());  // 15\ncalculator.reset();\nconsole.log("After reset:", calculator.getResult());  // 0\nconsole.log();\n\nconsole.log("=== Using this Keyword ===");\nlet user = {\n    name: "Bob",\n    age: 30,\n    introduce() {\n        return `Hi, I''m ${this.name} and I''m ${this.age} years old`;\n    },\n    haveBirthday() {\n        this.age++;\n        return `Happy birthday! Now I''m ${this.age}`;\n    },\n    getInfo() {\n        return {\n            name: this.name,\n            age: this.age\n        };\n    }\n};\n\nconsole.log(user.introduce());     // "Hi, I''m Bob and I''m 30 years old"\nconsole.log(user.haveBirthday());  // "Happy birthday! Now I''m 31"\nconsole.log(user.getInfo());       // { name: "Bob", age: 31 }\nconsole.log();\n\nconsole.log("=== Nested Objects ===");\nlet product = {\n    name: "Laptop",\n    price: 999.99,\n    specifications: {\n        brand: "TechBrand",\n        model: "TB-2024",\n        processor: {\n            type: "Intel",\n            speed: "3.5GHz",\n            cores: 8\n        },\n        memory: {\n            ram: "16GB",\n            storage: "512GB SSD"\n        }\n    },\n    getFullSpecs() {\n        return `${this.name} - ${this.specifications.brand} ${this.specifications.model}`;\n    }\n};\n\nconsole.log("Product:", product.name);\nconsole.log("Brand:", product.specifications.brand);\nconsole.log("Processor:", product.specifications.processor.type);\nconsole.log("RAM:", product.specifications.memory.ram);\nconsole.log("Full specs:", product.getFullSpecs());\nconsole.log();\n\nconsole.log("=== Iterating Over Objects ===");\nlet student = {\n    name: "Charlie",\n    age: 20,\n    grade: "A",\n    subjects: ["Math", "Science", "English"]\n};\n\n// for...in\nconsole.log("Using for...in:");\nfor (let key in student) {\n    console.log(`${key}: ${student[key]}`);\n}\n\n// Object.keys()\nconsole.log("\\nUsing Object.keys():");\nObject.keys(student).forEach(key => {\n    console.log(`${key}: ${student[key]}`);\n});\n\n// Object.values()\nconsole.log("\\nUsing Object.values():");\nObject.values(student).forEach(value => {\n    console.log(value);\n});\n\n// Object.entries()\nconsole.log("\\nUsing Object.entries():");\nObject.entries(student).forEach(([key, value]) => {\n    console.log(`${key}: ${value}`);\n});\nconsole.log();\n\nconsole.log("=== Computed Property Names ===");\nlet prefix = "user";\nlet dynamicObj = {\n    [prefix + "Id"]: 123,\n    [prefix + "Name"]: "Alice",\n    [prefix + "Email"]: "alice@example.com"\n};\n\nconsole.log("Dynamic object:", dynamicObj);\nconsole.log("User ID:", dynamicObj.userId);\nconsole.log();\n\nconsole.log("=== Object Methods with Parameters ===");\nlet bankAccount = {\n    balance: 1000,\n    deposit(amount) {\n        this.balance += amount;\n        return `Deposited $${amount}. New balance: $${this.balance}`;\n    },\n    withdraw(amount) {\n        if (amount > this.balance) {\n            return "Insufficient funds";\n        }\n        this.balance -= amount;\n        return `Withdrew $${amount}. New balance: $${this.balance}`;\n    },\n    getBalance() {\n        return `Current balance: $${this.balance}`;\n    }\n};\n\nconsole.log(bankAccount.getBalance());        // "Current balance: $1000"\nconsole.log(bankAccount.deposit(500));        // "Deposited $500. New balance: $1500"\nconsole.log(bankAccount.withdraw(200));       // "Withdrew $200. New balance: $1300"\nconsole.log(bankAccount.withdraw(2000));      // "Insufficient funds"\nconsole.log(bankAccount.getBalance());        // "Current balance: $1300"\n```\n\n**Expected Output**:\n```\n=== Creating Objects ===\nPerson: { firstName: "Alice", lastName: "Smith", age: 25, city: "New York", isActive: true }\n\n=== Accessing Properties ===\nName (dot): Alice\nAge (dot): 25\nName (bracket): Alice\nAge (bracket): 25\nCity (dynamic): New York\n\n=== Adding Properties ===\nAfter adding: { firstName: "Alice", lastName: "Smith", age: 25, city: "New York", isActive: true, email: "alice@example.com", phone: "555-1234", hobbies: ["reading", "coding"] }\n\n=== Modifying Properties ===\nAfter modifying: { firstName: "Alice", lastName: "Smith", age: 26, city: "Boston", isActive: true, email: "alice@example.com", phone: "555-1234", hobbies: ["reading", "coding", "traveling"] }\n\n=== Deleting Properties ===\nAfter deleting: { firstName: "Alice", lastName: "Smith", age: 26, city: "Boston", email: "alice@example.com", hobbies: ["reading", "coding", "traveling"] }\n\n=== Object Methods ===\nCalculator result: 15\nAfter reset: 0\n\n=== Using this Keyword ===\nHi, I''m Bob and I''m 30 years old\nHappy birthday! Now I''m 31\n{ name: "Bob", age: 31 }\n\n=== Nested Objects ===\nProduct: Laptop\nBrand: TechBrand\nProcessor: Intel\nRAM: 16GB\nFull specs: Laptop - TechBrand TB-2024\n\n=== Iterating Over Objects ===\nUsing for...in:\nname: Charlie\nage: 20\ngrade: A\nsubjects: Math,Science,English\n\nUsing Object.keys():\nname: Charlie\nage: 20\ngrade: A\nsubjects: Math,Science,English\n\nUsing Object.values():\nCharlie\n20\nA\n[ "Math", "Science", "English" ]\n\nUsing Object.entries():\nname: Charlie\nage: 20\ngrade: A\nsubjects: Math,Science,English\n\n=== Computed Property Names ===\nDynamic object: { userId: 123, userName: "Alice", userEmail: "alice@example.com" }\nUser ID: 123\n\n=== Object Methods with Parameters ===\nCurrent balance: $1000\nDeposited $500. New balance: $1500\nWithdrew $200. New balance: $1300\nInsufficient funds\nCurrent balance: $1300\n```\n\n**Challenge (Optional)**:\n- Create a library management system with objects\n- Build a shopping cart with object methods\n- Create a user profile system\n- Build a game character system\n\n---\n\n## Common Mistakes\n\n### 1. Accessing Non-existent Properties\n\n```javascript\n// ⚠️ Returns undefined, not error\nlet person = { name: "Alice" };\nconsole.log(person.age);  // undefined\n\n// ✅ Check first\nif (person.age !== undefined) {\n    console.log(person.age);\n}\n```\n\n### 2. Wrong this Context\n\n```javascript\nlet person = {\n    name: "Alice",\n    greet() {\n        console.log(this.name);\n    }\n};\n\n// ⚠️ Loses this context\nlet greetFunc = person.greet;\ngreetFunc();  // undefined\n\n// ✅ Keep context\nperson.greet();  // "Alice"\n```\n\n### 3. Forgetting Quotes for Special Keys\n\n```javascript\n// ❌ Error: Invalid syntax\n// let obj = { first name: "Alice" };\n\n// ✅ Use quotes\nlet obj = { "first name": "Alice" };\nconsole.log(obj["first name"]);  // Must use brackets\n```\n\n### 4. Confusing Dot and Bracket\n\n```javascript\nlet person = { name: "Alice" };\nlet prop = "name";\n\n// ❌ Wrong\nconsole.log(person.prop);  // undefined\n\n// ✅ Correct\nconsole.log(person[prop]);  // "Alice"\n```\n\n### 5. Modifying const Objects\n\n```javascript\nconst person = { name: "Alice" };\n\n// ✅ Can modify properties\nperson.age = 25;  // Works\n\n// ❌ Cannot reassign object\n// person = { name: "Bob" };  // Error\n```\n\n---\n\n## Key Takeaways\n\n1. **Object Literals**: `{ key: value }` - most common way to create objects\n2. **Property Access**: Dot notation (simple) or bracket notation (dynamic)\n3. **Adding/Modifying**: Assign to property (creates or updates)\n4. **Deleting**: Use `delete` operator\n5. **Methods**: Functions as object properties\n6. **this Keyword**: Refers to object owning the method\n7. **Nested Objects**: Objects can contain other objects\n8. **Iteration**: Use `for...in`, `Object.keys()`, `Object.values()`, `Object.entries()`\n\n---\n\n## Quiz: Objects\n\nTest your understanding with these questions:\n\n1. **How do you access property `name` in object `person`?**\n   - A) `person[name]`\n   - B) `person.name` or `person["name"]`\n   - C) `person->name`\n   - D) `person::name`\n\n2. **What does `delete person.age` do?**\n   - A) Sets age to null\n   - B) Sets age to undefined\n   - C) Removes age property\n   - D) Nothing\n\n3. **What does `this` refer to in an object method?**\n   - A) The function\n   - B) The object\n   - C) Global object\n   - D) undefined\n\n4. **Which creates an object method?**\n   - A) `method: function() {}`\n   - B) `method() {}`\n   - C) Both A and B\n   - D) Neither\n\n5. **How do you iterate over object properties?**\n   - A) `for...in`\n   - B) `Object.keys()`\n   - C) `Object.entries()`\n   - D) All of the above\n\n6. **What is the output: `let obj = {}; obj.x = 5; console.log(obj.x)`?**\n   - A) undefined\n   - B) 5\n   - C) Error\n   - D) null\n\n7. **Arrow functions in object methods:**\n   - A) Have their own `this`\n   - B) Don''t have `this` binding\n   - C) Always undefined\n   - D) Error\n\n**Answers**:\n1. B) `person.name` or `person["name"]`\n2. C) Removes age property\n3. B) The object\n4. C) Both A and B (both valid)\n5. D) All of the above\n6. B) 5\n7. B) Don''t have `this` binding\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned about objects. You now know:\n- How to create and access objects\n- How to add, modify, and delete properties\n- How to create methods and use `this`\n- How to work with nested objects\n\n**What''s Next?**\n- Lesson 5.2: Arrays\n- Practice combining objects and arrays\n- Learn about object methods\n- Build more complex data structures\n\n---\n\n## Additional Resources\n\n- **MDN: Objects**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects)\n- **MDN: this**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this)\n- **JavaScript.info: Objects**: [javascript.info/object](https://javascript.info/object)\n- **JavaScript.info: Object Methods**: [javascript.info/object-methods](https://javascript.info/object-methods)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:33:30', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Create objects using object literals\n- Access object properties using dot and bracket notation\n- Add, modify, and delete object properties\n- Create and use object methods\n- Understand the `this` keyword\n- Work with nested objects\n- Iterate over object properties');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (121, 45, 10, 'Arrays', 'arrays', '# Lesson 5.2: Arrays\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Create arrays using different methods\n- Access and modify array elements\n- Use array modification methods (push, pop, shift, unshift, splice, slice)\n- Iterate over arrays (forEach, map, filter, reduce)\n- Search arrays (indexOf, find, includes)\n- Understand array immutability vs mutability\n- Work with array methods effectively\n\n---\n\n## Introduction to Arrays\n\nArrays are ordered collections of values. They''re one of the most important data structures in JavaScript.\n\n### What are Arrays?\n\nArrays store multiple values in a single variable, accessible by index (position).\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\n```\n\n### Why Use Arrays?\n\n- Store multiple related values\n- Maintain order\n- Easy iteration\n- Powerful built-in methods\n- Common data structure\n\n---\n\n## Creating Arrays\n\n### Array Literal (Most Common)\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\nlet numbers = [1, 2, 3, 4, 5];\nlet mixed = ["hello", 42, true, null];\n```\n\n### Array Constructor\n\n```javascript\nlet fruits = new Array("apple", "banana", "orange");\nlet numbers = new Array(5);  // Creates array with 5 empty slots\n```\n\n**Note**: Array literal `[]` is preferred over constructor.\n\n### Empty Array\n\n```javascript\nlet empty = [];\nlet alsoEmpty = new Array();\n```\n\n### Array with Initial Values\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet names = ["Alice", "Bob", "Charlie"];\nlet booleans = [true, false, true];\n```\n\n---\n\n## Accessing Array Elements\n\n### Index-Based Access\n\nArrays are zero-indexed (first element is at index 0):\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\n\nconsole.log(fruits[0]);  // "apple" (first element)\nconsole.log(fruits[1]);  // "banana" (second element)\nconsole.log(fruits[2]);  // "orange" (third element)\n```\n\n### Getting Array Length\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\nconsole.log(fruits.length);  // 3\n```\n\n### Accessing Last Element\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\nlet last = fruits[fruits.length - 1];\nconsole.log(last);  // "orange"\n```\n\n### Out of Bounds Access\n\n```javascript\nlet fruits = ["apple", "banana"];\n\nconsole.log(fruits[2]);     // undefined (doesn''t exist)\nconsole.log(fruits[-1]);    // undefined (negative index doesn''t work)\nconsole.log(fruits[100]);   // undefined\n```\n\n### Modifying Elements\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\nfruits[1] = "grape";\nconsole.log(fruits);  // ["apple", "grape", "orange"]\n```\n\n---\n\n## Array Methods: Adding and Removing\n\n### push() - Add to End\n\nAdds one or more elements to the end of an array:\n\n```javascript\nlet fruits = ["apple", "banana"];\nfruits.push("orange");\nconsole.log(fruits);  // ["apple", "banana", "orange"]\n\nfruits.push("grape", "mango");\nconsole.log(fruits);  // ["apple", "banana", "orange", "grape", "mango"]\n```\n\n**Returns**: New length of array\n\n### pop() - Remove from End\n\nRemoves and returns the last element:\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\nlet last = fruits.pop();\nconsole.log(last);    // "orange"\nconsole.log(fruits);  // ["apple", "banana"]\n```\n\n**Returns**: Removed element (or undefined if array is empty)\n\n### unshift() - Add to Beginning\n\nAdds one or more elements to the beginning:\n\n```javascript\nlet fruits = ["banana", "orange"];\nfruits.unshift("apple");\nconsole.log(fruits);  // ["apple", "banana", "orange"]\n\nfruits.unshift("grape", "mango");\nconsole.log(fruits);  // ["grape", "mango", "apple", "banana", "orange"]\n```\n\n**Returns**: New length of array\n\n### shift() - Remove from Beginning\n\nRemoves and returns the first element:\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\nlet first = fruits.shift();\nconsole.log(first);   // "apple"\nconsole.log(fruits);  // ["banana", "orange"]\n```\n\n**Returns**: Removed element (or undefined if array is empty)\n\n### Comparison\n\n| Method | Adds/Removes | Location | Returns |\n|--------|--------------|----------|---------|\n| `push()` | Adds | End | Length |\n| `pop()` | Removes | End | Element |\n| `unshift()` | Adds | Beginning | Length |\n| `shift()` | Removes | Beginning | Element |\n\n---\n\n## splice() - Add/Remove Anywhere\n\n`splice()` can add or remove elements at any position.\n\n### Basic Syntax\n\n```javascript\narray.splice(start, deleteCount, item1, item2, ...)\n```\n\n### Removing Elements\n\n```javascript\nlet fruits = ["apple", "banana", "orange", "grape"];\n\n// Remove 2 elements starting at index 1\nfruits.splice(1, 2);\nconsole.log(fruits);  // ["apple", "grape"]\n```\n\n### Adding Elements\n\n```javascript\nlet fruits = ["apple", "orange"];\n\n// Add at index 1 (don''t delete any)\nfruits.splice(1, 0, "banana");\nconsole.log(fruits);  // ["apple", "banana", "orange"]\n```\n\n### Replacing Elements\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\n\n// Replace 1 element at index 1\nfruits.splice(1, 1, "grape");\nconsole.log(fruits);  // ["apple", "grape", "orange"]\n```\n\n### Returns Removed Elements\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\nlet removed = fruits.splice(1, 2);\nconsole.log(removed);  // ["banana", "orange"]\nconsole.log(fruits);   // ["apple"]\n```\n\n---\n\n## slice() - Copy Array Portion\n\n`slice()` creates a copy of a portion of an array (doesn''t modify original).\n\n### Basic Syntax\n\n```javascript\narray.slice(start, end)\n```\n\n### Copy Entire Array\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\nlet copy = fruits.slice();\nconsole.log(copy);  // ["apple", "banana", "orange"]\n```\n\n### Copy Portion\n\n```javascript\nlet fruits = ["apple", "banana", "orange", "grape"];\n\nlet portion = fruits.slice(1, 3);\nconsole.log(portion);  // ["banana", "orange"]\nconsole.log(fruits);   // ["apple", "banana", "orange", "grape"] (unchanged)\n```\n\n### Negative Indices\n\n```javascript\nlet fruits = ["apple", "banana", "orange", "grape"];\n\nlet lastTwo = fruits.slice(-2);\nconsole.log(lastTwo);  // ["orange", "grape"]\n```\n\n### slice() vs splice()\n\n- **slice()**: Doesn''t modify original, returns new array\n- **splice()**: Modifies original, returns removed elements\n\n---\n\n## Array Iteration Methods\n\n### forEach()\n\nExecutes a function for each array element:\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\n\nfruits.forEach(function(fruit) {\n    console.log(fruit);\n});\n// apple\n// banana\n// orange\n```\n\n**Arrow function:**\n```javascript\nfruits.forEach(fruit => console.log(fruit));\n```\n\n**With index:**\n```javascript\nfruits.forEach((fruit, index) => {\n    console.log(`${index}: ${fruit}`);\n});\n```\n\n### map()\n\nCreates a new array by transforming each element:\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet doubled = numbers.map(num => num * 2);\nconsole.log(doubled);  // [2, 4, 6, 8, 10]\n```\n\n**Doesn''t modify original:**\n```javascript\nlet numbers = [1, 2, 3];\nlet squared = numbers.map(n => n * n);\nconsole.log(numbers);  // [1, 2, 3] (unchanged)\nconsole.log(squared);  // [1, 4, 9]\n```\n\n**Transform objects:**\n```javascript\nlet users = [\n    { name: "Alice", age: 25 },\n    { name: "Bob", age: 30 }\n];\n\nlet names = users.map(user => user.name);\nconsole.log(names);  // ["Alice", "Bob"]\n```\n\n### filter()\n\nCreates a new array with elements that pass a test:\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5, 6];\nlet evens = numbers.filter(num => num % 2 === 0);\nconsole.log(evens);  // [2, 4, 6]\n```\n\n**Filter objects:**\n```javascript\nlet users = [\n    { name: "Alice", age: 25 },\n    { name: "Bob", age: 17 },\n    { name: "Charlie", age: 30 }\n];\n\nlet adults = users.filter(user => user.age >= 18);\nconsole.log(adults);  // [{ name: "Alice", age: 25 }, { name: "Charlie", age: 30 }]\n```\n\n### reduce()\n\nReduces array to a single value:\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet sum = numbers.reduce((accumulator, current) => {\n    return accumulator + current;\n}, 0);\nconsole.log(sum);  // 15\n```\n\n**Shorter syntax:**\n```javascript\nlet sum = numbers.reduce((acc, curr) => acc + curr, 0);\n```\n\n**Find maximum:**\n```javascript\nlet numbers = [5, 2, 8, 1, 9];\nlet max = numbers.reduce((acc, curr) => {\n    return curr > acc ? curr : acc;\n}, numbers[0]);\nconsole.log(max);  // 9\n```\n\n**Count occurrences:**\n```javascript\nlet fruits = ["apple", "banana", "apple", "orange", "banana"];\nlet count = fruits.reduce((acc, fruit) => {\n    acc[fruit] = (acc[fruit] || 0) + 1;\n    return acc;\n}, {});\nconsole.log(count);  // { apple: 2, banana: 2, orange: 1 }\n```\n\n---\n\n## Array Searching Methods\n\n### indexOf()\n\nReturns the first index where element is found:\n\n```javascript\nlet fruits = ["apple", "banana", "orange", "banana"];\nconsole.log(fruits.indexOf("banana"));  // 1\nconsole.log(fruits.indexOf("grape"));    // -1 (not found)\n```\n\n**With start index:**\n```javascript\nlet fruits = ["apple", "banana", "orange", "banana"];\nconsole.log(fruits.indexOf("banana", 2));  // 3 (starts searching from index 2)\n```\n\n### lastIndexOf()\n\nReturns the last index where element is found:\n\n```javascript\nlet fruits = ["apple", "banana", "orange", "banana"];\nconsole.log(fruits.lastIndexOf("banana"));  // 3\n```\n\n### includes()\n\nChecks if array contains an element:\n\n```javascript\nlet fruits = ["apple", "banana", "orange"];\nconsole.log(fruits.includes("banana"));  // true\nconsole.log(fruits.includes("grape"));   // false\n```\n\n### find()\n\nReturns the first element that passes a test:\n\n```javascript\nlet numbers = [1, 5, 3, 8, 2];\nlet found = numbers.find(num => num > 5);\nconsole.log(found);  // 8\n```\n\n**With objects:**\n```javascript\nlet users = [\n    { name: "Alice", age: 25 },\n    { name: "Bob", age: 30 },\n    { name: "Charlie", age: 20 }\n];\n\nlet user = users.find(u => u.age > 25);\nconsole.log(user);  // { name: "Bob", age: 30 }\n```\n\n### findIndex()\n\nReturns the index of the first element that passes a test:\n\n```javascript\nlet numbers = [1, 5, 3, 8, 2];\nlet index = numbers.findIndex(num => num > 5);\nconsole.log(index);  // 3\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Array Operations\n\n**Objective**: Practice using various array methods and operations.\n\n**Instructions**:\n\n1. Create a file called `arrays-practice.js`\n\n2. Create arrays and practice:\n   - Creating arrays\n   - Accessing and modifying elements\n   - Using push, pop, shift, unshift\n   - Using splice and slice\n   - Iterating with forEach, map, filter, reduce\n   - Searching with indexOf, find, includes\n\n3. Build practical examples:\n   - Shopping cart\n   - Student grades\n   - User list operations\n\n**Example Solution**:\n\n```javascript\n// Arrays Practice\nconsole.log("=== Creating Arrays ===");\nlet fruits = ["apple", "banana", "orange"];\nlet numbers = [1, 2, 3, 4, 5];\nlet empty = [];\n\nconsole.log("Fruits:", fruits);\nconsole.log("Numbers:", numbers);\nconsole.log("Empty:", empty);\nconsole.log();\n\nconsole.log("=== Accessing Elements ===");\nconsole.log("First fruit:", fruits[0]);           // "apple"\nconsole.log("Last fruit:", fruits[fruits.length - 1]);  // "orange"\nconsole.log("Array length:", fruits.length);      // 3\nconsole.log();\n\nconsole.log("=== push() and pop() ===");\nlet stack = [];\nstack.push(1);\nstack.push(2);\nstack.push(3);\nconsole.log("After push:", stack);  // [1, 2, 3]\n\nlet last = stack.pop();\nconsole.log("Popped:", last);        // 3\nconsole.log("After pop:", stack);    // [1, 2]\nconsole.log();\n\nconsole.log("=== unshift() and shift() ===");\nlet queue = [];\nqueue.unshift(1);\nqueue.unshift(2);\nqueue.unshift(3);\nconsole.log("After unshift:", queue);  // [3, 2, 1]\n\nlet first = queue.shift();\nconsole.log("Shifted:", first);        // 3\nconsole.log("After shift:", queue);    // [2, 1]\nconsole.log();\n\nconsole.log("=== splice() ===");\nlet items = ["a", "b", "c", "d", "e"];\n\n// Remove elements\nlet removed = items.splice(1, 2);\nconsole.log("Removed:", removed);      // ["b", "c"]\nconsole.log("After remove:", items);   // ["a", "d", "e"]\n\n// Add elements\nitems.splice(1, 0, "x", "y");\nconsole.log("After add:", items);      // ["a", "x", "y", "d", "e"]\n\n// Replace\nitems.splice(2, 1, "z");\nconsole.log("After replace:", items);  // ["a", "x", "z", "d", "e"]\nconsole.log();\n\nconsole.log("=== slice() ===");\nlet original = [1, 2, 3, 4, 5];\nlet copy = original.slice();\nlet portion = original.slice(1, 4);\nlet lastTwo = original.slice(-2);\n\nconsole.log("Original:", original);    // [1, 2, 3, 4, 5]\nconsole.log("Copy:", copy);            // [1, 2, 3, 4, 5]\nconsole.log("Portion:", portion);      // [2, 3, 4]\nconsole.log("Last two:", lastTwo);     // [4, 5]\nconsole.log();\n\nconsole.log("=== forEach() ===");\nlet numbers2 = [1, 2, 3, 4, 5];\nnumbers2.forEach((num, index) => {\n    console.log(`Index ${index}: ${num}`);\n});\nconsole.log();\n\nconsole.log("=== map() ===");\nlet numbers3 = [1, 2, 3, 4, 5];\nlet doubled = numbers3.map(n => n * 2);\nlet squared = numbers3.map(n => n * n);\n\nconsole.log("Original:", numbers3);   // [1, 2, 3, 4, 5]\nconsole.log("Doubled:", doubled);      // [2, 4, 6, 8, 10]\nconsole.log("Squared:", squared);     // [1, 4, 9, 16, 25]\nconsole.log();\n\nconsole.log("=== filter() ===");\nlet numbers4 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nlet evens = numbers4.filter(n => n % 2 === 0);\nlet greaterThan5 = numbers4.filter(n => n > 5);\n\nconsole.log("Evens:", evens);              // [2, 4, 6, 8, 10]\nconsole.log("Greater than 5:", greaterThan5); // [6, 7, 8, 9, 10]\nconsole.log();\n\nconsole.log("=== reduce() ===");\nlet numbers5 = [1, 2, 3, 4, 5];\nlet sum = numbers5.reduce((acc, curr) => acc + curr, 0);\nlet product = numbers5.reduce((acc, curr) => acc * curr, 1);\nlet max = numbers5.reduce((acc, curr) => curr > acc ? curr : acc, numbers5[0]);\n\nconsole.log("Sum:", sum);        // 15\nconsole.log("Product:", product); // 120\nconsole.log("Max:", max);        // 5\nconsole.log();\n\nconsole.log("=== Searching ===");\nlet fruits2 = ["apple", "banana", "orange", "banana"];\n\nconsole.log("indexOf banana:", fruits2.indexOf("banana"));        // 1\nconsole.log("lastIndexOf banana:", fruits2.lastIndexOf("banana")); // 3\nconsole.log("includes apple:", fruits2.includes("apple"));        // true\nconsole.log("includes grape:", fruits2.includes("grape"));       // false\n\nlet numbers6 = [1, 5, 3, 8, 2];\nlet found = numbers6.find(n => n > 5);\nlet foundIndex = numbers6.findIndex(n => n > 5);\n\nconsole.log("Find > 5:", found);        // 8\nconsole.log("FindIndex > 5:", foundIndex); // 3\nconsole.log();\n\nconsole.log("=== Practical Example: Shopping Cart ===");\nlet cart = [];\n\n// Add items\ncart.push({ name: "Apple", price: 1.50, quantity: 3 });\ncart.push({ name: "Banana", price: 0.75, quantity: 5 });\ncart.push({ name: "Orange", price: 2.00, quantity: 2 });\n\nconsole.log("Cart items:", cart.length);\n\n// Calculate total\nlet total = cart.reduce((sum, item) => {\n    return sum + (item.price * item.quantity);\n}, 0);\nconsole.log("Cart total: $" + total.toFixed(2));\n\n// Remove item\nlet bananaIndex = cart.findIndex(item => item.name === "Banana");\nif (bananaIndex !== -1) {\n    cart.splice(bananaIndex, 1);\n}\nconsole.log("After removing banana:", cart.length);\n\n// Update quantity\nlet apple = cart.find(item => item.name === "Apple");\nif (apple) {\n    apple.quantity = 5;\n}\nconsole.log("Updated cart:", cart);\nconsole.log();\n\nconsole.log("=== Practical Example: Student Grades ===");\nlet students = [\n    { name: "Alice", grade: 85 },\n    { name: "Bob", grade: 92 },\n    { name: "Charlie", grade: 78 },\n    { name: "Diana", grade: 95 }\n];\n\n// Get all names\nlet names = students.map(s => s.name);\nconsole.log("Student names:", names);\n\n// Get passing grades (>= 80)\nlet passing = students.filter(s => s.grade >= 80);\nconsole.log("Passing students:", passing.length);\n\n// Calculate average\nlet average = students.reduce((sum, s) => sum + s.grade, 0) / students.length;\nconsole.log("Average grade:", average.toFixed(2));\n\n// Find highest grade\nlet topStudent = students.reduce((top, curr) => {\n    return curr.grade > top.grade ? curr : top;\n}, students[0]);\nconsole.log("Top student:", topStudent.name, "-", topStudent.grade);\n```\n\n**Expected Output**:\n```\n=== Creating Arrays ===\nFruits: [ "apple", "banana", "orange" ]\nNumbers: [ 1, 2, 3, 4, 5 ]\nEmpty: []\n\n=== Accessing Elements ===\nFirst fruit: apple\nLast fruit: orange\nArray length: 3\n\n=== push() and pop() ===\nAfter push: [ 1, 2, 3 ]\nPopped: 3\nAfter pop: [ 1, 2 ]\n\n=== unshift() and shift() ===\nAfter unshift: [ 3, 2, 1 ]\nShifted: 3\nAfter shift: [ 2, 1 ]\n\n=== splice() ===\nRemoved: [ "b", "c" ]\nAfter remove: [ "a", "d", "e" ]\nAfter add: [ "a", "x", "y", "d", "e" ]\nAfter replace: [ "a", "x", "z", "d", "e" ]\n\n=== slice() ===\nOriginal: [ 1, 2, 3, 4, 5 ]\nCopy: [ 1, 2, 3, 4, 5 ]\nPortion: [ 2, 3, 4 ]\nLast two: [ 4, 5 ]\n\n=== forEach() ===\nIndex 0: 1\nIndex 1: 2\nIndex 2: 3\nIndex 3: 4\nIndex 4: 5\n\n=== map() ===\nOriginal: [ 1, 2, 3, 4, 5 ]\nDoubled: [ 2, 4, 6, 8, 10 ]\nSquared: [ 1, 4, 9, 16, 25 ]\n\n=== filter() ===\nEvens: [ 2, 4, 6, 8, 10 ]\nGreater than 5: [ 6, 7, 8, 9, 10 ]\n\n=== reduce() ===\nSum: 15\nProduct: 120\nMax: 5\n\n=== Searching ===\nindexOf banana: 1\nlastIndexOf banana: 3\nincludes apple: true\nincludes grape: false\nFind > 5: 8\nFindIndex > 5: 3\n\n=== Practical Example: Shopping Cart ===\nCart items: 3\nCart total: $13.00\nAfter removing banana: 2\nUpdated cart: [ { name: "Apple", price: 1.5, quantity: 5 }, { name: "Orange", price: 2, quantity: 2 } ]\n\n=== Practical Example: Student Grades ===\nStudent names: [ "Alice", "Bob", "Charlie", "Diana" ]\nPassing students: 4\nAverage grade: 87.50\nTop student: Diana - 95\n```\n\n**Challenge (Optional)**:\n- Build a todo list application\n- Create a data processing pipeline\n- Build a search and filter system\n- Create array manipulation utilities\n\n---\n\n## Common Mistakes\n\n### 1. Confusing splice() and slice()\n\n```javascript\nlet arr = [1, 2, 3, 4, 5];\n\n// splice() modifies original\nlet removed = arr.splice(1, 2);\nconsole.log(arr);  // [1, 4, 5] (modified!)\n\n// slice() doesn''t modify\nlet arr2 = [1, 2, 3, 4, 5];\nlet portion = arr2.slice(1, 3);\nconsole.log(arr2);  // [1, 2, 3, 4, 5] (unchanged)\n```\n\n### 2. Modifying During Iteration\n\n```javascript\n// ⚠️ Can cause issues\nlet arr = [1, 2, 3, 4, 5];\narr.forEach((item, index) => {\n    if (item === 3) {\n        arr.splice(index, 1);  // Modifying while iterating\n    }\n});\n\n// ✅ Better: Create new array\nlet filtered = arr.filter(item => item !== 3);\n```\n\n### 3. Forgetting map() Returns New Array\n\n```javascript\n// ⚠️ map() doesn''t modify original\nlet numbers = [1, 2, 3];\nnumbers.map(n => n * 2);\nconsole.log(numbers);  // [1, 2, 3] (unchanged!)\n\n// ✅ Assign result\nlet doubled = numbers.map(n => n * 2);\nconsole.log(doubled);  // [2, 4, 6]\n```\n\n### 4. Wrong reduce() Initial Value\n\n```javascript\n// ⚠️ For sum, start with 0\nlet sum = [1, 2, 3].reduce((acc, curr) => acc + curr);  // Works but...\n\n// ✅ Explicit initial value\nlet sum = [1, 2, 3].reduce((acc, curr) => acc + curr, 0);\n```\n\n### 5. indexOf() with Objects\n\n```javascript\n// ⚠️ Doesn''t work with objects\nlet arr = [{ id: 1 }, { id: 2 }];\nconsole.log(arr.indexOf({ id: 1 }));  // -1 (different objects)\n\n// ✅ Use findIndex()\nlet index = arr.findIndex(item => item.id === 1);  // 0\n```\n\n---\n\n## Key Takeaways\n\n1. **Creating Arrays**: Use `[]` literal (preferred)\n2. **Accessing**: Zero-indexed, use `[index]`\n3. **Modifying Methods**: `push()`, `pop()`, `shift()`, `unshift()`, `splice()`\n4. **Copying Methods**: `slice()` (doesn''t modify original)\n5. **Iteration**: `forEach()`, `map()`, `filter()`, `reduce()`\n6. **Searching**: `indexOf()`, `find()`, `includes()`\n7. **Immutability**: `map()`, `filter()`, `slice()` don''t modify original\n8. **Mutability**: `push()`, `pop()`, `splice()` modify original\n\n---\n\n## Quiz: Arrays\n\nTest your understanding with these questions:\n\n1. **What is the index of the first element in an array?**\n   - A) 1\n   - B) 0\n   - C) -1\n   - D) undefined\n\n2. **What does `push()` return?**\n   - A) The added element\n   - B) The new length\n   - C) The array\n   - D) undefined\n\n3. **Which method doesn''t modify the original array?**\n   - A) push()\n   - B) splice()\n   - C) slice()\n   - D) pop()\n\n4. **What does `map()` do?**\n   - A) Filters elements\n   - B) Transforms each element\n   - C) Reduces to single value\n   - D) Modifies original array\n\n5. **What does `indexOf()` return if element not found?**\n   - A) undefined\n   - B) -1\n   - C) 0\n   - D) null\n\n6. **Which finds first element matching condition?**\n   - A) filter()\n   - B) find()\n   - C) indexOf()\n   - D) includes()\n\n7. **What does `reduce()` do?**\n   - A) Filters array\n   - B) Maps array\n   - C) Reduces to single value\n   - D) Iterates array\n\n**Answers**:\n1. B) 0\n2. B) The new length\n3. C) slice()\n4. B) Transforms each element\n5. B) -1\n6. B) find()\n7. C) Reduces to single value\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned about arrays. You now know:\n- How to create and access arrays\n- Array modification methods\n- Array iteration methods\n- Array searching methods\n\n**What''s Next?**\n- Lesson 5.3: Advanced Array Operations\n- Practice combining array methods\n- Build data processing pipelines\n- Work with complex array operations\n\n---\n\n## Additional Resources\n\n- **MDN: Array**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)\n- **MDN: Array Methods**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#instance_methods](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array#instance_methods)\n- **JavaScript.info: Arrays**: [javascript.info/array](https://javascript.info/array)\n- **JavaScript.info: Array Methods**: [javascript.info/array-methods](https://javascript.info/array-methods)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:33:30', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Create arrays using different methods\n- Access and modify array elements\n- Use array modification methods (push, pop, shift, unshift, splice, slice)\n- Iterate over arrays (forEach, map, filter, reduce)\n- Search arrays (indexOf, find, includes)\n- Understand array immutability vs mutability\n- Work with array methods effectively');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (122, 45, 10, 'Advanced Array Operations', 'advanced-array-operations', '# Lesson 5.3: Advanced Array Operations\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use array testing methods (some, every)\n- Sort and reverse arrays\n- Destructure arrays to extract values\n- Use spread operator with arrays effectively\n- Work with multidimensional arrays\n- Combine advanced array techniques\n- Write efficient array manipulation code\n\n---\n\n## Introduction\n\nAdvanced array operations enable powerful data manipulation. These techniques make arrays more versatile and your code more expressive.\n\n---\n\n## Array Testing Methods\n\n### some()\n\nTests if at least one element passes a test. Returns `true` if any element passes, `false` otherwise.\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet hasEven = numbers.some(num => num % 2 === 0);\nconsole.log(hasEven);  // true (has at least one even number)\n```\n\n**Examples:**\n```javascript\n// Check if any number is greater than 10\nlet numbers = [1, 5, 8, 12, 3];\nlet hasLarge = numbers.some(n => n > 10);\nconsole.log(hasLarge);  // true\n\n// Check if any user is admin\nlet users = [\n    { name: "Alice", role: "user" },\n    { name: "Bob", role: "admin" },\n    { name: "Charlie", role: "user" }\n];\nlet hasAdmin = users.some(u => u.role === "admin");\nconsole.log(hasAdmin);  // true\n```\n\n### every()\n\nTests if all elements pass a test. Returns `true` only if all elements pass.\n\n```javascript\nlet numbers = [2, 4, 6, 8, 10];\nlet allEven = numbers.every(num => num % 2 === 0);\nconsole.log(allEven);  // true (all are even)\n```\n\n**Examples:**\n```javascript\n// Check if all numbers are positive\nlet numbers = [1, 5, 8, 12, 3];\nlet allPositive = numbers.every(n => n > 0);\nconsole.log(allPositive);  // true\n\n// Check if all users are adults\nlet users = [\n    { name: "Alice", age: 25 },\n    { name: "Bob", age: 30 },\n    { name: "Charlie", age: 17 }\n];\nlet allAdults = users.every(u => u.age >= 18);\nconsole.log(allAdults);  // false (Charlie is 17)\n```\n\n### some() vs every()\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\n\n// some: at least one\nconsole.log(numbers.some(n => n > 3));  // true (4, 5)\n\n// every: all\nconsole.log(numbers.every(n => n > 3)); // false (1, 2, 3 don''t pass)\n```\n\n---\n\n## Sorting Arrays\n\n### sort()\n\nSorts array elements. **Modifies the original array.**\n\n### String Sorting (Default)\n\n```javascript\nlet fruits = ["banana", "apple", "orange"];\nfruits.sort();\nconsole.log(fruits);  // ["apple", "banana", "orange"]\n```\n\n### Number Sorting\n\n**⚠️ Default sort converts to strings:**\n```javascript\nlet numbers = [10, 2, 5, 1, 20];\nnumbers.sort();\nconsole.log(numbers);  // [1, 10, 2, 20, 5] (wrong! string sort)\n```\n\n**✅ Correct number sorting:**\n```javascript\nlet numbers = [10, 2, 5, 1, 20];\n\n// Ascending\nnumbers.sort((a, b) => a - b);\nconsole.log(numbers);  // [1, 2, 5, 10, 20]\n\n// Descending\nnumbers.sort((a, b) => b - a);\nconsole.log(numbers);  // [20, 10, 5, 2, 1]\n```\n\n### Sort Comparison Function\n\nThe comparison function should return:\n- Negative: `a` comes before `b`\n- Zero: `a` and `b` are equal\n- Positive: `a` comes after `b`\n\n```javascript\n// Ascending: a - b\n[10, 2, 5].sort((a, b) => a - b);  // [2, 5, 10]\n\n// Descending: b - a\n[10, 2, 5].sort((a, b) => b - a);  // [10, 5, 2]\n```\n\n### Sorting Objects\n\n```javascript\nlet users = [\n    { name: "Alice", age: 25 },\n    { name: "Bob", age: 30 },\n    { name: "Charlie", age: 20 }\n];\n\n// Sort by age (ascending)\nusers.sort((a, b) => a.age - b.age);\nconsole.log(users);\n// [{ name: "Charlie", age: 20 }, { name: "Alice", age: 25 }, { name: "Bob", age: 30 }]\n\n// Sort by name (alphabetical)\nusers.sort((a, b) => {\n    if (a.name < b.name) return -1;\n    if (a.name > b.name) return 1;\n    return 0;\n});\n```\n\n### reverse()\n\nReverses the order of array elements. **Modifies the original array.**\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nnumbers.reverse();\nconsole.log(numbers);  // [5, 4, 3, 2, 1]\n```\n\n**Combining sort and reverse:**\n```javascript\nlet numbers = [3, 1, 4, 2, 5];\nnumbers.sort((a, b) => a - b).reverse();\nconsole.log(numbers);  // [5, 4, 3, 2, 1] (sorted descending)\n```\n\n---\n\n## Array Destructuring\n\nArray destructuring allows you to extract values from arrays into variables.\n\n### Basic Destructuring\n\n```javascript\nlet numbers = [1, 2, 3];\nlet [a, b, c] = numbers;\nconsole.log(a, b, c);  // 1, 2, 3\n```\n\n### Skipping Elements\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet [first, , third, , fifth] = numbers;\nconsole.log(first, third, fifth);  // 1, 3, 5\n```\n\n### Default Values\n\n```javascript\nlet numbers = [1, 2];\nlet [a, b, c = 10] = numbers;\nconsole.log(a, b, c);  // 1, 2, 10 (c uses default)\n```\n\n### Rest in Destructuring\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet [first, second, ...rest] = numbers;\nconsole.log(first);   // 1\nconsole.log(second);  // 2\nconsole.log(rest);    // [3, 4, 5]\n```\n\n### Swapping Variables\n\n```javascript\nlet a = 5;\nlet b = 10;\n[a, b] = [b, a];\nconsole.log(a, b);  // 10, 5\n```\n\n### Function Return Values\n\n```javascript\nfunction getNumbers() {\n    return [1, 2, 3];\n}\n\nlet [x, y, z] = getNumbers();\nconsole.log(x, y, z);  // 1, 2, 3\n```\n\n### Nested Destructuring\n\n```javascript\nlet numbers = [1, [2, 3], 4];\nlet [a, [b, c], d] = numbers;\nconsole.log(a, b, c, d);  // 1, 2, 3, 4\n```\n\n### Practical Examples\n\n```javascript\n// Extract first and last\nlet names = ["Alice", "Bob", "Charlie", "Diana"];\nlet [first, ...middle, last] = names;  // ⚠️ Rest must be last\n// Better:\nlet [first] = names;\nlet last = names[names.length - 1];\n\n// Function parameters\nfunction process([first, second]) {\n    console.log(first, second);\n}\nprocess([1, 2]);  // 1, 2\n```\n\n---\n\n## Spread Operator with Arrays\n\nThe spread operator (`...`) expands arrays into individual elements.\n\n### Copying Arrays\n\n```javascript\nlet original = [1, 2, 3];\nlet copy = [...original];\ncopy.push(4);\nconsole.log(original);  // [1, 2, 3] (unchanged)\nconsole.log(copy);     // [1, 2, 3, 4]\n```\n\n### Combining Arrays\n\n```javascript\nlet arr1 = [1, 2, 3];\nlet arr2 = [4, 5, 6];\nlet combined = [...arr1, ...arr2];\nconsole.log(combined);  // [1, 2, 3, 4, 5, 6]\n```\n\n### Adding Elements\n\n```javascript\nlet numbers = [2, 3, 4];\nlet withFirst = [1, ...numbers];\nlet withLast = [...numbers, 5];\nlet withBoth = [1, ...numbers, 5];\nconsole.log(withBoth);  // [1, 2, 3, 4, 5]\n```\n\n### Function Arguments\n\n```javascript\nfunction add(a, b, c) {\n    return a + b + c;\n}\n\nlet numbers = [1, 2, 3];\nconsole.log(add(...numbers));  // 6\n```\n\n### Math Operations\n\n```javascript\nlet numbers = [5, 10, 15, 20, 25];\nconsole.log(Math.max(...numbers));  // 25\nconsole.log(Math.min(...numbers));  // 5\n```\n\n### Converting String to Array\n\n```javascript\nlet str = "Hello";\nlet chars = [...str];\nconsole.log(chars);  // ["H", "e", "l", "l", "o"]\n```\n\n### Removing Duplicates\n\n```javascript\nlet numbers = [1, 2, 2, 3, 3, 4];\nlet unique = [...new Set(numbers)];\nconsole.log(unique);  // [1, 2, 3, 4]\n```\n\n---\n\n## Multidimensional Arrays\n\nArrays can contain other arrays, creating multidimensional structures.\n\n### 2D Arrays (Matrix)\n\n```javascript\nlet matrix = [\n    [1, 2, 3],\n    [4, 5, 6],\n    [7, 8, 9]\n];\n\nconsole.log(matrix[0][0]);  // 1 (first row, first column)\nconsole.log(matrix[1][2]);  // 6 (second row, third column)\n```\n\n### Accessing Elements\n\n```javascript\nlet matrix = [\n    [1, 2, 3],\n    [4, 5, 6]\n];\n\n// Access row\nconsole.log(matrix[0]);  // [1, 2, 3]\n\n// Access element\nconsole.log(matrix[0][1]);  // 2\n```\n\n### Iterating 2D Arrays\n\n```javascript\nlet matrix = [\n    [1, 2, 3],\n    [4, 5, 6],\n    [7, 8, 9]\n];\n\n// Nested loops\nfor (let i = 0; i < matrix.length; i++) {\n    for (let j = 0; j < matrix[i].length; j++) {\n        console.log(matrix[i][j]);\n    }\n}\n\n// for...of\nfor (let row of matrix) {\n    for (let cell of row) {\n        console.log(cell);\n    }\n}\n\n// forEach\nmatrix.forEach(row => {\n    row.forEach(cell => {\n        console.log(cell);\n    });\n});\n```\n\n### Creating 2D Arrays\n\n```javascript\n// Empty 3x3 matrix\nlet matrix = [];\nfor (let i = 0; i < 3; i++) {\n    matrix[i] = [];\n    for (let j = 0; j < 3; j++) {\n        matrix[i][j] = 0;\n    }\n}\nconsole.log(matrix);\n// [[0, 0, 0], [0, 0, 0], [0, 0, 0]]\n```\n\n### 3D Arrays\n\n```javascript\nlet cube = [\n    [\n        [1, 2],\n        [3, 4]\n    ],\n    [\n        [5, 6],\n        [7, 8]\n    ]\n];\n\nconsole.log(cube[0][0][0]);  // 1\nconsole.log(cube[1][1][1]);  // 8\n```\n\n### Practical Example: Tic-Tac-Toe\n\n```javascript\nlet board = [\n    ["X", "O", "X"],\n    ["O", "X", "O"],\n    ["X", "O", "X"]\n];\n\nfunction printBoard(board) {\n    board.forEach(row => {\n        console.log(row.join(" | "));\n    });\n}\n\nprintBoard(board);\n// X | O | X\n// O | X | O\n// X | O | X\n```\n\n---\n\n## Combining Advanced Techniques\n\n### Destructuring + Spread\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet [first, ...rest] = numbers;\nlet doubled = rest.map(n => n * 2);\nlet result = [first, ...doubled];\nconsole.log(result);  // [1, 4, 6, 8, 10]\n```\n\n### Sort + Destructure\n\n```javascript\nlet users = [\n    { name: "Alice", age: 25 },\n    { name: "Bob", age: 30 },\n    { name: "Charlie", age: 20 }\n];\n\nusers.sort((a, b) => b.age - a.age);  // Sort by age descending\nlet [oldest, ...others] = users;\nconsole.log(oldest.name);  // "Bob"\n```\n\n### Filter + Map + Spread\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nlet evens = numbers.filter(n => n % 2 === 0);\nlet doubled = evens.map(n => n * 2);\nlet result = [0, ...doubled, 20];\nconsole.log(result);  // [0, 4, 8, 12, 16, 20]\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Advanced Array Manipulation\n\n**Objective**: Practice advanced array operations including some, every, sort, destructuring, spread, and multidimensional arrays.\n\n**Instructions**:\n\n1. Create a file called `advanced-arrays.js`\n\n2. Practice:\n   - Using some() and every()\n   - Sorting arrays (numbers, objects, strings)\n   - Array destructuring\n   - Spread operator with arrays\n   - Working with 2D arrays\n\n3. Build practical examples:\n   - Data validation\n   - Matrix operations\n   - Data transformation\n\n**Example Solution**:\n\n```javascript\n// Advanced Arrays Practice\nconsole.log("=== some() and every() ===");\n\nlet numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n\nlet hasEven = numbers.some(n => n % 2 === 0);\nlet allPositive = numbers.every(n => n > 0);\nlet allEven = numbers.every(n => n % 2 === 0);\n\nconsole.log("Has even:", hasEven);        // true\nconsole.log("All positive:", allPositive); // true\nconsole.log("All even:", allEven);        // false\n\nlet users = [\n    { name: "Alice", age: 25, active: true },\n    { name: "Bob", age: 30, active: true },\n    { name: "Charlie", age: 20, active: false }\n];\n\nlet hasInactive = users.some(u => !u.active);\nlet allAdults = users.every(u => u.age >= 18);\nlet allActive = users.every(u => u.active);\n\nconsole.log("Has inactive:", hasInactive);  // true\nconsole.log("All adults:", allAdults);       // true\nconsole.log("All active:", allActive);       // false\nconsole.log();\n\nconsole.log("=== Sorting ===");\n\n// Number sorting\nlet numbers2 = [10, 2, 5, 1, 20, 3];\nnumbers2.sort((a, b) => a - b);\nconsole.log("Ascending:", numbers2);  // [1, 2, 3, 5, 10, 20]\n\nnumbers2.sort((a, b) => b - a);\nconsole.log("Descending:", numbers2); // [20, 10, 5, 3, 2, 1]\n\n// String sorting\nlet fruits = ["banana", "apple", "orange", "grape"];\nfruits.sort();\nconsole.log("Fruits sorted:", fruits);  // ["apple", "banana", "grape", "orange"]\n\n// Object sorting\nlet students = [\n    { name: "Alice", grade: 85 },\n    { name: "Bob", grade: 92 },\n    { name: "Charlie", grade: 78 },\n    { name: "Diana", grade: 95 }\n];\n\nstudents.sort((a, b) => b.grade - a.grade);  // Sort by grade descending\nconsole.log("Students by grade:");\nstudents.forEach(s => {\n    console.log(`${s.name}: ${s.grade}`);\n});\nconsole.log();\n\nconsole.log("=== reverse() ===");\nlet numbers3 = [1, 2, 3, 4, 5];\nnumbers3.reverse();\nconsole.log("Reversed:", numbers3);  // [5, 4, 3, 2, 1]\n\n// Sort then reverse\nlet numbers4 = [3, 1, 4, 2, 5];\nnumbers4.sort((a, b) => a - b).reverse();\nconsole.log("Sorted descending:", numbers4);  // [5, 4, 3, 2, 1]\nconsole.log();\n\nconsole.log("=== Array Destructuring ===");\n\n// Basic\nlet numbers5 = [1, 2, 3];\nlet [a, b, c] = numbers5;\nconsole.log("Destructured:", a, b, c);  // 1, 2, 3\n\n// Skipping\nlet numbers6 = [1, 2, 3, 4, 5];\nlet [first, , third, , fifth] = numbers6;\nconsole.log("Skipped:", first, third, fifth);  // 1, 3, 5\n\n// Default values\nlet numbers7 = [1, 2];\nlet [x, y, z = 10] = numbers7;\nconsole.log("With default:", x, y, z);  // 1, 2, 10\n\n// Rest\nlet numbers8 = [1, 2, 3, 4, 5];\nlet [first2, ...rest] = numbers8;\nconsole.log("First:", first2);    // 1\nconsole.log("Rest:", rest);        // [2, 3, 4, 5]\n\n// Swapping\nlet p = 5;\nlet q = 10;\n[p, q] = [q, p];\nconsole.log("Swapped:", p, q);  // 10, 5\n\n// Function return\nfunction getCoords() {\n    return [10, 20];\n}\nlet [xCoord, yCoord] = getCoords();\nconsole.log("Coords:", xCoord, yCoord);  // 10, 20\nconsole.log();\n\nconsole.log("=== Spread Operator ===");\n\n// Copying\nlet original = [1, 2, 3];\nlet copy = [...original];\ncopy.push(4);\nconsole.log("Original:", original);  // [1, 2, 3]\nconsole.log("Copy:", copy);          // [1, 2, 3, 4]\n\n// Combining\nlet arr1 = [1, 2, 3];\nlet arr2 = [4, 5, 6];\nlet combined = [...arr1, ...arr2];\nconsole.log("Combined:", combined);  // [1, 2, 3, 4, 5, 6]\n\n// Adding elements\nlet numbers9 = [2, 3, 4];\nlet withBoth = [1, ...numbers9, 5];\nconsole.log("With both:", withBoth);  // [1, 2, 3, 4, 5]\n\n// Math operations\nlet numbers10 = [5, 10, 15, 20, 25];\nconsole.log("Max:", Math.max(...numbers10));  // 25\nconsole.log("Min:", Math.min(...numbers10));  // 5\n\n// Removing duplicates\nlet duplicates = [1, 2, 2, 3, 3, 4, 4, 5];\nlet unique = [...new Set(duplicates)];\nconsole.log("Unique:", unique);  // [1, 2, 3, 4, 5]\nconsole.log();\n\nconsole.log("=== Multidimensional Arrays ===");\n\n// 2D Array\nlet matrix = [\n    [1, 2, 3],\n    [4, 5, 6],\n    [7, 8, 9]\n];\n\nconsole.log("Matrix:");\nmatrix.forEach(row => {\n    console.log(row);\n});\n\nconsole.log("Element [1][2]:", matrix[1][2]);  // 6\n\n// Sum all elements\nlet sum = 0;\nmatrix.forEach(row => {\n    row.forEach(cell => {\n        sum += cell;\n    });\n});\nconsole.log("Sum of all:", sum);  // 45\n\n// Transpose matrix\nfunction transpose(matrix) {\n    return matrix[0].map((_, colIndex) => {\n        return matrix.map(row => row[colIndex]);\n    });\n}\n\nlet transposed = transpose(matrix);\nconsole.log("Transposed:");\ntransposed.forEach(row => {\n    console.log(row);\n});\nconsole.log();\n\nconsole.log("=== Combining Techniques ===");\n\n// Sort + Destructure + Spread\nlet users2 = [\n    { name: "Alice", score: 85 },\n    { name: "Bob", score: 92 },\n    { name: "Charlie", score: 78 }\n];\n\nusers2.sort((a, b) => b.score - a.score);\nlet [top, ...others] = users2;\nlet topScores = [top, ...others.filter(u => u.score >= 80)];\n\nconsole.log("Top scorer:", top.name);\nconsole.log("Top scores:", topScores.map(u => u.name));\n\n// Filter + Map + Spread\nlet numbers11 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nlet processed = [\n    0,\n    ...numbers11.filter(n => n % 2 === 0).map(n => n * 2),\n    100\n];\nconsole.log("Processed:", processed);  // [0, 4, 8, 12, 16, 20, 100]\n\n// Destructure + Spread in function\nfunction processData([first, ...rest]) {\n    return [first * 2, ...rest.map(n => n + 1)];\n}\n\nlet result = processData([1, 2, 3, 4]);\nconsole.log("Processed data:", result);  // [2, 3, 4, 5]\n```\n\n**Expected Output**:\n```\n=== some() and every() ===\nHas even: true\nAll positive: true\nAll even: false\nHas inactive: true\nAll adults: true\nAll active: false\n\n=== Sorting ===\nAscending: [1, 2, 3, 5, 10, 20]\nDescending: [20, 10, 5, 3, 2, 1]\nFruits sorted: ["apple", "banana", "grape", "orange"]\nStudents by grade:\nDiana: 95\nBob: 92\nAlice: 85\nCharlie: 78\n\n=== reverse() ===\nReversed: [5, 4, 3, 2, 1]\nSorted descending: [5, 4, 3, 2, 1]\n\n=== Array Destructuring ===\nDestructured: 1, 2, 3\nSkipped: 1, 3, 5\nWith default: 1, 2, 10\nFirst: 1\nRest: [2, 3, 4, 5]\nSwapped: 10, 5\nCoords: 10, 20\n\n=== Spread Operator ===\nOriginal: [1, 2, 3]\nCopy: [1, 2, 3, 4]\nCombined: [1, 2, 3, 4, 5, 6]\nWith both: [1, 2, 3, 4, 5]\nMax: 25\nMin: 5\nUnique: [1, 2, 3, 4, 5]\n\n=== Multidimensional Arrays ===\nMatrix:\n[1, 2, 3]\n[4, 5, 6]\n[7, 8, 9]\nElement [1][2]: 6\nSum of all: 45\nTransposed:\n[1, 4, 7]\n[2, 5, 8]\n[3, 6, 9]\n\n=== Combining Techniques ===\nTop scorer: Bob\nTop scores: ["Bob", "Alice"]\nProcessed: [0, 4, 8, 12, 16, 20, 100]\nProcessed data: [2, 3, 4, 5]\n```\n\n**Challenge (Optional)**:\n- Build a matrix calculator\n- Create a data processing pipeline\n- Build a sorting and filtering system\n- Create array utility functions\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting sort() Modifies Original\n\n```javascript\n// ⚠️ Original is modified\nlet numbers = [3, 1, 2];\nlet sorted = numbers.sort();\nconsole.log(numbers);  // [1, 2, 3] (modified!)\n\n// ✅ Copy first\nlet numbers2 = [3, 1, 2];\nlet sorted2 = [...numbers2].sort();\nconsole.log(numbers2);  // [3, 1, 2] (unchanged)\n```\n\n### 2. Wrong Number Sort\n\n```javascript\n// ❌ Wrong: String sort\nlet numbers = [10, 2, 5];\nnumbers.sort();\nconsole.log(numbers);  // [10, 2, 5] (wrong!)\n\n// ✅ Correct: Number sort\nnumbers.sort((a, b) => a - b);\nconsole.log(numbers);  // [2, 5, 10]\n```\n\n### 3. Destructuring Rest Position\n\n```javascript\n// ❌ Error: Rest must be last\n// let [first, ...middle, last] = [1, 2, 3, 4];\n\n// ✅ Correct\nlet [first, ...rest] = [1, 2, 3, 4];\nlet last = rest[rest.length - 1];\n```\n\n### 4. Confusing some() and every()\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\n\n// some: at least one\nconsole.log(numbers.some(n => n > 3));  // true\n\n// every: all\nconsole.log(numbers.every(n => n > 3)); // false\n```\n\n### 5. Multidimensional Array Access\n\n```javascript\nlet matrix = [[1, 2], [3, 4]];\n\n// ✅ Correct\nconsole.log(matrix[0][1]);  // 2\n\n// ❌ Wrong\n// console.log(matrix[0, 1]);  // Doesn''t work\n```\n\n---\n\n## Key Takeaways\n\n1. **some()**: Returns true if at least one element passes test\n2. **every()**: Returns true only if all elements pass test\n3. **sort()**: Sorts array (modifies original), use comparison function for numbers\n4. **reverse()**: Reverses array order (modifies original)\n5. **Destructuring**: Extract values from arrays into variables\n6. **Spread**: Expand arrays into individual elements\n7. **Multidimensional**: Arrays containing arrays\n8. **Combine**: Use techniques together for powerful operations\n\n---\n\n## Quiz: Advanced Arrays\n\nTest your understanding with these questions:\n\n1. **What does `some()` return if no elements pass?**\n   - A) true\n   - B) false\n   - C) undefined\n   - D) []\n\n2. **What does `every()` return if all elements pass?**\n   - A) true\n   - B) false\n   - C) undefined\n   - D) []\n\n3. **What does `sort()` do by default?**\n   - A) Sorts numbers correctly\n   - B) Sorts as strings\n   - C) Doesn''t sort\n   - D) Random order\n\n4. **What does `[...arr]` do?**\n   - A) Modifies arr\n   - B) Creates copy of arr\n   - C) Deletes arr\n   - D) Nothing\n\n5. **In destructuring, rest must be:**\n   - A) First\n   - B) Last\n   - C) Middle\n   - D) Anywhere\n\n6. **What is `matrix[1][2]` accessing?**\n   - A) First row, second column\n   - B) Second row, third column\n   - C) Third row, second column\n   - D) Error\n\n7. **Which modifies the original array?**\n   - A) slice()\n   - B) map()\n   - C) sort()\n   - D) filter()\n\n**Answers**:\n1. B) false\n2. A) true\n3. B) Sorts as strings\n4. B) Creates copy of arr\n5. B) Last\n6. B) Second row, third column\n7. C) sort()\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 5: Objects and Arrays. You now know:\n- How to work with objects\n- Array basics and methods\n- Advanced array operations\n\n**What''s Next?**\n- Module 6: Object-Oriented Programming\n- Lesson 6.1: Object-Oriented Basics\n- Practice combining objects and arrays\n- Build complex data structures\n\n---\n\n## Additional Resources\n\n- **MDN: Array Methods**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)\n- **MDN: Destructuring**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment)\n- **JavaScript.info: Array Methods**: [javascript.info/array-methods](https://javascript.info/array-methods)\n- **JavaScript.info: Destructuring**: [javascript.info/destructuring-assignment](https://javascript.info/destructuring-assignment)\n\n---\n\n*Lesson completed! You''ve finished Module 5: Objects and Arrays. Ready for Module 6: Object-Oriented Programming!*\n\n', NULL, 3, '2026-01-03 09:33:30', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use array testing methods (some, every)\n- Sort and reverse arrays\n- Destructure arrays to extract values\n- Use spread operator with arrays effectively\n- Work with multidimensional arrays\n- Combine advanced array techniques\n- Write efficient array manipulation code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (123, 46, 10, 'Object-Oriented Basics', 'object-oriented-basics', '# Lesson 6.1: Object-Oriented Basics\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Create objects using constructor functions\n- Understand prototypes and the prototype chain\n- Use the instanceof operator to check object types\n- Add methods to prototypes\n- Understand how JavaScript implements inheritance\n- Work with constructor patterns\n\n---\n\n## Introduction to Object-Oriented Programming\n\nObject-Oriented Programming (OOP) is a programming paradigm that organizes code around objects and classes. JavaScript uses prototypes for OOP, which is different from class-based languages but equally powerful.\n\n### Key OOP Concepts\n\n- **Encapsulation**: Bundling data and methods together\n- **Inheritance**: Objects can inherit properties and methods\n- **Polymorphism**: Different objects can respond to the same method\n- **Abstraction**: Hiding complex implementation details\n\n---\n\n## Constructor Functions\n\nConstructor functions are used to create multiple objects with the same structure. They''re like blueprints for creating objects.\n\n### Basic Constructor\n\n```javascript\nfunction Person(name, age) {\n    this.name = name;\n    this.age = age;\n}\n\nlet person1 = new Person("Alice", 25);\nlet person2 = new Person("Bob", 30);\n\nconsole.log(person1);  // Person { name: "Alice", age: 25 }\nconsole.log(person2);  // Person { name: "Bob", age: 30 }\n```\n\n### The `new` Keyword\n\nThe `new` keyword does several things:\n1. Creates a new empty object\n2. Sets `this` to point to the new object\n3. Executes the constructor function\n4. Returns the new object (unless constructor returns something else)\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\n\nlet person = new Person("Alice");\n// What happens:\n// 1. New object created: {}\n// 2. this = {}\n// 3. this.name = "Alice"\n// 4. Return { name: "Alice" }\n```\n\n### Constructor Naming Convention\n\nConstructor functions are typically named with PascalCase (first letter uppercase):\n\n```javascript\n// ✅ Good: PascalCase\nfunction Person(name) { }\nfunction Car(brand) { }\nfunction User(email) { }\n\n// ❌ Avoid: camelCase (confusing)\nfunction person(name) { }\n```\n\n### Adding Methods\n\nYou can add methods inside the constructor:\n\n```javascript\nfunction Person(name, age) {\n    this.name = name;\n    this.age = age;\n    \n    this.greet = function() {\n        return `Hello, I''m ${this.name}`;\n    };\n    \n    this.haveBirthday = function() {\n        this.age++;\n        return `Happy birthday! Now I''m ${this.age}`;\n    };\n}\n\nlet person = new Person("Alice", 25);\nconsole.log(person.greet());        // "Hello, I''m Alice"\nconsole.log(person.haveBirthday()); // "Happy birthday! Now I''m 26"\n```\n\n**⚠️ Problem**: Each instance gets its own copy of methods (memory inefficient).\n\n**✅ Better**: Add methods to prototype (covered next).\n\n### Constructor Examples\n\n```javascript\n// Car constructor\nfunction Car(brand, model, year) {\n    this.brand = brand;\n    this.model = model;\n    this.year = year;\n    this.isRunning = false;\n    \n    this.start = function() {\n        this.isRunning = true;\n        return `${this.brand} ${this.model} started`;\n    };\n    \n    this.stop = function() {\n        this.isRunning = false;\n        return `${this.brand} ${this.model} stopped`;\n    };\n}\n\nlet car1 = new Car("Toyota", "Camry", 2020);\nlet car2 = new Car("Honda", "Civic", 2021);\n\nconsole.log(car1.start());  // "Toyota Camry started"\nconsole.log(car2.start());  // "Honda Civic started"\n```\n\n### Constructor Return Value\n\nIf constructor returns an object, that object is used instead:\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n    return { custom: "object" };  // Returns this instead\n}\n\nlet person = new Person("Alice");\nconsole.log(person);  // { custom: "object" } (not Person instance)\n```\n\n**Best Practice**: Don''t return values from constructors (except `this`).\n\n---\n\n## Prototypes\n\nEvery JavaScript object has a prototype. The prototype is an object that other objects can inherit properties and methods from.\n\n### Understanding Prototypes\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\n\nlet person = new Person("Alice");\nconsole.log(person.__proto__);  // Person.prototype\n```\n\n### Adding Methods to Prototype\n\nThis is more memory-efficient - all instances share the same method:\n\n```javascript\nfunction Person(name, age) {\n    this.name = name;\n    this.age = age;\n}\n\n// Add method to prototype\nPerson.prototype.greet = function() {\n    return `Hello, I''m ${this.name}`;\n};\n\nPerson.prototype.haveBirthday = function() {\n    this.age++;\n    return `Happy birthday! Now I''m ${this.age}`;\n};\n\nlet person1 = new Person("Alice", 25);\nlet person2 = new Person("Bob", 30);\n\nconsole.log(person1.greet());  // "Hello, I''m Alice"\nconsole.log(person2.greet());  // "Hello, I''m Bob"\n\n// Both instances share the same method (memory efficient)\nconsole.log(person1.greet === person2.greet);  // true\n```\n\n### Prototype Properties\n\nYou can also add properties to prototype:\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\n\nPerson.prototype.species = "Homo sapiens";\n\nlet person = new Person("Alice");\nconsole.log(person.species);  // "Homo sapiens"\n```\n\n### Accessing Prototype\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\n\nPerson.prototype.greet = function() {\n    return `Hello, I''m ${this.name}`;\n};\n\nlet person = new Person("Alice");\n\n// Access prototype\nconsole.log(Person.prototype);\nconsole.log(Object.getPrototypeOf(person));\nconsole.log(person.__proto__);  // Deprecated but works\n```\n\n### Prototype Methods vs Instance Methods\n\n**Instance methods** (in constructor):\n```javascript\nfunction Person(name) {\n    this.name = name;\n    this.greet = function() {\n        return `Hello, I''m ${this.name}`;\n    };\n}\n// Each instance has its own copy\n```\n\n**Prototype methods** (on prototype):\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\nPerson.prototype.greet = function() {\n    return `Hello, I''m ${this.name}`;\n};\n// All instances share the same method\n```\n\n**Best Practice**: Use prototype methods for shared functionality.\n\n---\n\n## Prototype Chain\n\nThe prototype chain is how JavaScript implements inheritance. When you access a property, JavaScript looks up the chain until it finds it.\n\n### How Prototype Chain Works\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\n\nPerson.prototype.species = "Homo sapiens";\n\nlet person = new Person("Alice");\n\n// JavaScript looks for ''species'':\n// 1. Check person object → not found\n// 2. Check Person.prototype → found! "Homo sapiens"\nconsole.log(person.species);  // "Homo sapiens"\n```\n\n### Chain Visualization\n\n```\nperson\n  ├─ name: "Alice" (own property)\n  └─ __proto__ → Person.prototype\n       ├─ species: "Homo sapiens"\n       ├─ greet: function()\n       └─ __proto__ → Object.prototype\n            ├─ toString: function()\n            ├─ valueOf: function()\n            └─ __proto__ → null\n```\n\n### Property Lookup\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\n\nPerson.prototype.species = "Homo sapiens";\nObject.prototype.planet = "Earth";\n\nlet person = new Person("Alice");\n\nconsole.log(person.name);    // "Alice" (own property)\nconsole.log(person.species); // "Homo sapiens" (from Person.prototype)\nconsole.log(person.planet);  // "Earth" (from Object.prototype)\nconsole.log(person.toString); // function (from Object.prototype)\n```\n\n### hasOwnProperty()\n\nCheck if property belongs to object itself (not prototype):\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\n\nPerson.prototype.species = "Homo sapiens";\n\nlet person = new Person("Alice");\n\nconsole.log(person.hasOwnProperty("name"));    // true (own property)\nconsole.log(person.hasOwnProperty("species")); // false (from prototype)\n```\n\n### Checking Prototype Chain\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\n\nPerson.prototype.species = "Homo sapiens";\n\nlet person = new Person("Alice");\n\n// Check if property exists (anywhere in chain)\nconsole.log("name" in person);     // true\nconsole.log("species" in person);  // true\nconsole.log("toString" in person); // true\n\n// Check if own property\nconsole.log(person.hasOwnProperty("name"));     // true\nconsole.log(person.hasOwnProperty("species"));   // false\nconsole.log(person.hasOwnProperty("toString"));  // false\n```\n\n---\n\n## instanceof Operator\n\nThe `instanceof` operator checks if an object is an instance of a constructor function.\n\n### Basic Usage\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\n\nlet person = new Person("Alice");\n\nconsole.log(person instanceof Person);  // true\nconsole.log(person instanceof Object);   // true (all objects inherit from Object)\n```\n\n### How instanceof Works\n\n`instanceof` checks the prototype chain:\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\n\nlet person = new Person("Alice");\n\n// Checks if Person.prototype is in person''s prototype chain\nconsole.log(person instanceof Person);  // true\n```\n\n### Examples\n\n```javascript\nfunction Car(brand) {\n    this.brand = brand;\n}\n\nfunction Truck(brand) {\n    this.brand = brand;\n}\n\nlet car = new Car("Toyota");\nlet truck = new Truck("Ford");\n\nconsole.log(car instanceof Car);     // true\nconsole.log(car instanceof Truck);   // false\nconsole.log(car instanceof Object);  // true\n```\n\n### Arrays and instanceof\n\n```javascript\nlet arr = [1, 2, 3];\n\nconsole.log(arr instanceof Array);   // true\nconsole.log(arr instanceof Object);  // true\n```\n\n### Functions and instanceof\n\n```javascript\nfunction myFunction() { }\n\nconsole.log(myFunction instanceof Function);  // true\nconsole.log(myFunction instanceof Object);   // true\n```\n\n### Using instanceof for Type Checking\n\n```javascript\nfunction processVehicle(vehicle) {\n    if (vehicle instanceof Car) {\n        console.log("Processing car");\n    } else if (vehicle instanceof Truck) {\n        console.log("Processing truck");\n    } else {\n        console.log("Unknown vehicle type");\n    }\n}\n```\n\n---\n\n## Complete Example\n\n### Person Constructor with Prototype\n\n```javascript\n// Constructor\nfunction Person(firstName, lastName, age) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.age = age;\n}\n\n// Prototype methods\nPerson.prototype.getFullName = function() {\n    return `${this.firstName} ${this.lastName}`;\n};\n\nPerson.prototype.haveBirthday = function() {\n    this.age++;\n    return `Happy birthday! Now I''m ${this.age}`;\n};\n\nPerson.prototype.introduce = function() {\n    return `Hi, I''m ${this.getFullName()} and I''m ${this.age} years old`;\n};\n\n// Prototype property\nPerson.prototype.species = "Homo sapiens";\n\n// Usage\nlet person1 = new Person("Alice", "Smith", 25);\nlet person2 = new Person("Bob", "Jones", 30);\n\nconsole.log(person1.getFullName());     // "Alice Smith"\nconsole.log(person1.introduce());        // "Hi, I''m Alice Smith and I''m 25 years old"\nconsole.log(person2.introduce());        // "Hi, I''m Bob Jones and I''m 30 years old"\nconsole.log(person1.species);            // "Homo sapiens"\nconsole.log(person1 instanceof Person);  // true\n```\n\n### Car Constructor Example\n\n```javascript\nfunction Car(brand, model, year) {\n    this.brand = brand;\n    this.model = model;\n    this.year = year;\n    this.speed = 0;\n    this.isRunning = false;\n}\n\nCar.prototype.start = function() {\n    this.isRunning = true;\n    return `${this.brand} ${this.model} started`;\n};\n\nCar.prototype.stop = function() {\n    this.isRunning = false;\n    this.speed = 0;\n    return `${this.brand} ${this.model} stopped`;\n};\n\nCar.prototype.accelerate = function(amount) {\n    if (this.isRunning) {\n        this.speed += amount;\n        return `Speed: ${this.speed} mph`;\n    }\n    return "Car is not running";\n};\n\nCar.prototype.getInfo = function() {\n    return `${this.year} ${this.brand} ${this.model}`;\n};\n\n// Usage\nlet car = new Car("Toyota", "Camry", 2020);\nconsole.log(car.start());           // "Toyota Camry started"\nconsole.log(car.accelerate(30));    // "Speed: 30 mph"\nconsole.log(car.accelerate(20));    // "Speed: 50 mph"\nconsole.log(car.getInfo());         // "2020 Toyota Camry"\nconsole.log(car.stop());            // "Toyota Camry stopped"\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Creating Objects with Constructors\n\n**Objective**: Create constructor functions and use prototypes to build object-oriented code.\n\n**Instructions**:\n\n1. Create a file called `oop-basics.js`\n\n2. Create constructor functions for:\n   - Book (title, author, year, pages)\n   - BankAccount (accountNumber, balance)\n   - Student (name, age, grade)\n\n3. Add prototype methods for each:\n   - Book: getInfo(), isLong() (pages > 300)\n   - BankAccount: deposit(), withdraw(), getBalance()\n   - Student: introduce(), promote() (increase grade)\n\n4. Test with instanceof operator\n\n5. Demonstrate prototype chain\n\n**Example Solution**:\n\n```javascript\n// OOP Basics Practice\nconsole.log("=== Book Constructor ===");\n\nfunction Book(title, author, year, pages) {\n    this.title = title;\n    this.author = author;\n    this.year = year;\n    this.pages = pages;\n}\n\nBook.prototype.getInfo = function() {\n    return `${this.title} by ${this.author} (${this.year})`;\n};\n\nBook.prototype.isLong = function() {\n    return this.pages > 300;\n};\n\nBook.prototype.getSummary = function() {\n    return `${this.title} is a ${this.pages}-page book written by ${this.author} in ${this.year}`;\n};\n\nlet book1 = new Book("1984", "George Orwell", 1949, 328);\nlet book2 = new Book("The Great Gatsby", "F. Scott Fitzgerald", 1925, 180);\n\nconsole.log(book1.getInfo());        // "1984 by George Orwell (1949)"\nconsole.log(book1.isLong());         // true\nconsole.log(book2.isLong());         // false\nconsole.log(book1.getSummary());\nconsole.log("Instanceof Book:", book1 instanceof Book);  // true\nconsole.log();\n\nconsole.log("=== BankAccount Constructor ===");\n\nfunction BankAccount(accountNumber, initialBalance = 0) {\n    this.accountNumber = accountNumber;\n    this.balance = initialBalance;\n    this.transactions = [];\n}\n\nBankAccount.prototype.deposit = function(amount) {\n    if (amount > 0) {\n        this.balance += amount;\n        this.transactions.push({ type: "deposit", amount, balance: this.balance });\n        return `Deposited $${amount}. New balance: $${this.balance}`;\n    }\n    return "Invalid deposit amount";\n};\n\nBankAccount.prototype.withdraw = function(amount) {\n    if (amount > 0 && amount <= this.balance) {\n        this.balance -= amount;\n        this.transactions.push({ type: "withdraw", amount, balance: this.balance });\n        return `Withdrew $${amount}. New balance: $${this.balance}`;\n    }\n    return amount > this.balance ? "Insufficient funds" : "Invalid withdrawal amount";\n};\n\nBankAccount.prototype.getBalance = function() {\n    return `Account ${this.accountNumber}: $${this.balance}`;\n};\n\nBankAccount.prototype.getTransactionHistory = function() {\n    return this.transactions;\n};\n\nlet account1 = new BankAccount("ACC001", 1000);\nlet account2 = new BankAccount("ACC002", 500);\n\nconsole.log(account1.getBalance());        // "Account ACC001: $1000"\nconsole.log(account1.deposit(500));        // "Deposited $500. New balance: $1500"\nconsole.log(account1.withdraw(200));       // "Withdrew $200. New balance: $1300"\nconsole.log(account1.withdraw(2000));      // "Insufficient funds"\nconsole.log("Instanceof BankAccount:", account1 instanceof BankAccount);  // true\nconsole.log();\n\nconsole.log("=== Student Constructor ===");\n\nfunction Student(name, age, grade) {\n    this.name = name;\n    this.age = age;\n    this.grade = grade;\n    this.subjects = [];\n}\n\nStudent.prototype.introduce = function() {\n    return `Hi, I''m ${this.name}, ${this.age} years old, in grade ${this.grade}`;\n};\n\nStudent.prototype.promote = function() {\n    this.grade++;\n    return `Promoted to grade ${this.grade}`;\n};\n\nStudent.prototype.addSubject = function(subject) {\n    this.subjects.push(subject);\n    return `Added ${subject} to subjects`;\n};\n\nStudent.prototype.getSubjects = function() {\n    return this.subjects.length > 0 \n        ? `${this.name}''s subjects: ${this.subjects.join(", ")}`\n        : `${this.name} has no subjects yet`;\n};\n\nlet student1 = new Student("Alice", 15, 9);\nlet student2 = new Student("Bob", 16, 10);\n\nconsole.log(student1.introduce());         // "Hi, I''m Alice, 15 years old, in grade 9"\nconsole.log(student1.promote());          // "Promoted to grade 10"\nstudent1.addSubject("Math");\nstudent1.addSubject("Science");\nconsole.log(student1.getSubjects());       // "Alice''s subjects: Math, Science"\nconsole.log("Instanceof Student:", student1 instanceof Student);  // true\nconsole.log();\n\nconsole.log("=== Prototype Chain Demonstration ===");\n\nfunction Person(name) {\n    this.name = name;\n}\n\nPerson.prototype.species = "Homo sapiens";\nObject.prototype.planet = "Earth";\n\nlet person = new Person("Alice");\n\nconsole.log("Own property ''name'':", person.hasOwnProperty("name"));        // true\nconsole.log("Own property ''species'':", person.hasOwnProperty("species"));   // false\nconsole.log("Own property ''planet'':", person.hasOwnProperty("planet"));    // false\nconsole.log("Own property ''toString'':", person.hasOwnProperty("toString")); // false\n\nconsole.log("''name'' in person:", "name" in person);         // true\nconsole.log("''species'' in person:", "species" in person);     // true\nconsole.log("''planet'' in person:", "planet" in person);      // true\nconsole.log("''toString'' in person:", "toString" in person);   // true\n\nconsole.log("person.name:", person.name);           // "Alice"\nconsole.log("person.species:", person.species);     // "Homo sapiens"\nconsole.log("person.planet:", person.planet);       // "Earth"\nconsole.log();\n\nconsole.log("=== instanceof Examples ===");\n\nlet book = new Book("Test", "Author", 2020, 100);\nlet account = new BankAccount("ACC003", 100);\nlet student = new Student("Charlie", 14, 8);\n\nconsole.log("book instanceof Book:", book instanceof Book);           // true\nconsole.log("book instanceof Object:", book instanceof Object);      // true\nconsole.log("account instanceof BankAccount:", account instanceof BankAccount); // true\nconsole.log("student instanceof Student:", student instanceof Student);         // true\nconsole.log("student instanceof Object:", student instanceof Object);          // true\n\n// All objects are instances of Object\nconsole.log("All are Object instances:");\nconsole.log(book instanceof Object);     // true\nconsole.log(account instanceof Object);  // true\nconsole.log(student instanceof Object);   // true\n```\n\n**Expected Output**:\n```\n=== Book Constructor ===\n1984 by George Orwell (1949)\ntrue\nfalse\n1984 is a 328-page book written by George Orwell in 1949\nInstanceof Book: true\n\n=== BankAccount Constructor ===\nAccount ACC001: $1000\nDeposited $500. New balance: $1500\nWithdrew $200. New balance: $1300\nInsufficient funds\nInstanceof BankAccount: true\n\n=== Student Constructor ===\nHi, I''m Alice, 15 years old, in grade 9\nPromoted to grade 10\nAlice''s subjects: Math, Science\nInstanceof Student: true\n\n=== Prototype Chain Demonstration ===\nOwn property ''name'': true\nOwn property ''species'': false\nOwn property ''planet'': false\nOwn property ''toString'': false\n''name'' in person: true\n''species'' in person: true\n''planet'' in person: true\n''toString'' in person: true\nperson.name: Alice\nperson.species: Homo sapiens\nperson.planet: Earth\n\n=== instanceof Examples ===\nbook instanceof Book: true\nbook instanceof Object: true\naccount instanceof BankAccount: true\nstudent instanceof Student: true\nstudent instanceof Object: true\nAll are Object instances:\ntrue\ntrue\ntrue\n```\n\n**Challenge (Optional)**:\n- Create a library management system\n- Build a game with multiple character types\n- Create a shape hierarchy (Circle, Rectangle, etc.)\n- Build a vehicle system (Car, Truck, Motorcycle)\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting `new` Keyword\n\n```javascript\n// ❌ Wrong: this refers to global/window\nfunction Person(name) {\n    this.name = name;\n}\nlet person = Person("Alice");  // No ''new''\nconsole.log(person);  // undefined\nconsole.log(name);    // "Alice" (global variable!)\n\n// ✅ Correct\nlet person = new Person("Alice");\n```\n\n### 2. Methods in Constructor (Memory Inefficient)\n\n```javascript\n// ⚠️ Each instance gets its own copy\nfunction Person(name) {\n    this.name = name;\n    this.greet = function() { };  // New function for each instance\n}\n\n// ✅ Better: Use prototype\nfunction Person(name) {\n    this.name = name;\n}\nPerson.prototype.greet = function() { };  // Shared method\n```\n\n### 3. Modifying Prototype After Creation\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\n\nlet person = new Person("Alice");\n\n// Adding to prototype after creation still works\nPerson.prototype.greet = function() {\n    return "Hello!";\n};\n\nconsole.log(person.greet());  // "Hello!" (works!)\n```\n\n### 4. Confusing hasOwnProperty and `in`\n\n```javascript\nfunction Person(name) {\n    this.name = name;\n}\nPerson.prototype.species = "Homo sapiens";\n\nlet person = new Person("Alice");\n\nconsole.log("name" in person);     // true (anywhere in chain)\nconsole.log("species" in person);  // true (anywhere in chain)\n\nconsole.log(person.hasOwnProperty("name"));     // true (own property)\nconsole.log(person.hasOwnProperty("species"));  // false (from prototype)\n```\n\n### 5. Prototype vs __proto__\n\n```javascript\n// __proto__ is deprecated but works\nlet person = new Person("Alice");\nconsole.log(person.__proto__);  // Person.prototype\n\n// ✅ Better: Use Object.getPrototypeOf()\nconsole.log(Object.getPrototypeOf(person));  // Person.prototype\n```\n\n---\n\n## Key Takeaways\n\n1. **Constructor Functions**: Create objects with `new` keyword\n2. **Prototypes**: Shared object for methods and properties\n3. **Prototype Chain**: JavaScript looks up properties through chain\n4. **instanceof**: Checks if object is instance of constructor\n5. **hasOwnProperty()**: Checks if property is own (not from prototype)\n6. **Best Practice**: Use prototype methods for shared functionality\n7. **Memory Efficiency**: Prototype methods are shared, constructor methods are not\n\n---\n\n## Quiz: OOP Basics\n\nTest your understanding with these questions:\n\n1. **What does `new` keyword do?**\n   - A) Creates new function\n   - B) Creates new object and sets this\n   - C) Deletes object\n   - D) Nothing\n\n2. **Where should shared methods be placed?**\n   - A) In constructor\n   - B) On prototype\n   - C) Outside function\n   - D) Doesn''t matter\n\n3. **What does `instanceof` check?**\n   - A) Property existence\n   - B) Prototype chain\n   - C) Value type\n   - D) Object equality\n\n4. **What does `hasOwnProperty()` check?**\n   - A) If property exists in prototype chain\n   - B) If property is own property\n   - C) If property is a function\n   - D) If property is undefined\n\n5. **Prototype chain ends at:**\n   - A) Object.prototype\n   - B) null\n   - C) Function.prototype\n   - D) Array.prototype\n\n6. **What happens if you forget `new`?**\n   - A) Error\n   - B) `this` refers to global\n   - C) Returns undefined\n   - D) Both B and C\n\n7. **All objects inherit from:**\n   - A) Function\n   - B) Array\n   - C) Object\n   - D) String\n\n**Answers**:\n1. B) Creates new object and sets this\n2. B) On prototype\n3. B) Prototype chain\n4. B) If property is own property\n5. B) null (Object.prototype.__proto__ is null)\n6. D) Both B and C\n7. C) Object\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned object-oriented basics. You now know:\n- How to create constructor functions\n- How prototypes work\n- How the prototype chain functions\n- How to use instanceof\n\n**What''s Next?**\n- Lesson 6.2: Classes (ES6)\n- Practice with constructor patterns\n- Understand prototype inheritance\n- Build more complex object hierarchies\n\n---\n\n## Additional Resources\n\n- **MDN: Object-oriented JavaScript**: [developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object-oriented_JS](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object-oriented_JS)\n- **MDN: instanceof**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof)\n- **JavaScript.info: Prototypes**: [javascript.info/prototype-inheritance](https://javascript.info/prototype-inheritance)\n- **JavaScript.info: Constructor Functions**: [javascript.info/constructor-new](https://javascript.info/constructor-new)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:36:30', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Create objects using constructor functions\n- Understand prototypes and the prototype chain\n- Use the instanceof operator to check object types\n- Add methods to prototypes\n- Understand how JavaScript implements inheritance\n- Work with constructor patterns');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (124, 46, 10, 'Classes and Constructors', 'classes-and-constructors', '# Lesson 6.2: Classes (ES6)\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use ES6 class syntax to create classes\n- Understand constructor methods\n- Create instance methods\n- Use static methods\n- Work with class fields\n- Understand how classes relate to prototypes\n- Write clean, modern object-oriented code\n\n---\n\n## Introduction to ES6 Classes\n\nES6 introduced the `class` keyword, providing a cleaner syntax for creating objects and handling inheritance. Under the hood, classes are still based on prototypes, but the syntax is more familiar to developers from class-based languages.\n\n### Why Classes?\n\n- Cleaner syntax than constructor functions\n- More familiar to developers from other languages\n- Better organization\n- Built-in support for inheritance\n- Still uses prototypes (no performance difference)\n\n---\n\n## Class Syntax\n\n### Basic Class Declaration\n\n```javascript\nclass Person {\n    constructor(name, age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n\nlet person = new Person("Alice", 25);\nconsole.log(person);  // Person { name: "Alice", age: 25 }\n```\n\n### Class vs Constructor Function\n\n**Constructor Function (old way):**\n```javascript\nfunction Person(name, age) {\n    this.name = name;\n    this.age = age;\n}\n```\n\n**Class (ES6 way):**\n```javascript\nclass Person {\n    constructor(name, age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n```\n\nBoth create the same result, but class syntax is cleaner.\n\n---\n\n## Constructor Methods\n\nThe `constructor` method is a special method that runs when a new instance is created.\n\n### Basic Constructor\n\n```javascript\nclass Person {\n    constructor(name, age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n\nlet person = new Person("Alice", 25);\n```\n\n### Constructor with Default Values\n\n```javascript\nclass Person {\n    constructor(name, age = 0) {\n        this.name = name;\n        this.age = age;\n    }\n}\n\nlet person1 = new Person("Alice", 25);\nlet person2 = new Person("Bob");  // age defaults to 0\n```\n\n### Constructor Validation\n\n```javascript\nclass Person {\n    constructor(name, age) {\n        if (typeof name !== "string" || name.length === 0) {\n            throw new Error("Name must be a non-empty string");\n        }\n        if (age < 0) {\n            throw new Error("Age cannot be negative");\n        }\n        this.name = name;\n        this.age = age;\n    }\n}\n```\n\n### No Constructor\n\nIf you don''t define a constructor, JavaScript provides an empty one:\n\n```javascript\nclass Person {\n    // No constructor defined\n}\n\nlet person = new Person();  // Works! Empty object\n```\n\n---\n\n## Instance Methods\n\nInstance methods are available on all instances of the class.\n\n### Basic Instance Methods\n\n```javascript\nclass Person {\n    constructor(name, age) {\n        this.name = name;\n        this.age = age;\n    }\n    \n    greet() {\n        return `Hello, I''m ${this.name}`;\n    }\n    \n    haveBirthday() {\n        this.age++;\n        return `Happy birthday! Now I''m ${this.age}`;\n    }\n    \n    introduce() {\n        return `Hi, I''m ${this.name} and I''m ${this.age} years old`;\n    }\n}\n\nlet person = new Person("Alice", 25);\nconsole.log(person.greet());        // "Hello, I''m Alice"\nconsole.log(person.haveBirthday()); // "Happy birthday! Now I''m 26"\nconsole.log(person.introduce());     // "Hi, I''m Alice and I''m 26 years old"\n```\n\n### Methods Accessing Properties\n\n```javascript\nclass Rectangle {\n    constructor(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    \n    getArea() {\n        return this.width * this.height;\n    }\n    \n    getPerimeter() {\n        return 2 * (this.width + this.height);\n    }\n    \n    isSquare() {\n        return this.width === this.height;\n    }\n}\n\nlet rect = new Rectangle(10, 5);\nconsole.log(rect.getArea());      // 50\nconsole.log(rect.getPerimeter()); // 30\nconsole.log(rect.isSquare());     // false\n```\n\n### Methods Modifying State\n\n```javascript\nclass BankAccount {\n    constructor(accountNumber, balance = 0) {\n        this.accountNumber = accountNumber;\n        this.balance = balance;\n    }\n    \n    deposit(amount) {\n        if (amount > 0) {\n            this.balance += amount;\n            return `Deposited $${amount}. New balance: $${this.balance}`;\n        }\n        return "Invalid deposit amount";\n    }\n    \n    withdraw(amount) {\n        if (amount > 0 && amount <= this.balance) {\n            this.balance -= amount;\n            return `Withdrew $${amount}. New balance: $${this.balance}`;\n        }\n        return "Insufficient funds or invalid amount";\n    }\n    \n    getBalance() {\n        return this.balance;\n    }\n}\n```\n\n---\n\n## Static Methods\n\nStatic methods belong to the class itself, not to instances. They''re called on the class, not on instances.\n\n### Basic Static Method\n\n```javascript\nclass MathUtils {\n    static add(a, b) {\n        return a + b;\n    }\n    \n    static multiply(a, b) {\n        return a * b;\n    }\n}\n\n// Call on class, not instance\nconsole.log(MathUtils.add(5, 3));        // 8\nconsole.log(MathUtils.multiply(5, 3));   // 15\n\n// ❌ Cannot call on instance\nlet utils = new MathUtils();\n// utils.add(5, 3);  // Error: utils.add is not a function\n```\n\n### Static Methods for Utilities\n\n```javascript\nclass Person {\n    constructor(name, age) {\n        this.name = name;\n        this.age = age;\n    }\n    \n    // Static method to create from object\n    static fromObject(obj) {\n        return new Person(obj.name, obj.age);\n    }\n    \n    // Static method to compare ages\n    static compareAge(person1, person2) {\n        return person1.age - person2.age;\n    }\n    \n    // Static method to validate age\n    static isValidAge(age) {\n        return typeof age === "number" && age >= 0 && age <= 150;\n    }\n}\n\nlet person1 = Person.fromObject({ name: "Alice", age: 25 });\nlet person2 = Person.fromObject({ name: "Bob", age: 30 });\n\nconsole.log(Person.compareAge(person1, person2));  // -5 (Alice is younger)\nconsole.log(Person.isValidAge(25));                 // true\nconsole.log(Person.isValidAge(200));                // false\n```\n\n### When to Use Static Methods\n\n- Utility functions related to the class\n- Factory methods (create instances in special ways)\n- Validation methods\n- Methods that don''t need instance data\n\n---\n\n## Class Fields\n\nClass fields allow you to define properties directly in the class body (ES2022).\n\n### Instance Fields\n\n```javascript\nclass Person {\n    // Instance fields\n    name = "Unknown";\n    age = 0;\n    \n    constructor(name, age) {\n        this.name = name;\n        this.age = age;\n    }\n}\n\nlet person = new Person("Alice", 25);\nconsole.log(person.name);  // "Alice"\n```\n\n### Private Fields (ES2022)\n\nPrivate fields are only accessible within the class:\n\n```javascript\nclass BankAccount {\n    // Private field (starts with #)\n    #balance = 0;\n    \n    constructor(accountNumber) {\n        this.accountNumber = accountNumber;\n    }\n    \n    deposit(amount) {\n        this.#balance += amount;\n    }\n    \n    getBalance() {\n        return this.#balance;\n    }\n}\n\nlet account = new BankAccount("ACC001");\naccount.deposit(100);\nconsole.log(account.getBalance());  // 100\n// console.log(account.#balance);   // ❌ Error: Private field\n```\n\n### Static Fields\n\n```javascript\nclass Person {\n    // Static field\n    static species = "Homo sapiens";\n    static count = 0;\n    \n    constructor(name) {\n        this.name = name;\n        Person.count++;  // Increment static counter\n    }\n    \n    static getCount() {\n        return Person.count;\n    }\n}\n\nconsole.log(Person.species);  // "Homo sapiens"\n\nlet person1 = new Person("Alice");\nlet person2 = new Person("Bob");\n\nconsole.log(Person.getCount());  // 2\n```\n\n### Field Initialization\n\n```javascript\nclass Counter {\n    count = 0;  // Instance field with initial value\n    \n    increment() {\n        this.count++;\n    }\n    \n    getCount() {\n        return this.count;\n    }\n}\n\nlet counter = new Counter();\nconsole.log(counter.getCount());  // 0\ncounter.increment();\nconsole.log(counter.getCount());  // 1\n```\n\n---\n\n## Getters and Setters\n\nGetters and setters allow you to define computed properties.\n\n### Getters\n\n```javascript\nclass Rectangle {\n    constructor(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    \n    get area() {\n        return this.width * this.height;\n    }\n    \n    get perimeter() {\n        return 2 * (this.width + this.height);\n    }\n}\n\nlet rect = new Rectangle(10, 5);\nconsole.log(rect.area);       // 50 (accessed like property)\nconsole.log(rect.perimeter);   // 30\n```\n\n### Setters\n\n```javascript\nclass Person {\n    constructor(firstName, lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n    \n    get fullName() {\n        return `${this.firstName} ${this.lastName}`;\n    }\n    \n    set fullName(name) {\n        const parts = name.split(" ");\n        this.firstName = parts[0] || "";\n        this.lastName = parts.slice(1).join(" ") || "";\n    }\n}\n\nlet person = new Person("Alice", "Smith");\nconsole.log(person.fullName);  // "Alice Smith"\n\nperson.fullName = "Bob Jones";\nconsole.log(person.firstName);  // "Bob"\nconsole.log(person.lastName);   // "Jones"\n```\n\n### Practical Example\n\n```javascript\nclass Temperature {\n    constructor(celsius) {\n        this._celsius = celsius;\n    }\n    \n    get celsius() {\n        return this._celsius;\n    }\n    \n    set celsius(value) {\n        if (value < -273.15) {\n            throw new Error("Temperature cannot be below absolute zero");\n        }\n        this._celsius = value;\n    }\n    \n    get fahrenheit() {\n        return (this._celsius * 9/5) + 32;\n    }\n    \n    set fahrenheit(value) {\n        this._celsius = (value - 32) * 5/9;\n    }\n}\n\nlet temp = new Temperature(25);\nconsole.log(temp.celsius);     // 25\nconsole.log(temp.fahrenheit);  // 77\n\ntemp.fahrenheit = 100;\nconsole.log(temp.celsius);     // 37.777...\n```\n\n---\n\n## Complete Class Example\n\n### Car Class\n\n```javascript\nclass Car {\n    // Static field\n    static totalCars = 0;\n    \n    // Constructor\n    constructor(brand, model, year) {\n        this.brand = brand;\n        this.model = model;\n        this.year = year;\n        this.speed = 0;\n        this.isRunning = false;\n        \n        Car.totalCars++;\n    }\n    \n    // Instance methods\n    start() {\n        this.isRunning = true;\n        return `${this.brand} ${this.model} started`;\n    }\n    \n    stop() {\n        this.isRunning = false;\n        this.speed = 0;\n        return `${this.brand} ${this.model} stopped`;\n    }\n    \n    accelerate(amount) {\n        if (this.isRunning) {\n            this.speed += amount;\n            return `Speed: ${this.speed} mph`;\n        }\n        return "Car is not running";\n    }\n    \n    brake(amount) {\n        if (this.speed > 0) {\n            this.speed = Math.max(0, this.speed - amount);\n            return `Speed: ${this.speed} mph`;\n        }\n        return "Car is already stopped";\n    }\n    \n    // Getter\n    get info() {\n        return `${this.year} ${this.brand} ${this.model}`;\n    }\n    \n    // Static method\n    static getTotalCars() {\n        return Car.totalCars;\n    }\n    \n    static compareYear(car1, car2) {\n        return car1.year - car2.year;\n    }\n}\n\n// Usage\nlet car1 = new Car("Toyota", "Camry", 2020);\nlet car2 = new Car("Honda", "Civic", 2021);\n\nconsole.log(car1.start());           // "Toyota Camry started"\nconsole.log(car1.accelerate(30));    // "Speed: 30 mph"\nconsole.log(car1.info);              // "2020 Toyota Camry"\nconsole.log(Car.getTotalCars());     // 2\nconsole.log(Car.compareYear(car1, car2));  // -1 (car1 is older)\n```\n\n---\n\n## Classes vs Constructor Functions\n\n### Similarities\n\nBoth create the same result:\n\n```javascript\n// Constructor function\nfunction Person(name) {\n    this.name = name;\n}\nPerson.prototype.greet = function() {\n    return `Hello, ${this.name}`;\n};\n\n// Class\nclass Person {\n    constructor(name) {\n        this.name = name;\n    }\n    greet() {\n        return `Hello, ${this.name}`;\n    }\n}\n```\n\n### Differences\n\n**Classes:**\n- ✅ Cleaner syntax\n- ✅ Built-in support for inheritance\n- ✅ Cannot be called without `new`\n- ✅ Methods are non-enumerable\n- ✅ Always in strict mode\n\n**Constructor Functions:**\n- ⚠️ Can be called without `new` (creates bugs)\n- ⚠️ More verbose\n- ✅ More flexible (can return different objects)\n\n### Class Hoisting\n\nClasses are NOT hoisted (unlike function declarations):\n\n```javascript\n// ❌ Error: Cannot access before initialization\nlet person = new Person("Alice");\n\nclass Person {\n    constructor(name) {\n        this.name = name;\n    }\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Building Classes\n\n**Objective**: Create classes using ES6 class syntax with constructors, instance methods, static methods, and class fields.\n\n**Instructions**:\n\n1. Create a file called `classes-practice.js`\n\n2. Create classes for:\n   - Product (name, price, quantity)\n   - Circle (radius)\n   - Library (books management)\n\n3. Include:\n   - Constructors with validation\n   - Instance methods\n   - Static methods\n   - Getters and setters\n   - Class fields\n\n**Example Solution**:\n\n```javascript\n// Classes Practice\nconsole.log("=== Product Class ===");\n\nclass Product {\n    // Static field\n    static totalProducts = 0;\n    \n    constructor(name, price, quantity = 0) {\n        if (!name || typeof name !== "string") {\n            throw new Error("Product name must be a non-empty string");\n        }\n        if (price < 0) {\n            throw new Error("Price cannot be negative");\n        }\n        if (quantity < 0) {\n            throw new Error("Quantity cannot be negative");\n        }\n        \n        this.name = name;\n        this.price = price;\n        this.quantity = quantity;\n        \n        Product.totalProducts++;\n    }\n    \n    // Instance methods\n    getTotalValue() {\n        return this.price * this.quantity;\n    }\n    \n    addStock(amount) {\n        if (amount > 0) {\n            this.quantity += amount;\n            return `Added ${amount} units. New quantity: ${this.quantity}`;\n        }\n        return "Invalid amount";\n    }\n    \n    sell(amount) {\n        if (amount > 0 && amount <= this.quantity) {\n            this.quantity -= amount;\n            return `Sold ${amount} units. Remaining: ${this.quantity}`;\n        }\n        return "Invalid sale or insufficient stock";\n    }\n    \n    // Getter\n    get isInStock() {\n        return this.quantity > 0;\n    }\n    \n    get info() {\n        return `${this.name}: $${this.price} (${this.quantity} in stock)`;\n    }\n    \n    // Static methods\n    static getTotalProducts() {\n        return Product.totalProducts;\n    }\n    \n    static comparePrice(product1, product2) {\n        return product1.price - product2.price;\n    }\n    \n    static findCheapest(products) {\n        return products.reduce((cheapest, current) => {\n            return current.price < cheapest.price ? current : cheapest;\n        });\n    }\n}\n\nlet product1 = new Product("Laptop", 999.99, 10);\nlet product2 = new Product("Mouse", 29.99, 50);\nlet product3 = new Product("Keyboard", 79.99, 25);\n\nconsole.log(product1.info);                    // "Laptop: $999.99 (10 in stock)"\nconsole.log(product1.getTotalValue());         // 9999.9\nconsole.log(product1.isInStock);              // true\nconsole.log(product1.sell(3));                // "Sold 3 units. Remaining: 7"\nconsole.log(Product.getTotalProducts());        // 3\nconsole.log(Product.comparePrice(product2, product3));  // -50 (mouse is cheaper)\nconsole.log();\n\nconsole.log("=== Circle Class ===");\n\nclass Circle {\n    constructor(radius) {\n        if (radius < 0) {\n            throw new Error("Radius cannot be negative");\n        }\n        this.radius = radius;\n    }\n    \n    // Getters\n    get diameter() {\n        return this.radius * 2;\n    }\n    \n    get area() {\n        return Math.PI * this.radius ** 2;\n    }\n    \n    get circumference() {\n        return 2 * Math.PI * this.radius;\n    }\n    \n    // Setters\n    set diameter(value) {\n        this.radius = value / 2;\n    }\n    \n    set area(value) {\n        this.radius = Math.sqrt(value / Math.PI);\n    }\n    \n    // Instance methods\n    scale(factor) {\n        if (factor > 0) {\n            this.radius *= factor;\n            return `Scaled by ${factor}. New radius: ${this.radius}`;\n        }\n        return "Invalid scale factor";\n    }\n    \n    // Static methods\n    static fromDiameter(diameter) {\n        return new Circle(diameter / 2);\n    }\n    \n    static fromArea(area) {\n        return new Circle(Math.sqrt(area / Math.PI));\n    }\n    \n    static compareArea(circle1, circle2) {\n        return circle1.area - circle2.area;\n    }\n}\n\nlet circle1 = new Circle(5);\nconsole.log("Radius:", circle1.radius);           // 5\nconsole.log("Diameter:", circle1.diameter);       // 10\nconsole.log("Area:", circle1.area.toFixed(2));    // 78.54\nconsole.log("Circumference:", circle1.circumference.toFixed(2));  // 31.42\n\ncircle1.diameter = 20;\nconsole.log("New radius:", circle1.radius);      // 10\n\nlet circle2 = Circle.fromDiameter(14);\nconsole.log("Circle from diameter:", circle2.radius);  // 7\n\nlet circle3 = Circle.fromArea(100);\nconsole.log("Circle from area:", circle3.radius.toFixed(2));  // 5.64\nconsole.log();\n\nconsole.log("=== Library Class ===");\n\nclass Library {\n    constructor(name) {\n        this.name = name;\n        this.books = [];\n    }\n    \n    // Instance methods\n    addBook(book) {\n        this.books.push(book);\n        return `Added "${book.title}" to library`;\n    }\n    \n    removeBook(title) {\n        const index = this.books.findIndex(book => book.title === title);\n        if (index !== -1) {\n            this.books.splice(index, 1);\n            return `Removed "${title}" from library`;\n        }\n        return `Book "${title}" not found`;\n    }\n    \n    findBook(title) {\n        return this.books.find(book => book.title === title);\n    }\n    \n    getTotalBooks() {\n        return this.books.length;\n    }\n    \n    // Getter\n    get bookTitles() {\n        return this.books.map(book => book.title);\n    }\n    \n    get totalValue() {\n        return this.books.reduce((sum, book) => sum + (book.price || 0), 0);\n    }\n    \n    // Static method\n    static mergeLibraries(lib1, lib2) {\n        const merged = new Library(`${lib1.name} & ${lib2.name}`);\n        merged.books = [...lib1.books, ...lib2.books];\n        return merged;\n    }\n}\n\nclass Book {\n    constructor(title, author, year, price = 0) {\n        this.title = title;\n        this.author = author;\n        this.year = year;\n        this.price = price;\n    }\n    \n    get info() {\n        return `${this.title} by ${this.author} (${this.year})`;\n    }\n}\n\nlet library = new Library("City Library");\nlet book1 = new Book("1984", "George Orwell", 1949, 15.99);\nlet book2 = new Book("The Great Gatsby", "F. Scott Fitzgerald", 1925, 12.99);\nlet book3 = new Book("To Kill a Mockingbird", "Harper Lee", 1960, 14.99);\n\nlibrary.addBook(book1);\nlibrary.addBook(book2);\nlibrary.addBook(book3);\n\nconsole.log("Total books:", library.getTotalBooks());  // 3\nconsole.log("Book titles:", library.bookTitles);\nconsole.log("Total value: $" + library.totalValue.toFixed(2));  // $43.97\nconsole.log("Found book:", library.findBook("1984")?.info);\nconsole.log(library.removeBook("The Great Gatsby"));\nconsole.log("After removal:", library.getTotalBooks());  // 2\n```\n\n**Expected Output**:\n```\n=== Product Class ===\nLaptop: $999.99 (10 in stock)\n9999.9\ntrue\nSold 3 units. Remaining: 7\n3\n-50\n\n=== Circle Class ===\nRadius: 5\nDiameter: 10\nArea: 78.54\nCircumference: 31.42\nNew radius: 10\nCircle from diameter: 7\nCircle from area: 5.64\n\n=== Library Class ===\nTotal books: 3\nBook titles: [ "1984", "The Great Gatsby", "To Kill a Mockingbird" ]\nTotal value: $43.97\nFound book: 1984 by George Orwell (1949)\nRemoved "The Great Gatsby" from library\nAfter removal: 2\n```\n\n**Challenge (Optional)**:\n- Create a game character class system\n- Build a shape hierarchy (Circle, Rectangle, Triangle)\n- Create a vehicle management system\n- Build a user management system with validation\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting `new` with Classes\n\n```javascript\n// ❌ Error: Class constructor cannot be invoked without ''new''\nclass Person {\n    constructor(name) {\n        this.name = name;\n    }\n}\n\nlet person = Person("Alice");  // TypeError\n```\n\n### 2. Methods as Arrow Functions\n\n```javascript\n// ⚠️ Arrow functions don''t have their own `this`\nclass Person {\n    constructor(name) {\n        this.name = name;\n    }\n    \n    greet = () => {\n        console.log(this.name);  // Works, but different behavior\n    }\n}\n\n// ✅ Better: Regular method\nclass Person {\n    constructor(name) {\n        this.name = name;\n    }\n    \n    greet() {\n        console.log(this.name);\n    }\n}\n```\n\n### 3. Static Method Access\n\n```javascript\nclass Person {\n    static getCount() {\n        return 5;\n    }\n}\n\nlet person = new Person();\n// person.getCount();  // ❌ Error: Not a function\n\nPerson.getCount();  // ✅ Correct\n```\n\n### 4. Class Hoisting\n\n```javascript\n// ❌ Error: Cannot access before initialization\nlet person = new Person("Alice");\n\nclass Person {\n    constructor(name) {\n        this.name = name;\n    }\n}\n```\n\n### 5. Private Field Access\n\n```javascript\nclass BankAccount {\n    #balance = 0;\n}\n\nlet account = new BankAccount();\n// console.log(account.#balance);  // ❌ Error: Private field\n```\n\n---\n\n## Key Takeaways\n\n1. **Class Syntax**: Cleaner than constructor functions\n2. **Constructor**: Special method that runs on instantiation\n3. **Instance Methods**: Available on all instances\n4. **Static Methods**: Called on class, not instances\n5. **Class Fields**: Define properties in class body\n6. **Getters/Setters**: Computed properties\n7. **Still Prototypes**: Classes are syntactic sugar over prototypes\n8. **No Hoisting**: Classes must be defined before use\n\n---\n\n## Quiz: Classes\n\nTest your understanding with these questions:\n\n1. **What is the special method called when creating an instance?**\n   - A) init()\n   - B) constructor()\n   - C) create()\n   - D) new()\n\n2. **Static methods are called on:**\n   - A) Instances\n   - B) The class\n   - C) Prototype\n   - D) Both A and B\n\n3. **Classes are:**\n   - A) Hoisted\n   - B) Not hoisted\n   - C) Sometimes hoisted\n   - D) Always undefined\n\n4. **Private fields start with:**\n   - A) _\n   - B) #\n   - C) private\n   - D) $\n\n5. **Getters are accessed like:**\n   - A) Methods\n   - B) Properties\n   - C) Functions\n   - D) Variables\n\n6. **What happens if you call a class without `new`?**\n   - A) Works fine\n   - B) Error\n   - C) Returns undefined\n   - D) Creates global variable\n\n7. **Classes are:**\n   - A) Completely new feature\n   - B) Syntactic sugar over prototypes\n   - C) Different from constructors\n   - D) Slower than constructors\n\n**Answers**:\n1. B) constructor()\n2. B) The class\n3. B) Not hoisted\n4. B) #\n5. B) Properties\n6. B) Error\n7. B) Syntactic sugar over prototypes\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned ES6 classes. You now know:\n- How to create classes\n- Constructor, instance, and static methods\n- Class fields and getters/setters\n- How classes relate to prototypes\n\n**What''s Next?**\n- Lesson 6.3: Inheritance\n- Practice building class hierarchies\n- Learn about extends and super\n- Build more complex OOP structures\n\n---\n\n## Additional Resources\n\n- **MDN: Classes**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes)\n- **MDN: Static**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/static](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/static)\n- **JavaScript.info: Classes**: [javascript.info/class](https://javascript.info/class)\n- **JavaScript.info: Class Fields**: [javascript.info/class](https://javascript.info/class)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:36:30', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use ES6 class syntax to create classes\n- Understand constructor methods\n- Create instance methods\n- Use static methods\n- Work with class fields\n- Understand how classes relate to prototypes\n- Write clean, modern object-oriented code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (125, 46, 10, 'Inheritance and Prototypes', 'inheritance-and-prototypes', '# Lesson 6.3: Inheritance\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use the `extends` keyword to create class inheritance\n- Use the `super` keyword to call parent class methods\n- Override methods in child classes\n- Understand prototypal inheritance\n- Create class hierarchies\n- Build complex object-oriented structures\n\n---\n\n## Introduction to Inheritance\n\nInheritance allows one class to inherit properties and methods from another class. This promotes code reuse and creates hierarchical relationships.\n\n### Benefits of Inheritance\n\n- **Code Reuse**: Share common functionality\n- **Hierarchy**: Model real-world relationships\n- **Polymorphism**: Different classes can respond to same methods\n- **Maintainability**: Update parent class affects all children\n\n---\n\n## extends Keyword\n\nThe `extends` keyword creates a child class that inherits from a parent class.\n\n### Basic Inheritance\n\n```javascript\nclass Animal {\n    constructor(name) {\n        this.name = name;\n    }\n    \n    speak() {\n        return `${this.name} makes a sound`;\n    }\n}\n\nclass Dog extends Animal {\n    // Inherits name and speak() from Animal\n}\n\nlet dog = new Dog("Buddy");\nconsole.log(dog.name);        // "Buddy"\nconsole.log(dog.speak());     // "Buddy makes a sound"\n```\n\n### Adding Child-Specific Properties\n\n```javascript\nclass Animal {\n    constructor(name) {\n        this.name = name;\n    }\n    \n    speak() {\n        return `${this.name} makes a sound`;\n    }\n}\n\nclass Dog extends Animal {\n    constructor(name, breed) {\n        super(name);  // Call parent constructor\n        this.breed = breed;\n    }\n}\n\nlet dog = new Dog("Buddy", "Golden Retriever");\nconsole.log(dog.name);   // "Buddy"\nconsole.log(dog.breed);  // "Golden Retriever"\n```\n\n### Inheritance Chain\n\n```javascript\nclass Animal {\n    constructor(name) {\n        this.name = name;\n    }\n}\n\nclass Mammal extends Animal {\n    constructor(name, hasFur) {\n        super(name);\n        this.hasFur = hasFur;\n    }\n}\n\nclass Dog extends Mammal {\n    constructor(name, hasFur, breed) {\n        super(name, hasFur);\n        this.breed = breed;\n    }\n}\n\nlet dog = new Dog("Buddy", true, "Golden Retriever");\nconsole.log(dog.name);    // "Buddy" (from Animal)\nconsole.log(dog.hasFur);  // true (from Mammal)\nconsole.log(dog.breed);   // "Golden Retriever" (from Dog)\n```\n\n---\n\n## super Keyword\n\nThe `super` keyword is used to call methods and access properties of the parent class.\n\n### super in Constructor\n\nMust call `super()` before using `this` in child constructor:\n\n```javascript\nclass Animal {\n    constructor(name) {\n        this.name = name;\n    }\n}\n\nclass Dog extends Animal {\n    constructor(name, breed) {\n        super(name);  // Must call super first\n        this.breed = breed;  // Now can use this\n    }\n}\n```\n\n### super for Methods\n\nCall parent class methods:\n\n```javascript\nclass Animal {\n    constructor(name) {\n        this.name = name;\n    }\n    \n    speak() {\n        return `${this.name} makes a sound`;\n    }\n}\n\nclass Dog extends Animal {\n    constructor(name, breed) {\n        super(name);\n        this.breed = breed;\n    }\n    \n    speak() {\n        return super.speak() + " - Woof!";\n    }\n}\n\nlet dog = new Dog("Buddy", "Golden Retriever");\nconsole.log(dog.speak());  // "Buddy makes a sound - Woof!"\n```\n\n### super Examples\n\n```javascript\nclass Shape {\n    constructor(color) {\n        this.color = color;\n    }\n    \n    getInfo() {\n        return `Shape with color ${this.color}`;\n    }\n}\n\nclass Circle extends Shape {\n    constructor(color, radius) {\n        super(color);\n        this.radius = radius;\n    }\n    \n    getInfo() {\n        return super.getInfo() + ` and radius ${this.radius}`;\n    }\n}\n\nlet circle = new Circle("red", 5);\nconsole.log(circle.getInfo());  // "Shape with color red and radius 5"\n```\n\n---\n\n## Method Overriding\n\nChild classes can override parent class methods to provide their own implementation.\n\n### Basic Override\n\n```javascript\nclass Animal {\n    speak() {\n        return "Some sound";\n    }\n}\n\nclass Dog extends Animal {\n    speak() {\n        return "Woof!";\n    }\n}\n\nclass Cat extends Animal {\n    speak() {\n        return "Meow!";\n    }\n}\n\nlet dog = new Dog();\nlet cat = new Cat();\n\nconsole.log(dog.speak());  // "Woof!"\nconsole.log(cat.speak());  // "Meow!"\n```\n\n### Override with super\n\nYou can override but still call the parent method:\n\n```javascript\nclass Animal {\n    constructor(name) {\n        this.name = name;\n    }\n    \n    introduce() {\n        return `I''m ${this.name}`;\n    }\n}\n\nclass Dog extends Animal {\n    introduce() {\n        return super.introduce() + " and I''m a dog";\n    }\n}\n\nlet dog = new Dog("Buddy");\nconsole.log(dog.introduce());  // "I''m Buddy and I''m a dog"\n```\n\n### Complete Override Example\n\n```javascript\nclass Vehicle {\n    constructor(brand, model) {\n        this.brand = brand;\n        this.model = model;\n        this.speed = 0;\n    }\n    \n    accelerate(amount) {\n        this.speed += amount;\n        return `Speed: ${this.speed} mph`;\n    }\n    \n    getInfo() {\n        return `${this.brand} ${this.model}`;\n    }\n}\n\nclass Car extends Vehicle {\n    constructor(brand, model, doors) {\n        super(brand, model);\n        this.doors = doors;\n    }\n    \n    // Override getInfo\n    getInfo() {\n        return `${super.getInfo()} with ${this.doors} doors`;\n    }\n}\n\nclass Truck extends Vehicle {\n    constructor(brand, model, capacity) {\n        super(brand, model);\n        this.capacity = capacity;\n    }\n    \n    // Override accelerate (trucks accelerate slower)\n    accelerate(amount) {\n        this.speed += amount * 0.5;  // Half the acceleration\n        return `Speed: ${this.speed} mph (truck mode)`;\n    }\n    \n    // Override getInfo\n    getInfo() {\n        return `${super.getInfo()} with ${this.capacity} ton capacity`;\n    }\n}\n\nlet car = new Car("Toyota", "Camry", 4);\nlet truck = new Truck("Ford", "F-150", 2);\n\nconsole.log(car.getInfo());        // "Toyota Camry with 4 doors"\nconsole.log(car.accelerate(30));   // "Speed: 30 mph"\nconsole.log(truck.getInfo());      // "Ford F-150 with 2 ton capacity"\nconsole.log(truck.accelerate(30)); // "Speed: 15 mph (truck mode)"\n```\n\n---\n\n## Prototypal Inheritance\n\nUnder the hood, JavaScript uses prototypal inheritance. Classes are syntactic sugar over this system.\n\n### How Inheritance Works\n\n```javascript\nclass Animal {\n    constructor(name) {\n        this.name = name;\n    }\n}\n\nclass Dog extends Animal {\n    constructor(name, breed) {\n        super(name);\n        this.breed = breed;\n    }\n}\n\nlet dog = new Dog("Buddy", "Golden Retriever");\n\n// Prototype chain:\n// dog → Dog.prototype → Animal.prototype → Object.prototype → null\n\nconsole.log(dog instanceof Dog);     // true\nconsole.log(dog instanceof Animal);  // true\nconsole.log(dog instanceof Object);  // true\n```\n\n### Prototype Chain Visualization\n\n```\ndog instance\n  ├─ name: "Buddy" (own property)\n  ├─ breed: "Golden Retriever" (own property)\n  └─ __proto__ → Dog.prototype\n       └─ __proto__ → Animal.prototype\n            └─ __proto__ → Object.prototype\n                 └─ __proto__ → null\n```\n\n### Checking Inheritance\n\n```javascript\nclass Animal { }\nclass Dog extends Animal { }\nclass Puppy extends Dog { }\n\nlet puppy = new Puppy();\n\nconsole.log(puppy instanceof Puppy);  // true\nconsole.log(puppy instanceof Dog);  // true\nconsole.log(puppy instanceof Animal); // true\nconsole.log(puppy instanceof Object); // true\n```\n\n### Accessing Parent Prototype\n\n```javascript\nclass Animal {\n    speak() {\n        return "Some sound";\n    }\n}\n\nclass Dog extends Animal {\n    speak() {\n        return "Woof!";\n    }\n}\n\nlet dog = new Dog();\n\n// Access parent method through prototype\nconsole.log(Animal.prototype.speak.call(dog));  // "Some sound"\nconsole.log(dog.speak());                        // "Woof!" (overridden)\n```\n\n---\n\n## Multiple Levels of Inheritance\n\nYou can create inheritance chains with multiple levels.\n\n### Three-Level Inheritance\n\n```javascript\nclass Vehicle {\n    constructor(brand) {\n        this.brand = brand;\n        this.isRunning = false;\n    }\n    \n    start() {\n        this.isRunning = true;\n        return "Vehicle started";\n    }\n}\n\nclass Car extends Vehicle {\n    constructor(brand, doors) {\n        super(brand);\n        this.doors = doors;\n    }\n    \n    openTrunk() {\n        return "Trunk opened";\n    }\n}\n\nclass SportsCar extends Car {\n    constructor(brand, doors, topSpeed) {\n        super(brand, doors);\n        this.topSpeed = topSpeed;\n    }\n    \n    race() {\n        if (this.isRunning) {\n            return `Racing at up to ${this.topSpeed} mph!`;\n        }\n        return "Start the car first";\n    }\n}\n\nlet sportsCar = new SportsCar("Ferrari", 2, 200);\nconsole.log(sportsCar.start());      // "Vehicle started" (from Vehicle)\nconsole.log(sportsCar.openTrunk());  // "Trunk opened" (from Car)\nconsole.log(sportsCar.race());       // "Racing at up to 200 mph!" (from SportsCar)\n```\n\n### Method Resolution\n\nWhen a method is called, JavaScript looks up the prototype chain:\n\n```javascript\nclass Animal {\n    eat() {\n        return "Eating food";\n    }\n}\n\nclass Dog extends Animal {\n    bark() {\n        return "Woof!";\n    }\n}\n\nlet dog = new Dog();\n\n// JavaScript looks for eat():\n// 1. dog object → not found\n// 2. Dog.prototype → not found\n// 3. Animal.prototype → found! "Eating food"\nconsole.log(dog.eat());  // "Eating food"\n```\n\n---\n\n## Complete Inheritance Example\n\n### Shape Hierarchy\n\n```javascript\nclass Shape {\n    constructor(color) {\n        this.color = color;\n    }\n    \n    getArea() {\n        throw new Error("getArea() must be implemented by subclass");\n    }\n    \n    getInfo() {\n        return `Shape with color ${this.color}`;\n    }\n}\n\nclass Circle extends Shape {\n    constructor(color, radius) {\n        super(color);\n        this.radius = radius;\n    }\n    \n    getArea() {\n        return Math.PI * this.radius ** 2;\n    }\n    \n    getInfo() {\n        return `${super.getInfo()}, radius ${this.radius}`;\n    }\n}\n\nclass Rectangle extends Shape {\n    constructor(color, width, height) {\n        super(color);\n        this.width = width;\n        this.height = height;\n    }\n    \n    getArea() {\n        return this.width * this.height;\n    }\n    \n    getInfo() {\n        return `${super.getInfo()}, ${this.width}x${this.height}`;\n    }\n}\n\nclass Square extends Rectangle {\n    constructor(color, side) {\n        super(color, side, side);\n        this.side = side;\n    }\n    \n    getInfo() {\n        return `${super.getInfo()} (square)`;\n    }\n}\n\n// Usage\nlet circle = new Circle("red", 5);\nlet rectangle = new Rectangle("blue", 10, 5);\nlet square = new Square("green", 4);\n\nconsole.log(circle.getInfo());     // "Shape with color red, radius 5"\nconsole.log(circle.getArea());     // 78.54...\n\nconsole.log(rectangle.getInfo());  // "Shape with color blue, 10x5"\nconsole.log(rectangle.getArea());  // 50\n\nconsole.log(square.getInfo());     // "Shape with color green, 4x4 (square)"\nconsole.log(square.getArea());     // 16\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Inheritance Practice\n\n**Objective**: Create class hierarchies using inheritance, super, and method overriding.\n\n**Instructions**:\n\n1. Create a file called `inheritance-practice.js`\n\n2. Create class hierarchies:\n   - Animal → Dog, Cat\n   - Vehicle → Car, Truck, Motorcycle\n   - Employee → Manager, Developer\n\n3. Practice:\n   - Using extends\n   - Calling super()\n   - Method overriding\n   - Accessing parent methods\n   - Creating multi-level inheritance\n\n**Example Solution**:\n\n```javascript\n// Inheritance Practice\nconsole.log("=== Animal Hierarchy ===");\n\nclass Animal {\n    constructor(name, age) {\n        this.name = name;\n        this.age = age;\n    }\n    \n    speak() {\n        return `${this.name} makes a sound`;\n    }\n    \n    getInfo() {\n        return `${this.name} is ${this.age} years old`;\n    }\n}\n\nclass Dog extends Animal {\n    constructor(name, age, breed) {\n        super(name, age);\n        this.breed = breed;\n    }\n    \n    speak() {\n        return `${this.name} says Woof!`;\n    }\n    \n    fetch() {\n        return `${this.name} fetches the ball`;\n    }\n    \n    getInfo() {\n        return `${super.getInfo()} and is a ${this.breed}`;\n    }\n}\n\nclass Cat extends Animal {\n    constructor(name, age, color) {\n        super(name, age);\n        this.color = color;\n    }\n    \n    speak() {\n        return `${this.name} says Meow!`;\n    }\n    \n    purr() {\n        return `${this.name} purrs contentedly`;\n    }\n    \n    getInfo() {\n        return `${super.getInfo()} and is ${this.color}`;\n    }\n}\n\nlet dog = new Dog("Buddy", 3, "Golden Retriever");\nlet cat = new Cat("Whiskers", 2, "orange");\n\nconsole.log(dog.speak());      // "Buddy says Woof!"\nconsole.log(dog.fetch());      // "Buddy fetches the ball"\nconsole.log(dog.getInfo());    // "Buddy is 3 years old and is a Golden Retriever"\n\nconsole.log(cat.speak());      // "Whiskers says Meow!"\nconsole.log(cat.purr());       // "Whiskers purrs contentedly"\nconsole.log(cat.getInfo());    // "Whiskers is 2 years old and is orange"\nconsole.log();\n\nconsole.log("=== Vehicle Hierarchy ===");\n\nclass Vehicle {\n    constructor(brand, model, year) {\n        this.brand = brand;\n        this.model = model;\n        this.year = year;\n        this.speed = 0;\n        this.isRunning = false;\n    }\n    \n    start() {\n        this.isRunning = true;\n        return `${this.brand} ${this.model} started`;\n    }\n    \n    stop() {\n        this.isRunning = false;\n        this.speed = 0;\n        return `${this.brand} ${this.model} stopped`;\n    }\n    \n    accelerate(amount) {\n        if (this.isRunning) {\n            this.speed += amount;\n            return `Speed: ${this.speed} mph`;\n        }\n        return "Vehicle is not running";\n    }\n    \n    getInfo() {\n        return `${this.year} ${this.brand} ${this.model}`;\n    }\n}\n\nclass Car extends Vehicle {\n    constructor(brand, model, year, doors) {\n        super(brand, model, year);\n        this.doors = doors;\n    }\n    \n    openTrunk() {\n        return "Trunk opened";\n    }\n    \n    getInfo() {\n        return `${super.getInfo()} with ${this.doors} doors`;\n    }\n}\n\nclass Truck extends Vehicle {\n    constructor(brand, model, year, capacity) {\n        super(brand, model, year);\n        this.capacity = capacity;\n    }\n    \n    accelerate(amount) {\n        if (this.isRunning) {\n            this.speed += amount * 0.7;  // Trucks accelerate slower\n            return `Speed: ${this.speed} mph (truck)`;\n        }\n        return "Truck is not running";\n    }\n    \n    loadCargo(weight) {\n        if (weight <= this.capacity) {\n            return `Loaded ${weight} tons of cargo`;\n        }\n        return `Cannot load ${weight} tons (max: ${this.capacity})`;\n    }\n    \n    getInfo() {\n        return `${super.getInfo()} with ${this.capacity} ton capacity`;\n    }\n}\n\nclass Motorcycle extends Vehicle {\n    constructor(brand, model, year, engineSize) {\n        super(brand, model, year);\n        this.engineSize = engineSize;\n    }\n    \n    accelerate(amount) {\n        if (this.isRunning) {\n            this.speed += amount * 1.5;  // Motorcycles accelerate faster\n            return `Speed: ${this.speed} mph (motorcycle)`;\n        }\n        return "Motorcycle is not running";\n    }\n    \n    wheelie() {\n        if (this.isRunning && this.speed > 20) {\n            return "Doing a wheelie!";\n        }\n        return "Need more speed for wheelie";\n    }\n    \n    getInfo() {\n        return `${super.getInfo()} with ${this.engineSize}cc engine`;\n    }\n}\n\nlet car = new Car("Toyota", "Camry", 2020, 4);\nlet truck = new Truck("Ford", "F-150", 2021, 2);\nlet motorcycle = new Motorcycle("Honda", "CBR", 2022, 600);\n\nconsole.log(car.getInfo());           // "2020 Toyota Camry with 4 doors"\nconsole.log(car.start());             // "Toyota Camry started"\nconsole.log(car.accelerate(30));       // "Speed: 30 mph"\nconsole.log(car.openTrunk());         // "Trunk opened"\n\nconsole.log(truck.getInfo());         // "2021 Ford F-150 with 2 ton capacity"\nconsole.log(truck.start());           // "Ford F-150 started"\nconsole.log(truck.accelerate(30));    // "Speed: 21 mph (truck)"\nconsole.log(truck.loadCargo(1.5));    // "Loaded 1.5 tons of cargo"\n\nconsole.log(motorcycle.getInfo());    // "2022 Honda CBR with 600cc engine"\nconsole.log(motorcycle.start());      // "Honda CBR started"\nconsole.log(motorcycle.accelerate(30)); // "Speed: 45 mph (motorcycle)"\nconsole.log(motorcycle.wheelie());    // "Doing a wheelie!"\nconsole.log();\n\nconsole.log("=== Employee Hierarchy ===");\n\nclass Employee {\n    constructor(name, id, salary) {\n        this.name = name;\n        this.id = id;\n        this.salary = salary;\n    }\n    \n    work() {\n        return `${this.name} is working`;\n    }\n    \n    getSalary() {\n        return `Salary: $${this.salary}`;\n    }\n    \n    getInfo() {\n        return `${this.name} (ID: ${this.id})`;\n    }\n}\n\nclass Manager extends Employee {\n    constructor(name, id, salary, department) {\n        super(name, id, salary);\n        this.department = department;\n        this.team = [];\n    }\n    \n    addTeamMember(employee) {\n        this.team.push(employee);\n        return `Added ${employee.name} to team`;\n    }\n    \n    work() {\n        return `${this.name} is managing the ${this.department} department`;\n    }\n    \n    getTeamSize() {\n        return this.team.length;\n    }\n    \n    getInfo() {\n        return `${super.getInfo()} - Manager of ${this.department}`;\n    }\n}\n\nclass Developer extends Employee {\n    constructor(name, id, salary, language) {\n        super(name, id, salary);\n        this.language = language;\n    }\n    \n    work() {\n        return `${this.name} is coding in ${this.language}`;\n    }\n    \n    debug() {\n        return `${this.name} is debugging code`;\n    }\n    \n    getInfo() {\n        return `${super.getInfo()} - Developer (${this.language})`;\n    }\n}\n\nlet manager = new Manager("Alice", "M001", 80000, "Engineering");\nlet dev1 = new Developer("Bob", "D001", 70000, "JavaScript");\nlet dev2 = new Developer("Charlie", "D002", 75000, "Python");\n\nconsole.log(manager.getInfo());        // "Alice (ID: M001) - Manager of Engineering"\nconsole.log(manager.work());           // "Alice is managing the Engineering department"\nconsole.log(manager.addTeamMember(dev1)); // "Added Bob to team"\nconsole.log(manager.addTeamMember(dev2)); // "Added Charlie to team"\nconsole.log("Team size:", manager.getTeamSize()); // 2\n\nconsole.log(dev1.getInfo());           // "Bob (ID: D001) - Developer (JavaScript)"\nconsole.log(dev1.work());              // "Bob is coding in JavaScript"\nconsole.log(dev1.debug());             // "Bob is debugging code"\nconsole.log();\n\nconsole.log("=== instanceof Checks ===");\nconsole.log("dog instanceof Dog:", dog instanceof Dog);           // true\nconsole.log("dog instanceof Animal:", dog instanceof Animal);     // true\nconsole.log("car instanceof Car:", car instanceof Car);           // true\nconsole.log("car instanceof Vehicle:", car instanceof Vehicle);    // true\nconsole.log("manager instanceof Manager:", manager instanceof Manager); // true\nconsole.log("manager instanceof Employee:", manager instanceof Employee); // true\n```\n\n**Expected Output**:\n```\n=== Animal Hierarchy ===\nBuddy says Woof!\nBuddy fetches the ball\nBuddy is 3 years old and is a Golden Retriever\nWhiskers says Meow!\nWhiskers purrs contentedly\nWhiskers is 2 years old and is orange\n\n=== Vehicle Hierarchy ===\n2020 Toyota Camry with 4 doors\nToyota Camry started\nSpeed: 30 mph\nTrunk opened\n2021 Ford F-150 with 2 ton capacity\nFord F-150 started\nSpeed: 21 mph (truck)\nLoaded 1.5 tons of cargo\n2022 Honda CBR with 600cc engine\nHonda CBR started\nSpeed: 45 mph (motorcycle)\nDoing a wheelie!\n\n=== Employee Hierarchy ===\nAlice (ID: M001) - Manager of Engineering\nAlice is managing the Engineering department\nAdded Bob to team\nAdded Charlie to team\nTeam size: 2\nBob (ID: D001) - Developer (JavaScript)\nBob is coding in JavaScript\nBob is debugging code\n\n=== instanceof Checks ===\ndog instanceof Dog: true\ndog instanceof Animal: true\ncar instanceof Car: true\ncar instanceof Vehicle: true\nmanager instanceof Manager: true\nmanager instanceof Employee: true\n```\n\n**Challenge (Optional)**:\n- Create a game character hierarchy\n- Build a shape system with multiple levels\n- Create a file system hierarchy\n- Build a UI component system\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting super() in Constructor\n\n```javascript\n// ❌ Error: Must call super before accessing this\nclass Dog extends Animal {\n    constructor(name, breed) {\n        this.breed = breed;  // Error!\n        super(name);\n    }\n}\n\n// ✅ Correct\nclass Dog extends Animal {\n    constructor(name, breed) {\n        super(name);\n        this.breed = breed;\n    }\n}\n```\n\n### 2. Calling super() After return\n\n```javascript\n// ❌ Error: super() must be called before return\nclass Dog extends Animal {\n    constructor(name) {\n        return {};\n        super(name);  // Never reached\n    }\n}\n```\n\n### 3. Overriding Without super\n\n```javascript\n// ⚠️ Loses parent functionality\nclass Dog extends Animal {\n    getInfo() {\n        return `Dog: ${this.name}`;  // Doesn''t use parent''s getInfo\n    }\n}\n\n// ✅ Better: Use super\nclass Dog extends Animal {\n    getInfo() {\n        return `Dog: ${super.getInfo()}`;\n    }\n}\n```\n\n### 4. Wrong super Usage\n\n```javascript\n// ❌ super is not a variable\nclass Dog extends Animal {\n    method() {\n        let parent = super;  // Error: super is a keyword\n    }\n}\n\n// ✅ Correct: Call super methods\nclass Dog extends Animal {\n    method() {\n        return super.method();\n    }\n}\n```\n\n### 5. Extending Non-Constructor\n\n```javascript\n// ❌ Cannot extend non-constructor\nclass Dog extends "Animal" { }  // Error\n\n// ✅ Must extend a class or constructor\nclass Dog extends Animal { }  // Correct\n```\n\n---\n\n## Key Takeaways\n\n1. **extends**: Creates inheritance relationship\n2. **super**: Calls parent class constructor/methods\n3. **Method Overriding**: Child classes can override parent methods\n4. **super()**: Must be called before `this` in child constructor\n5. **Prototypal Inheritance**: Classes use prototype chain under the hood\n6. **instanceof**: Works with inheritance (checks prototype chain)\n7. **Multi-level**: Can have multiple levels of inheritance\n8. **Best Practice**: Use super to extend parent functionality\n\n---\n\n## Quiz: Inheritance\n\nTest your understanding with these questions:\n\n1. **What keyword creates inheritance?**\n   - A) inherits\n   - B) extends\n   - C) super\n   - D) parent\n\n2. **When must super() be called?**\n   - A) After using this\n   - B) Before using this\n   - C) Never\n   - D) Anytime\n\n3. **What does super refer to?**\n   - A) Current class\n   - B) Parent class\n   - C) Child class\n   - D) Global object\n\n4. **Can child classes override parent methods?**\n   - A) No\n   - B) Yes\n   - C) Sometimes\n   - D) Only static methods\n\n5. **What does instanceof check with inheritance?**\n   - A) Only direct class\n   - B) Prototype chain\n   - C) Property names\n   - D) Method names\n\n6. **How many classes can a class extend?**\n   - A) 0\n   - B) 1\n   - C) Multiple\n   - D) Unlimited\n\n7. **Inheritance uses:**\n   - A) Copying\n   - B) Prototype chain\n   - C) Cloning\n   - D) Duplication\n\n**Answers**:\n1. B) extends\n2. B) Before using this\n3. B) Parent class\n4. B) Yes\n5. B) Prototype chain\n6. B) 1 (single inheritance)\n7. B) Prototype chain\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 6: Object-Oriented Programming. You now know:\n- Constructor functions and prototypes\n- ES6 class syntax\n- Inheritance with extends and super\n- Method overriding\n\n**What''s Next?**\n- Course 2: Intermediate JavaScript\n- Module 7: ES6+ Features\n- Practice building class hierarchies\n- Create more complex OOP structures\n\n---\n\n## Additional Resources\n\n- **MDN: Inheritance**: [developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Inheritance](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Inheritance)\n- **MDN: extends**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/extends](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/extends)\n- **MDN: super**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super)\n- **JavaScript.info: Class Inheritance**: [javascript.info/class-inheritance](https://javascript.info/class-inheritance)\n\n---\n\n*Lesson completed! You''ve finished Module 6: Object-Oriented Programming. Ready for Course 2: Intermediate JavaScript!*\n\n', NULL, 3, '2026-01-03 09:36:30', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use the `extends` keyword to create class inheritance\n- Use the `super` keyword to call parent class methods\n- Override methods in child classes\n- Understand prototypal inheritance\n- Create class hierarchies\n- Build complex object-oriented structures');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (126, 47, 11, 'Let, Const, and Block Scope', 'let-const-and-block-scope', '# Lesson 7.1: Let, Const, and Block Scope\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand the differences between `let`, `const`, and `var`\n- Use `let` for block-scoped variables\n- Use `const` for constants\n- Understand the Temporal Dead Zone (TDZ)\n- Work with block scope effectively\n- Avoid common scoping pitfalls\n- Write modern JavaScript code\n\n---\n\n## Introduction to Modern Variable Declarations\n\nES6 (ES2015) introduced `let` and `const` as alternatives to `var`. These new declarations provide better scoping rules and help prevent common bugs.\n\n### Why New Declarations?\n\n- **Block Scope**: Better than function scope\n- **Temporal Dead Zone**: Prevents using variables before declaration\n- **No Hoisting Issues**: Clearer behavior\n- **Constants**: `const` prevents accidental reassignment\n- **Modern Standard**: Recommended for all new code\n\n---\n\n## var vs let vs const\n\n### Quick Comparison\n\n| Feature | var | let | const |\n|---------|-----|-----|-------|\n| Scope | Function | Block | Block |\n| Hoisting | Yes (undefined) | Yes (TDZ) | Yes (TDZ) |\n| Reassignment | Yes | Yes | No |\n| Redeclaration | Yes | No | No |\n| Initialization | Optional | Optional | Required |\n\n### When to Use Each\n\n- **const**: Default choice for values that won''t change\n- **let**: Use when you need to reassign\n- **var**: Avoid (legacy code only)\n\n---\n\n## let vs var\n\n### Scope Difference\n\n**var (function scope):**\n```javascript\nfunction example() {\n    if (true) {\n        var x = 5;\n    }\n    console.log(x);  // 5 (accessible in function)\n}\n\nexample();\n```\n\n**let (block scope):**\n```javascript\nfunction example() {\n    if (true) {\n        let x = 5;\n    }\n    // console.log(x);  // ❌ Error: x is not defined\n}\n\nexample();\n```\n\n### Loop Example\n\n**var in loops (problematic):**\n```javascript\nfor (var i = 0; i < 3; i++) {\n    setTimeout(() => {\n        console.log(i);  // 3, 3, 3 (all same!)\n    }, 100);\n}\n```\n\n**let in loops (correct):**\n```javascript\nfor (let i = 0; i < 3; i++) {\n    setTimeout(() => {\n        console.log(i);  // 0, 1, 2 (correct!)\n    }, 100);\n}\n```\n\n### Redeclaration\n\n**var allows redeclaration:**\n```javascript\nvar x = 5;\nvar x = 10;  // ✅ Works (but confusing)\nconsole.log(x);  // 10\n```\n\n**let prevents redeclaration:**\n```javascript\nlet x = 5;\n// let x = 10;  // ❌ Error: Identifier ''x'' has already been declared\n```\n\n### Hoisting Behavior\n\n**var hoisting:**\n```javascript\nconsole.log(x);  // undefined (not an error)\nvar x = 5;\n```\n\n**let hoisting (Temporal Dead Zone):**\n```javascript\n// console.log(x);  // ❌ Error: Cannot access before initialization\nlet x = 5;\n```\n\n---\n\n## const for Constants\n\n`const` creates constants that cannot be reassigned.\n\n### Basic Usage\n\n```javascript\nconst PI = 3.14159;\nconst MAX_SIZE = 100;\nconst API_URL = "https://api.example.com";\n\n// PI = 3.14;  // ❌ Error: Assignment to constant variable\n```\n\n### const Must Be Initialized\n\n```javascript\n// ❌ Error: Missing initializer\n// const x;\n\n// ✅ Correct\nconst x = 5;\n```\n\n### const and Objects\n\n`const` prevents reassignment, not mutation:\n\n```javascript\nconst person = {\n    name: "Alice",\n    age: 25\n};\n\n// ✅ Can modify properties\nperson.age = 26;\nperson.city = "New York";\n\n// ❌ Cannot reassign object\n// person = { name: "Bob" };  // Error\n```\n\n### const and Arrays\n\n```javascript\nconst numbers = [1, 2, 3];\n\n// ✅ Can modify array\nnumbers.push(4);\nnumbers[0] = 10;\n\n// ❌ Cannot reassign array\n// numbers = [5, 6, 7];  // Error\n```\n\n### When to Use const\n\n**Use const for:**\n- Values that shouldn''t change\n- Object and array references\n- Function declarations\n- Imported modules\n- Configuration values\n\n**Use let for:**\n- Loop counters\n- Variables that will be reassigned\n- Conditional assignments\n\n---\n\n## Temporal Dead Zone (TDZ)\n\nThe Temporal Dead Zone is the period between the start of a scope and the variable declaration where the variable exists but cannot be accessed.\n\n### Understanding TDZ\n\n```javascript\n// TDZ starts here\nconsole.log(x);  // ❌ Error: Cannot access ''x'' before initialization\n// TDZ continues...\nlet x = 5;       // TDZ ends here\n```\n\n### TDZ Examples\n\n```javascript\n// ❌ Error: TDZ\nconsole.log(myVar);\nlet myVar = 10;\n\n// ✅ Works: Variable is declared first\nlet myVar = 10;\nconsole.log(myVar);\n```\n\n### TDZ with Functions\n\n```javascript\n// ❌ Error: TDZ\nfunction test() {\n    console.log(x);  // Error\n    let x = 5;\n}\n\n// ✅ Works\nfunction test() {\n    let x = 5;\n    console.log(x);  // 5\n}\n```\n\n### Why TDZ Exists\n\nTDZ prevents:\n- Using variables before declaration\n- Confusing behavior from hoisting\n- Accidental bugs\n\n---\n\n## Block Scope\n\nBlock scope means variables are only accessible within the block `{}` where they''re declared.\n\n### Basic Block Scope\n\n```javascript\n{\n    let x = 5;\n    console.log(x);  // 5\n}\n// console.log(x);  // ❌ Error: x is not defined\n```\n\n### Block Scope in Conditionals\n\n```javascript\nif (true) {\n    let message = "Hello";\n    console.log(message);  // "Hello"\n}\n// console.log(message);  // ❌ Error: message is not defined\n```\n\n### Block Scope in Loops\n\n```javascript\nfor (let i = 0; i < 3; i++) {\n    console.log(i);  // 0, 1, 2\n}\n// console.log(i);  // ❌ Error: i is not defined\n```\n\n### Multiple Blocks\n\nEach block creates its own scope:\n\n```javascript\n{\n    let x = 1;\n    console.log(x);  // 1\n}\n\n{\n    let x = 2;  // Different x\n    console.log(x);  // 2\n}\n```\n\n### Nested Blocks\n\n```javascript\nlet outer = "outer";\n\n{\n    let middle = "middle";\n    \n    {\n        let inner = "inner";\n        console.log(outer);   // ✅ Can access\n        console.log(middle);   // ✅ Can access\n        console.log(inner);    // ✅ Can access\n    }\n    \n    console.log(outer);   // ✅ Can access\n    console.log(middle);   // ✅ Can access\n    // console.log(inner);  // ❌ Error: inner not accessible\n}\n\n// console.log(middle);  // ❌ Error: middle not accessible\n// console.log(inner);   // ❌ Error: inner not accessible\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Loop Variables\n\n```javascript\n// ✅ Good: let in loops\nfor (let i = 0; i < 5; i++) {\n    setTimeout(() => {\n        console.log(i);  // 0, 1, 2, 3, 4\n    }, 100);\n}\n\n// ⚠️ Problem: var in loops\nfor (var j = 0; j < 5; j++) {\n    setTimeout(() => {\n        console.log(j);  // 5, 5, 5, 5, 5 (all same!)\n    }, 100);\n}\n```\n\n### Example 2: Conditional Scope\n\n```javascript\nlet user = getUser();\n\nif (user) {\n    let userId = user.id;\n    let userName = user.name;\n    processUser(userId, userName);\n}\n// userId and userName not accessible here (good!)\n```\n\n### Example 3: Constants\n\n```javascript\n// Configuration\nconst API_BASE_URL = "https://api.example.com";\nconst MAX_RETRIES = 3;\nconst TIMEOUT = 5000;\n\n// Object reference\nconst config = {\n    apiUrl: API_BASE_URL,\n    retries: MAX_RETRIES\n};\n\n// Can modify properties\nconfig.timeout = TIMEOUT;\n\n// Cannot reassign\n// config = {};  // Error\n```\n\n### Example 4: Block Scope Benefits\n\n```javascript\nfunction processData(data) {\n    if (data) {\n        let processed = transform(data);\n        let validated = validate(processed);\n        return validated;\n    }\n    // processed and validated not accessible here (clean scope)\n    return null;\n}\n```\n\n---\n\n## Best Practices\n\n### 1. Use const by Default\n\n```javascript\n// ✅ Good: const by default\nconst name = "Alice";\nconst age = 25;\nconst user = { name, age };\n\n// Use let only when needed\nlet counter = 0;\ncounter++;  // Need to reassign\n```\n\n### 2. Declare at Top of Block\n\n```javascript\n// ✅ Good: Clear scope\nfunction example() {\n    let x = 5;\n    let y = 10;\n    // Use x and y\n}\n\n// ⚠️ Less clear: Scattered declarations\nfunction example() {\n    // Some code\n    let x = 5;\n    // More code\n    let y = 10;\n}\n```\n\n### 3. Avoid var\n\n```javascript\n// ❌ Old style\nvar x = 5;\n\n// ✅ Modern style\nlet x = 5;      // If reassigning\nconst x = 5;    // If constant\n```\n\n### 4. Use Meaningful Names\n\n```javascript\n// ✅ Good\nconst MAX_USERS = 100;\nconst API_TIMEOUT = 5000;\n\n// ❌ Avoid\nconst m = 100;\nconst t = 5000;\n```\n\n### 5. Block Scope for Temporary Variables\n\n```javascript\n// ✅ Good: Block scope for temporary variables\nif (condition) {\n    let temp = calculate();\n    process(temp);\n}\n// temp not accessible (good!)\n\n// ⚠️ Less ideal: Function scope\nif (condition) {\n    var temp = calculate();\n    process(temp);\n}\n// temp still accessible (might be unwanted)\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Block Scope Practice\n\n**Objective**: Practice using `let` and `const` with block scope in various scenarios.\n\n**Instructions**:\n\n1. Create a file called `block-scope-practice.js`\n\n2. Demonstrate:\n   - `let` vs `var` in different scopes\n   - `const` for constants\n   - Block scope in conditionals and loops\n   - Temporal Dead Zone\n   - Nested scopes\n   - Best practices\n\n**Example Solution**:\n\n```javascript\n// Block Scope Practice\nconsole.log("=== let vs var Scope ===");\n\n// var: Function scope\nfunction varExample() {\n    if (true) {\n        var x = 5;\n    }\n    console.log("var x:", x);  // 5 (accessible)\n}\n\n// let: Block scope\nfunction letExample() {\n    if (true) {\n        let y = 5;\n    }\n    // console.log("let y:", y);  // ❌ Error: not accessible\n}\n\nvarExample();\nletExample();\nconsole.log();\n\nconsole.log("=== Loop Scope ===");\n\n// var in loop (problem)\nconsole.log("Using var:");\nfor (var i = 0; i < 3; i++) {\n    setTimeout(() => {\n        console.log("var i:", i);  // 3, 3, 3\n    }, 10);\n}\n\n// let in loop (correct)\nsetTimeout(() => {\n    console.log("Using let:");\n    for (let j = 0; j < 3; j++) {\n        setTimeout(() => {\n            console.log("let j:", j);  // 0, 1, 2\n        }, 20);\n    }\n}, 50);\nconsole.log();\n\nconsole.log("=== const Usage ===");\n\n// Constants\nconst PI = 3.14159;\nconst MAX_SIZE = 100;\nconst API_URL = "https://api.example.com";\n\nconsole.log("PI:", PI);\nconsole.log("MAX_SIZE:", MAX_SIZE);\nconsole.log("API_URL:", API_URL);\n\n// const with objects\nconst person = {\n    name: "Alice",\n    age: 25\n};\n\nperson.age = 26;  // ✅ Can modify\nperson.city = "NYC";  // ✅ Can add\nconsole.log("Modified person:", person);\n\n// const with arrays\nconst numbers = [1, 2, 3];\nnumbers.push(4);  // ✅ Can modify\nnumbers[0] = 10;  // ✅ Can modify\nconsole.log("Modified array:", numbers);\nconsole.log();\n\nconsole.log("=== Block Scope Examples ===");\n\n// Basic block\n{\n    let blockVar = "I''m in a block";\n    console.log("Inside block:", blockVar);\n}\n// console.log(blockVar);  // ❌ Error\n\n// Conditional blocks\nlet condition = true;\nif (condition) {\n    let ifVar = "Inside if";\n    console.log("If block:", ifVar);\n}\n// console.log(ifVar);  // ❌ Error\n\n// Loop blocks\nfor (let i = 0; i < 3; i++) {\n    let loopVar = `Iteration ${i}`;\n    console.log("Loop:", loopVar);\n}\n// console.log(loopVar);  // ❌ Error\n// console.log(i);  // ❌ Error\nconsole.log();\n\nconsole.log("=== Nested Scopes ===");\n\nlet global = "global";\n\n{\n    let level1 = "level1";\n    console.log("Level 1:", global, level1);\n    \n    {\n        let level2 = "level2";\n        console.log("Level 2:", global, level1, level2);\n        \n        {\n            let level3 = "level3";\n            console.log("Level 3:", global, level1, level2, level3);\n        }\n        \n        // console.log(level3);  // ❌ Error\n    }\n    \n    // console.log(level2);  // ❌ Error\n    // console.log(level3);  // ❌ Error\n}\nconsole.log();\n\nconsole.log("=== Temporal Dead Zone ===");\n\n// TDZ demonstration\nfunction tdzExample() {\n    // console.log(tdzVar);  // ❌ Error: Cannot access before initialization\n    let tdzVar = "I''m in TDZ";\n    console.log("After declaration:", tdzVar);  // ✅ Works\n}\n\ntdzExample();\n\n// var vs let hoisting\nconsole.log("var hoisting:");\nconsole.log("varX:", typeof varX);  // "undefined" (hoisted)\nvar varX = 5;\n\n// console.log("letX:", typeof letX);  // ❌ Error: TDZ\nlet letX = 5;\nconsole.log();\n\nconsole.log("=== Best Practices ===");\n\n// ✅ Good: const by default\nconst userName = "Alice";\nconst userAge = 25;\nconst userConfig = {\n    theme: "dark",\n    language: "en"\n};\n\n// ✅ Good: let when reassigning\nlet counter = 0;\ncounter++;\ncounter += 5;\n\n// ✅ Good: Block scope for temporary variables\nfunction processData(data) {\n    if (data && data.length > 0) {\n        let processed = data.map(item => item * 2);\n        let filtered = processed.filter(item => item > 10);\n        return filtered;\n    }\n    // processed and filtered not accessible (good!)\n    return [];\n}\n\nlet result = processData([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);\nconsole.log("Processed data:", result);  // [12, 14, 16, 18, 20]\nconsole.log();\n\nconsole.log("=== Real-World Example ===");\n\n// Configuration with const\nconst CONFIG = {\n    apiUrl: "https://api.example.com",\n    timeout: 5000,\n    retries: 3\n};\n\n// Function with block scope\nfunction makeRequest(endpoint) {\n    const url = `${CONFIG.apiUrl}${endpoint}`;\n    \n    for (let attempt = 1; attempt <= CONFIG.retries; attempt++) {\n        let response = simulateRequest(url);\n        \n        if (response.success) {\n            return response;\n        }\n        \n        if (attempt < CONFIG.retries) {\n            console.log(`Attempt ${attempt} failed, retrying...`);\n        }\n    }\n    \n    throw new Error("All retry attempts failed");\n}\n\nfunction simulateRequest(url) {\n    return { success: Math.random() > 0.5 };\n}\n\ntry {\n    let response = makeRequest("/users");\n    console.log("Request successful!");\n} catch (error) {\n    console.log("Request failed:", error.message);\n}\n```\n\n**Expected Output**:\n```\n=== let vs var Scope ===\nvar x: 5\n\n=== Loop Scope ===\nUsing var:\nUsing let:\nvar i: 3\nvar i: 3\nvar i: 3\nlet j: 0\nlet j: 1\nlet j: 2\n\n=== const Usage ===\nPI: 3.14159\nMAX_SIZE: 100\nAPI_URL: https://api.example.com\nModified person: { name: "Alice", age: 26, city: "NYC" }\nModified array: [10, 2, 3, 4]\n\n=== Block Scope Examples ===\nInside block: I''m in a block\nIf block: Inside if\nLoop: Iteration 0\nLoop: Iteration 1\nLoop: Iteration 2\n\n=== Nested Scopes ===\nLevel 1: global level1\nLevel 2: global level1 level2\nLevel 3: global level1 level2 level3\n\n=== Temporal Dead Zone ===\nAfter declaration: I''m in TDZ\nvar hoisting:\nvarX: undefined\n\n=== Best Practices ===\nProcessed data: [12, 14, 16, 18, 20]\n\n=== Real-World Example ===\nAttempt 1 failed, retrying...\nRequest successful!\n```\n\n**Challenge (Optional)**:\n- Refactor code from var to let/const\n- Create scope-based utilities\n- Build configuration systems with const\n- Practice TDZ scenarios\n\n---\n\n## Common Mistakes\n\n### 1. Using var Instead of let/const\n\n```javascript\n// ❌ Old style\nvar x = 5;\n\n// ✅ Modern style\nlet x = 5;      // If reassigning\nconst x = 5;    // If constant\n```\n\n### 2. Trying to Reassign const\n\n```javascript\n// ❌ Error\nconst x = 5;\nx = 10;  // Error\n\n// ✅ Use let if reassigning\nlet x = 5;\nx = 10;  // Works\n```\n\n### 3. Accessing Before Declaration\n\n```javascript\n// ❌ Error: TDZ\nconsole.log(x);\nlet x = 5;\n\n// ✅ Declare first\nlet x = 5;\nconsole.log(x);\n```\n\n### 4. Forgetting const Initialization\n\n```javascript\n// ❌ Error: Missing initializer\n// const x;\n\n// ✅ Must initialize\nconst x = 5;\n```\n\n### 5. Confusing const Immutability\n\n```javascript\n// ⚠️ const prevents reassignment, not mutation\nconst obj = { x: 1 };\nobj.x = 2;      // ✅ Works (mutation)\n// obj = {};    // ❌ Error (reassignment)\n```\n\n---\n\n## Key Takeaways\n\n1. **let**: Block-scoped, can reassign, no redeclaration\n2. **const**: Block-scoped, cannot reassign, must initialize\n3. **var**: Function-scoped, avoid in modern code\n4. **Block Scope**: Variables only accessible in their block\n5. **Temporal Dead Zone**: Period before declaration where variable can''t be accessed\n6. **Best Practice**: Use `const` by default, `let` when reassigning\n7. **Loop Variables**: Always use `let` in loops\n8. **Constants**: Use `const` for values that shouldn''t change\n\n---\n\n## Quiz: Modern Variable Declarations\n\nTest your understanding with these questions:\n\n1. **What scope does `let` have?**\n   - A) Function scope\n   - B) Block scope\n   - C) Global scope\n   - D) No scope\n\n2. **Can you reassign a `const` variable?**\n   - A) Yes\n   - B) No\n   - C) Sometimes\n   - D) Only in functions\n\n3. **What is the Temporal Dead Zone?**\n   - A) Error zone\n   - B) Period before declaration\n   - C) Block scope\n   - D) Function scope\n\n4. **Which is hoisted to undefined?**\n   - A) let\n   - B) const\n   - C) var\n   - D) All of them\n\n5. **What happens: `console.log(x); let x = 5;`?**\n   - A) undefined\n   - B) 5\n   - C) Error\n   - D) null\n\n6. **Can you modify a const object''s properties?**\n   - A) Yes\n   - B) No\n   - C) Only in functions\n   - D) Only arrays\n\n7. **Which should you use by default?**\n   - A) var\n   - B) let\n   - C) const\n   - D) Doesn''t matter\n\n**Answers**:\n1. B) Block scope\n2. B) No\n3. B) Period before declaration\n4. C) var\n5. C) Error (TDZ)\n6. A) Yes (const prevents reassignment, not mutation)\n7. C) const\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned modern variable declarations. You now know:\n- Differences between let, const, and var\n- Block scope and its benefits\n- Temporal Dead Zone\n- When to use each declaration\n\n**What''s Next?**\n- Lesson 7.2: Destructuring\n- Practice refactoring var to let/const\n- Understand scope better\n- Build more modern JavaScript code\n\n---\n\n## Additional Resources\n\n- **MDN: let**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let)\n- **MDN: const**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const)\n- **JavaScript.info: Variables**: [javascript.info/variables](https://javascript.info/variables)\n- **JavaScript.info: Closure**: [javascript.info/closure](https://javascript.info/closure)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:40:36', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand the differences between `let`, `const`, and `var`\n- Use `let` for block-scoped variables\n- Use `const` for constants\n- Understand the Temporal Dead Zone (TDZ)\n- Work with block scope effectively\n- Avoid common scoping pitfalls\n- Write modern JavaScript code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (127, 47, 11, 'Destructuring', 'destructuring', '# Lesson 7.2: Destructuring\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Destructure arrays to extract values\n- Destructure objects to extract properties\n- Use default values in destructuring\n- Perform nested destructuring\n- Use rest in destructuring\n- Apply destructuring in function parameters\n- Write cleaner, more readable code\n\n---\n\n## Introduction to Destructuring\n\nDestructuring is a convenient way to extract values from arrays and objects into variables. It''s one of the most useful ES6 features.\n\n### Benefits of Destructuring\n\n- **Cleaner Code**: Less verbose than traditional assignment\n- **Readability**: Clear intent\n- **Convenience**: Extract multiple values at once\n- **Default Values**: Handle missing values easily\n- **Swapping**: Easy variable swapping\n\n---\n\n## Array Destructuring\n\n### Basic Array Destructuring\n\n```javascript\nlet numbers = [1, 2, 3];\nlet [a, b, c] = numbers;\n\nconsole.log(a);  // 1\nconsole.log(b);  // 2\nconsole.log(c);  // 3\n```\n\n### Skipping Elements\n\nUse empty slots to skip elements:\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet [first, , third, , fifth] = numbers;\n\nconsole.log(first);   // 1\nconsole.log(third);   // 3\nconsole.log(fifth);   // 5\n```\n\n### Default Values\n\nProvide default values for missing elements:\n\n```javascript\nlet numbers = [1, 2];\nlet [a, b, c = 10] = numbers;\n\nconsole.log(a);  // 1\nconsole.log(b);  // 2\nconsole.log(c);  // 10 (default)\n```\n\n### Rest in Array Destructuring\n\nCollect remaining elements:\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet [first, second, ...rest] = numbers;\n\nconsole.log(first);   // 1\nconsole.log(second);  // 2\nconsole.log(rest);    // [3, 4, 5]\n```\n\n### Swapping Variables\n\nEasy variable swapping:\n\n```javascript\nlet a = 5;\nlet b = 10;\n\n[a, b] = [b, a];\n\nconsole.log(a);  // 10\nconsole.log(b);  // 5\n```\n\n### Function Return Values\n\nDestructure function return values:\n\n```javascript\nfunction getNumbers() {\n    return [1, 2, 3];\n}\n\nlet [x, y, z] = getNumbers();\nconsole.log(x, y, z);  // 1, 2, 3\n```\n\n### Nested Array Destructuring\n\n```javascript\nlet numbers = [1, [2, 3], 4];\nlet [a, [b, c], d] = numbers;\n\nconsole.log(a);  // 1\nconsole.log(b);  // 2\nconsole.log(c);  // 3\nconsole.log(d);  // 4\n```\n\n### Ignoring Values\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\nlet [first, , , fourth] = numbers;\n\nconsole.log(first);   // 1\nconsole.log(fourth);  // 4\n```\n\n---\n\n## Object Destructuring\n\n### Basic Object Destructuring\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York"\n};\n\nlet { name, age, city } = person;\n\nconsole.log(name);  // "Alice"\nconsole.log(age);   // 25\nconsole.log(city);  // "New York"\n```\n\n### Different Variable Names\n\nAssign to different variable names:\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25\n};\n\nlet { name: userName, age: userAge } = person;\n\nconsole.log(userName);  // "Alice"\nconsole.log(userAge);   // 25\n// console.log(name);   // ❌ Error: name is not defined\n```\n\n### Default Values\n\n```javascript\nlet person = {\n    name: "Alice"\n};\n\nlet { name, age = 0, city = "Unknown" } = person;\n\nconsole.log(name);  // "Alice"\nconsole.log(age);   // 0 (default)\nconsole.log(city);  // "Unknown" (default)\n```\n\n### Combining Renaming and Defaults\n\n```javascript\nlet person = {\n    name: "Alice"\n};\n\nlet { name: userName, age: userAge = 0 } = person;\n\nconsole.log(userName);  // "Alice"\nconsole.log(userAge);   // 0\n```\n\n### Nested Object Destructuring\n\n```javascript\nlet user = {\n    name: "Alice",\n    address: {\n        street: "123 Main St",\n        city: "New York",\n        country: {\n            name: "USA",\n            code: "US"\n        }\n    }\n};\n\nlet {\n    name,\n    address: {\n        street,\n        city,\n        country: { name: countryName }\n    }\n} = user;\n\nconsole.log(name);        // "Alice"\nconsole.log(street);      // "123 Main St"\nconsole.log(city);        // "New York"\nconsole.log(countryName); // "USA"\n```\n\n### Rest in Object Destructuring\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York",\n    country: "USA"\n};\n\nlet { name, ...rest } = person;\n\nconsole.log(name);  // "Alice"\nconsole.log(rest);  // { age: 25, city: "New York", country: "USA" }\n```\n\n### Destructuring Existing Variables\n\n```javascript\nlet name, age;\n\n({ name, age } = { name: "Alice", age: 25 });\n\nconsole.log(name);  // "Alice"\nconsole.log(age);   // 25\n```\n\n**Note**: Parentheses required when destructuring into existing variables.\n\n---\n\n## Destructuring in Function Parameters\n\n### Array Parameters\n\n```javascript\nfunction processCoordinates([x, y]) {\n    console.log(`X: ${x}, Y: ${y}`);\n}\n\nprocessCoordinates([10, 20]);  // "X: 10, Y: 20"\n```\n\n### Object Parameters\n\n```javascript\nfunction greet({ name, age }) {\n    console.log(`Hello, ${name}! You are ${age} years old.`);\n}\n\ngreet({ name: "Alice", age: 25 });  // "Hello, Alice! You are 25 years old."\n```\n\n### Default Parameters with Destructuring\n\n```javascript\nfunction createUser({ name, age = 0, city = "Unknown" }) {\n    return {\n        name: name,\n        age: age,\n        city: city\n    };\n}\n\nlet user1 = createUser({ name: "Alice", age: 25 });\nlet user2 = createUser({ name: "Bob" });  // Uses defaults\n```\n\n### Nested Destructuring in Parameters\n\n```javascript\nfunction processUser({\n    name,\n    address: { city, country }\n}) {\n    console.log(`${name} lives in ${city}, ${country}`);\n}\n\nprocessUser({\n    name: "Alice",\n    address: {\n        city: "New York",\n        country: "USA"\n    }\n});\n```\n\n---\n\n## Practical Examples\n\n### Example 1: API Response\n\n```javascript\n// Simulated API response\nlet apiResponse = {\n    status: "success",\n    data: {\n        user: {\n            id: 1,\n            name: "Alice",\n            email: "alice@example.com"\n        }\n    }\n};\n\nlet {\n    status,\n    data: {\n        user: { id, name, email }\n    }\n} = apiResponse;\n\nconsole.log(`User ${name} (${email}) - Status: ${status}`);\n```\n\n### Example 2: Configuration\n\n```javascript\nlet config = {\n    host: "localhost",\n    port: 3000,\n    database: {\n        name: "mydb",\n        user: "admin"\n    }\n};\n\nlet {\n    host,\n    port,\n    database: { name: dbName, user: dbUser }\n} = config;\n\nconsole.log(`Connecting to ${host}:${port} with database ${dbName}`);\n```\n\n### Example 3: Array Methods\n\n```javascript\nlet points = [\n    [10, 20],\n    [30, 40],\n    [50, 60]\n];\n\npoints.forEach(([x, y]) => {\n    console.log(`Point: (${x}, ${y})`);\n});\n```\n\n### Example 4: Function Returns\n\n```javascript\nfunction getMinMax(numbers) {\n    return [Math.min(...numbers), Math.max(...numbers)];\n}\n\nlet [min, max] = getMinMax([5, 2, 8, 1, 9]);\nconsole.log(`Min: ${min}, Max: ${max}`);  // "Min: 1, Max: 9"\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Destructuring Practice\n\n**Objective**: Practice array and object destructuring in various scenarios.\n\n**Instructions**:\n\n1. Create a file called `destructuring-practice.js`\n\n2. Practice:\n   - Array destructuring (basic, skipping, defaults, rest)\n   - Object destructuring (basic, renaming, defaults, nested)\n   - Function parameters with destructuring\n   - Real-world examples (API responses, configs)\n\n**Example Solution**:\n\n```javascript\n// Destructuring Practice\nconsole.log("=== Array Destructuring ===");\n\n// Basic\nlet numbers = [1, 2, 3, 4, 5];\nlet [a, b, c] = numbers;\nconsole.log("Basic:", a, b, c);  // 1, 2, 3\n\n// Skipping\nlet [first, , third, , fifth] = numbers;\nconsole.log("Skipped:", first, third, fifth);  // 1, 3, 5\n\n// Default values\nlet numbers2 = [1, 2];\nlet [x, y, z = 10] = numbers2;\nconsole.log("With default:", x, y, z);  // 1, 2, 10\n\n// Rest\nlet [first2, second, ...rest] = numbers;\nconsole.log("First:", first2);    // 1\nconsole.log("Second:", second);   // 2\nconsole.log("Rest:", rest);       // [3, 4, 5]\n\n// Swapping\nlet p = 5;\nlet q = 10;\n[p, q] = [q, p];\nconsole.log("Swapped:", p, q);  // 10, 5\n\n// Nested\nlet nested = [1, [2, 3], 4];\nlet [a2, [b2, c2], d] = nested;\nconsole.log("Nested:", a2, b2, c2, d);  // 1, 2, 3, 4\nconsole.log();\n\nconsole.log("=== Object Destructuring ===");\n\n// Basic\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York"\n};\n\nlet { name, age, city } = person;\nconsole.log("Basic:", name, age, city);  // Alice, 25, New York\n\n// Renaming\nlet { name: userName, age: userAge } = person;\nconsole.log("Renamed:", userName, userAge);  // Alice, 25\n\n// Default values\nlet person2 = { name: "Bob" };\nlet { name: name2, age: age2 = 0, city: city2 = "Unknown" } = person2;\nconsole.log("With defaults:", name2, age2, city2);  // Bob, 0, Unknown\n\n// Rest\nlet { name: name3, ...rest2 } = person;\nconsole.log("Name:", name3);  // Alice\nconsole.log("Rest:", rest2);  // { age: 25, city: "New York" }\n\n// Nested\nlet user = {\n    name: "Alice",\n    address: {\n        street: "123 Main St",\n        city: "New York",\n        zip: "10001"\n    }\n};\n\nlet {\n    name: userName2,\n    address: { street, city: userCity, zip }\n} = user;\n\nconsole.log("Nested:", userName2, street, userCity, zip);\n// Alice, 123 Main St, New York, 10001\nconsole.log();\n\nconsole.log("=== Function Parameters ===");\n\n// Array parameter\nfunction processArray([first, second, third]) {\n    console.log(`Processing: ${first}, ${second}, ${third}`);\n}\nprocessArray([10, 20, 30]);  // "Processing: 10, 20, 30"\n\n// Object parameter\nfunction greetUser({ name, age = 0 }) {\n    console.log(`Hello, ${name}! Age: ${age}`);\n}\ngreetUser({ name: "Alice", age: 25 });  // "Hello, Alice! Age: 25"\ngreetUser({ name: "Bob" });             // "Hello, Bob! Age: 0"\n\n// Nested parameter\nfunction processConfig({\n    server: { host, port },\n    database: { name: dbName }\n}) {\n    console.log(`Server: ${host}:${port}, DB: ${dbName}`);\n}\n\nprocessConfig({\n    server: { host: "localhost", port: 3000 },\n    database: { name: "mydb" }\n});\n// "Server: localhost:3000, DB: mydb"\nconsole.log();\n\nconsole.log("=== Real-World Examples ===");\n\n// API Response\nlet apiResponse = {\n    status: "success",\n    data: {\n        users: [\n            { id: 1, name: "Alice" },\n            { id: 2, name: "Bob" }\n        ],\n        total: 2\n    }\n};\n\nlet {\n    status,\n    data: {\n        users,\n        total\n    }\n} = apiResponse;\n\nconsole.log("API Status:", status);\nconsole.log("Total users:", total);\nusers.forEach(({ id, name }) => {\n    console.log(`User ${id}: ${name}`);\nconsole.log();\n\n// Function returns\nfunction getStats(numbers) {\n    return {\n        min: Math.min(...numbers),\n        max: Math.max(...numbers),\n        sum: numbers.reduce((a, b) => a + b, 0),\n        count: numbers.length\n    };\n}\n\nlet { min, max, sum, count } = getStats([5, 10, 15, 20, 25]);\nconsole.log(`Stats: min=${min}, max=${max}, sum=${sum}, count=${count}`);\n// "Stats: min=5, max=25, sum=75, count=5"\nconsole.log();\n\n// Configuration\nlet appConfig = {\n    app: {\n        name: "MyApp",\n        version: "1.0.0"\n    },\n    api: {\n        baseUrl: "https://api.example.com",\n        timeout: 5000\n    },\n    features: {\n        darkMode: true,\n        notifications: false\n    }\n};\n\nlet {\n    app: { name: appName, version },\n    api: { baseUrl, timeout },\n    features: { darkMode, notifications }\n} = appConfig;\n\nconsole.log(`App: ${appName} v${version}`);\nconsole.log(`API: ${baseUrl} (timeout: ${timeout}ms)`);\nconsole.log(`Features: darkMode=${darkMode}, notifications=${notifications}`);\nconsole.log();\n\n// Array methods with destructuring\nlet coordinates = [\n    [10, 20],\n    [30, 40],\n    [50, 60]\n];\n\nconsole.log("Coordinates:");\ncoordinates.forEach(([x, y], index) => {\n    console.log(`Point ${index + 1}: (${x}, ${y})`);\n});\n\n// Map with destructuring\nlet users2 = [\n    { firstName: "Alice", lastName: "Smith" },\n    { firstName: "Bob", lastName: "Jones" }\n];\n\nlet fullNames = users2.map(({ firstName, lastName }) => {\n    return `${firstName} ${lastName}`;\n});\nconsole.log("Full names:", fullNames);  // ["Alice Smith", "Bob Jones"]\n```\n\n**Expected Output**:\n```\n=== Array Destructuring ===\nBasic: 1, 2, 3\nSkipped: 1, 3, 5\nWith default: 1, 2, 10\nFirst: 1\nSecond: 2\nRest: [3, 4, 5]\nSwapped: 10, 5\nNested: 1, 2, 3, 4\n\n=== Object Destructuring ===\nBasic: Alice, 25, New York\nRenamed: Alice, 25\nWith defaults: Bob, 0, Unknown\nName: Alice\nRest: { age: 25, city: "New York" }\nNested: Alice, 123 Main St, New York, 10001\n\n=== Function Parameters ===\nProcessing: 10, 20, 30\nHello, Alice! Age: 25\nHello, Bob! Age: 0\nServer: localhost:3000, DB: mydb\n\n=== Real-World Examples ===\nAPI Status: success\nTotal users: 2\nUser 1: Alice\nUser 2: Bob\n\nStats: min=5, max=25, sum=75, count=5\n\nApp: MyApp v1.0.0\nAPI: https://api.example.com (timeout: 5000ms)\nFeatures: darkMode=true, notifications=false\n\nCoordinates:\nPoint 1: (10, 20)\nPoint 2: (30, 40)\nPoint 3: (50, 60)\nFull names: ["Alice Smith", "Bob Jones"]\n```\n\n**Challenge (Optional)**:\n- Refactor code to use destructuring\n- Create utility functions with destructuring\n- Build data processing pipelines\n- Practice complex nested destructuring\n\n---\n\n## Common Mistakes\n\n### 1. Destructuring Undefined/Null\n\n```javascript\n// ⚠️ Error if value is undefined/null\nlet { name } = undefined;  // Error\n\n// ✅ Check first or use default\nlet { name = "Unknown" } = user || {};\n```\n\n### 2. Rest Must Be Last\n\n```javascript\n// ❌ Error: Rest element must be last\n// let [first, ...middle, last] = [1, 2, 3, 4];\n\n// ✅ Correct\nlet [first, ...rest] = [1, 2, 3, 4];\nlet last = rest[rest.length - 1];\n```\n\n### 3. Missing Parentheses\n\n```javascript\nlet name, age;\n\n// ❌ Error: Unexpected token\n// { name, age } = { name: "Alice", age: 25 };\n\n// ✅ Correct: Need parentheses\n({ name, age } = { name: "Alice", age: 25 });\n```\n\n### 4. Wrong Syntax\n\n```javascript\n// ❌ Wrong\nlet { name: } = person;  // Missing variable name\n\n// ✅ Correct\nlet { name: userName } = person;\n```\n\n### 5. Confusing Array/Object Syntax\n\n```javascript\n// Array: []\nlet [a, b] = [1, 2];\n\n// Object: {}\nlet { a, b } = { a: 1, b: 2 };\n```\n\n---\n\n## Key Takeaways\n\n1. **Array Destructuring**: Extract values from arrays `[a, b] = array`\n2. **Object Destructuring**: Extract properties from objects `{a, b} = object`\n3. **Default Values**: Provide fallbacks for missing values\n4. **Renaming**: Assign to different variable names\n5. **Rest**: Collect remaining values\n6. **Nested**: Destructure nested structures\n7. **Function Parameters**: Use destructuring in parameters\n8. **Best Practice**: Use destructuring for cleaner, more readable code\n\n---\n\n## Quiz: Destructuring\n\nTest your understanding with these questions:\n\n1. **What is the result: `let [a, b] = [1, 2, 3]; console.log(a, b)`?**\n   - A) 1, 2\n   - B) 1, 2, 3\n   - C) Error\n   - D) undefined, undefined\n\n2. **Rest in destructuring must be:**\n   - A) First\n   - B) Last\n   - C) Middle\n   - D) Anywhere\n\n3. **What does `let {name: userName} = person` do?**\n   - A) Creates userName from person.name\n   - B) Creates name from person.userName\n   - C) Error\n   - D) Nothing\n\n4. **Default values in destructuring use:**\n   - A) =\n   - B) :\n   - C) =>\n   - D) ==\n\n5. **What is the result: `let [a, , c] = [1, 2, 3]; console.log(c)`?**\n   - A) 1\n   - B) 2\n   - C) 3\n   - D) undefined\n\n6. **Can you destructure function parameters?**\n   - A) No\n   - B) Yes\n   - C) Only arrays\n   - D) Only objects\n\n7. **What does `let {a, ...rest} = {a: 1, b: 2, c: 3}` make rest?**\n   - A) [2, 3]\n   - B) {b: 2, c: 3}\n   - C) Error\n   - D) undefined\n\n**Answers**:\n1. A) 1, 2\n2. B) Last\n3. A) Creates userName from person.name\n4. A) =\n5. C) 3\n6. B) Yes\n7. B) {b: 2, c: 3}\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned destructuring. You now know:\n- How to destructure arrays and objects\n- Using default values and renaming\n- Nested destructuring\n- Destructuring in function parameters\n\n**What''s Next?**\n- Lesson 7.3: Template Literals and Symbols\n- Practice using destructuring in real code\n- Refactor existing code with destructuring\n- Combine destructuring with other ES6 features\n\n---\n\n## Additional Resources\n\n- **MDN: Destructuring Assignment**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment)\n- **JavaScript.info: Destructuring**: [javascript.info/destructuring-assignment](https://javascript.info/destructuring-assignment)\n- **ES6 Destructuring Guide**: Comprehensive examples and patterns\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:40:36', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Destructure arrays to extract values\n- Destructure objects to extract properties\n- Use default values in destructuring\n- Perform nested destructuring\n- Use rest in destructuring\n- Apply destructuring in function parameters\n- Write cleaner, more readable code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (128, 47, 11, 'Template Literals and Symbols', 'template-literals-and-symbols', '# Lesson 7.3: Template Literals and Symbols\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use template literals for string interpolation\n- Create multiline strings easily\n- Use tagged templates for advanced string processing\n- Understand Symbols and their use cases\n- Create unique identifiers with Symbols\n- Use Symbol properties\n- Write modern, clean string code\n\n---\n\n## Introduction to Template Literals\n\nTemplate literals (template strings) are a new way to create strings in JavaScript. They use backticks (`` ` ``) instead of quotes and provide powerful features like interpolation and multiline strings.\n\n### Benefits of Template Literals\n\n- **String Interpolation**: Embed expressions easily\n- **Multiline Strings**: No need for concatenation\n- **Tagged Templates**: Advanced string processing\n- **Readability**: Cleaner than string concatenation\n\n---\n\n## Template Literals Basics\n\n### Basic Syntax\n\nUse backticks (`` ` ``) instead of quotes:\n\n```javascript\nlet name = "Alice";\nlet greeting = `Hello, ${name}!`;\nconsole.log(greeting);  // "Hello, Alice!"\n```\n\n### String Interpolation\n\nEmbed expressions using `${expression}`:\n\n```javascript\nlet name = "Alice";\nlet age = 25;\nlet message = `Hello, I''m ${name} and I''m ${age} years old`;\nconsole.log(message);  // "Hello, I''m Alice and I''m 25 years old"\n```\n\n### Expressions in Template Literals\n\nAny valid JavaScript expression can be used:\n\n```javascript\nlet a = 5;\nlet b = 10;\nlet result = `The sum of ${a} and ${b} is ${a + b}`;\nconsole.log(result);  // "The sum of 5 and 10 is 15"\n```\n\n### Function Calls\n\n```javascript\nfunction getName() {\n    return "Alice";\n}\n\nlet message = `Hello, ${getName()}!`;\nconsole.log(message);  // "Hello, Alice!"\n```\n\n### Object Properties\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25\n};\n\nlet info = `Name: ${person.name}, Age: ${person.age}`;\nconsole.log(info);  // "Name: Alice, Age: 25"\n```\n\n---\n\n## Multiline Strings\n\n### Traditional Way (Concatenation)\n\n```javascript\n// Old way: Concatenation\nlet multiline = "Line 1\\n" +\n                "Line 2\\n" +\n                "Line 3";\n```\n\n### Template Literal Way\n\n```javascript\n// New way: Template literal\nlet multiline = `Line 1\nLine 2\nLine 3`;\n```\n\n### Preserving Formatting\n\nTemplate literals preserve whitespace and line breaks:\n\n```javascript\nlet html = `\n<div>\n    <h1>Title</h1>\n    <p>Content</p>\n</div>\n`;\n```\n\n### Practical Example\n\n```javascript\nlet email = `\nDear ${recipient},\n\nThank you for your order.\n\nOrder Details:\n- Item: ${itemName}\n- Price: $${price}\n- Quantity: ${quantity}\n\nTotal: $${price * quantity}\n\nBest regards,\n${senderName}\n`;\n```\n\n---\n\n## Advanced Template Literal Features\n\n### Nested Template Literals\n\n```javascript\nlet items = ["apple", "banana", "orange"];\nlet list = `\nShopping List:\n${items.map(item => `- ${item}`).join("\\n")}\n`;\nconsole.log(list);\n```\n\n### Conditional Expressions\n\n```javascript\nlet user = { name: "Alice", isAdmin: true };\nlet message = `\nWelcome, ${user.name}!\n${user.isAdmin ? "You have admin privileges." : "You are a regular user."}\n`;\n```\n\n### Ternary Operators\n\n```javascript\nlet score = 85;\nlet result = `Your score is ${score}. ${score >= 70 ? "Passed!" : "Failed!"}`;\nconsole.log(result);  // "Your score is 85. Passed!"\n```\n\n### Template Literals in Functions\n\n```javascript\nfunction createGreeting(name, age) {\n    return `Hello, ${name}! You are ${age} years old.`;\n}\n\nconsole.log(createGreeting("Alice", 25));\n```\n\n---\n\n## Tagged Templates\n\nTagged templates allow you to process template literals with a function.\n\n### Basic Tagged Template\n\n```javascript\nfunction myTag(strings, ...values) {\n    console.log("Strings:", strings);\n    console.log("Values:", values);\n    return "Processed";\n}\n\nlet name = "Alice";\nlet age = 25;\nlet result = myTag`Hello, ${name}! You are ${age} years old.`;\n// Strings: ["Hello, ", "! You are ", " years old."]\n// Values: ["Alice", 25]\n```\n\n### How Tagged Templates Work\n\nThe tag function receives:\n1. **strings**: Array of string literals\n2. **values**: Array of interpolated values\n\n```javascript\nfunction tag(strings, ...values) {\n    let result = "";\n    for (let i = 0; i < strings.length; i++) {\n        result += strings[i];\n        if (i < values.length) {\n            result += values[i];\n        }\n    }\n    return result;\n}\n\nlet name = "Alice";\nlet message = tag`Hello, ${name}!`;\nconsole.log(message);  // "Hello, Alice!"\n```\n\n### Practical Example: HTML Escaping\n\n```javascript\nfunction htmlEscape(strings, ...values) {\n    let result = strings[0];\n    for (let i = 0; i < values.length; i++) {\n        let escaped = String(values[i])\n            .replace(/&/g, "&amp;")\n            .replace(/</g, "&lt;")\n            .replace(/>/g, "&gt;")\n            .replace(/"/g, "&quot;")\n            .replace(/''/g, "&#39;");\n        result += escaped + strings[i + 1];\n    }\n    return result;\n}\n\nlet userInput = "<script>alert(''XSS'')</script>";\nlet safe = htmlEscape`<div>${userInput}</div>`;\nconsole.log(safe);  // "<div>&lt;script&gt;alert(&#39;XSS&#39;)&lt;/script&gt;</div>"\n```\n\n### Example: String Formatting\n\n```javascript\nfunction format(strings, ...values) {\n    return strings.reduce((result, str, i) => {\n        let value = values[i];\n        if (typeof value === "number") {\n            value = value.toFixed(2);\n        }\n        return result + str + (value || "");\n    }, "");\n}\n\nlet price = 19.99;\nlet quantity = 3;\nlet total = format`Price: $${price}, Quantity: ${quantity}, Total: $${price * quantity}`;\nconsole.log(total);  // "Price: $19.99, Quantity: 3, Total: $59.97"\n```\n\n### Example: Translation\n\n```javascript\nconst translations = {\n    en: { greeting: "Hello", farewell: "Goodbye" },\n    es: { greeting: "Hola", farewell: "Adiós" }\n};\n\nfunction translate(lang) {\n    return function(strings, ...values) {\n        let result = strings[0];\n        for (let i = 0; i < values.length; i++) {\n            let key = values[i];\n            let translated = translations[lang][key] || key;\n            result += translated + strings[i + 1];\n        }\n        return result;\n    };\n}\n\nlet t = translate("es");\nlet message = t`${"greeting"}, ${"farewell"}`;\nconsole.log(message);  // "Hola, Adiós"\n```\n\n---\n\n## Symbols\n\nSymbols are a primitive data type introduced in ES6. They create unique, immutable identifiers.\n\n### What are Symbols?\n\n- **Unique**: Every symbol is unique\n- **Immutable**: Cannot be changed\n- **Primitive**: Not objects\n- **Use Cases**: Private properties, constants, metadata\n\n### Creating Symbols\n\n```javascript\nlet sym1 = Symbol();\nlet sym2 = Symbol();\nconsole.log(sym1 === sym2);  // false (each is unique)\n```\n\n### Symbol with Description\n\n```javascript\nlet sym1 = Symbol("description");\nlet sym2 = Symbol("description");\nconsole.log(sym1 === sym2);  // false (still unique, description is just a label)\n```\n\n### Symbol.for() - Global Registry\n\n`Symbol.for()` creates or retrieves symbols from a global registry:\n\n```javascript\nlet sym1 = Symbol.for("key");\nlet sym2 = Symbol.for("key");\nconsole.log(sym1 === sym2);  // true (same symbol from registry)\n```\n\n### Symbol.keyFor()\n\nGet the key for a symbol from the global registry:\n\n```javascript\nlet sym = Symbol.for("myKey");\nconsole.log(Symbol.keyFor(sym));  // "myKey"\n\nlet sym2 = Symbol("notInRegistry");\nconsole.log(Symbol.keyFor(sym2));  // undefined\n```\n\n---\n\n## Using Symbols\n\n### Symbols as Property Keys\n\n```javascript\nlet id = Symbol("id");\nlet person = {\n    name: "Alice",\n    [id]: 123  // Symbol as property key\n};\n\nconsole.log(person[id]);  // 123\nconsole.log(person.name); // "Alice"\n```\n\n### Symbols are Hidden\n\nSymbol properties don''t appear in normal iteration:\n\n```javascript\nlet id = Symbol("id");\nlet person = {\n    name: "Alice",\n    [id]: 123\n};\n\n// Normal iteration doesn''t show symbols\nfor (let key in person) {\n    console.log(key);  // Only "name"\n}\n\nconsole.log(Object.keys(person));  // ["name"]\nconsole.log(Object.getOwnPropertyNames(person));  // ["name"]\n```\n\n### Accessing Symbol Properties\n\n```javascript\nlet id = Symbol("id");\nlet person = {\n    name: "Alice",\n    [id]: 123\n};\n\n// Get symbol properties\nlet symbols = Object.getOwnPropertySymbols(person);\nconsole.log(symbols);  // [Symbol(id)]\nconsole.log(person[symbols[0]]);  // 123\n```\n\n### Private Properties Pattern\n\n```javascript\nlet _name = Symbol("name");\nlet _age = Symbol("age");\n\nclass Person {\n    constructor(name, age) {\n        this[_name] = name;\n        this[_age] = age;\n    }\n    \n    getName() {\n        return this[_name];\n    }\n    \n    getAge() {\n        return this[_age];\n    }\n}\n\nlet person = new Person("Alice", 25);\nconsole.log(person.getName());  // "Alice"\nconsole.log(person[_name]);     // "Alice" (but requires symbol reference)\n```\n\n### Well-Known Symbols\n\nJavaScript has built-in well-known symbols:\n\n```javascript\n// Symbol.iterator - for iteration\nlet arr = [1, 2, 3];\nlet iterator = arr[Symbol.iterator]();\nconsole.log(iterator.next());  // { value: 1, done: false }\n\n// Symbol.toStringTag - for toString\nclass MyClass {\n    get [Symbol.toStringTag]() {\n        return "MyClass";\n    }\n}\nlet obj = new MyClass();\nconsole.log(obj.toString());  // "[object MyClass]"\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Template Literals for HTML\n\n```javascript\nfunction createCard(title, content, author) {\n    return `\n        <div class="card">\n            <h2>${title}</h2>\n            <p>${content}</p>\n            <footer>By ${author}</footer>\n        </div>\n    `;\n}\n\nlet html = createCard("My Title", "My content", "Alice");\nconsole.log(html);\n```\n\n### Example 2: SQL Query Builder\n\n```javascript\nfunction buildQuery(table, conditions) {\n    let query = `SELECT * FROM ${table}`;\n    if (conditions.length > 0) {\n        query += ` WHERE ${conditions.join(" AND ")}`;\n    }\n    return query;\n}\n\nlet conditions = ["age > 18", "status = ''active''"];\nlet sql = buildQuery("users", conditions);\nconsole.log(sql);  // "SELECT * FROM users WHERE age > 18 AND status = ''active''"\n```\n\n### Example 3: Constants with Symbols\n\n```javascript\nconst STATUS = {\n    PENDING: Symbol("pending"),\n    APPROVED: Symbol("approved"),\n    REJECTED: Symbol("rejected")\n};\n\nfunction processRequest(status) {\n    if (status === STATUS.PENDING) {\n        return "Request is pending";\n    } else if (status === STATUS.APPROVED) {\n        return "Request approved";\n    } else if (status === STATUS.REJECTED) {\n        return "Request rejected";\n    }\n}\n\nconsole.log(processRequest(STATUS.PENDING));  // "Request is pending"\n```\n\n### Example 4: Metadata with Symbols\n\n```javascript\nconst METADATA = Symbol("metadata");\n\nclass Document {\n    constructor(title, content) {\n        this.title = title;\n        this.content = content;\n        this[METADATA] = {\n            createdAt: new Date(),\n            version: 1\n        };\n    }\n    \n    getMetadata() {\n        return this[METADATA];\n    }\n    \n    updateMetadata(updates) {\n        Object.assign(this[METADATA], updates);\n    }\n}\n\nlet doc = new Document("My Doc", "Content");\nconsole.log(doc.getMetadata());\ndoc.updateMetadata({ version: 2 });\nconsole.log(doc.getMetadata());\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Template Literals and Symbols\n\n**Objective**: Practice using template literals and symbols in various scenarios.\n\n**Instructions**:\n\n1. Create a file called `template-literals-symbols.js`\n\n2. Practice:\n   - Template literals for string interpolation\n   - Multiline strings\n   - Tagged templates\n   - Creating and using symbols\n   - Symbol properties\n   - Real-world examples\n\n**Example Solution**:\n\n```javascript\n// Template Literals and Symbols Practice\nconsole.log("=== Template Literals Basics ===");\n\nlet name = "Alice";\nlet age = 25;\nlet city = "New York";\n\n// Basic interpolation\nlet greeting = `Hello, ${name}!`;\nconsole.log("Greeting:", greeting);  // "Hello, Alice!"\n\n// Multiple variables\nlet info = `Name: ${name}, Age: ${age}, City: ${city}`;\nconsole.log("Info:", info);\n\n// Expressions\nlet sum = `The sum of 5 and 10 is ${5 + 10}`;\nconsole.log("Sum:", sum);  // "The sum of 5 and 10 is 15"\n\n// Function calls\nfunction getCurrentYear() {\n    return new Date().getFullYear();\n}\nlet yearMessage = `Current year: ${getCurrentYear()}`;\nconsole.log("Year:", yearMessage);\nconsole.log();\n\nconsole.log("=== Multiline Strings ===");\n\n// Traditional way\nlet oldWay = "Line 1\\n" +\n             "Line 2\\n" +\n             "Line 3";\nconsole.log("Old way:", oldWay);\n\n// Template literal way\nlet newWay = `Line 1\nLine 2\nLine 3`;\nconsole.log("New way:", newWay);\n\n// HTML example\nlet html = `\n<div class="container">\n    <h1>${name}</h1>\n    <p>Age: ${age}</p>\n    <p>City: ${city}</p>\n</div>\n`;\nconsole.log("HTML:", html);\nconsole.log();\n\nconsole.log("=== Advanced Template Literals ===");\n\n// Nested template literals\nlet items = ["apple", "banana", "orange"];\nlet list = `\nShopping List:\n${items.map(item => `  - ${item}`).join("\\n")}\n`;\nconsole.log("List:", list);\n\n// Conditional\nlet user = { name: "Alice", isAdmin: true };\nlet accessMessage = `\nWelcome, ${user.name}!\n${user.isAdmin ? "You have admin access." : "You are a regular user."}\n`;\nconsole.log("Access:", accessMessage);\n\n// Ternary\nlet score = 85;\nlet result = `Score: ${score}. ${score >= 70 ? "Passed!" : "Failed!"}`;\nconsole.log("Result:", result);\nconsole.log();\n\nconsole.log("=== Tagged Templates ===");\n\n// Basic tagged template\nfunction myTag(strings, ...values) {\n    console.log("Strings:", strings);\n    console.log("Values:", values);\n    return "Processed";\n}\n\nlet result2 = myTag`Hello, ${name}! You are ${age} years old.`;\n\n// HTML escaping\nfunction htmlEscape(strings, ...values) {\n    let result = strings[0];\n    for (let i = 0; i < values.length; i++) {\n        let escaped = String(values[i])\n            .replace(/&/g, "&amp;")\n            .replace(/</g, "&lt;")\n            .replace(/>/g, "&gt;")\n            .replace(/"/g, "&quot;");\n        result += escaped + strings[i + 1];\n    }\n    return result;\n}\n\nlet userInput = "<script>alert(''XSS'')</script>";\nlet safe = htmlEscape`<div>${userInput}</div>`;\nconsole.log("Safe HTML:", safe);\n\n// Formatting\nfunction format(strings, ...values) {\n    return strings.reduce((result, str, i) => {\n        let value = values[i];\n        if (typeof value === "number") {\n            value = value.toFixed(2);\n        }\n        return result + str + (value || "");\n    }, "");\n}\n\nlet price = 19.99;\nlet quantity = 3;\nlet total = format`Price: $${price}, Qty: ${quantity}, Total: $${price * quantity}`;\nconsole.log("Formatted:", total);\nconsole.log();\n\nconsole.log("=== Symbols Basics ===");\n\n// Creating symbols\nlet sym1 = Symbol();\nlet sym2 = Symbol();\nconsole.log("sym1 === sym2:", sym1 === sym2);  // false\n\n// With description\nlet sym3 = Symbol("id");\nlet sym4 = Symbol("id");\nconsole.log("sym3 === sym4:", sym3 === sym4);  // false\n\n// Symbol.for (global registry)\nlet sym5 = Symbol.for("key");\nlet sym6 = Symbol.for("key");\nconsole.log("sym5 === sym6:", sym5 === sym6);  // true\n\n// Symbol.keyFor\nconsole.log("Key for sym5:", Symbol.keyFor(sym5));  // "key"\nconsole.log();\n\nconsole.log("=== Symbols as Properties ===");\n\n// Symbol property\nlet id = Symbol("id");\nlet person = {\n    name: "Alice",\n    [id]: 123\n};\n\nconsole.log("person[id]:", person[id]);  // 123\nconsole.log("person.name:", person.name); // "Alice"\n\n// Symbols are hidden\nconsole.log("Object.keys:", Object.keys(person));  // ["name"]\nconsole.log("for...in:");\nfor (let key in person) {\n    console.log("  ", key);  // Only "name"\n}\n\n// Get symbol properties\nlet symbols = Object.getOwnPropertySymbols(person);\nconsole.log("Symbols:", symbols);\nconsole.log("Symbol value:", person[symbols[0]]);\nconsole.log();\n\nconsole.log("=== Private Properties Pattern ===");\n\nlet _name = Symbol("name");\nlet _age = Symbol("age");\n\nclass Person {\n    constructor(name, age) {\n        this[_name] = name;\n        this[_age] = age;\n    }\n    \n    getName() {\n        return this[_name];\n    }\n    \n    getAge() {\n        return this[_age];\n    }\n}\n\nlet person2 = new Person("Bob", 30);\nconsole.log("Name:", person2.getName());  // "Bob"\nconsole.log("Age:", person2.getAge());     // 30\nconsole.log("Direct access:", person2[_name]);  // "Bob" (but requires symbol)\nconsole.log();\n\nconsole.log("=== Constants with Symbols ===");\n\nconst STATUS = {\n    PENDING: Symbol("pending"),\n    APPROVED: Symbol("approved"),\n    REJECTED: Symbol("rejected")\n};\n\nfunction processRequest(status) {\n    if (status === STATUS.PENDING) {\n        return "Request is pending";\n    } else if (status === STATUS.APPROVED) {\n        return "Request approved";\n    } else if (status === STATUS.REJECTED) {\n        return "Request rejected";\n    }\n}\n\nconsole.log("Status:", processRequest(STATUS.PENDING));  // "Request is pending"\nconsole.log();\n\nconsole.log("=== Real-World Examples ===");\n\n// Email template\nfunction createEmail(to, subject, body) {\n    return `\nTo: ${to}\nSubject: ${subject}\n\n${body}\n\n---\nThis is an automated message.\n`;\n}\n\nlet email = createEmail("user@example.com", "Welcome", "Thank you for joining!");\nconsole.log("Email:", email);\n\n// Configuration with symbols\nconst CONFIG_KEY = Symbol("config");\n\nclass App {\n    constructor() {\n        this[CONFIG_KEY] = {\n            apiUrl: "https://api.example.com",\n            timeout: 5000\n        };\n    }\n    \n    getConfig() {\n        return this[CONFIG_KEY];\n    }\n}\n\nlet app = new App();\nconsole.log("Config:", app.getConfig());\n```\n\n**Expected Output**:\n```\n=== Template Literals Basics ===\nGreeting: Hello, Alice!\nInfo: Name: Alice, Age: 25, City: New York\nSum: The sum of 5 and 10 is 15\nYear: Current year: 2024\n\n=== Multiline Strings ===\nOld way: Line 1\nLine 2\nLine 3\nNew way: Line 1\nLine 2\nLine 3\nHTML: \n<div class="container">\n    <h1>Alice</h1>\n    <p>Age: 25</p>\n    <p>City: New York</p>\n</div>\n\n=== Advanced Template Literals ===\nList: \nShopping List:\n  - apple\n  - banana\n  - orange\nAccess: \nWelcome, Alice!\nYou have admin access.\nResult: Score: 85. Passed!\n\n=== Tagged Templates ===\nStrings: [ "Hello, ", "! You are ", " years old." ]\nValues: [ "Alice", 25 ]\nSafe HTML: <div>&lt;script&gt;alert(&#39;XSS&#39;)&lt;/script&gt;</div>\nFormatted: Price: $19.99, Qty: 3, Total: $59.97\n\n=== Symbols Basics ===\nsym1 === sym2: false\nsym3 === sym4: false\nsym5 === sym6: true\nKey for sym5: key\n\n=== Symbols as Properties ===\nperson[id]: 123\nperson.name: Alice\nObject.keys: [ "name" ]\nfor...in:\n   name\nSymbols: [ Symbol(id) ]\nSymbol value: 123\n\n=== Private Properties Pattern ===\nName: Bob\nAge: 30\nDirect access: Bob\n\n=== Constants with Symbols ===\nStatus: Request is pending\n\n=== Real-World Examples ===\nEmail: \nTo: user@example.com\nSubject: Welcome\n\nThank you for joining!\n\n---\nThis is an automated message.\n\nConfig: { apiUrl: "https://api.example.com", timeout: 5000 }\n```\n\n**Challenge (Optional)**:\n- Build a template engine with tagged templates\n- Create a symbol-based event system\n- Build HTML generators with template literals\n- Create private property systems with symbols\n\n---\n\n## Common Mistakes\n\n### 1. Using Quotes Instead of Backticks\n\n```javascript\n// ❌ Wrong: No interpolation\nlet name = "Alice";\nlet message = "Hello, ${name}!";  // Literal "${name}"\n\n// ✅ Correct: Use backticks\nlet message = `Hello, ${name}!`;  // "Hello, Alice!"\n```\n\n### 2. Forgetting ${} for Expressions\n\n```javascript\n// ❌ Wrong\nlet message = `Hello, name!`;  // Literal "name"\n\n// ✅ Correct\nlet message = `Hello, ${name}!`;  // Interpolated\n```\n\n### 3. Confusing Symbol Uniqueness\n\n```javascript\n// ⚠️ Each Symbol() call creates unique symbol\nlet sym1 = Symbol("id");\nlet sym2 = Symbol("id");\nconsole.log(sym1 === sym2);  // false\n\n// ✅ Use Symbol.for() for shared symbols\nlet sym3 = Symbol.for("id");\nlet sym4 = Symbol.for("id");\nconsole.log(sym3 === sym4);  // true\n```\n\n### 4. Symbols Not in Iteration\n\n```javascript\nlet id = Symbol("id");\nlet obj = { name: "Alice", [id]: 123 };\n\n// ⚠️ Symbols don''t appear in normal iteration\nfor (let key in obj) {\n    console.log(key);  // Only "name"\n}\n\n// ✅ Use Object.getOwnPropertySymbols()\nlet symbols = Object.getOwnPropertySymbols(obj);\n```\n\n---\n\n## Key Takeaways\n\n1. **Template Literals**: Use backticks for strings with interpolation\n2. **Interpolation**: `${expression}` embeds values\n3. **Multiline**: Template literals preserve line breaks\n4. **Tagged Templates**: Functions that process template literals\n5. **Symbols**: Unique, immutable identifiers\n6. **Symbol Properties**: Hidden from normal iteration\n7. **Use Cases**: Private properties, constants, metadata\n8. **Best Practice**: Use template literals for all string creation\n\n---\n\n## Quiz: Template Literals and Symbols\n\nTest your understanding with these questions:\n\n1. **What character is used for template literals?**\n   - A) "\n   - B) ''\n   - C) `\n   - D) {\n\n2. **What syntax embeds expressions?**\n   - A) ${}\n   - B) {}\n   - C) $()\n   - D) {{}}\n\n3. **Are symbols unique?**\n   - A) Yes, always\n   - B) No\n   - C) Only with Symbol.for()\n   - D) Sometimes\n\n4. **Do symbol properties appear in for...in loops?**\n   - A) Yes\n   - B) No\n   - C) Sometimes\n   - D) Only if public\n\n5. **What does Symbol.for() do?**\n   - A) Creates unique symbol\n   - B) Gets/creates from global registry\n   - C) Deletes symbol\n   - D) Nothing\n\n6. **Template literals preserve:**\n   - A) Only text\n   - B) Whitespace and line breaks\n   - C) Nothing\n   - D) Only expressions\n\n7. **Tagged templates receive:**\n   - A) Just strings\n   - B) Strings and values\n   - C) Just values\n   - D) Nothing\n\n**Answers**:\n1. C) `\n2. A) ${}\n3. A) Yes, always (each Symbol() call is unique)\n4. B) No\n5. B) Gets/creates from global registry\n6. B) Whitespace and line breaks\n7. B) Strings and values\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 7: ES6+ Features. You now know:\n- Modern variable declarations (let, const)\n- Destructuring arrays and objects\n- Template literals and string interpolation\n- Symbols and their use cases\n\n**What''s Next?**\n- Module 8: Advanced Functions\n- Practice combining ES6+ features\n- Build more modern JavaScript applications\n- Continue learning advanced JavaScript\n\n---\n\n## Additional Resources\n\n- **MDN: Template Literals**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals)\n- **MDN: Symbol**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol)\n- **JavaScript.info: Template Literals**: [javascript.info/string](https://javascript.info/string)\n- **JavaScript.info: Symbol**: [javascript.info/symbol](https://javascript.info/symbol)\n\n---\n\n*Lesson completed! You''ve finished Module 7: ES6+ Features. Ready for Module 8: Advanced Functions!*\n\n', NULL, 3, '2026-01-03 09:40:36', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use template literals for string interpolation\n- Create multiline strings easily\n- Use tagged templates for advanced string processing\n- Understand Symbols and their use cases\n- Create unique identifiers with Symbols\n- Use Symbol properties\n- Write modern, clean string code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (129, 48, 11, 'Closures', 'closures', '# Lesson 8.1: Closures\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand what closures are and how they work\n- Create and use closures effectively\n- Recognize common closure patterns\n- Understand closure memory considerations\n- Use closures for data privacy\n- Build powerful function patterns with closures\n\n---\n\n## Introduction to Closures\n\nA closure is a function that has access to variables in its outer (enclosing) lexical scope, even after the outer function has returned. Closures are a fundamental and powerful feature of JavaScript.\n\n### What is a Closure?\n\nA closure is created when:\n1. A function is defined inside another function\n2. The inner function accesses variables from the outer function''s scope\n3. The inner function is returned or passed to another function\n\n### Simple Example\n\n```javascript\nfunction outer() {\n    let outerVar = "I''m outside!";\n    \n    function inner() {\n        console.log(outerVar);  // Accesses outerVar from outer scope\n    }\n    \n    return inner;\n}\n\nlet closureFunc = outer();\nclosureFunc();  // "I''m outside!" - still has access to outerVar\n```\n\n---\n\n## Understanding Closures\n\n### Basic Closure\n\n```javascript\nfunction createCounter() {\n    let count = 0;  // Private variable\n    \n    return function() {\n        count++;  // Accesses count from outer scope\n        return count;\n    };\n}\n\nlet counter = createCounter();\nconsole.log(counter());  // 1\nconsole.log(counter());  // 2\nconsole.log(counter());  // 3\n```\n\n### How Closures Work\n\n1. **Outer function executes**: `createCounter()` runs\n2. **Inner function created**: The returned function is created\n3. **Closure formed**: Inner function "closes over" outer variables\n4. **Outer function returns**: But variables remain accessible\n5. **Inner function retains access**: Can still access outer variables\n\n### Multiple Closures\n\nEach closure has its own independent scope:\n\n```javascript\nfunction createCounter() {\n    let count = 0;\n    return function() {\n        return ++count;\n    };\n}\n\nlet counter1 = createCounter();\nlet counter2 = createCounter();\n\nconsole.log(counter1());  // 1\nconsole.log(counter1());  // 2\nconsole.log(counter2());  // 1 (independent)\nconsole.log(counter1());  // 3\n```\n\n---\n\n## Closure Examples\n\n### Example 1: Counter with Increment/Decrement\n\n```javascript\nfunction createCounter(initialValue = 0) {\n    let count = initialValue;\n    \n    return {\n        increment() {\n            return ++count;\n        },\n        decrement() {\n            return --count;\n        },\n        getValue() {\n            return count;\n        },\n        reset() {\n            count = initialValue;\n            return count;\n        }\n    };\n}\n\nlet counter = createCounter(10);\nconsole.log(counter.getValue());   // 10\nconsole.log(counter.increment());  // 11\nconsole.log(counter.increment());  // 12\nconsole.log(counter.decrement());  // 11\nconsole.log(counter.reset());      // 10\n```\n\n### Example 2: Private Variables\n\n```javascript\nfunction createBankAccount(initialBalance) {\n    let balance = initialBalance;  // Private variable\n    \n    return {\n        deposit(amount) {\n            if (amount > 0) {\n                balance += amount;\n                return balance;\n            }\n            return "Invalid amount";\n        },\n        withdraw(amount) {\n            if (amount > 0 && amount <= balance) {\n                balance -= amount;\n                return balance;\n            }\n            return "Insufficient funds";\n        },\n        getBalance() {\n            return balance;\n        }\n    };\n}\n\nlet account = createBankAccount(1000);\nconsole.log(account.getBalance());  // 1000\naccount.deposit(500);\nconsole.log(account.getBalance());  // 1500\naccount.withdraw(200);\nconsole.log(account.getBalance());  // 1300\n// console.log(balance);  // ❌ Error: balance is not accessible\n```\n\n### Example 3: Function Factory\n\n```javascript\nfunction createMultiplier(multiplier) {\n    return function(number) {\n        return number * multiplier;\n    };\n}\n\nlet double = createMultiplier(2);\nlet triple = createMultiplier(3);\nlet quadruple = createMultiplier(4);\n\nconsole.log(double(5));    // 10\nconsole.log(triple(5));    // 15\nconsole.log(quadruple(5)); // 20\n```\n\n### Example 4: Memoization\n\n```javascript\nfunction createMemoizedFunction(fn) {\n    let cache = {};  // Private cache\n    \n    return function(...args) {\n        let key = JSON.stringify(args);\n        \n        if (cache[key]) {\n            console.log("Cache hit!");\n            return cache[key];\n        }\n        \n        console.log("Computing...");\n        let result = fn(...args);\n        cache[key] = result;\n        return result;\n    };\n}\n\nfunction expensiveOperation(n) {\n    // Simulate expensive computation\n    return n * n;\n}\n\nlet memoized = createMemoizedFunction(expensiveOperation);\nconsole.log(memoized(5));  // Computing... 25\nconsole.log(memoized(5));  // Cache hit! 25\nconsole.log(memoized(10)); // Computing... 100\nconsole.log(memoized(10)); // Cache hit! 100\n```\n\n### Example 5: Event Handlers\n\n```javascript\nfunction setupButton(buttonId, clickCount) {\n    let count = clickCount;\n    let button = document.getElementById(buttonId);\n    \n    button.addEventListener("click", function() {\n        count++;\n        console.log(`Button clicked ${count} times`);\n    });\n}\n\n// Each button has its own independent counter\nsetupButton("btn1", 0);\nsetupButton("btn2", 0);\n```\n\n---\n\n## Common Closure Patterns\n\n### Pattern 1: Module Pattern\n\n```javascript\nlet calculator = (function() {\n    let result = 0;  // Private\n    \n    return {\n        add(x) {\n            result += x;\n            return this;\n        },\n        subtract(x) {\n            result -= x;\n            return this;\n        },\n        multiply(x) {\n            result *= x;\n            return this;\n        },\n        getResult() {\n            return result;\n        },\n        reset() {\n            result = 0;\n            return this;\n        }\n    };\n})();\n\ncalculator.add(10).multiply(2).subtract(5);\nconsole.log(calculator.getResult());  // 15\n```\n\n### Pattern 2: Partial Application\n\n```javascript\nfunction add(a, b, c) {\n    return a + b + c;\n}\n\nfunction partial(fn, ...fixedArgs) {\n    return function(...remainingArgs) {\n        return fn(...fixedArgs, ...remainingArgs);\n    };\n}\n\nlet add5and10 = partial(add, 5, 10);\nconsole.log(add5and10(15));  // 30 (5 + 10 + 15)\n```\n\n### Pattern 3: Debouncing\n\n```javascript\nfunction debounce(func, delay) {\n    let timeoutId;\n    \n    return function(...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => {\n            func(...args);\n        }, delay);\n    };\n}\n\n// Usage: Only call function after user stops typing\nlet debouncedSearch = debounce(function(query) {\n    console.log("Searching for:", query);\n}, 300);\n\n// debouncedSearch will only execute 300ms after last call\n```\n\n### Pattern 4: Throttling\n\n```javascript\nfunction throttle(func, limit) {\n    let inThrottle;\n    \n    return function(...args) {\n        if (!inThrottle) {\n            func(...args);\n            inThrottle = true;\n            setTimeout(() => {\n                inThrottle = false;\n            }, limit);\n        }\n    };\n}\n\n// Usage: Limit function calls to once per limit period\nlet throttledScroll = throttle(function() {\n    console.log("Scrolling...");\n}, 1000);\n```\n\n### Pattern 5: Currying\n\n```javascript\nfunction curry(fn) {\n    return function curried(...args) {\n        if (args.length >= fn.length) {\n            return fn(...args);\n        } else {\n            return function(...nextArgs) {\n                return curried(...args, ...nextArgs);\n            };\n        }\n    };\n}\n\nfunction add(a, b, c) {\n    return a + b + c;\n}\n\nlet curriedAdd = curry(add);\nconsole.log(curriedAdd(1)(2)(3));      // 6\nconsole.log(curriedAdd(1, 2)(3));     // 6\nconsole.log(curriedAdd(1)(2, 3));     // 6\nconsole.log(curriedAdd(1, 2, 3));     // 6\n```\n\n---\n\n## Memory Considerations\n\n### Closures Keep References Alive\n\nClosures keep the entire scope chain alive, which can lead to memory leaks if not careful:\n\n```javascript\nfunction createHandler() {\n    let largeData = new Array(1000000).fill("data");  // Large array\n    \n    return function() {\n        console.log("Handler called");\n        // largeData is kept in memory even if not used\n    };\n}\n\nlet handler = createHandler();\n// largeData stays in memory as long as handler exists\n```\n\n### Solution: Clear Unnecessary References\n\n```javascript\nfunction createHandler() {\n    let largeData = new Array(1000000).fill("data");\n    \n    return function() {\n        console.log("Handler called");\n        // Use largeData\n        // ...\n        largeData = null;  // Clear reference when done\n    };\n}\n```\n\n### Loop Variables and Closures\n\n**Common Problem:**\n```javascript\n// ⚠️ Problem: All functions reference same i\nfor (var i = 0; i < 3; i++) {\n    setTimeout(function() {\n        console.log(i);  // 3, 3, 3 (all same!)\n    }, 100);\n}\n```\n\n**Solution 1: Use let**\n```javascript\n// ✅ Solution: let creates new scope for each iteration\nfor (let i = 0; i < 3; i++) {\n    setTimeout(function() {\n        console.log(i);  // 0, 1, 2 (correct!)\n    }, 100);\n}\n```\n\n**Solution 2: IIFE**\n```javascript\n// ✅ Solution: IIFE creates closure for each iteration\nfor (var i = 0; i < 3; i++) {\n    (function(index) {\n        setTimeout(function() {\n            console.log(index);  // 0, 1, 2\n        }, 100);\n    })(i);\n}\n```\n\n**Solution 3: bind()**\n```javascript\n// ✅ Solution: bind creates new function with bound value\nfor (var i = 0; i < 3; i++) {\n    setTimeout(function(index) {\n        console.log(index);  // 0, 1, 2\n    }.bind(null, i), 100);\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Closure Practice\n\n**Objective**: Practice creating and using closures in various scenarios.\n\n**Instructions**:\n\n1. Create a file called `closures-practice.js`\n\n2. Create closures for:\n   - Counter with multiple methods\n   - Private data storage\n   - Function factories\n   - Event handlers\n   - Utility functions (debounce, throttle)\n\n3. Demonstrate:\n   - Multiple independent closures\n   - Data privacy\n   - Memory considerations\n   - Common patterns\n\n**Example Solution**:\n\n```javascript\n// Closures Practice\nconsole.log("=== Basic Closure ===");\n\nfunction outer() {\n    let outerVar = "I''m from outer!";\n    \n    function inner() {\n        console.log(outerVar);\n    }\n    \n    return inner;\n}\n\nlet closureFunc = outer();\nclosureFunc();  // "I''m from outer!"\nconsole.log();\n\nconsole.log("=== Counter Closure ===");\n\nfunction createCounter(initialValue = 0) {\n    let count = initialValue;\n    \n    return {\n        increment() {\n            return ++count;\n        },\n        decrement() {\n            return --count;\n        },\n        getValue() {\n            return count;\n        },\n        reset() {\n            count = initialValue;\n            return count;\n        }\n    };\n}\n\nlet counter1 = createCounter(10);\nlet counter2 = createCounter(5);\n\nconsole.log("Counter 1:", counter1.getValue());  // 10\nconsole.log("Counter 2:", counter2.getValue());  // 5\nconsole.log("Counter 1 increment:", counter1.increment());  // 11\nconsole.log("Counter 2 increment:", counter2.increment());  // 6\nconsole.log("Counter 1:", counter1.getValue());  // 11\nconsole.log("Counter 2:", counter2.getValue());  // 6\nconsole.log();\n\nconsole.log("=== Private Variables ===");\n\nfunction createBankAccount(initialBalance) {\n    let balance = initialBalance;\n    let transactions = [];\n    \n    return {\n        deposit(amount) {\n            if (amount > 0) {\n                balance += amount;\n                transactions.push({ type: "deposit", amount, balance });\n                return balance;\n            }\n            return "Invalid amount";\n        },\n        withdraw(amount) {\n            if (amount > 0 && amount <= balance) {\n                balance -= amount;\n                transactions.push({ type: "withdraw", amount, balance });\n                return balance;\n            }\n            return "Insufficient funds";\n        },\n        getBalance() {\n            return balance;\n        },\n        getTransactions() {\n            return [...transactions];  // Return copy\n        }\n    };\n}\n\nlet account = createBankAccount(1000);\nconsole.log("Initial balance:", account.getBalance());  // 1000\naccount.deposit(500);\nconsole.log("After deposit:", account.getBalance());  // 1500\naccount.withdraw(200);\nconsole.log("After withdraw:", account.getBalance());  // 1300\nconsole.log("Transactions:", account.getTransactions());\nconsole.log();\n\nconsole.log("=== Function Factory ===");\n\nfunction createMultiplier(factor) {\n    return function(number) {\n        return number * factor;\n    };\n}\n\nlet double = createMultiplier(2);\nlet triple = createMultiplier(3);\nlet quadruple = createMultiplier(4);\n\nconsole.log("Double 5:", double(5));      // 10\nconsole.log("Triple 5:", triple(5));      // 15\nconsole.log("Quadruple 5:", quadruple(5)); // 20\nconsole.log();\n\nconsole.log("=== Memoization ===");\n\nfunction createMemoizedFunction(fn) {\n    let cache = {};\n    \n    return function(...args) {\n        let key = JSON.stringify(args);\n        \n        if (cache[key]) {\n            console.log("  Cache hit!");\n            return cache[key];\n        }\n        \n        console.log("  Computing...");\n        let result = fn(...args);\n        cache[key] = result;\n        return result;\n    };\n}\n\nfunction expensiveOperation(n) {\n    return n * n;\n}\n\nlet memoized = createMemoizedFunction(expensiveOperation);\nconsole.log("memoized(5):", memoized(5));   // Computing... 25\nconsole.log("memoized(5):", memoized(5));   // Cache hit! 25\nconsole.log("memoized(10):", memoized(10)); // Computing... 100\nconsole.log("memoized(10):", memoized(10)); // Cache hit! 100\nconsole.log();\n\nconsole.log("=== Module Pattern ===");\n\nlet calculator = (function() {\n    let result = 0;\n    \n    return {\n        add(x) {\n            result += x;\n            return this;\n        },\n        subtract(x) {\n            result -= x;\n            return this;\n        },\n        multiply(x) {\n            result *= x;\n            return this;\n        },\n        divide(x) {\n            result /= x;\n            return this;\n        },\n        getResult() {\n            return result;\n        },\n        reset() {\n            result = 0;\n            return this;\n        }\n    };\n})();\n\ncalculator.add(10).multiply(2).subtract(5);\nconsole.log("Calculator result:", calculator.getResult());  // 15\ncalculator.reset();\nconsole.log("After reset:", calculator.getResult());  // 0\nconsole.log();\n\nconsole.log("=== Debouncing ===");\n\nfunction debounce(func, delay) {\n    let timeoutId;\n    \n    return function(...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => {\n            func(...args);\n        }, delay);\n    };\n}\n\nlet debouncedLog = debounce(function(message) {\n    console.log("Debounced:", message);\n}, 300);\n\nconsole.log("Calling debounced function multiple times:");\ndebouncedLog("Call 1");\ndebouncedLog("Call 2");\ndebouncedLog("Call 3");\n// Only last call executes after 300ms\nconsole.log();\n\nconsole.log("=== Throttling ===");\n\nfunction throttle(func, limit) {\n    let inThrottle;\n    \n    return function(...args) {\n        if (!inThrottle) {\n            func(...args);\n            inThrottle = true;\n            setTimeout(() => {\n                inThrottle = false;\n            }, limit);\n        }\n    };\n}\n\nlet throttledLog = throttle(function(message) {\n    console.log("Throttled:", message);\n}, 1000);\n\nconsole.log("Calling throttled function multiple times:");\nthrottledLog("Call 1");  // Executes\nthrottledLog("Call 2");  // Ignored\nthrottledLog("Call 3");  // Ignored\n// After 1 second, next call will execute\nconsole.log();\n\nconsole.log("=== Partial Application ===");\n\nfunction add(a, b, c) {\n    return a + b + c;\n}\n\nfunction partial(fn, ...fixedArgs) {\n    return function(...remainingArgs) {\n        return fn(...fixedArgs, ...remainingArgs);\n    };\n}\n\nlet add5and10 = partial(add, 5, 10);\nconsole.log("add5and10(15):", add5and10(15));  // 30\nconsole.log();\n\nconsole.log("=== Loop Variables Fix ===");\n\n// Problem with var\nconsole.log("Using var (problem):");\nfor (var i = 0; i < 3; i++) {\n    setTimeout(function() {\n        console.log("  var i:", i);  // 3, 3, 3\n    }, 10);\n}\n\n// Solution with let\nsetTimeout(() => {\n    console.log("Using let (solution):");\n    for (let j = 0; j < 3; j++) {\n        setTimeout(function() {\n            console.log("  let j:", j);  // 0, 1, 2\n        }, 20);\n    }\n}, 50);\n\n// Solution with IIFE\nsetTimeout(() => {\n    console.log("Using IIFE (solution):");\n    for (var k = 0; k < 3; k++) {\n        (function(index) {\n            setTimeout(function() {\n                console.log("  IIFE k:", index);  // 0, 1, 2\n            }, 30);\n        })(k);\n    }\n}, 100);\n```\n\n**Expected Output**:\n```\n=== Basic Closure ===\nI''m from outer!\n\n=== Counter Closure ===\nCounter 1: 10\nCounter 2: 5\nCounter 1 increment: 11\nCounter 2 increment: 6\nCounter 1: 11\nCounter 2: 6\n\n=== Private Variables ===\nInitial balance: 1000\nAfter deposit: 1500\nAfter withdraw: 1300\nTransactions: [ { type: "deposit", amount: 500, balance: 1500 }, { type: "withdraw", amount: 200, balance: 1300 } ]\n\n=== Function Factory ===\nDouble 5: 10\nTriple 5: 15\nQuadruple 5: 20\n\n=== Memoization ===\n  Computing...\nmemoized(5): 25\n  Cache hit!\nmemoized(5): 25\n  Computing...\nmemoized(10): 100\n  Cache hit!\nmemoized(10): 100\n\n=== Module Pattern ===\nCalculator result: 15\nAfter reset: 0\n\n=== Debouncing ===\nCalling debounced function multiple times:\n\n=== Throttling ===\nCalling throttled function multiple times:\nThrottled: Call 1\n\n=== Partial Application ===\nadd5and10(15): 30\n\n=== Loop Variables Fix ===\nUsing var (problem):\n  var i: 3\n  var i: 3\n  var i: 3\nUsing let (solution):\n  let j: 0\n  let j: 1\n  let j: 2\nUsing IIFE (solution):\n  IIFE k: 0\n  IIFE k: 1\n  IIFE k: 2\n```\n\n**Challenge (Optional)**:\n- Build a closure-based state management system\n- Create a closure-based event emitter\n- Build a closure-based validation system\n- Create advanced closure patterns\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting Closure Scope\n\n```javascript\n// ⚠️ Problem: All closures share same variable\nfor (var i = 0; i < 3; i++) {\n    setTimeout(function() {\n        console.log(i);  // 3, 3, 3\n    }, 100);\n}\n\n// ✅ Solution: Use let or IIFE\nfor (let i = 0; i < 3; i++) {\n    setTimeout(function() {\n        console.log(i);  // 0, 1, 2\n    }, 100);\n}\n```\n\n### 2. Memory Leaks\n\n```javascript\n// ⚠️ Problem: Large data kept in memory\nfunction createHandler() {\n    let largeData = new Array(1000000).fill("data");\n    return function() {\n        // largeData stays in memory\n    };\n}\n\n// ✅ Solution: Clear when done\nfunction createHandler() {\n    let largeData = new Array(1000000).fill("data");\n    return function() {\n        // Use largeData\n        largeData = null;  // Clear reference\n    };\n}\n```\n\n### 3. Not Understanding Closure Persistence\n\n```javascript\n// ⚠️ Misunderstanding: Thinking variables reset\nfunction createCounter() {\n    let count = 0;\n    return function() {\n        return count++;\n    };\n}\n\nlet counter = createCounter();\nconsole.log(counter());  // 0\nconsole.log(counter());  // 1 (not 0 again!)\n```\n\n---\n\n## Key Takeaways\n\n1. **Closures**: Functions that access outer scope variables\n2. **Data Privacy**: Closures enable private variables\n3. **Function Factories**: Create specialized functions\n4. **Memory**: Closures keep scope chain alive\n5. **Common Patterns**: Module, memoization, debouncing, throttling\n6. **Loop Variables**: Use `let` or IIFE to fix closure issues\n7. **Best Practice**: Understand when closures are created and what they capture\n\n---\n\n## Quiz: Closures\n\nTest your understanding with these questions:\n\n1. **What is a closure?**\n   - A) A function\n   - B) Function with access to outer scope\n   - C) A variable\n   - D) An object\n\n2. **When is a closure created?**\n   - A) When function is called\n   - B) When function is defined\n   - C) When variable is declared\n   - D) Never\n\n3. **Do closures keep outer variables alive?**\n   - A) No\n   - B) Yes\n   - C) Sometimes\n   - D) Only in loops\n\n4. **What''s the problem with var in loops?**\n   - A) All closures share same variable\n   - B) Variables are undefined\n   - C) No problem\n   - D) Performance issue\n\n5. **Can closures access outer function parameters?**\n   - A) No\n   - B) Yes\n   - C) Sometimes\n   - D) Only if returned\n\n6. **What pattern uses closures for private data?**\n   - A) Factory pattern\n   - B) Module pattern\n   - C) Singleton pattern\n   - D) Observer pattern\n\n7. **Multiple closures from same function:**\n   - A) Share same variables\n   - B) Have independent variables\n   - C) Can''t be created\n   - D) Cause errors\n\n**Answers**:\n1. B) Function with access to outer scope\n2. B) When function is defined\n3. B) Yes\n4. A) All closures share same variable\n5. B) Yes\n6. B) Module pattern\n7. B) Have independent variables\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned closures. You now know:\n- What closures are and how they work\n- How to create and use closures\n- Common closure patterns\n- Memory considerations\n\n**What''s Next?**\n- Lesson 8.2: IIFE (Immediately Invoked Function Expressions)\n- Practice creating closure-based utilities\n- Understand module patterns\n- Build more advanced function patterns\n\n---\n\n## Additional Resources\n\n- **MDN: Closures**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Closures](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures)\n- **JavaScript.info: Closures**: [javascript.info/closure](https://javascript.info/closure)\n- **Understanding Closures in JavaScript**: Comprehensive guide\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:46:18', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand what closures are and how they work\n- Create and use closures effectively\n- Recognize common closure patterns\n- Understand closure memory considerations\n- Use closures for data privacy\n- Build powerful function patterns with closures');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (130, 48, 11, 'IIFE (Immediately Invoked Function Expressions)', 'iife', '# Lesson 8.2: IIFE (Immediately Invoked Function Expressions)\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand what IIFE is and why it''s useful\n- Write IIFE syntax correctly\n- Use IIFEs to create private scope\n- Implement the module pattern with IIFEs\n- Avoid global namespace pollution\n- Use IIFEs in modern JavaScript development\n\n---\n\n## Introduction to IIFE\n\nIIFE stands for **Immediately Invoked Function Expression**. It''s a function that is defined and executed immediately after creation.\n\n### What is an IIFE?\n\nAn IIFE is a function expression that is invoked immediately:\n\n```javascript\n(function() {\n    console.log("I run immediately!");\n})();\n```\n\n### Why Use IIFEs?\n\n- **Private Scope**: Create isolated scope\n- **Avoid Global Pollution**: Don''t pollute global namespace\n- **Module Pattern**: Create modules before ES6\n- **Variable Isolation**: Prevent variable conflicts\n- **Initialization**: Run code once on load\n\n---\n\n## IIFE Syntax\n\n### Basic Syntax\n\n```javascript\n// Syntax 1: Parentheses around function\n(function() {\n    console.log("IIFE");\n})();\n\n// Syntax 2: Parentheses around entire expression\n(function() {\n    console.log("IIFE");\n}());\n\n// Both are equivalent\n```\n\n### With Parameters\n\n```javascript\n(function(name) {\n    console.log(`Hello, ${name}!`);\n})("Alice");  // "Hello, Alice!"\n```\n\n### Arrow Function IIFE\n\n```javascript\n(() => {\n    console.log("Arrow function IIFE");\n})();\n```\n\n### Named IIFE\n\n```javascript\n(function myIIFE() {\n    console.log("Named IIFE");\n})();\n```\n\n---\n\n## Creating Private Scope\n\n### Problem: Global Variables\n\n```javascript\n// ⚠️ Problem: Pollutes global scope\nvar count = 0;\nvar name = "Alice";\n\nfunction increment() {\n    count++;\n}\n\n// All variables are global\n```\n\n### Solution: IIFE\n\n```javascript\n// ✅ Solution: Private scope\n(function() {\n    var count = 0;\n    var name = "Alice";\n    \n    function increment() {\n        count++;\n    }\n    \n    // Variables are private, not global\n})();\n\n// count and name are not accessible here\n```\n\n### Example: Calculator\n\n```javascript\n(function() {\n    let result = 0;\n    \n    function add(x) {\n        result += x;\n    }\n    \n    function subtract(x) {\n        result -= x;\n    }\n    \n    function getResult() {\n        return result;\n    }\n    \n    // Expose only what''s needed\n    window.calculator = {\n        add: add,\n        subtract: subtract,\n        getResult: getResult\n    };\n})();\n\ncalculator.add(10);\ncalculator.subtract(3);\nconsole.log(calculator.getResult());  // 7\n// result is not accessible globally\n```\n\n---\n\n## Module Pattern\n\nThe Module Pattern uses IIFE to create modules with private and public APIs.\n\n### Basic Module Pattern\n\n```javascript\nlet myModule = (function() {\n    // Private variables\n    let privateVar = "I''m private";\n    \n    // Private function\n    function privateFunction() {\n        return privateVar;\n    }\n    \n    // Public API\n    return {\n        publicMethod: function() {\n            return privateFunction();\n        },\n        publicVar: "I''m public"\n    };\n})();\n\nconsole.log(myModule.publicMethod());  // "I''m private"\nconsole.log(myModule.publicVar);      // "I''m public"\n// console.log(myModule.privateVar);  // undefined\n```\n\n### Module Pattern with Parameters\n\n```javascript\nlet calculator = (function(initialValue) {\n    let result = initialValue || 0;\n    \n    return {\n        add: function(x) {\n            result += x;\n            return this;\n        },\n        subtract: function(x) {\n            result -= x;\n            return this;\n        },\n        getResult: function() {\n            return result;\n        },\n        reset: function() {\n            result = initialValue || 0;\n            return this;\n        }\n    };\n})(10);\n\ncalculator.add(5).subtract(3);\nconsole.log(calculator.getResult());  // 12\n```\n\n### Revealing Module Pattern\n\n```javascript\nlet myModule = (function() {\n    let privateVar = "private";\n    \n    function privateFunction() {\n        return privateVar;\n    }\n    \n    function publicFunction() {\n        return privateFunction();\n    }\n    \n    // Reveal only what you want public\n    return {\n        publicFunction: publicFunction\n    };\n})();\n```\n\n### Module Pattern with Dependencies\n\n```javascript\nlet myModule = (function(dependency1, dependency2) {\n    // Use dependencies\n    dependency1.doSomething();\n    dependency2.doSomethingElse();\n    \n    return {\n        // Public API\n    };\n})(dependency1, dependency2);\n```\n\n---\n\n## Use Cases\n\n### Use Case 1: Avoiding Global Pollution\n\n```javascript\n// Before: Global variables\nvar userName = "Alice";\nvar userAge = 25;\nvar userCity = "NYC";\n\n// After: IIFE\n(function() {\n    var userName = "Alice";\n    var userAge = 25;\n    var userCity = "NYC";\n    \n    // Use variables here\n    console.log(`${userName} is ${userAge} years old`);\n})();\n// Variables don''t pollute global scope\n```\n\n### Use Case 2: Loop Variable Fix\n\n```javascript\n// Problem: All closures share same i\nfor (var i = 0; i < 3; i++) {\n    setTimeout(function() {\n        console.log(i);  // 3, 3, 3\n    }, 100);\n}\n\n// Solution: IIFE creates new scope for each iteration\nfor (var i = 0; i < 3; i++) {\n    (function(index) {\n        setTimeout(function() {\n            console.log(index);  // 0, 1, 2\n        }, 100);\n    })(i);\n}\n```\n\n### Use Case 3: Initialization Code\n\n```javascript\n// Run initialization code immediately\n(function() {\n    // Setup code\n    initializeApp();\n    setupEventListeners();\n    loadInitialData();\n})();\n```\n\n### Use Case 4: Library Wrapper\n\n```javascript\n// Wrap library code in IIFE\n(function(window) {\n    let myLibrary = {\n        version: "1.0.0",\n        doSomething: function() {\n            console.log("Doing something");\n        }\n    };\n    \n    // Expose to global scope\n    window.MyLibrary = myLibrary;\n})(window);\n```\n\n### Use Case 5: Configuration\n\n```javascript\nlet app = (function(config) {\n    let settings = {\n        apiUrl: config.apiUrl || "https://api.example.com",\n        timeout: config.timeout || 5000,\n        retries: config.retries || 3\n    };\n    \n    return {\n        getSetting: function(key) {\n            return settings[key];\n        },\n        updateSetting: function(key, value) {\n            if (settings.hasOwnProperty(key)) {\n                settings[key] = value;\n            }\n        }\n    };\n})({\n    apiUrl: "https://api.custom.com",\n    timeout: 10000\n});\n```\n\n---\n\n## Modern Alternatives\n\n### ES6 Modules (Modern Alternative)\n\n```javascript\n// ES6 Module (preferred in modern code)\n// math.js\nlet result = 0;\n\nexport function add(x) {\n    result += x;\n}\n\nexport function getResult() {\n    return result;\n}\n\n// main.js\nimport { add, getResult } from ''./math.js'';\n```\n\n### Block Scope (let/const)\n\n```javascript\n// Modern: Use block scope instead of IIFE\n{\n    let privateVar = "private";\n    // Variables are scoped to block\n}\n```\n\n### When to Use IIFE\n\n- **Legacy Code**: Supporting older browsers\n- **Script Tags**: Inline scripts without module system\n- **Quick Isolation**: Temporary scope isolation\n- **Library Wrappers**: Wrapping third-party code\n\n---\n\n## Practice Exercise\n\n### Exercise: IIFE Practice\n\n**Objective**: Practice creating and using IIFEs for various scenarios.\n\n**Instructions**:\n\n1. Create a file called `iife-practice.js`\n\n2. Create IIFEs for:\n   - Private scope isolation\n   - Module pattern\n   - Loop variable fixes\n   - Library wrappers\n   - Configuration modules\n\n3. Demonstrate:\n   - Basic IIFE syntax\n   - Module pattern\n   - Avoiding global pollution\n   - Modern alternatives\n\n**Example Solution**:\n\n```javascript\n// IIFE Practice\nconsole.log("=== Basic IIFE ===");\n\n(function() {\n    console.log("I run immediately!");\n})();\n\n(function(name) {\n    console.log(`Hello, ${name}!`);\n})("Alice");\n\n(() => {\n    console.log("Arrow function IIFE");\n})();\nconsole.log();\n\nconsole.log("=== Private Scope ===");\n\n// Without IIFE: Global pollution\nvar globalCount = 0;\nvar globalName = "Global";\n\n// With IIFE: Private scope\n(function() {\n    var privateCount = 0;\n    var privateName = "Private";\n    \n    function increment() {\n        privateCount++;\n        console.log(`Count: ${privateCount}`);\n    }\n    \n    increment();  // Count: 1\n    increment();  // Count: 2\n})();\n\n// privateCount and privateName are not accessible here\nconsole.log();\n\nconsole.log("=== Module Pattern ===");\n\nlet calculator = (function(initialValue) {\n    let result = initialValue || 0;\n    \n    return {\n        add: function(x) {\n            result += x;\n            return this;\n        },\n        subtract: function(x) {\n            result -= x;\n            return this;\n        },\n        multiply: function(x) {\n            result *= x;\n            return this;\n        },\n        getResult: function() {\n            return result;\n        },\n        reset: function() {\n            result = initialValue || 0;\n            return this;\n        }\n    };\n})(10);\n\ncalculator.add(5).multiply(2).subtract(3);\nconsole.log("Calculator result:", calculator.getResult());  // 27\ncalculator.reset();\nconsole.log("After reset:", calculator.getResult());  // 10\nconsole.log();\n\nconsole.log("=== Revealing Module Pattern ===");\n\nlet myModule = (function() {\n    let privateVar = "I''m private";\n    let publicVar = "I''m public";\n    \n    function privateFunction() {\n        return privateVar;\n    }\n    \n    function publicFunction() {\n        return privateFunction() + " but accessible";\n    }\n    \n    return {\n        publicFunction: publicFunction,\n        publicVar: publicVar\n    };\n})();\n\nconsole.log("Public function:", myModule.publicFunction());\nconsole.log("Public var:", myModule.publicVar);\n// console.log(myModule.privateVar);  // undefined\nconsole.log();\n\nconsole.log("=== Loop Variable Fix ===");\n\n// Problem: var in loop\nconsole.log("Problem with var:");\nfor (var i = 0; i < 3; i++) {\n    setTimeout(function() {\n        console.log("  var i:", i);  // 3, 3, 3\n    }, 10);\n}\n\n// Solution: IIFE\nsetTimeout(() => {\n    console.log("Solution with IIFE:");\n    for (var j = 0; j < 3; j++) {\n        (function(index) {\n            setTimeout(function() {\n                console.log("  IIFE j:", index);  // 0, 1, 2\n            }, 20);\n        })(j);\n    }\n}, 50);\nconsole.log();\n\nconsole.log("=== Library Wrapper ===");\n\n(function(window) {\n    let MyLibrary = {\n        version: "1.0.0",\n        \n        config: {\n            apiUrl: "https://api.example.com",\n            timeout: 5000\n        },\n        \n        init: function(config) {\n            Object.assign(this.config, config);\n        },\n        \n        doSomething: function() {\n            console.log("Doing something with", this.config.apiUrl);\n        }\n    };\n    \n    window.MyLibrary = MyLibrary;\n})(window);\n\nMyLibrary.doSomething();\nMyLibrary.init({ apiUrl: "https://api.custom.com" });\nMyLibrary.doSomething();\nconsole.log();\n\nconsole.log("=== Configuration Module ===");\n\nlet app = (function(config) {\n    let settings = {\n        apiUrl: config.apiUrl || "https://api.example.com",\n        timeout: config.timeout || 5000,\n        retries: config.retries || 3,\n        debug: config.debug || false\n    };\n    \n    return {\n        getSetting: function(key) {\n            return settings[key];\n        },\n        updateSetting: function(key, value) {\n            if (settings.hasOwnProperty(key)) {\n                settings[key] = value;\n                console.log(`Updated ${key} to ${value}`);\n            }\n        },\n        getAllSettings: function() {\n            return { ...settings };  // Return copy\n        }\n    };\n})({\n    apiUrl: "https://api.custom.com",\n    timeout: 10000,\n    debug: true\n});\n\nconsole.log("API URL:", app.getSetting("apiUrl"));\nconsole.log("Timeout:", app.getSetting("timeout"));\nconsole.log("All settings:", app.getAllSettings());\napp.updateSetting("timeout", 15000);\nconsole.log("Updated timeout:", app.getSetting("timeout"));\nconsole.log();\n\nconsole.log("=== Multiple Modules ===");\n\nlet module1 = (function() {\n    let private = "Module 1 private";\n    return {\n        public: "Module 1 public",\n        getPrivate: function() {\n            return private;\n        }\n    };\n})();\n\nlet module2 = (function() {\n    let private = "Module 2 private";\n    return {\n        public: "Module 2 public",\n        getPrivate: function() {\n            return private;\n        }\n    };\n})();\n\nconsole.log("Module 1:", module1.public, module1.getPrivate());\nconsole.log("Module 2:", module2.public, module2.getPrivate());\n// Each module has its own private scope\nconsole.log();\n\nconsole.log("=== Module with Dependencies ===");\n\nlet dependency = {\n    doSomething: function() {\n        return "Dependency did something";\n    }\n};\n\nlet dependentModule = (function(dep) {\n    let result = dep.doSomething();\n    \n    return {\n        getResult: function() {\n            return result;\n        },\n        doMore: function() {\n            return result + " and more";\n        }\n    };\n})(dependency);\n\nconsole.log("Dependent module:", dependentModule.getResult());\nconsole.log("Do more:", dependentModule.doMore());\n```\n\n**Expected Output**:\n```\n=== Basic IIFE ===\nI run immediately!\nHello, Alice!\nArrow function IIFE\n\n=== Private Scope ===\nCount: 1\nCount: 2\n\n=== Module Pattern ===\nCalculator result: 27\nAfter reset: 10\n\n=== Revealing Module Pattern ===\nPublic function: I''m private but accessible\nPublic var: I''m public\n\n=== Loop Variable Fix ===\nProblem with var:\n  var i: 3\n  var i: 3\n  var i: 3\nSolution with IIFE:\n  IIFE j: 0\n  IIFE j: 1\n  IIFE j: 2\n\n=== Library Wrapper ===\nDoing something with https://api.example.com\nDoing something with https://api.custom.com\n\n=== Configuration Module ===\nAPI URL: https://api.custom.com\nTimeout: 10000\nAll settings: { apiUrl: "https://api.custom.com", timeout: 10000, retries: 3, debug: true }\nUpdated timeout to 15000\nUpdated timeout: 15000\n\n=== Multiple Modules ===\nModule 1: Module 1 public Module 1 private\nModule 2: Module 2 public Module 2 private\n\n=== Module with Dependencies ===\nDependent module: Dependency did something\nDo more: Dependency did something and more\n```\n\n**Challenge (Optional)**:\n- Build a complete module system with IIFEs\n- Create a plugin architecture\n- Build a configuration management system\n- Create reusable module patterns\n\n---\n\n## Common Mistakes\n\n### 1. Missing Parentheses\n\n```javascript\n// ❌ Error: Function declaration, not expression\nfunction() {\n    console.log("Error");\n}();\n\n// ✅ Correct: Wrap in parentheses\n(function() {\n    console.log("Works");\n})();\n```\n\n### 2. Semicolon Before IIFE\n\n```javascript\n// ⚠️ Problem: Missing semicolon can cause issues\nvar x = 5\n(function() {\n    console.log("IIFE");\n})();\n\n// ✅ Correct: Add semicolon\nvar x = 5;\n(function() {\n    console.log("IIFE");\n})();\n```\n\n### 3. Forgetting Return Statement\n\n```javascript\n// ⚠️ Problem: Nothing returned\nlet module = (function() {\n    let private = "private";\n    // No return\n})();\nconsole.log(module);  // undefined\n\n// ✅ Correct: Return public API\nlet module = (function() {\n    let private = "private";\n    return {\n        public: "public"\n    };\n})();\n```\n\n### 4. Global Variable Leakage\n\n```javascript\n// ⚠️ Problem: Forgot var/let/const\n(function() {\n    count = 0;  // Creates global variable!\n})();\n\n// ✅ Correct: Use var/let/const\n(function() {\n    let count = 0;  // Private variable\n})();\n```\n\n---\n\n## Key Takeaways\n\n1. **IIFE**: Immediately Invoked Function Expression\n2. **Syntax**: `(function() { })()` or `(function() { }())`\n3. **Private Scope**: Creates isolated scope\n4. **Module Pattern**: Common use case for IIFEs\n5. **Global Pollution**: Prevents polluting global namespace\n6. **Loop Variables**: Fixes closure issues in loops\n7. **Modern Alternative**: ES6 modules preferred in modern code\n8. **Best Practice**: Use when you need immediate execution and private scope\n\n---\n\n## Quiz: IIFE\n\nTest your understanding with these questions:\n\n1. **What does IIFE stand for?**\n   - A) Immediately Invoked Function Expression\n   - B) Internal Invoked Function Expression\n   - C) Instant Invoked Function Expression\n   - D) Inline Invoked Function Expression\n\n2. **IIFE creates:**\n   - A) Global scope\n   - B) Private scope\n   - C) Block scope\n   - D) No scope\n\n3. **What''s the correct IIFE syntax?**\n   - A) `function() { }()`\n   - B) `(function() { })()`\n   - C) `function() { }()`\n   - D) `(function() { }`\n\n4. **Module pattern uses IIFE to:**\n   - A) Create global variables\n   - B) Create private and public APIs\n   - C) Create functions\n   - D) Nothing\n\n5. **IIFE helps with:**\n   - A) Global namespace pollution\n   - B) Loop variable issues\n   - C) Module creation\n   - D) All of the above\n\n6. **Modern alternative to IIFE:**\n   - A) var\n   - B) let/const\n   - C) ES6 modules\n   - D) Functions\n\n7. **IIFE executes:**\n   - A) When called\n   - B) Immediately\n   - C) Never\n   - D) On load\n\n**Answers**:\n1. A) Immediately Invoked Function Expression\n2. B) Private scope\n3. B) `(function() { })()`\n4. B) Create private and public APIs\n5. D) All of the above\n6. C) ES6 modules\n7. B) Immediately\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned IIFEs. You now know:\n- What IIFEs are and how to use them\n- Module pattern implementation\n- How to avoid global pollution\n- When to use IIFEs vs modern alternatives\n\n**What''s Next?**\n- Lesson 8.3: Bind, Call, and Apply\n- Practice creating modules\n- Understand method binding\n- Learn advanced function techniques\n\n---\n\n## Additional Resources\n\n- **MDN: Functions**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions)\n- **JavaScript.info: Functions**: [javascript.info/function-basics](https://javascript.info/function-basics)\n- **IIFE Pattern Guide**: Comprehensive examples\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:46:18', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand what IIFE is and why it''s useful\n- Write IIFE syntax correctly\n- Use IIFEs to create private scope\n- Implement the module pattern with IIFEs\n- Avoid global namespace pollution\n- Use IIFEs in modern JavaScript development');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (131, 48, 11, 'Bind, Call, and Apply', 'bind-call-and-apply', '# Lesson 8.3: Bind, Call, and Apply\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand the `this` binding problem\n- Use `call()` to invoke functions with specific `this`\n- Use `apply()` to invoke functions with arrays\n- Use `bind()` to create bound functions\n- Understand when to use each method\n- Fix `this` context issues\n- Write more flexible function code\n\n---\n\n## Introduction to Method Binding\n\nJavaScript functions have methods (`call`, `apply`, `bind`) that allow you to control the `this` context and how functions are invoked.\n\n### The `this` Problem\n\n```javascript\nlet person = {\n    name: "Alice",\n    greet: function() {\n        return `Hello, I''m ${this.name}`;\n    }\n};\n\nconsole.log(person.greet());  // "Hello, I''m Alice"\n\nlet greetFunc = person.greet;\nconsole.log(greetFunc());    // "Hello, I''m undefined" (lost context)\n```\n\n### Solution: call(), apply(), bind()\n\nThese methods help control `this` context:\n- **call()**: Invoke function with specific `this` and arguments\n- **apply()**: Invoke function with specific `this` and array of arguments\n- **bind()**: Create new function with bound `this` and arguments\n\n---\n\n## call() Method\n\nThe `call()` method invokes a function with a specified `this` value and arguments provided individually.\n\n### Basic Syntax\n\n```javascript\nfunction.call(thisArg, arg1, arg2, ...)\n```\n\n### Basic call() Example\n\n```javascript\nfunction greet(greeting, punctuation) {\n    return `${greeting}, I''m ${this.name}${punctuation}`;\n}\n\nlet person = { name: "Alice" };\n\nconsole.log(greet.call(person, "Hello", "!"));  // "Hello, I''m Alice!"\n```\n\n### call() with Methods\n\n```javascript\nlet person1 = {\n    name: "Alice",\n    age: 25\n};\n\nlet person2 = {\n    name: "Bob",\n    age: 30\n};\n\nfunction introduce() {\n    return `Hi, I''m ${this.name} and I''m ${this.age} years old`;\n}\n\nconsole.log(introduce.call(person1));  // "Hi, I''m Alice and I''m 25 years old"\nconsole.log(introduce.call(person2));  // "Hi, I''m Bob and I''m 30 years old"\n```\n\n### call() for Method Borrowing\n\n```javascript\nlet person = {\n    firstName: "Alice",\n    lastName: "Smith"\n};\n\nlet person2 = {\n    firstName: "Bob",\n    lastName: "Jones"\n};\n\nfunction getFullName() {\n    return `${this.firstName} ${this.lastName}`;\n}\n\nconsole.log(getFullName.call(person));   // "Alice Smith"\nconsole.log(getFullName.call(person2));  // "Bob Jones"\n```\n\n### call() with Arguments\n\n```javascript\nfunction add(a, b, c) {\n    return a + b + c;\n}\n\nlet numbers = [1, 2, 3];\nconsole.log(add.call(null, 1, 2, 3));  // 6\n```\n\n---\n\n## apply() Method\n\nThe `apply()` method is similar to `call()`, but arguments are provided as an array.\n\n### Basic Syntax\n\n```javascript\nfunction.apply(thisArg, [arg1, arg2, ...])\n```\n\n### Basic apply() Example\n\n```javascript\nfunction greet(greeting, punctuation) {\n    return `${greeting}, I''m ${this.name}${punctuation}`;\n}\n\nlet person = { name: "Alice" };\nlet args = ["Hello", "!"];\n\nconsole.log(greet.apply(person, args));  // "Hello, I''m Alice!"\n```\n\n### apply() vs call()\n\n```javascript\nfunction introduce(greeting, name, age) {\n    return `${greeting}, I''m ${name} and I''m ${age} years old`;\n}\n\nlet person = { name: "Alice" };\n\n// call(): Arguments individually\nconsole.log(introduce.call(person, "Hi", "Alice", 25));\n\n// apply(): Arguments as array\nconsole.log(introduce.apply(person, ["Hi", "Alice", 25]));\n```\n\n### apply() with Math Methods\n\n```javascript\nlet numbers = [5, 10, 15, 20, 25];\n\n// Find maximum\nlet max = Math.max.apply(null, numbers);\nconsole.log(max);  // 25\n\n// Find minimum\nlet min = Math.min.apply(null, numbers);\nconsole.log(min);  // 5\n\n// Note: ES6 spread operator is preferred now\nlet max2 = Math.max(...numbers);  // Modern way\n```\n\n### apply() for Array Methods\n\n```javascript\nlet numbers = [1, 2, 3];\nlet moreNumbers = [4, 5, 6];\n\n// Push multiple items\nnumbers.push.apply(numbers, moreNumbers);\nconsole.log(numbers);  // [1, 2, 3, 4, 5, 6]\n\n// Modern way: spread operator\nlet numbers2 = [1, 2, 3];\nnumbers2.push(...moreNumbers);\nconsole.log(numbers2);  // [1, 2, 3, 4, 5, 6]\n```\n\n---\n\n## bind() Method\n\nThe `bind()` method creates a new function with a bound `this` value and optionally pre-filled arguments.\n\n### Basic Syntax\n\n```javascript\nfunction.bind(thisArg, arg1, arg2, ...)\n```\n\n### Basic bind() Example\n\n```javascript\nlet person = {\n    name: "Alice",\n    greet: function() {\n        return `Hello, I''m ${this.name}`;\n    }\n};\n\nlet boundGreet = person.greet.bind(person);\nconsole.log(boundGreet());  // "Hello, I''m Alice"\n\n// Works even when called differently\nlet greetFunc = boundGreet;\nconsole.log(greetFunc());  // "Hello, I''m Alice" (context preserved)\n```\n\n### bind() Preserves Context\n\n```javascript\nlet person = {\n    name: "Alice",\n    greet: function() {\n        return `Hello, I''m ${this.name}`;\n    }\n};\n\n// Without bind: loses context\nlet greetFunc1 = person.greet;\nconsole.log(greetFunc1());  // "Hello, I''m undefined"\n\n// With bind: preserves context\nlet greetFunc2 = person.greet.bind(person);\nconsole.log(greetFunc2());  // "Hello, I''m Alice"\n```\n\n### bind() with Arguments (Partial Application)\n\n```javascript\nfunction multiply(a, b, c) {\n    return a * b * c;\n}\n\n// Bind first argument\nlet multiplyBy2 = multiply.bind(null, 2);\nconsole.log(multiplyBy2(3, 4));  // 24 (2 * 3 * 4)\n\n// Bind first two arguments\nlet multiplyBy2And3 = multiply.bind(null, 2, 3);\nconsole.log(multiplyBy2And3(4));  // 24 (2 * 3 * 4)\n```\n\n### bind() in Event Handlers\n\n```javascript\nclass Button {\n    constructor(name) {\n        this.name = name;\n    }\n    \n    click() {\n        console.log(`Button ${this.name} clicked`);\n    }\n    \n    setup() {\n        // Without bind: this is lost\n        // button.addEventListener("click", this.click);  // Wrong\n        \n        // With bind: this is preserved\n        button.addEventListener("click", this.click.bind(this));\n    }\n}\n```\n\n### bind() vs call() vs apply()\n\n```javascript\nfunction greet(greeting, name) {\n    return `${greeting}, ${name}! I''m ${this.personName}`;\n}\n\nlet context = { personName: "Alice" };\n\n// call(): Invoke immediately\nconsole.log(greet.call(context, "Hello", "Bob"));  // "Hello, Bob! I''m Alice"\n\n// apply(): Invoke immediately with array\nconsole.log(greet.apply(context, ["Hello", "Bob"]));  // "Hello, Bob! I''m Alice"\n\n// bind(): Create new function, don''t invoke\nlet boundGreet = greet.bind(context, "Hello");\nconsole.log(boundGreet("Bob"));  // "Hello, Bob! I''m Alice"\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Method Borrowing\n\n```javascript\nlet calculator = {\n    numbers: [1, 2, 3, 4, 5],\n    sum: function() {\n        return this.numbers.reduce((a, b) => a + b, 0);\n    }\n};\n\nlet calculator2 = {\n    numbers: [10, 20, 30]\n};\n\n// Borrow method from calculator\nlet sum = calculator.sum.call(calculator2);\nconsole.log(sum);  // 60\n```\n\n### Example 2: Array-like Objects\n\n```javascript\n// Array-like object\nlet arrayLike = {\n    0: "a",\n    1: "b",\n    2: "c",\n    length: 3\n};\n\n// Convert to real array\nlet realArray = Array.prototype.slice.call(arrayLike);\nconsole.log(realArray);  // ["a", "b", "c"]\n\n// Modern way\nlet realArray2 = Array.from(arrayLike);\n```\n\n### Example 3: Function Currying with bind()\n\n```javascript\nfunction add(a, b, c) {\n    return a + b + c;\n}\n\n// Create curried functions\nlet add5 = add.bind(null, 5);\nlet add5And10 = add5.bind(null, 10);\n\nconsole.log(add5And10(15));  // 30 (5 + 10 + 15)\n```\n\n### Example 4: setTimeout with Context\n\n```javascript\nlet person = {\n    name: "Alice",\n    sayHello: function() {\n        console.log(`Hello from ${this.name}`);\n    }\n};\n\n// Without bind: this is lost\nsetTimeout(person.sayHello, 1000);  // "Hello from undefined"\n\n// With bind: this is preserved\nsetTimeout(person.sayHello.bind(person), 1000);  // "Hello from Alice"\n```\n\n### Example 5: Callback Functions\n\n```javascript\nlet dataProcessor = {\n    data: [1, 2, 3, 4, 5],\n    multiplier: 2,\n    process: function(item) {\n        return item * this.multiplier;\n    },\n    processAll: function() {\n        return this.data.map(this.process.bind(this));\n    }\n};\n\nconsole.log(dataProcessor.processAll());  // [2, 4, 6, 8, 10]\n```\n\n---\n\n## Comparison Table\n\n| Method | Invokes Function? | Arguments Format | Returns |\n|--------|------------------|------------------|---------|\n| **call()** | Yes (immediately) | Individual arguments | Function result |\n| **apply()** | Yes (immediately) | Array of arguments | Function result |\n| **bind()** | No (creates function) | Individual arguments | New function |\n\n### When to Use Each\n\n- **call()**: When you know arguments and want to invoke immediately\n- **apply()**: When arguments are in an array\n- **bind()**: When you want to create a function with preset context/arguments\n\n---\n\n## Practice Exercise\n\n### Exercise: Method Binding\n\n**Objective**: Practice using call(), apply(), and bind() in various scenarios.\n\n**Instructions**:\n\n1. Create a file called `binding-practice.js`\n\n2. Practice:\n   - Using call() to set this context\n   - Using apply() with arrays\n   - Using bind() to create bound functions\n   - Method borrowing\n   - Event handlers\n   - Callback functions\n\n**Example Solution**:\n\n```javascript\n// Binding Practice\nconsole.log("=== call() Method ===");\n\nfunction introduce(greeting, punctuation) {\n    return `${greeting}, I''m ${this.name}${punctuation}`;\n}\n\nlet person1 = { name: "Alice" };\nlet person2 = { name: "Bob" };\n\nconsole.log(introduce.call(person1, "Hello", "!"));  // "Hello, I''m Alice!"\nconsole.log(introduce.call(person2, "Hi", "."));      // "Hi, I''m Bob."\nconsole.log();\n\nconsole.log("=== apply() Method ===");\n\nfunction add(a, b, c) {\n    return a + b + c;\n}\n\nlet numbers = [1, 2, 3];\nconsole.log(add.apply(null, numbers));  // 6\n\n// Math operations\nlet values = [5, 10, 15, 20, 25];\nlet max = Math.max.apply(null, values);\nlet min = Math.min.apply(null, values);\nconsole.log("Max:", max);  // 25\nconsole.log("Min:", min);  // 5\nconsole.log();\n\nconsole.log("=== bind() Method ===");\n\nlet person = {\n    name: "Alice",\n    greet: function() {\n        return `Hello, I''m ${this.name}`;\n    }\n};\n\n// Without bind: loses context\nlet greetFunc1 = person.greet;\nconsole.log("Without bind:", greetFunc1());  // "Hello, I''m undefined"\n\n// With bind: preserves context\nlet greetFunc2 = person.greet.bind(person);\nconsole.log("With bind:", greetFunc2());  // "Hello, I''m Alice"\nconsole.log();\n\nconsole.log("=== Partial Application with bind() ===");\n\nfunction multiply(a, b, c) {\n    return a * b * c;\n}\n\n// Bind first argument\nlet multiplyBy2 = multiply.bind(null, 2);\nconsole.log("multiplyBy2(3, 4):", multiplyBy2(3, 4));  // 24\n\n// Bind first two arguments\nlet multiplyBy2And3 = multiply.bind(null, 2, 3);\nconsole.log("multiplyBy2And3(4):", multiplyBy2And3(4));  // 24\n\n// Bind all arguments\nlet multiply2By3By4 = multiply.bind(null, 2, 3, 4);\nconsole.log("multiply2By3By4():", multiply2By3By4());  // 24\nconsole.log();\n\nconsole.log("=== Method Borrowing ===");\n\nlet calculator1 = {\n    numbers: [1, 2, 3, 4, 5],\n    sum: function() {\n        return this.numbers.reduce((a, b) => a + b, 0);\n    }\n};\n\nlet calculator2 = {\n    numbers: [10, 20, 30]\n};\n\n// Borrow sum method\nlet sum1 = calculator1.sum.call(calculator1);\nlet sum2 = calculator1.sum.call(calculator2);\nconsole.log("Calculator 1 sum:", sum1);  // 15\nconsole.log("Calculator 2 sum:", sum2);  // 60\nconsole.log();\n\nconsole.log("=== Array-like Objects ===");\n\nlet arrayLike = {\n    0: "a",\n    1: "b",\n    2: "c",\n    length: 3\n};\n\n// Convert to array using call\nlet realArray = Array.prototype.slice.call(arrayLike);\nconsole.log("Real array:", realArray);  // ["a", "b", "c"]\nconsole.log();\n\nconsole.log("=== setTimeout with Context ===");\n\nlet timer = {\n    name: "Timer",\n    start: function() {\n        console.log(`${this.name} started`);\n    }\n};\n\n// Without bind: loses context\nsetTimeout(timer.start, 100);  // "undefined started"\n\n// With bind: preserves context\nsetTimeout(timer.start.bind(timer), 200);  // "Timer started"\nconsole.log();\n\nconsole.log("=== Callback Functions ===");\n\nlet processor = {\n    multiplier: 5,\n    process: function(item) {\n        return item * this.multiplier;\n    },\n    processArray: function(arr) {\n        return arr.map(this.process.bind(this));\n    }\n};\n\nlet numbers2 = [1, 2, 3, 4, 5];\nlet processed = processor.processArray(numbers2);\nconsole.log("Processed:", processed);  // [5, 10, 15, 20, 25]\nconsole.log();\n\nconsole.log("=== Function Currying ===");\n\nfunction add(a, b, c) {\n    return a + b + c;\n}\n\n// Create curried functions\nlet add5 = add.bind(null, 5);\nlet add5And10 = add5.bind(null, 10);\n\nconsole.log("add5(10, 15):", add5(10, 15));        // 30\nconsole.log("add5And10(15):", add5And10(15));      // 30\nconsole.log();\n\nconsole.log("=== Comparison: call vs apply vs bind ===");\n\nfunction greet(greeting, name) {\n    return `${greeting}, ${name}! I''m ${this.personName}`;\n}\n\nlet context = { personName: "Alice" };\n\n// call: immediate invocation\nlet result1 = greet.call(context, "Hello", "Bob");\nconsole.log("call():", result1);  // "Hello, Bob! I''m Alice"\n\n// apply: immediate invocation with array\nlet result2 = greet.apply(context, ["Hello", "Bob"]);\nconsole.log("apply():", result2);  // "Hello, Bob! I''m Alice"\n\n// bind: create function, don''t invoke\nlet boundGreet = greet.bind(context, "Hello");\nlet result3 = boundGreet("Bob");\nconsole.log("bind():", result3);  // "Hello, Bob! I''m Alice"\nconsole.log();\n\nconsole.log("=== Real-World Example: Event Handler ===");\n\nclass Button {\n    constructor(label) {\n        this.label = label;\n    }\n    \n    handleClick() {\n        console.log(`Button "${this.label}" was clicked`);\n    }\n    \n    // Simulate adding event listener\n    attachHandler() {\n        // Simulate: button.addEventListener("click", this.handleClick.bind(this));\n        let boundHandler = this.handleClick.bind(this);\n        boundHandler();  // Simulate click\n    }\n}\n\nlet button = new Button("Submit");\nbutton.attachHandler();  // "Button "Submit" was clicked"\n```\n\n**Expected Output**:\n```\n=== call() Method ===\nHello, I''m Alice!\nHi, I''m Bob.\n\n=== apply() Method ===\n6\nMax: 25\nMin: 5\n\n=== bind() Method ===\nWithout bind: Hello, I''m undefined\nWith bind: Hello, I''m Alice\n\n=== Partial Application with bind() ===\nmultiplyBy2(3, 4): 24\nmultiplyBy2And3(4): 24\nmultiply2By3By4(): 24\n\n=== Method Borrowing ===\nCalculator 1 sum: 15\nCalculator 2 sum: 60\n\n=== Array-like Objects ===\nReal array: [ "a", "b", "c" ]\n\n=== setTimeout with Context ===\nundefined started\nTimer started\n\n=== Callback Functions ===\nProcessed: [5, 10, 15, 20, 25]\n\n=== Function Currying ===\nadd5(10, 15): 30\nadd5And10(15): 30\n\n=== Comparison: call vs apply vs bind ===\ncall(): Hello, Bob! I''m Alice\napply(): Hello, Bob! I''m Alice\nbind(): Hello, Bob! I''m Alice\n\n=== Real-World Example: Event Handler ===\nButton "Submit" was clicked\n```\n\n**Challenge (Optional)**:\n- Build a method borrowing utility\n- Create a function currying system\n- Build event handler management\n- Create callback wrappers\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting bind() in Callbacks\n\n```javascript\n// ⚠️ Problem: Loses context\nlet obj = {\n    name: "Alice",\n    method: function() {\n        console.log(this.name);\n    }\n};\nsetTimeout(obj.method, 100);  // undefined\n\n// ✅ Solution: Use bind()\nsetTimeout(obj.method.bind(obj), 100);  // "Alice"\n```\n\n### 2. Confusing call() and bind()\n\n```javascript\n// call(): Invokes immediately\ngreet.call(context, "Hello");  // Returns result\n\n// bind(): Creates function\nlet bound = greet.bind(context, "Hello");  // Returns function\nbound();  // Now invoke\n```\n\n### 3. Wrong Arguments Format\n\n```javascript\n// ⚠️ apply() needs array\ngreet.apply(context, "Hello");  // Error\n\n// ✅ Correct\ngreet.apply(context, ["Hello"]);\n```\n\n### 4. Arrow Functions Don''t Work\n\n```javascript\n// ⚠️ Arrow functions don''t have their own this\nlet obj = {\n    name: "Alice",\n    method: () => {\n        console.log(this.name);  // undefined (this is from outer scope)\n    }\n};\n\n// bind() won''t help with arrow functions\nlet bound = obj.method.bind(obj);\nbound();  // Still undefined\n```\n\n---\n\n## Key Takeaways\n\n1. **call()**: Invoke function with specific `this` and individual arguments\n2. **apply()**: Invoke function with specific `this` and array of arguments\n3. **bind()**: Create new function with bound `this` and arguments\n4. **Method Borrowing**: Use call/apply to borrow methods\n5. **Context Preservation**: Use bind() to preserve `this` in callbacks\n6. **Partial Application**: Use bind() to pre-fill arguments\n7. **Best Practice**: Use bind() for event handlers and callbacks\n8. **Modern Alternative**: Arrow functions for simpler cases\n\n---\n\n## Quiz: Binding Methods\n\nTest your understanding with these questions:\n\n1. **What does call() do?**\n   - A) Creates function\n   - B) Invokes function immediately\n   - C) Binds this\n   - D) Nothing\n\n2. **apply() takes arguments as:**\n   - A) Individual arguments\n   - B) Array\n   - C) Object\n   - D) String\n\n3. **bind() returns:**\n   - A) Function result\n   - B) New function\n   - C) undefined\n   - D) this\n\n4. **Which preserves context in callbacks?**\n   - A) call()\n   - B) apply()\n   - C) bind()\n   - D) All of them\n\n5. **Which is used for method borrowing?**\n   - A) call() and apply()\n   - B) bind()\n   - C) call() only\n   - D) apply() only\n\n6. **bind() with arguments creates:**\n   - A) Curried function\n   - B) Error\n   - C) Nothing\n   - D) Array\n\n7. **Arrow functions with bind():**\n   - A) Work perfectly\n   - B) Don''t work (no own this)\n   - C) Sometimes work\n   - D) Cause errors\n\n**Answers**:\n1. B) Invokes function immediately\n2. B) Array\n3. B) New function\n4. C) bind()\n5. A) call() and apply()\n6. A) Curried function\n7. B) Don''t work (no own this)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 8: Advanced Functions. You now know:\n- How closures work\n- How to use IIFEs\n- How to control `this` with call, apply, and bind\n\n**What''s Next?**\n- Module 9: Asynchronous JavaScript\n- Lesson 9.1: Callbacks\n- Practice combining advanced function techniques\n- Build more complex applications\n\n---\n\n## Additional Resources\n\n- **MDN: call()**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call)\n- **MDN: apply()**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply)\n- **MDN: bind()**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind)\n- **JavaScript.info: Function Methods**: [javascript.info/function-basics](https://javascript.info/function-basics)\n\n---\n\n*Lesson completed! You''ve finished Module 8: Advanced Functions. Ready for Module 9: Asynchronous JavaScript!*\n\n', NULL, 3, '2026-01-03 09:46:18', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand the `this` binding problem\n- Use `call()` to invoke functions with specific `this`\n- Use `apply()` to invoke functions with arrays\n- Use `bind()` to create bound functions\n- Understand when to use each method\n- Fix `this` context issues\n- Write more flexible function code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (132, 49, 11, 'Callbacks', 'callbacks', '# Lesson 9.1: Callbacks\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand synchronous vs asynchronous code\n- Create and use callback functions\n- Handle asynchronous operations with callbacks\n- Recognize and avoid callback hell\n- Use common callback patterns\n- Write clean asynchronous code\n\n---\n\n## Introduction to Asynchronous JavaScript\n\nJavaScript is single-threaded, but it can handle asynchronous operations through callbacks, promises, and async/await. Understanding asynchronous code is crucial for modern JavaScript development.\n\n### Why Asynchronous?\n\n- **Non-blocking**: Don''t freeze the UI\n- **Efficiency**: Handle multiple operations\n- **User Experience**: Keep applications responsive\n- **Network Operations**: Fetch data without blocking\n\n---\n\n## Synchronous vs Asynchronous Code\n\n### Synchronous Code\n\nSynchronous code executes line by line, blocking until each operation completes:\n\n```javascript\nconsole.log("1");\nconsole.log("2");\nconsole.log("3");\n// Output: 1, 2, 3 (in order)\n```\n\n### Asynchronous Code\n\nAsynchronous code doesn''t block. Operations can complete out of order:\n\n```javascript\nconsole.log("1");\n\nsetTimeout(() => {\n    console.log("2");\n}, 100);\n\nconsole.log("3");\n// Output: 1, 3, 2 (2 comes after 3)\n```\n\n### Example: Synchronous vs Asynchronous\n\n```javascript\n// Synchronous: Blocks\nfunction syncOperation() {\n    let result = 0;\n    for (let i = 0; i < 1000000000; i++) {\n        result += i;\n    }\n    return result;\n}\n\nconsole.log("Start");\nlet result = syncOperation();  // Blocks here\nconsole.log("End");  // Waits for syncOperation\n\n// Asynchronous: Non-blocking\nconsole.log("Start");\nsetTimeout(() => {\n    console.log("Async operation complete");\n}, 1000);\nconsole.log("End");  // Doesn''t wait\n// Output: Start, End, Async operation complete\n```\n\n---\n\n## Callback Functions\n\nA callback is a function passed as an argument to another function and executed later.\n\n### Basic Callback\n\n```javascript\nfunction greet(name, callback) {\n    console.log(`Hello, ${name}!`);\n    callback();\n}\n\nfunction sayGoodbye() {\n    console.log("Goodbye!");\n}\n\ngreet("Alice", sayGoodbye);\n// "Hello, Alice!"\n// "Goodbye!"\n```\n\n### Inline Callbacks\n\n```javascript\nfunction processData(data, callback) {\n    console.log("Processing:", data);\n    callback(data);\n}\n\nprocessData("test", function(result) {\n    console.log("Callback received:", result);\n});\n```\n\n### Arrow Function Callbacks\n\n```javascript\nprocessData("test", (result) => {\n    console.log("Callback received:", result);\n});\n```\n\n---\n\n## Asynchronous Callbacks\n\n### setTimeout\n\n```javascript\nfunction delayedGreeting(name, callback) {\n    setTimeout(() => {\n        console.log(`Hello, ${name}!`);\n        callback();\n    }, 1000);\n}\n\ndelayedGreeting("Alice", () => {\n    console.log("Greeting complete");\n});\n```\n\n### setInterval\n\n```javascript\nlet count = 0;\nlet intervalId = setInterval(() => {\n    count++;\n    console.log(`Count: ${count}`);\n    \n    if (count >= 5) {\n        clearInterval(intervalId);\n        console.log("Interval stopped");\n    }\n}, 1000);\n```\n\n### Event Listeners\n\n```javascript\nbutton.addEventListener("click", function(event) {\n    console.log("Button clicked!", event);\n});\n```\n\n### Array Methods with Callbacks\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5];\n\n// forEach\nnumbers.forEach((num) => {\n    console.log(num);\n});\n\n// map\nlet doubled = numbers.map((num) => num * 2);\n\n// filter\nlet evens = numbers.filter((num) => num % 2 === 0);\n```\n\n---\n\n## Common Callback Patterns\n\n### Pattern 1: Error-First Callbacks\n\nStandard Node.js pattern: first parameter is error, second is result.\n\n```javascript\nfunction asyncOperation(callback) {\n    setTimeout(() => {\n        let success = Math.random() > 0.5;\n        \n        if (success) {\n            callback(null, "Success!");\n        } else {\n            callback(new Error("Operation failed"), null);\n        }\n    }, 1000);\n}\n\nasyncOperation((error, result) => {\n    if (error) {\n        console.log("Error:", error.message);\n    } else {\n        console.log("Result:", result);\n    }\n});\n```\n\n### Pattern 2: Success/Error Callbacks\n\n```javascript\nfunction asyncOperation(onSuccess, onError) {\n    setTimeout(() => {\n        let success = Math.random() > 0.5;\n        \n        if (success) {\n            onSuccess("Success!");\n        } else {\n            onError(new Error("Operation failed"));\n        }\n    }, 1000);\n}\n\nasyncOperation(\n    (result) => {\n        console.log("Success:", result);\n    },\n    (error) => {\n        console.log("Error:", error.message);\n    }\n);\n```\n\n### Pattern 3: Callback with Options\n\n```javascript\nfunction fetchData(options, callback) {\n    setTimeout(() => {\n        let data = {\n            url: options.url,\n            method: options.method || "GET",\n            data: "Response data"\n        };\n        callback(null, data);\n    }, 1000);\n}\n\nfetchData(\n    { url: "/api/users", method: "GET" },\n    (error, data) => {\n        if (error) {\n            console.log("Error:", error);\n        } else {\n            console.log("Data:", data);\n        }\n    }\n);\n```\n\n---\n\n## Callback Hell\n\nCallback hell occurs when callbacks are nested deeply, making code hard to read and maintain.\n\n### Example of Callback Hell\n\n```javascript\n// ⚠️ Callback Hell\ngetData(function(a) {\n    getMoreData(a, function(b) {\n        getMoreData(b, function(c) {\n            getMoreData(c, function(d) {\n                getMoreData(d, function(e) {\n                    console.log(e);\n                });\n            });\n        });\n    });\n});\n```\n\n### Problems with Callback Hell\n\n- **Hard to Read**: Deeply nested code\n- **Hard to Maintain**: Difficult to modify\n- **Error Handling**: Complex error handling\n- **Debugging**: Hard to debug\n\n### Solutions\n\n**1. Named Functions**\n\n```javascript\nfunction handleA(a) {\n    getMoreData(a, handleB);\n}\n\nfunction handleB(b) {\n    getMoreData(b, handleC);\n}\n\nfunction handleC(c) {\n    getMoreData(c, handleD);\n}\n\nfunction handleD(d) {\n    getMoreData(d, handleE);\n}\n\nfunction handleE(e) {\n    console.log(e);\n}\n\ngetData(handleA);\n```\n\n**2. Promises (covered in next lesson)**\n\n```javascript\ngetData()\n    .then(getMoreData)\n    .then(getMoreData)\n    .then(getMoreData)\n    .then(getMoreData)\n    .then(console.log);\n```\n\n**3. Async/Await (covered later)**\n\n```javascript\nasync function process() {\n    let a = await getData();\n    let b = await getMoreData(a);\n    let c = await getMoreData(b);\n    let d = await getMoreData(c);\n    let e = await getMoreData(d);\n    console.log(e);\n}\n```\n\n---\n\n## Practical Examples\n\n### Example 1: File Reading Simulation\n\n```javascript\nfunction readFile(filename, callback) {\n    setTimeout(() => {\n        let content = `Content of ${filename}`;\n        callback(null, content);\n    }, 1000);\n}\n\nreadFile("data.txt", (error, content) => {\n    if (error) {\n        console.log("Error:", error);\n    } else {\n        console.log("File content:", content);\n    }\n});\n```\n\n### Example 2: API Request Simulation\n\n```javascript\nfunction fetchUser(userId, callback) {\n    setTimeout(() => {\n        if (userId > 0) {\n            callback(null, {\n                id: userId,\n                name: "Alice",\n                email: "alice@example.com"\n            });\n        } else {\n            callback(new Error("Invalid user ID"), null);\n        }\n    }, 1000);\n}\n\nfetchUser(1, (error, user) => {\n    if (error) {\n        console.log("Error:", error.message);\n    } else {\n        console.log("User:", user);\n    }\n});\n```\n\n### Example 3: Sequential Operations\n\n```javascript\nfunction step1(callback) {\n    setTimeout(() => {\n        console.log("Step 1 complete");\n        callback(null, "Step 1 result");\n    }, 1000);\n}\n\nfunction step2(data, callback) {\n    setTimeout(() => {\n        console.log("Step 2 complete with:", data);\n        callback(null, "Step 2 result");\n    }, 1000);\n}\n\nfunction step3(data, callback) {\n    setTimeout(() => {\n        console.log("Step 3 complete with:", data);\n        callback(null, "Final result");\n    }, 1000);\n}\n\n// Sequential execution\nstep1((error, result1) => {\n    if (error) {\n        console.log("Error in step1:", error);\n        return;\n    }\n    \n    step2(result1, (error, result2) => {\n        if (error) {\n            console.log("Error in step2:", error);\n            return;\n        }\n        \n        step3(result2, (error, result3) => {\n            if (error) {\n                console.log("Error in step3:", error);\n                return;\n            }\n            \n            console.log("All steps complete:", result3);\n        });\n    });\n});\n```\n\n### Example 4: Parallel Operations\n\n```javascript\nfunction fetchUser(userId, callback) {\n    setTimeout(() => {\n        callback(null, { id: userId, name: `User ${userId}` });\n    }, Math.random() * 1000);\n}\n\nfunction fetchPost(postId, callback) {\n    setTimeout(() => {\n        callback(null, { id: postId, title: `Post ${postId}` });\n    }, Math.random() * 1000);\n}\n\nlet results = {};\nlet completed = 0;\nlet total = 2;\n\nfunction checkComplete() {\n    completed++;\n    if (completed === total) {\n        console.log("All operations complete:", results);\n    }\n}\n\nfetchUser(1, (error, user) => {\n    if (!error) {\n        results.user = user;\n    }\n    checkComplete();\n});\n\nfetchPost(1, (error, post) => {\n    if (!error) {\n        results.post = post;\n    }\n    checkComplete();\n});\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Callback Practice\n\n**Objective**: Practice creating and using callbacks for asynchronous operations.\n\n**Instructions**:\n\n1. Create a file called `callbacks-practice.js`\n\n2. Practice:\n   - Creating callback functions\n   - Using setTimeout and setInterval\n   - Error-first callbacks\n   - Sequential operations\n   - Parallel operations\n   - Avoiding callback hell\n\n**Example Solution**:\n\n```javascript\n// Callbacks Practice\nconsole.log("=== Synchronous vs Asynchronous ===");\n\nconsole.log("1. Synchronous");\nconsole.log("2. Synchronous");\nconsole.log("3. Synchronous");\n\nconsole.log("1. Asynchronous");\nsetTimeout(() => {\n    console.log("2. Asynchronous (delayed)");\n}, 100);\nconsole.log("3. Asynchronous");\nconsole.log();\n\nconsole.log("=== Basic Callbacks ===");\n\nfunction greet(name, callback) {\n    console.log(`Hello, ${name}!`);\n    callback();\n}\n\ngreet("Alice", () => {\n    console.log("Callback executed");\n});\nconsole.log();\n\nconsole.log("=== Asynchronous Callbacks ===");\n\nfunction delayedOperation(message, delay, callback) {\n    setTimeout(() => {\n        console.log(message);\n        callback();\n    }, delay);\n}\n\ndelayedOperation("Operation 1", 100, () => {\n    console.log("Operation 1 callback");\n});\n\ndelayedOperation("Operation 2", 50, () => {\n    console.log("Operation 2 callback");\n});\nconsole.log();\n\nconsole.log("=== Error-First Callbacks ===");\n\nfunction asyncOperation(shouldSucceed, callback) {\n    setTimeout(() => {\n        if (shouldSucceed) {\n            callback(null, "Success!");\n        } else {\n            callback(new Error("Operation failed"), null);\n        }\n    }, 500);\n}\n\nasyncOperation(true, (error, result) => {\n    if (error) {\n        console.log("Error:", error.message);\n    } else {\n        console.log("Result:", result);\n    }\n});\n\nasyncOperation(false, (error, result) => {\n    if (error) {\n        console.log("Error:", error.message);\n    } else {\n        console.log("Result:", result);\n    }\n});\nconsole.log();\n\nconsole.log("=== Sequential Operations ===");\n\nfunction step1(callback) {\n    setTimeout(() => {\n        console.log("Step 1: Fetching user data...");\n        callback(null, { userId: 1, name: "Alice" });\n    }, 1000);\n}\n\nfunction step2(userData, callback) {\n    setTimeout(() => {\n        console.log("Step 2: Processing user data...");\n        callback(null, { ...userData, processed: true });\n    }, 1000);\n}\n\nfunction step3(processedData, callback) {\n    setTimeout(() => {\n        console.log("Step 3: Saving data...");\n        callback(null, { ...processedData, saved: true });\n    }, 1000);\n}\n\nstep1((error, userData) => {\n    if (error) {\n        console.log("Error in step1:", error);\n        return;\n    }\n    \n    step2(userData, (error, processedData) => {\n        if (error) {\n            console.log("Error in step2:", error);\n            return;\n        }\n        \n        step3(processedData, (error, finalData) => {\n            if (error) {\n                console.log("Error in step3:", error);\n                return;\n            }\n            \n            console.log("All steps complete:", finalData);\n        });\n    });\n});\nconsole.log();\n\nconsole.log("=== Parallel Operations ===");\n\nfunction fetchUser(userId, callback) {\n    let delay = Math.random() * 1000;\n    setTimeout(() => {\n        callback(null, { id: userId, name: `User ${userId}` });\n    }, delay);\n}\n\nfunction fetchPosts(userId, callback) {\n    let delay = Math.random() * 1000;\n    setTimeout(() => {\n        callback(null, [\n            { id: 1, title: "Post 1" },\n            { id: 2, title: "Post 2" }\n        ]);\n    }, delay);\n}\n\nlet results = {};\nlet completed = 0;\nlet total = 2;\n\nfunction checkComplete() {\n    completed++;\n    if (completed === total) {\n        console.log("All parallel operations complete:", results);\n    }\n}\n\nfetchUser(1, (error, user) => {\n    if (!error) {\n        results.user = user;\n        console.log("User fetched:", user);\n    }\n    checkComplete();\n});\n\nfetchPosts(1, (error, posts) => {\n    if (!error) {\n        results.posts = posts;\n        console.log("Posts fetched:", posts);\n    }\n    checkComplete();\n});\nconsole.log();\n\nconsole.log("=== Avoiding Callback Hell ===");\n\n// Named functions instead of nested callbacks\nfunction handleUserData(userData) {\n    console.log("Processing user:", userData);\n    step2(userData, handleProcessedData);\n}\n\nfunction handleProcessedData(error, processedData) {\n    if (error) {\n        console.log("Error:", error);\n        return;\n    }\n    console.log("Data processed:", processedData);\n    step3(processedData, handleFinalData);\n}\n\nfunction handleFinalData(error, finalData) {\n    if (error) {\n        console.log("Error:", error);\n        return;\n    }\n    console.log("Final data:", finalData);\n}\n\n// Cleaner sequential execution\nsetTimeout(() => {\n    step1(handleUserData);\n}, 4000);\nconsole.log();\n\nconsole.log("=== Array Methods with Callbacks ===");\n\nlet numbers = [1, 2, 3, 4, 5];\n\nnumbers.forEach((num, index) => {\n    console.log(`Index ${index}: ${num}`);\n});\n\nlet doubled = numbers.map((num) => num * 2);\nconsole.log("Doubled:", doubled);\n\nlet evens = numbers.filter((num) => num % 2 === 0);\nconsole.log("Evens:", evens);\n\nlet sum = numbers.reduce((acc, num) => acc + num, 0);\nconsole.log("Sum:", sum);\n```\n\n**Expected Output**:\n```\n=== Synchronous vs Asynchronous ===\n1. Synchronous\n2. Synchronous\n3. Synchronous\n1. Asynchronous\n3. Asynchronous\n2. Asynchronous (delayed)\n\n=== Basic Callbacks ===\nHello, Alice!\nCallback executed\n\n=== Asynchronous Callbacks ===\nOperation 2 callback\nOperation 1 callback\n\n=== Error-First Callbacks ===\nResult: Success!\nError: Operation failed\n\n=== Sequential Operations ===\nStep 1: Fetching user data...\nStep 2: Processing user data...\nStep 3: Saving data...\nAll steps complete: { userId: 1, name: "Alice", processed: true, saved: true }\n\n=== Parallel Operations ===\nPosts fetched: [ { id: 1, title: "Post 1" }, { id: 2, title: "Post 2" } ]\nUser fetched: { id: 1, name: "User 1" }\nAll parallel operations complete: { user: { id: 1, name: "User 1" }, posts: [ { id: 1, title: "Post 1" }, { id: 2, title: "Post 2" } ] }\n\n=== Avoiding Callback Hell ===\n[After 4 seconds]\nProcessing user: { userId: 1, name: "Alice" }\nStep 2: Processing user data...\nData processed: { userId: 1, name: "Alice", processed: true }\nStep 3: Saving data...\nFinal data: { userId: 1, name: "Alice", processed: true, saved: true }\n\n=== Array Methods with Callbacks ===\nIndex 0: 1\nIndex 1: 2\nIndex 2: 3\nIndex 3: 4\nIndex 4: 5\nDoubled: [2, 4, 6, 8, 10]\nEvens: [2, 4]\nSum: 15\n```\n\n**Challenge (Optional)**:\n- Build a callback-based API wrapper\n- Create a sequential task runner\n- Build a parallel operation manager\n- Refactor callback hell to named functions\n\n---\n\n## Common Mistakes\n\n### 1. Not Handling Errors\n\n```javascript\n// ⚠️ Problem: No error handling\nasyncOperation((result) => {\n    console.log(result);  // What if error?\n});\n\n// ✅ Solution: Always handle errors\nasyncOperation((error, result) => {\n    if (error) {\n        console.log("Error:", error);\n        return;\n    }\n    console.log("Result:", result);\n});\n```\n\n### 2. Callback Hell\n\n```javascript\n// ⚠️ Problem: Deep nesting\noperation1((result1) => {\n    operation2(result1, (result2) => {\n        operation3(result2, (result3) => {\n            // Too nested!\n        });\n    });\n});\n\n// ✅ Solution: Named functions or Promises\nfunction handleResult3(result3) {\n    // Handle result\n}\n\nfunction handleResult2(result2) {\n    operation3(result2, handleResult3);\n}\n\nfunction handleResult1(result1) {\n    operation2(result1, handleResult2);\n}\n\noperation1(handleResult1);\n```\n\n### 3. Calling Callback Multiple Times\n\n```javascript\n// ⚠️ Problem: Callback called multiple times\nfunction badOperation(callback) {\n    callback("Result 1");\n    callback("Result 2");  // Called twice!\n}\n\n// ✅ Solution: Call only once\nfunction goodOperation(callback) {\n    let called = false;\n    return function(...args) {\n        if (!called) {\n            called = true;\n            callback(...args);\n        }\n    };\n}\n```\n\n### 4. Forgetting to Call Callback\n\n```javascript\n// ⚠️ Problem: Callback never called\nfunction operation(callback) {\n    if (condition) {\n        // Forgot to call callback!\n        return;\n    }\n    callback("Result");\n}\n\n// ✅ Solution: Always call callback\nfunction operation(callback) {\n    if (condition) {\n        callback(null, "Result");\n        return;\n    }\n    callback(null, "Other result");\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **Synchronous**: Executes line by line, blocking\n2. **Asynchronous**: Non-blocking, operations can complete out of order\n3. **Callbacks**: Functions passed as arguments, executed later\n4. **Error-First**: Standard pattern: `callback(error, result)`\n5. **Callback Hell**: Deep nesting, hard to read and maintain\n6. **Solutions**: Named functions, Promises, async/await\n7. **Best Practice**: Always handle errors, avoid deep nesting\n8. **Modern Approach**: Prefer Promises or async/await over callbacks\n\n---\n\n## Quiz: Callbacks\n\nTest your understanding with these questions:\n\n1. **What is a callback?**\n   - A) A variable\n   - B) Function passed as argument\n   - C) An object\n   - D) A string\n\n2. **Asynchronous code:**\n   - A) Blocks execution\n   - B) Doesn''t block\n   - C) Always errors\n   - D) Never completes\n\n3. **Error-first callback pattern:**\n   - A) Error is first parameter\n   - B) Error is last parameter\n   - C) No error parameter\n   - D) Error is in object\n\n4. **Callback hell is:**\n   - A) Good practice\n   - B) Deeply nested callbacks\n   - C) Fast execution\n   - D) Error handling\n\n5. **setTimeout is:**\n   - A) Synchronous\n   - B) Asynchronous\n   - C) Blocking\n   - D) Never executes\n\n6. **Which solves callback hell?**\n   - A) More nesting\n   - B) Named functions\n   - C) Ignoring errors\n   - D) No callbacks\n\n7. **Callbacks should be called:**\n   - A) Multiple times\n   - B) Once\n   - C) Never\n   - D) Sometimes\n\n**Answers**:\n1. B) Function passed as argument\n2. B) Doesn''t block\n3. A) Error is first parameter\n4. B) Deeply nested callbacks\n5. B) Asynchronous\n6. B) Named functions\n7. B) Once\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned callbacks. You now know:\n- Synchronous vs asynchronous code\n- How to create and use callbacks\n- Common callback patterns\n- How to avoid callback hell\n\n**What''s Next?**\n- Lesson 9.2: Promises\n- Learn modern asynchronous patterns\n- Understand Promise-based code\n- Build better async applications\n\n---\n\n## Additional Resources\n\n- **MDN: Asynchronous JavaScript**: [developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous)\n- **JavaScript.info: Callbacks**: [javascript.info/callbacks](https://javascript.info/callbacks)\n- **Node.js Callback Pattern**: Error-first callback conventions\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:47:33', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand synchronous vs asynchronous code\n- Create and use callback functions\n- Handle asynchronous operations with callbacks\n- Recognize and avoid callback hell\n- Use common callback patterns\n- Write clean asynchronous code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (133, 49, 11, 'Promises', 'promises', '# Lesson 9.2: Promises\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand what Promises are and why they''re useful\n- Create Promises\n- Use `then()` and `catch()` to handle results\n- Chain Promises together\n- Use `Promise.all()` and `Promise.race()`\n- Handle errors in Promises\n- Write clean asynchronous code with Promises\n\n---\n\n## Introduction to Promises\n\nA Promise is an object representing the eventual completion (or failure) of an asynchronous operation. Promises provide a cleaner alternative to callbacks.\n\n### Why Promises?\n\n- **Better than Callbacks**: Avoid callback hell\n- **Chainable**: Easy to chain operations\n- **Error Handling**: Built-in error handling\n- **Readable**: More readable than nested callbacks\n- **Modern Standard**: Used in modern JavaScript\n\n### Promise States\n\nA Promise has three states:\n1. **Pending**: Initial state, not fulfilled or rejected\n2. **Fulfilled**: Operation completed successfully\n3. **Rejected**: Operation failed\n\n---\n\n## Creating Promises\n\n### Basic Promise Syntax\n\n```javascript\nlet promise = new Promise((resolve, reject) => {\n    // Asynchronous operation\n    if (success) {\n        resolve(value);  // Fulfill promise\n    } else {\n        reject(error);   // Reject promise\n    }\n});\n```\n\n### Simple Promise Example\n\n```javascript\nlet promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n        resolve("Success!");\n    }, 1000);\n});\n\npromise.then((result) => {\n    console.log(result);  // "Success!" (after 1 second)\n});\n```\n\n### Promise with Rejection\n\n```javascript\nlet promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n        let success = Math.random() > 0.5;\n        \n        if (success) {\n            resolve("Success!");\n        } else {\n            reject(new Error("Failed!"));\n        }\n    }, 1000);\n});\n```\n\n### Promise Constructor\n\n```javascript\nfunction createPromise(shouldSucceed) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            if (shouldSucceed) {\n                resolve("Operation succeeded");\n            } else {\n                reject(new Error("Operation failed"));\n            }\n        }, 1000);\n    });\n}\n```\n\n---\n\n## then() and catch()\n\n### then() Method\n\n`then()` handles fulfilled promises:\n\n```javascript\nlet promise = new Promise((resolve) => {\n    setTimeout(() => resolve("Hello"), 1000);\n});\n\npromise.then((result) => {\n    console.log(result);  // "Hello"\n});\n```\n\n### catch() Method\n\n`catch()` handles rejected promises:\n\n```javascript\nlet promise = new Promise((resolve, reject) => {\n    setTimeout(() => reject(new Error("Failed")), 1000);\n});\n\npromise.catch((error) => {\n    console.log("Error:", error.message);  // "Error: Failed"\n});\n```\n\n### then() and catch() Together\n\n```javascript\nlet promise = new Promise((resolve, reject) => {\n    let success = Math.random() > 0.5;\n    setTimeout(() => {\n        if (success) {\n            resolve("Success!");\n        } else {\n            reject(new Error("Failed!"));\n        }\n    }, 1000);\n});\n\npromise\n    .then((result) => {\n        console.log("Success:", result);\n    })\n    .catch((error) => {\n        console.log("Error:", error.message);\n    });\n```\n\n### then() with Two Handlers\n\n```javascript\npromise.then(\n    (result) => {\n        console.log("Success:", result);\n    },\n    (error) => {\n        console.log("Error:", error.message);\n    }\n);\n```\n\n---\n\n## Promise Chaining\n\nPromises can be chained together, making sequential operations easy.\n\n### Basic Chaining\n\n```javascript\nfunction step1() {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve("Step 1"), 1000);\n    });\n}\n\nfunction step2(data) {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve(`${data} -> Step 2`), 1000);\n    });\n}\n\nfunction step3(data) {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve(`${data} -> Step 3`), 1000);\n    });\n}\n\nstep1()\n    .then(step2)\n    .then(step3)\n    .then((result) => {\n        console.log("Final:", result);\n    });\n```\n\n### Chaining with Data Transformation\n\n```javascript\nfetchUser(1)\n    .then((user) => {\n        console.log("User:", user);\n        return user.id;\n    })\n    .then((userId) => {\n        return fetchPosts(userId);\n    })\n    .then((posts) => {\n        console.log("Posts:", posts);\n    })\n    .catch((error) => {\n        console.log("Error:", error);\n    });\n```\n\n### Error Handling in Chains\n\n```javascript\nstep1()\n    .then(step2)\n    .then(step3)\n    .catch((error) => {\n        console.log("Error in any step:", error);\n        // Error from any step is caught here\n    });\n```\n\n---\n\n## Promise.all()\n\n`Promise.all()` waits for all promises to resolve, or rejects if any promise rejects.\n\n### Basic Promise.all()\n\n```javascript\nlet promise1 = new Promise((resolve) => {\n    setTimeout(() => resolve("Result 1"), 1000);\n});\n\nlet promise2 = new Promise((resolve) => {\n    setTimeout(() => resolve("Result 2"), 2000);\n});\n\nlet promise3 = new Promise((resolve) => {\n    setTimeout(() => resolve("Result 3"), 1500);\n});\n\nPromise.all([promise1, promise2, promise3])\n    .then((results) => {\n        console.log("All completed:", results);\n        // ["Result 1", "Result 2", "Result 3"]\n    });\n```\n\n### Promise.all() with Rejection\n\n```javascript\nlet promise1 = Promise.resolve("Success 1");\nlet promise2 = Promise.reject(new Error("Failed"));\nlet promise3 = Promise.resolve("Success 3");\n\nPromise.all([promise1, promise2, promise3])\n    .then((results) => {\n        console.log("All succeeded");\n    })\n    .catch((error) => {\n        console.log("One failed:", error.message);  // "One failed: Failed"\n    });\n```\n\n### Practical Example\n\n```javascript\nfunction fetchUser(userId) {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve({ id: userId, name: `User ${userId}` }), 1000);\n    });\n}\n\nfunction fetchPosts(userId) {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve([\n            { id: 1, title: "Post 1" },\n            { id: 2, title: "Post 2" }\n        ]), 1500);\n    });\n}\n\nfunction fetchComments(postId) {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve([\n            { id: 1, text: "Comment 1" }\n        ]), 500);\n    });\n}\n\n// Fetch all in parallel\nPromise.all([\n    fetchUser(1),\n    fetchPosts(1),\n    fetchComments(1)\n])\n    .then(([user, posts, comments]) => {\n        console.log("User:", user);\n        console.log("Posts:", posts);\n        console.log("Comments:", comments);\n    });\n```\n\n---\n\n## Promise.race()\n\n`Promise.race()` returns the first promise that settles (fulfills or rejects).\n\n### Basic Promise.race()\n\n```javascript\nlet promise1 = new Promise((resolve) => {\n    setTimeout(() => resolve("Fast"), 500);\n});\n\nlet promise2 = new Promise((resolve) => {\n    setTimeout(() => resolve("Slow"), 2000);\n});\n\nPromise.race([promise1, promise2])\n    .then((result) => {\n        console.log("Winner:", result);  // "Winner: Fast"\n    });\n```\n\n### Promise.race() with Timeout\n\n```javascript\nfunction fetchWithTimeout(url, timeout) {\n    let fetchPromise = fetch(url);\n    let timeoutPromise = new Promise((_, reject) => {\n        setTimeout(() => reject(new Error("Timeout")), timeout);\n    });\n    \n    return Promise.race([fetchPromise, timeoutPromise]);\n}\n\nfetchWithTimeout("/api/data", 5000)\n    .then((data) => {\n        console.log("Data:", data);\n    })\n    .catch((error) => {\n        console.log("Error:", error.message);\n    });\n```\n\n---\n\n## Promise Utility Methods\n\n### Promise.resolve()\n\nCreates a resolved promise:\n\n```javascript\nlet resolved = Promise.resolve("Value");\nresolved.then((value) => {\n    console.log(value);  // "Value"\n});\n```\n\n### Promise.reject()\n\nCreates a rejected promise:\n\n```javascript\nlet rejected = Promise.reject(new Error("Error"));\nrejected.catch((error) => {\n    console.log(error.message);  // "Error"\n});\n```\n\n### Promise.allSettled()\n\nWaits for all promises to settle (fulfill or reject):\n\n```javascript\nlet promise1 = Promise.resolve("Success 1");\nlet promise2 = Promise.reject(new Error("Failed"));\nlet promise3 = Promise.resolve("Success 3");\n\nPromise.allSettled([promise1, promise2, promise3])\n    .then((results) => {\n        results.forEach((result, index) => {\n            if (result.status === "fulfilled") {\n                console.log(`Promise ${index + 1}:`, result.value);\n            } else {\n                console.log(`Promise ${index + 1}:`, result.reason.message);\n            }\n        });\n    });\n```\n\n---\n\n## Practical Examples\n\n### Example 1: API Request\n\n```javascript\nfunction fetchUser(userId) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            if (userId > 0) {\n                resolve({\n                    id: userId,\n                    name: "Alice",\n                    email: "alice@example.com"\n                });\n            } else {\n                reject(new Error("Invalid user ID"));\n            }\n        }, 1000);\n    });\n}\n\nfetchUser(1)\n    .then((user) => {\n        console.log("User:", user);\n    })\n    .catch((error) => {\n        console.log("Error:", error.message);\n    });\n```\n\n### Example 2: Sequential Operations\n\n```javascript\nfunction login(username, password) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            if (username && password) {\n                resolve({ token: "abc123", userId: 1 });\n            } else {\n                reject(new Error("Invalid credentials"));\n            }\n        }, 1000);\n    });\n}\n\nfunction fetchUserData(token) {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            resolve({ name: "Alice", email: "alice@example.com" });\n        }, 1000);\n    });\n}\n\nlogin("alice", "password")\n    .then((auth) => {\n        console.log("Logged in:", auth.token);\n        return fetchUserData(auth.token);\n    })\n    .then((userData) => {\n        console.log("User data:", userData);\n    })\n    .catch((error) => {\n        console.log("Error:", error.message);\n    });\n```\n\n### Example 3: Parallel Operations\n\n```javascript\nfunction fetchUser(userId) {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve({ id: userId, name: `User ${userId}` }), 1000);\n    });\n}\n\nfunction fetchPosts(userId) {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve([\n            { id: 1, title: "Post 1" },\n            { id: 2, title: "Post 2" }\n        ]), 1500);\n    });\n}\n\n// Fetch in parallel\nPromise.all([\n    fetchUser(1),\n    fetchPosts(1)\n])\n    .then(([user, posts]) => {\n        console.log("User:", user);\n        console.log("Posts:", posts);\n    });\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Promise Practice\n\n**Objective**: Practice creating and using Promises in various scenarios.\n\n**Instructions**:\n\n1. Create a file called `promises-practice.js`\n\n2. Practice:\n   - Creating Promises\n   - Using then() and catch()\n   - Chaining Promises\n   - Using Promise.all() and Promise.race()\n   - Error handling\n   - Real-world scenarios\n\n**Example Solution**:\n\n```javascript\n// Promises Practice\nconsole.log("=== Creating Promises ===");\n\nlet promise1 = new Promise((resolve, reject) => {\n    setTimeout(() => {\n        resolve("Promise 1 resolved");\n    }, 1000);\n});\n\npromise1.then((result) => {\n    console.log("Result:", result);\n});\nconsole.log();\n\nconsole.log("=== Promise with Rejection ===");\n\nlet promise2 = new Promise((resolve, reject) => {\n    setTimeout(() => {\n        let success = Math.random() > 0.5;\n        if (success) {\n            resolve("Success!");\n        } else {\n            reject(new Error("Failed!"));\n        }\n    }, 1000);\n});\n\npromise2\n    .then((result) => {\n        console.log("Success:", result);\n    })\n    .catch((error) => {\n        console.log("Error:", error.message);\n    });\nconsole.log();\n\nconsole.log("=== Promise Chaining ===");\n\nfunction step1() {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            console.log("Step 1 complete");\n            resolve("Step 1 result");\n        }, 1000);\n    });\n}\n\nfunction step2(data) {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            console.log("Step 2 complete with:", data);\n            resolve("Step 2 result");\n        }, 1000);\n    });\n}\n\nfunction step3(data) {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            console.log("Step 3 complete with:", data);\n            resolve("Final result");\n        }, 1000);\n    });\n}\n\nstep1()\n    .then(step2)\n    .then(step3)\n    .then((result) => {\n        console.log("All steps complete:", result);\n    })\n    .catch((error) => {\n        console.log("Error in chain:", error);\n    });\nconsole.log();\n\nconsole.log("=== Promise.all() ===");\n\nfunction fetchUser(userId) {\n    return new Promise((resolve) => {\n        let delay = Math.random() * 1000;\n        setTimeout(() => {\n            resolve({ id: userId, name: `User ${userId}` });\n        }, delay);\n    });\n}\n\nfunction fetchPosts(userId) {\n    return new Promise((resolve) => {\n        let delay = Math.random() * 1000;\n        setTimeout(() => {\n            resolve([\n                { id: 1, title: "Post 1" },\n                { id: 2, title: "Post 2" }\n            ]);\n        }, delay);\n    });\n}\n\nPromise.all([\n    fetchUser(1),\n    fetchPosts(1)\n])\n    .then(([user, posts]) => {\n        console.log("User:", user);\n        console.log("Posts:", posts);\n    });\nconsole.log();\n\nconsole.log("=== Promise.race() ===");\n\nlet fastPromise = new Promise((resolve) => {\n    setTimeout(() => resolve("Fast"), 500);\n});\n\nlet slowPromise = new Promise((resolve) => {\n    setTimeout(() => resolve("Slow"), 2000);\n});\n\nPromise.race([fastPromise, slowPromise])\n    .then((result) => {\n        console.log("Winner:", result);  // "Fast"\n    });\nconsole.log();\n\nconsole.log("=== Promise.resolve() and Promise.reject() ===");\n\nlet resolved = Promise.resolve("Resolved value");\nresolved.then((value) => {\n    console.log("Resolved:", value);\n});\n\nlet rejected = Promise.reject(new Error("Rejected"));\nrejected.catch((error) => {\n    console.log("Rejected:", error.message);\n});\nconsole.log();\n\nconsole.log("=== Error Handling ===");\n\nfunction mightFail(shouldFail) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            if (shouldFail) {\n                reject(new Error("Operation failed"));\n            } else {\n                resolve("Operation succeeded");\n            }\n        }, 1000);\n    });\n}\n\nmightFail(false)\n    .then((result) => {\n        console.log("Success:", result);\n        return mightFail(true);\n    })\n    .then((result) => {\n        console.log("This won''t run");\n    })\n    .catch((error) => {\n        console.log("Caught error:", error.message);\n    });\nconsole.log();\n\nconsole.log("=== Real-World Example: API Calls ===");\n\nfunction apiCall(endpoint) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            if (endpoint === "/users") {\n                resolve([\n                    { id: 1, name: "Alice" },\n                    { id: 2, name: "Bob" }\n                ]);\n            } else if (endpoint === "/posts") {\n                resolve([\n                    { id: 1, title: "Post 1" },\n                    { id: 2, title: "Post 2" }\n                ]);\n            } else {\n                reject(new Error("Endpoint not found"));\n            }\n        }, 1000);\n    });\n}\n\n// Sequential\napiCall("/users")\n    .then((users) => {\n        console.log("Users:", users);\n        return apiCall("/posts");\n    })\n    .then((posts) => {\n        console.log("Posts:", posts);\n    })\n    .catch((error) => {\n        console.log("Error:", error.message);\n    });\n\n// Parallel\nsetTimeout(() => {\n    Promise.all([\n        apiCall("/users"),\n        apiCall("/posts")\n    ])\n        .then(([users, posts]) => {\n            console.log("All data:", { users, posts });\n        })\n        .catch((error) => {\n            console.log("Error:", error.message);\n        });\n}, 3000);\n```\n\n**Expected Output**:\n```\n=== Creating Promises ===\n\n=== Promise with Rejection ===\n[Either "Success: Success!" or "Error: Failed!"]\n\n=== Promise Chaining ===\nStep 1 complete\nStep 2 complete with: Step 1 result\nStep 3 complete with: Step 2 result\nAll steps complete: Final result\n\n=== Promise.all() ===\nPosts: [ { id: 1, title: "Post 1" }, { id: 2, title: "Post 2" } ]\nUser: { id: 1, name: "User 1" }\n\n=== Promise.race() ===\nWinner: Fast\n\n=== Promise.resolve() and Promise.reject() ===\nResolved: Resolved value\nRejected: Rejected\n\n=== Error Handling ===\nSuccess: Operation succeeded\nCaught error: Operation failed\n\n=== Real-World Example: API Calls ===\nUsers: [ { id: 1, name: "Alice" }, { id: 2, name: "Bob" } ]\nPosts: [ { id: 1, title: "Post 1" }, { id: 2, title: "Post 2" } ]\nAll data: { users: [ { id: 1, name: "Alice" }, { id: 2, name: "Bob" } ], posts: [ { id: 1, title: "Post 1" }, { id: 2, title: "Post 2" } ] }\n```\n\n**Challenge (Optional)**:\n- Build a Promise-based API wrapper\n- Create a Promise utility library\n- Build a retry mechanism with Promises\n- Create a timeout wrapper for Promises\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting to Return in then()\n\n```javascript\n// ⚠️ Problem: Doesn''t return promise\npromise1\n    .then((result) => {\n        promise2(result);  // Forgot return\n    })\n    .then((result) => {\n        // result is undefined!\n    });\n\n// ✅ Solution: Return promise\npromise1\n    .then((result) => {\n        return promise2(result);\n    })\n    .then((result) => {\n        // result is correct\n    });\n```\n\n### 2. Not Handling Errors\n\n```javascript\n// ⚠️ Problem: No error handling\npromise.then((result) => {\n    console.log(result);\n});\n\n// ✅ Solution: Always handle errors\npromise\n    .then((result) => {\n        console.log(result);\n    })\n    .catch((error) => {\n        console.log("Error:", error);\n    });\n```\n\n### 3. Creating Promise in then()\n\n```javascript\n// ⚠️ Problem: Unnecessary nesting\npromise.then((result) => {\n    return new Promise((resolve) => {\n        resolve(process(result));\n    });\n});\n\n// ✅ Solution: Return value directly\npromise.then((result) => {\n    return process(result);\n});\n```\n\n### 4. Promise Constructor Anti-pattern\n\n```javascript\n// ⚠️ Problem: Wrapping already-promise value\nfunction badFunction() {\n    return new Promise((resolve) => {\n        resolve(anotherPromise);  // Unnecessary\n    });\n}\n\n// ✅ Solution: Return promise directly\nfunction goodFunction() {\n    return anotherPromise;\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **Promises**: Represent eventual completion of async operations\n2. **States**: Pending, Fulfilled, Rejected\n3. **then()**: Handles fulfilled promises\n4. **catch()**: Handles rejected promises\n5. **Chaining**: Chain operations with then()\n6. **Promise.all()**: Wait for all promises\n7. **Promise.race()**: Get first settled promise\n8. **Best Practice**: Always handle errors, return promises in chains\n\n---\n\n## Quiz: Promises\n\nTest your understanding with these questions:\n\n1. **What is a Promise?**\n   - A) A function\n   - B) Object representing async operation\n   - C) A variable\n   - D) An error\n\n2. **Promise has how many states?**\n   - A) 1\n   - B) 2\n   - C) 3\n   - D) 4\n\n3. **then() handles:**\n   - A) Rejected promises\n   - B) Fulfilled promises\n   - C) Pending promises\n   - D) All promises\n\n4. **catch() handles:**\n   - A) Fulfilled promises\n   - B) Rejected promises\n   - C) All promises\n   - D) Nothing\n\n5. **Promise.all() waits for:**\n   - A) First promise\n   - B) All promises\n   - C) Any promise\n   - D) No promises\n\n6. **Promise.race() returns:**\n   - A) All promises\n   - B) First settled promise\n   - C) Last promise\n   - D) Error\n\n7. **In then(), you should:**\n   - A) Return value\n   - B) Not return\n   - C) Always return promise\n   - D) Return undefined\n\n**Answers**:\n1. B) Object representing async operation\n2. C) 3 (Pending, Fulfilled, Rejected)\n3. B) Fulfilled promises\n4. B) Rejected promises\n5. B) All promises\n6. B) First settled promise\n7. A) Return value (or promise for chaining)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned Promises. You now know:\n- How to create and use Promises\n- Promise chaining\n- Promise.all() and Promise.race()\n- Error handling with Promises\n\n**What''s Next?**\n- Lesson 9.3: Async/Await\n- Learn modern async syntax\n- Understand async/await vs Promises\n- Write even cleaner async code\n\n---\n\n## Additional Resources\n\n- **MDN: Promises**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)\n- **JavaScript.info: Promises**: [javascript.info/promise-basics](https://javascript.info/promise-basics)\n- **Promise Patterns**: Common patterns and best practices\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:47:33', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand what Promises are and why they''re useful\n- Create Promises\n- Use `then()` and `catch()` to handle results\n- Chain Promises together\n- Use `Promise.all()` and `Promise.race()`\n- Handle errors in Promises\n- Write clean asynchronous code with Promises');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (134, 49, 11, 'Async/Await', 'async-await', '# Lesson 9.3: Async/Await\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand async functions\n- Use the `await` keyword\n- Handle errors with try-catch in async code\n- Compare async/await with Promises\n- Write clean, readable asynchronous code\n- Use async/await in practical scenarios\n\n---\n\n## Introduction to Async/Await\n\nAsync/await is syntactic sugar built on top of Promises. It makes asynchronous code look and behave more like synchronous code, making it easier to read and write.\n\n### Why Async/Await?\n\n- **Readable**: Looks like synchronous code\n- **Simple**: Easier than Promise chains\n- **Error Handling**: Use try-catch like synchronous code\n- **Modern**: Preferred in modern JavaScript\n- **Less Nesting**: Avoid callback hell and deep Promise chains\n\n---\n\n## async Functions\n\nAn `async` function is a function that returns a Promise. The function body can use the `await` keyword.\n\n### Basic async Function\n\n```javascript\nasync function myFunction() {\n    return "Hello";\n}\n\nmyFunction().then((result) => {\n    console.log(result);  // "Hello"\n});\n```\n\n### async Function Always Returns Promise\n\n```javascript\nasync function getValue() {\n    return 42;  // Automatically wrapped in Promise\n}\n\ngetValue().then((value) => {\n    console.log(value);  // 42\n});\n```\n\n### async Function with Promise\n\n```javascript\nasync function fetchData() {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve("Data"), 1000);\n    });\n}\n\nfetchData().then((data) => {\n    console.log(data);  // "Data"\n});\n```\n\n---\n\n## await Keyword\n\nThe `await` keyword pauses the execution of an async function until a Promise is settled.\n\n### Basic await\n\n```javascript\nasync function fetchUser() {\n    let user = await fetchUserData();\n    console.log(user);\n    return user;\n}\n```\n\n### await with Promises\n\n```javascript\nfunction fetchUserData() {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            resolve({ id: 1, name: "Alice" });\n        }, 1000);\n    });\n}\n\nasync function getUser() {\n    let user = await fetchUserData();\n    console.log("User:", user);  // { id: 1, name: "Alice" }\n    return user;\n}\n\ngetUser();\n```\n\n### await Pauses Execution\n\n```javascript\nasync function example() {\n    console.log("1. Start");\n    \n    let result = await new Promise((resolve) => {\n        setTimeout(() => resolve("Done"), 1000);\n    });\n    \n    console.log("2. After await:", result);\n    console.log("3. End");\n}\n\nexample();\n// Output:\n// 1. Start\n// (wait 1 second)\n// 2. After await: Done\n// 3. End\n```\n\n---\n\n## Error Handling with try-catch\n\nAsync/await allows using try-catch for error handling, just like synchronous code.\n\n### Basic Error Handling\n\n```javascript\nasync function fetchData() {\n    try {\n        let data = await fetchUserData();\n        console.log("Success:", data);\n        return data;\n    } catch (error) {\n        console.log("Error:", error.message);\n        throw error;\n    }\n}\n```\n\n### try-catch with Promises\n\n```javascript\nfunction fetchUserData() {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            let success = Math.random() > 0.5;\n            if (success) {\n                resolve({ id: 1, name: "Alice" });\n            } else {\n                reject(new Error("Failed to fetch"));\n            }\n        }, 1000);\n    });\n}\n\nasync function getUser() {\n    try {\n        let user = await fetchUserData();\n        console.log("User:", user);\n        return user;\n    } catch (error) {\n        console.log("Error:", error.message);\n        return null;\n    }\n}\n\ngetUser();\n```\n\n### Multiple await with Error Handling\n\n```javascript\nasync function processUser() {\n    try {\n        let user = await fetchUser();\n        let posts = await fetchPosts(user.id);\n        let comments = await fetchComments(posts[0].id);\n        \n        return { user, posts, comments };\n    } catch (error) {\n        console.log("Error in processUser:", error.message);\n        throw error;\n    }\n}\n```\n\n---\n\n## Async/Await vs Promises\n\n### Promise Chain\n\n```javascript\nfetchUser()\n    .then((user) => {\n        return fetchPosts(user.id);\n    })\n    .then((posts) => {\n        return fetchComments(posts[0].id);\n    })\n    .then((comments) => {\n        console.log("Comments:", comments);\n    })\n    .catch((error) => {\n        console.log("Error:", error);\n    });\n```\n\n### Async/Await Equivalent\n\n```javascript\nasync function getComments() {\n    try {\n        let user = await fetchUser();\n        let posts = await fetchPosts(user.id);\n        let comments = await fetchComments(posts[0].id);\n        console.log("Comments:", comments);\n    } catch (error) {\n        console.log("Error:", error);\n    }\n}\n```\n\n### Comparison\n\n**Promises:**\n- Chainable\n- Functional style\n- Can be complex with nesting\n\n**Async/Await:**\n- Sequential style\n- Easier to read\n- Natural error handling\n- Looks like synchronous code\n\n---\n\n## Sequential vs Parallel Execution\n\n### Sequential with await\n\n```javascript\nasync function sequential() {\n    let user = await fetchUser(1);      // Wait for user\n    let posts = await fetchPosts(1);    // Wait for posts\n    let comments = await fetchComments(1); // Wait for comments\n    \n    return { user, posts, comments };\n}\n// Total time: sum of all operations\n```\n\n### Parallel with Promise.all()\n\n```javascript\nasync function parallel() {\n    let [user, posts, comments] = await Promise.all([\n        fetchUser(1),\n        fetchPosts(1),\n        fetchComments(1)\n    ]);\n    \n    return { user, posts, comments };\n}\n// Total time: longest operation\n```\n\n### Mixed Approach\n\n```javascript\nasync function mixed() {\n    // First, get user (required)\n    let user = await fetchUser(1);\n    \n    // Then, fetch posts and comments in parallel\n    let [posts, comments] = await Promise.all([\n        fetchPosts(user.id),\n        fetchComments(user.id)\n    ]);\n    \n    return { user, posts, comments };\n}\n```\n\n---\n\n## Practical Examples\n\n### Example 1: API Calls\n\n```javascript\nasync function fetchUserData(userId) {\n    try {\n        let response = await fetch(`/api/users/${userId}`);\n        let user = await response.json();\n        return user;\n    } catch (error) {\n        console.log("Error fetching user:", error);\n        throw error;\n    }\n}\n\nasync function displayUser(userId) {\n    try {\n        let user = await fetchUserData(userId);\n        console.log("User:", user);\n    } catch (error) {\n        console.log("Failed to display user");\n    }\n}\n```\n\n### Example 2: Sequential Operations\n\n```javascript\nasync function login(username, password) {\n    try {\n        // Step 1: Authenticate\n        let auth = await authenticate(username, password);\n        console.log("Authenticated:", auth.token);\n        \n        // Step 2: Fetch user data\n        let user = await fetchUserData(auth.token);\n        console.log("User data:", user);\n        \n        // Step 3: Load user preferences\n        let preferences = await loadPreferences(user.id);\n        console.log("Preferences:", preferences);\n        \n        return { user, preferences };\n    } catch (error) {\n        console.log("Login failed:", error.message);\n        throw error;\n    }\n}\n```\n\n### Example 3: Parallel Operations\n\n```javascript\nasync function loadDashboard(userId) {\n    try {\n        // Load all data in parallel\n        let [user, posts, notifications, settings] = await Promise.all([\n            fetchUser(userId),\n            fetchPosts(userId),\n            fetchNotifications(userId),\n            fetchSettings(userId)\n        ]);\n        \n        return {\n            user,\n            posts,\n            notifications,\n            settings\n        };\n    } catch (error) {\n        console.log("Failed to load dashboard:", error);\n        throw error;\n    }\n}\n```\n\n### Example 4: Error Handling\n\n```javascript\nasync function processOrder(orderId) {\n    try {\n        let order = await fetchOrder(orderId);\n        \n        if (!order) {\n            throw new Error("Order not found");\n        }\n        \n        let payment = await processPayment(order);\n        let confirmation = await sendConfirmation(order, payment);\n        \n        return confirmation;\n    } catch (error) {\n        // Handle different error types\n        if (error.message === "Order not found") {\n            console.log("Order doesn''t exist");\n        } else if (error.message === "Payment failed") {\n            console.log("Payment processing failed");\n        } else {\n            console.log("Unexpected error:", error);\n        }\n        throw error;\n    }\n}\n```\n\n---\n\n## Advanced Patterns\n\n### Pattern 1: Retry Logic\n\n```javascript\nasync function fetchWithRetry(url, maxRetries = 3) {\n    for (let i = 0; i < maxRetries; i++) {\n        try {\n            let response = await fetch(url);\n            return await response.json();\n        } catch (error) {\n            if (i === maxRetries - 1) {\n                throw error;\n            }\n            console.log(`Retry ${i + 1}/${maxRetries}`);\n            await new Promise(resolve => setTimeout(resolve, 1000));\n        }\n    }\n}\n```\n\n### Pattern 2: Timeout\n\n```javascript\nasync function fetchWithTimeout(url, timeout = 5000) {\n    let fetchPromise = fetch(url);\n    let timeoutPromise = new Promise((_, reject) => {\n        setTimeout(() => reject(new Error("Timeout")), timeout);\n    });\n    \n    try {\n        let response = await Promise.race([fetchPromise, timeoutPromise]);\n        return await response.json();\n    } catch (error) {\n        console.log("Request failed:", error.message);\n        throw error;\n    }\n}\n```\n\n### Pattern 3: Conditional await\n\n```javascript\nasync function loadData(loadUser, loadPosts) {\n    let data = {};\n    \n    if (loadUser) {\n        data.user = await fetchUser();\n    }\n    \n    if (loadPosts) {\n        data.posts = await fetchPosts();\n    }\n    \n    return data;\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Async/Await Practice\n\n**Objective**: Practice using async/await for asynchronous operations.\n\n**Instructions**:\n\n1. Create a file called `async-await-practice.js`\n\n2. Practice:\n   - Creating async functions\n   - Using await keyword\n   - Error handling with try-catch\n   - Sequential and parallel execution\n   - Real-world scenarios\n\n**Example Solution**:\n\n```javascript\n// Async/Await Practice\nconsole.log("=== Basic async Function ===");\n\nasync function basicAsync() {\n    return "Hello from async";\n}\n\nbasicAsync().then((result) => {\n    console.log("Result:", result);\n});\nconsole.log();\n\nconsole.log("=== await with Promises ===");\n\nfunction fetchData() {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            resolve({ id: 1, name: "Alice" });\n        }, 1000);\n    });\n}\n\nasync function getData() {\n    console.log("Fetching data...");\n    let data = await fetchData();\n    console.log("Data received:", data);\n    return data;\n}\n\ngetData();\nconsole.log();\n\nconsole.log("=== Sequential Execution ===");\n\nfunction step1() {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            console.log("Step 1 complete");\n            resolve("Step 1 result");\n        }, 1000);\n    });\n}\n\nfunction step2(data) {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            console.log("Step 2 complete with:", data);\n            resolve("Step 2 result");\n        }, 1000);\n    });\n}\n\nfunction step3(data) {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            console.log("Step 3 complete with:", data);\n            resolve("Final result");\n        }, 1000);\n    });\n}\n\nasync function sequential() {\n    try {\n        let result1 = await step1();\n        let result2 = await step2(result1);\n        let result3 = await step3(result2);\n        console.log("All steps complete:", result3);\n    } catch (error) {\n        console.log("Error:", error);\n    }\n}\n\nsequential();\nconsole.log();\n\nconsole.log("=== Parallel Execution ===");\n\nfunction fetchUser(userId) {\n    return new Promise((resolve) => {\n        let delay = Math.random() * 1000;\n        setTimeout(() => {\n            resolve({ id: userId, name: `User ${userId}` });\n        }, delay);\n    });\n}\n\nfunction fetchPosts(userId) {\n    return new Promise((resolve) => {\n        let delay = Math.random() * 1000;\n        setTimeout(() => {\n            resolve([\n                { id: 1, title: "Post 1" },\n                { id: 2, title: "Post 2" }\n            ]);\n        }, delay);\n    });\n}\n\nasync function parallel() {\n    try {\n        let [user, posts] = await Promise.all([\n            fetchUser(1),\n            fetchPosts(1)\n        ]);\n        console.log("User:", user);\n        console.log("Posts:", posts);\n    } catch (error) {\n        console.log("Error:", error);\n    }\n}\n\nsetTimeout(() => {\n    parallel();\n}, 4000);\nconsole.log();\n\nconsole.log("=== Error Handling ===");\n\nfunction mightFail(shouldFail) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            if (shouldFail) {\n                reject(new Error("Operation failed"));\n            } else {\n                resolve("Operation succeeded");\n            }\n        }, 1000);\n    });\n}\n\nasync function handleErrors() {\n    try {\n        let result = await mightFail(false);\n        console.log("Success:", result);\n        \n        let result2 = await mightFail(true);\n        console.log("This won''t run");\n    } catch (error) {\n        console.log("Caught error:", error.message);\n    }\n}\n\nsetTimeout(() => {\n    handleErrors();\n}, 7000);\nconsole.log();\n\nconsole.log("=== Real-World Example: API Calls ===");\n\nfunction apiCall(endpoint) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            if (endpoint === "/users") {\n                resolve([\n                    { id: 1, name: "Alice" },\n                    { id: 2, name: "Bob" }\n                ]);\n            } else if (endpoint === "/posts") {\n                resolve([\n                    { id: 1, title: "Post 1" },\n                    { id: 2, title: "Post 2" }\n                ]);\n            } else {\n                reject(new Error("Endpoint not found"));\n            }\n        }, 1000);\n    });\n}\n\nasync function loadData() {\n    try {\n        // Sequential\n        console.log("Loading users...");\n        let users = await apiCall("/users");\n        console.log("Users loaded:", users);\n        \n        console.log("Loading posts...");\n        let posts = await apiCall("/posts");\n        console.log("Posts loaded:", posts);\n        \n        return { users, posts };\n    } catch (error) {\n        console.log("Error loading data:", error.message);\n        throw error;\n    }\n}\n\nsetTimeout(() => {\n    loadData();\n}, 10000);\nconsole.log();\n\nconsole.log("=== Mixed Sequential and Parallel ===");\n\nasync function mixed() {\n    try {\n        // First, get user (required)\n        console.log("Fetching user...");\n        let user = await fetchUser(1);\n        console.log("User:", user);\n        \n        // Then, fetch related data in parallel\n        console.log("Fetching related data in parallel...");\n        let [posts, comments] = await Promise.all([\n            fetchPosts(user.id),\n            fetchComments(user.id)\n        ]);\n        \n        console.log("Posts:", posts);\n        console.log("Comments:", comments);\n        \n        return { user, posts, comments };\n    } catch (error) {\n        console.log("Error:", error);\n    }\n}\n\nsetTimeout(() => {\n    mixed();\n}, 13000);\n```\n\n**Expected Output**:\n```\n=== Basic async Function ===\nResult: Hello from async\n\n=== await with Promises ===\nFetching data...\nData received: { id: 1, name: "Alice" }\n\n=== Sequential Execution ===\nStep 1 complete\nStep 2 complete with: Step 1 result\nStep 3 complete with: Step 2 result\nAll steps complete: Final result\n\n=== Parallel Execution ===\nPosts: [ { id: 1, title: "Post 1" }, { id: 2, title: "Post 2" } ]\nUser: { id: 1, name: "User 1" }\n\n=== Error Handling ===\nSuccess: Operation succeeded\nCaught error: Operation failed\n\n=== Real-World Example: API Calls ===\nLoading users...\nUsers loaded: [ { id: 1, name: "Alice" }, { id: 2, name: "Bob" } ]\nLoading posts...\nPosts loaded: [ { id: 1, title: "Post 1" }, { id: 2, title: "Post 2" } ]\n\n=== Mixed Sequential and Parallel ===\nFetching user...\nUser: { id: 1, name: "User 1" }\nFetching related data in parallel...\nPosts: [ { id: 1, title: "Post 1" }, { id: 2, title: "Post 2" } ]\nComments: [ { id: 1, text: "Comment 1" } ]\n```\n\n**Challenge (Optional)**:\n- Build async/await API wrapper\n- Create retry logic with async/await\n- Build timeout utilities\n- Create async utility functions\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting await\n\n```javascript\n// ⚠️ Problem: Returns Promise, not value\nasync function getData() {\n    let data = fetchData();  // Missing await\n    return data;  // Returns Promise, not data\n}\n\n// ✅ Solution: Use await\nasync function getData() {\n    let data = await fetchData();\n    return data;\n}\n```\n\n### 2. await in Non-async Function\n\n```javascript\n// ❌ Error: await only in async functions\nfunction getData() {\n    let data = await fetchData();  // Error!\n}\n\n// ✅ Solution: Make function async\nasync function getData() {\n    let data = await fetchData();\n}\n```\n\n### 3. Not Handling Errors\n\n```javascript\n// ⚠️ Problem: Unhandled promise rejection\nasync function getData() {\n    let data = await fetchData();  // What if it fails?\n    return data;\n}\n\n// ✅ Solution: Use try-catch\nasync function getData() {\n    try {\n        let data = await fetchData();\n        return data;\n    } catch (error) {\n        console.log("Error:", error);\n        throw error;\n    }\n}\n```\n\n### 4. Sequential When Parallel Possible\n\n```javascript\n// ⚠️ Problem: Unnecessarily sequential\nasync function loadData() {\n    let user = await fetchUser();\n    let posts = await fetchPosts();  // Could be parallel\n    return { user, posts };\n}\n\n// ✅ Solution: Use Promise.all() for parallel\nasync function loadData() {\n    let [user, posts] = await Promise.all([\n        fetchUser(),\n        fetchPosts()\n    ]);\n    return { user, posts };\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **async Function**: Always returns a Promise\n2. **await**: Pauses execution until Promise settles\n3. **Error Handling**: Use try-catch like synchronous code\n4. **Sequential**: Use await for dependent operations\n5. **Parallel**: Use Promise.all() for independent operations\n6. **Readability**: Much cleaner than Promise chains\n7. **Best Practice**: Always handle errors, use parallel when possible\n8. **Modern Standard**: Preferred over callbacks and Promise chains\n\n---\n\n## Quiz: Async/Await\n\nTest your understanding with these questions:\n\n1. **async function always returns:**\n   - A) Value\n   - B) Promise\n   - C) undefined\n   - D) Error\n\n2. **await can only be used:**\n   - A) In any function\n   - B) In async functions\n   - C) In Promises\n   - D) Never\n\n3. **await pauses:**\n   - A) Entire program\n   - B) Async function execution\n   - C) Nothing\n   - D) Browser\n\n4. **Error handling in async/await uses:**\n   - A) catch()\n   - B) try-catch\n   - C) then()\n   - D) finally()\n\n5. **For parallel operations, use:**\n   - A) Multiple await\n   - B) Promise.all()\n   - C) Sequential await\n   - D) Callbacks\n\n6. **async/await is:**\n   - A) Different from Promises\n   - B) Syntactic sugar over Promises\n   - C) Replaces Promises\n   - D) Not related to Promises\n\n7. **Missing await returns:**\n   - A) Value\n   - B) Promise\n   - C) undefined\n   - D) Error\n\n**Answers**:\n1. B) Promise\n2. B) In async functions\n3. B) Async function execution\n4. B) try-catch\n5. B) Promise.all()\n6. B) Syntactic sugar over Promises\n7. B) Promise\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 9: Asynchronous JavaScript. You now know:\n- How callbacks work\n- How to use Promises\n- How to use async/await\n- Modern asynchronous patterns\n\n**What''s Next?**\n- Module 10: Iterators and Generators\n- Practice combining async patterns\n- Build real-world async applications\n- Continue learning advanced JavaScript\n\n---\n\n## Additional Resources\n\n- **MDN: async function**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function)\n- **MDN: await**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await)\n- **JavaScript.info: Async/await**: [javascript.info/async-await](https://javascript.info/async-await)\n- **Async/Await Best Practices**: Common patterns and pitfalls\n\n---\n\n*Lesson completed! You''ve finished Module 9: Asynchronous JavaScript. Ready for Module 10: Iterators and Generators!*\n\n', NULL, 3, '2026-01-03 09:47:33', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand async functions\n- Use the `await` keyword\n- Handle errors with try-catch in async code\n- Compare async/await with Promises\n- Write clean, readable asynchronous code\n- Use async/await in practical scenarios');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (135, 50, 11, 'Iterators', 'iterators', '# Lesson 10.1: Iterators\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand the Iterator protocol\n- Understand the Iterable protocol\n- Use Symbol.iterator\n- Create custom iterators\n- Work with built-in iterables\n- Use iterators with for...of loops\n- Build iterator-based utilities\n\n---\n\n## Introduction to Iterators\n\nIterators provide a way to access elements of a collection sequentially. They''re a fundamental part of JavaScript''s iteration mechanism.\n\n### What are Iterators?\n\nAn iterator is an object that provides a way to access elements one at a time. It implements the Iterator protocol.\n\n### Why Iterators?\n\n- **Unified Interface**: Same way to iterate over different data structures\n- **Lazy Evaluation**: Generate values on demand\n- **Memory Efficient**: Don''t need to store all values\n- **Custom Iteration**: Define how your objects are iterated\n\n---\n\n## Iterator Protocol\n\nAn object is an iterator if it implements a `next()` method that returns an object with:\n- `value`: The current value\n- `done`: Boolean indicating if iteration is complete\n\n### Basic Iterator\n\n```javascript\nlet iterator = {\n    items: [1, 2, 3],\n    index: 0,\n    \n    next() {\n        if (this.index < this.items.length) {\n            return {\n                value: this.items[this.index++],\n                done: false\n            };\n        } else {\n            return { done: true };\n        }\n    }\n};\n\nconsole.log(iterator.next());  // { value: 1, done: false }\nconsole.log(iterator.next());  // { value: 2, done: false }\nconsole.log(iterator.next());  // { value: 3, done: false }\nconsole.log(iterator.next());  // { done: true }\n```\n\n### Iterator Example\n\n```javascript\nfunction createIterator(array) {\n    let index = 0;\n    \n    return {\n        next() {\n            if (index < array.length) {\n                return {\n                    value: array[index++],\n                    done: false\n                };\n            } else {\n                return { done: true };\n            }\n        }\n    };\n}\n\nlet iterator = createIterator([1, 2, 3]);\nconsole.log(iterator.next());  // { value: 1, done: false }\nconsole.log(iterator.next());  // { value: 2, done: false }\nconsole.log(iterator.next());  // { value: 3, done: false }\nconsole.log(iterator.next());  // { done: true }\n```\n\n---\n\n## Iterable Protocol\n\nAn object is iterable if it implements the `Symbol.iterator` method that returns an iterator.\n\n### Symbol.iterator\n\n```javascript\nlet iterable = {\n    items: [1, 2, 3],\n    \n    [Symbol.iterator]() {\n        let index = 0;\n        let items = this.items;\n        \n        return {\n            next() {\n                if (index < items.length) {\n                    return {\n                        value: items[index++],\n                        done: false\n                    };\n                } else {\n                    return { done: true };\n                }\n            }\n        };\n    }\n};\n\n// Can use with for...of\nfor (let item of iterable) {\n    console.log(item);  // 1, 2, 3\n}\n```\n\n### Built-in Iterables\n\nMany built-in objects are iterable:\n\n```javascript\n// Arrays\nlet arr = [1, 2, 3];\nfor (let item of arr) {\n    console.log(item);\n}\n\n// Strings\nlet str = "Hello";\nfor (let char of str) {\n    console.log(char);  // H, e, l, l, o\n}\n\n// Maps\nlet map = new Map([["a", 1], ["b", 2]]);\nfor (let [key, value] of map) {\n    console.log(key, value);\n}\n\n// Sets\nlet set = new Set([1, 2, 3]);\nfor (let item of set) {\n    console.log(item);\n}\n```\n\n---\n\n## Custom Iterators\n\n### Simple Custom Iterator\n\n```javascript\nlet countdown = {\n    start: 5,\n    \n    [Symbol.iterator]() {\n        let current = this.start;\n        \n        return {\n            next() {\n                if (current > 0) {\n                    return {\n                        value: current--,\n                        done: false\n                    };\n                } else {\n                    return { done: true };\n                }\n            }\n        };\n    }\n};\n\nfor (let num of countdown) {\n    console.log(num);  // 5, 4, 3, 2, 1\n}\n```\n\n### Range Iterator\n\n```javascript\nlet range = {\n    start: 1,\n    end: 5,\n    \n    [Symbol.iterator]() {\n        let current = this.start;\n        let end = this.end;\n        \n        return {\n            next() {\n                if (current <= end) {\n                    return {\n                        value: current++,\n                        done: false\n                    };\n                } else {\n                    return { done: true };\n                }\n            }\n        };\n    }\n};\n\nfor (let num of range) {\n    console.log(num);  // 1, 2, 3, 4, 5\n}\n```\n\n### Fibonacci Iterator\n\n```javascript\nlet fibonacci = {\n    [Symbol.iterator]() {\n        let prev = 0;\n        let curr = 1;\n        \n        return {\n            next() {\n                let value = curr;\n                curr = prev + curr;\n                prev = value;\n                \n                return {\n                    value: value,\n                    done: false\n                };\n            }\n        };\n    }\n};\n\nlet count = 0;\nfor (let num of fibonacci) {\n    console.log(num);\n    if (++count >= 10) break;  // First 10 numbers\n}\n```\n\n---\n\n## Using Iterators\n\n### for...of Loop\n\n```javascript\nlet iterable = {\n    [Symbol.iterator]() {\n        let items = [1, 2, 3];\n        let index = 0;\n        \n        return {\n            next() {\n                if (index < items.length) {\n                    return { value: items[index++], done: false };\n                }\n                return { done: true };\n            }\n        };\n    }\n};\n\nfor (let item of iterable) {\n    console.log(item);  // 1, 2, 3\n}\n```\n\n### Spread Operator\n\n```javascript\nlet iterable = {\n    [Symbol.iterator]() {\n        let items = [1, 2, 3];\n        let index = 0;\n        \n        return {\n            next() {\n                if (index < items.length) {\n                    return { value: items[index++], done: false };\n                }\n                return { done: true };\n            }\n        };\n    }\n};\n\nlet array = [...iterable];\nconsole.log(array);  // [1, 2, 3]\n```\n\n### Array.from()\n\n```javascript\nlet iterable = {\n    [Symbol.iterator]() {\n        let items = [1, 2, 3];\n        let index = 0;\n        \n        return {\n            next() {\n                if (index < items.length) {\n                    return { value: items[index++], done: false };\n                }\n                return { done: true };\n            }\n        };\n    }\n};\n\nlet array = Array.from(iterable);\nconsole.log(array);  // [1, 2, 3]\n```\n\n### Destructuring\n\n```javascript\nlet iterable = {\n    [Symbol.iterator]() {\n        let items = [1, 2, 3];\n        let index = 0;\n        \n        return {\n            next() {\n                if (index < items.length) {\n                    return { value: items[index++], done: false };\n                }\n                return { done: true };\n            }\n        };\n    }\n};\n\nlet [first, second, third] = iterable;\nconsole.log(first, second, third);  // 1, 2, 3\n```\n\n---\n\n## Advanced Iterator Patterns\n\n### Iterator with Return Method\n\n```javascript\nlet iterable = {\n    [Symbol.iterator]() {\n        let items = [1, 2, 3];\n        let index = 0;\n        \n        return {\n            next() {\n                if (index < items.length) {\n                    return { value: items[index++], done: false };\n                }\n                return { done: true };\n            },\n            return() {\n                console.log("Iterator closed");\n                return { done: true };\n            }\n        };\n    }\n};\n\nfor (let item of iterable) {\n    console.log(item);\n    if (item === 2) break;  // Triggers return()\n}\n```\n\n### Infinite Iterator\n\n```javascript\nlet infiniteCounter = {\n    [Symbol.iterator]() {\n        let count = 0;\n        \n        return {\n            next() {\n                return {\n                    value: count++,\n                    done: false\n                };\n            }\n        };\n    }\n};\n\nlet count = 0;\nfor (let num of infiniteCounter) {\n    console.log(num);\n    if (++count >= 5) break;  // Must break manually\n}\n```\n\n### Iterator with Parameters\n\n```javascript\nfunction createRangeIterator(start, end, step = 1) {\n    return {\n        [Symbol.iterator]() {\n            let current = start;\n            let endValue = end;\n            let stepValue = step;\n            \n            return {\n                next() {\n                    if (current <= endValue) {\n                        let value = current;\n                        current += stepValue;\n                        return { value, done: false };\n                    }\n                    return { done: true };\n                }\n            };\n        }\n    };\n}\n\nlet range = createRangeIterator(0, 10, 2);\nfor (let num of range) {\n    console.log(num);  // 0, 2, 4, 6, 8, 10\n}\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Object Iterator\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York",\n    \n    [Symbol.iterator]() {\n        let keys = Object.keys(this);\n        let index = 0;\n        \n        return {\n            next() {\n                if (index < keys.length) {\n                    let key = keys[index++];\n                    return {\n                        value: [key, this[key]],\n                        done: false\n                    };\n                }\n                return { done: true };\n            }\n        };\n    }\n};\n\nfor (let [key, value] of person) {\n    console.log(`${key}: ${value}`);\n}\n```\n\n### Example 2: Tree Iterator\n\n```javascript\nlet tree = {\n    value: 1,\n    children: [\n        { value: 2, children: [] },\n        {\n            value: 3,\n            children: [\n                { value: 4, children: [] },\n                { value: 5, children: [] }\n            ]\n        }\n    ],\n    \n    [Symbol.iterator]() {\n        let stack = [this];\n        \n        return {\n            next() {\n                if (stack.length === 0) {\n                    return { done: true };\n                }\n                \n                let node = stack.pop();\n                stack.push(...node.children.reverse());\n                \n                return {\n                    value: node.value,\n                    done: false\n                };\n            }\n        };\n    }\n};\n\nfor (let value of tree) {\n    console.log(value);  // 1, 3, 5, 4, 2\n}\n```\n\n### Example 3: Pagination Iterator\n\n```javascript\nfunction createPaginationIterator(items, pageSize) {\n    return {\n        [Symbol.iterator]() {\n            let index = 0;\n            let itemsArray = items;\n            let size = pageSize;\n            \n            return {\n                next() {\n                    if (index < itemsArray.length) {\n                        let page = itemsArray.slice(index, index + size);\n                        index += size;\n                        return {\n                            value: page,\n                            done: false\n                        };\n                    }\n                    return { done: true };\n                }\n            };\n        }\n    };\n}\n\nlet items = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nlet pagination = createPaginationIterator(items, 3);\n\nfor (let page of pagination) {\n    console.log("Page:", page);\n}\n// Page: [1, 2, 3]\n// Page: [4, 5, 6]\n// Page: [7, 8, 9]\n// Page: [10]\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Creating Iterators\n\n**Objective**: Practice creating custom iterators for various scenarios.\n\n**Instructions**:\n\n1. Create a file called `iterators-practice.js`\n\n2. Create iterators for:\n   - Range iterator\n   - Countdown iterator\n   - Object property iterator\n   - Custom data structure iterator\n\n3. Practice:\n   - Using Symbol.iterator\n   - Implementing next() method\n   - Using with for...of\n   - Using with spread operator\n\n**Example Solution**:\n\n```javascript\n// Iterators Practice\nconsole.log("=== Basic Iterator ===");\n\nlet basicIterator = {\n    items: [1, 2, 3],\n    index: 0,\n    \n    next() {\n        if (this.index < this.items.length) {\n            return {\n                value: this.items[this.index++],\n                done: false\n            };\n        } else {\n            return { done: true };\n        }\n    }\n};\n\nconsole.log(basicIterator.next());  // { value: 1, done: false }\nconsole.log(basicIterator.next());  // { value: 2, done: false }\nconsole.log(basicIterator.next());  // { value: 3, done: false }\nconsole.log(basicIterator.next());  // { done: true }\nconsole.log();\n\nconsole.log("=== Iterable with Symbol.iterator ===");\n\nlet iterable = {\n    items: [1, 2, 3],\n    \n    [Symbol.iterator]() {\n        let index = 0;\n        let items = this.items;\n        \n        return {\n            next() {\n                if (index < items.length) {\n                    return {\n                        value: items[index++],\n                        done: false\n                    };\n                } else {\n                    return { done: true };\n                }\n            }\n        };\n    }\n};\n\nconsole.log("Using for...of:");\nfor (let item of iterable) {\n    console.log(item);  // 1, 2, 3\n}\n\nconsole.log("Using spread:");\nlet array = [...iterable];\nconsole.log(array);  // [1, 2, 3]\n\nconsole.log("Using Array.from():");\nlet array2 = Array.from(iterable);\nconsole.log(array2);  // [1, 2, 3]\nconsole.log();\n\nconsole.log("=== Range Iterator ===");\n\nlet range = {\n    start: 1,\n    end: 5,\n    \n    [Symbol.iterator]() {\n        let current = this.start;\n        let end = this.end;\n        \n        return {\n            next() {\n                if (current <= end) {\n                    return {\n                        value: current++,\n                        done: false\n                    };\n                } else {\n                    return { done: true };\n                }\n            }\n        };\n    }\n};\n\nfor (let num of range) {\n    console.log(num);  // 1, 2, 3, 4, 5\n}\nconsole.log();\n\nconsole.log("=== Countdown Iterator ===");\n\nlet countdown = {\n    start: 5,\n    \n    [Symbol.iterator]() {\n        let current = this.start;\n        \n        return {\n            next() {\n                if (current > 0) {\n                    return {\n                        value: current--,\n                        done: false\n                    };\n                } else {\n                    return { done: true };\n                }\n            }\n        };\n    }\n};\n\nfor (let num of countdown) {\n    console.log(num);  // 5, 4, 3, 2, 1\n}\nconsole.log();\n\nconsole.log("=== Fibonacci Iterator ===");\n\nlet fibonacci = {\n    [Symbol.iterator]() {\n        let prev = 0;\n        let curr = 1;\n        \n        return {\n            next() {\n                let value = curr;\n                curr = prev + curr;\n                prev = value;\n                \n                return {\n                    value: value,\n                    done: false\n                };\n            }\n        };\n    }\n};\n\nlet count = 0;\nconsole.log("First 10 Fibonacci numbers:");\nfor (let num of fibonacci) {\n    console.log(num);\n    if (++count >= 10) break;\n}\nconsole.log();\n\nconsole.log("=== Object Property Iterator ===");\n\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York",\n    \n    [Symbol.iterator]() {\n        let keys = Object.keys(this).filter(key => key !== Symbol.iterator);\n        let index = 0;\n        let self = this;\n        \n        return {\n            next() {\n                if (index < keys.length) {\n                    let key = keys[index++];\n                    return {\n                        value: [key, self[key]],\n                        done: false\n                    };\n                } else {\n                    return { done: true };\n                }\n            }\n        };\n    }\n};\n\nfor (let [key, value] of person) {\n    console.log(`${key}: ${value}`);\n}\nconsole.log();\n\nconsole.log("=== Infinite Iterator ===");\n\nlet infiniteCounter = {\n    [Symbol.iterator]() {\n        let count = 0;\n        \n        return {\n            next() {\n                return {\n                    value: count++,\n                    done: false\n                };\n            }\n        };\n    }\n};\n\nlet counter = 0;\nconsole.log("First 5 numbers from infinite iterator:");\nfor (let num of infiniteCounter) {\n    console.log(num);\n    if (++counter >= 5) break;\n}\nconsole.log();\n\nconsole.log("=== Pagination Iterator ===");\n\nfunction createPaginationIterator(items, pageSize) {\n    return {\n        [Symbol.iterator]() {\n            let index = 0;\n            let itemsArray = items;\n            let size = pageSize;\n            \n            return {\n                next() {\n                    if (index < itemsArray.length) {\n                        let page = itemsArray.slice(index, index + size);\n                        index += size;\n                        return {\n                            value: page,\n                            done: false\n                        };\n                    } else {\n                        return { done: true };\n                    }\n                }\n            };\n        }\n    };\n}\n\nlet items = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nlet pagination = createPaginationIterator(items, 3);\n\nconsole.log("Pages:");\nfor (let page of pagination) {\n    console.log("Page:", page);\n}\nconsole.log();\n\nconsole.log("=== Iterator with Return Method ===");\n\nlet iterableWithReturn = {\n    [Symbol.iterator]() {\n        let items = [1, 2, 3, 4, 5];\n        let index = 0;\n        \n        return {\n            next() {\n                if (index < items.length) {\n                    return {\n                        value: items[index++],\n                        done: false\n                    };\n                } else {\n                    return { done: true };\n                }\n            },\n            return() {\n                console.log("Iterator closed early");\n                return { done: true };\n            }\n        };\n    }\n};\n\nfor (let item of iterableWithReturn) {\n    console.log(item);\n    if (item === 3) break;  // Triggers return()\n}\n```\n\n**Expected Output**:\n```\n=== Basic Iterator ===\n{ value: 1, done: false }\n{ value: 2, done: false }\n{ value: 3, done: false }\n{ done: true }\n\n=== Iterable with Symbol.iterator ===\nUsing for...of:\n1\n2\n3\nUsing spread:\n[ 1, 2, 3 ]\nUsing Array.from():\n[ 1, 2, 3 ]\n\n=== Range Iterator ===\n1\n2\n3\n4\n5\n\n=== Countdown Iterator ===\n5\n4\n3\n2\n1\n\n=== Fibonacci Iterator ===\nFirst 10 Fibonacci numbers:\n1\n1\n2\n3\n5\n8\n13\n21\n34\n55\n\n=== Object Property Iterator ===\nname: Alice\nage: 25\ncity: New York\n\n=== Infinite Iterator ===\nFirst 5 numbers from infinite iterator:\n0\n1\n2\n3\n4\n\n=== Pagination Iterator ===\nPages:\nPage: [ 1, 2, 3 ]\nPage: [ 4, 5, 6 ]\nPage: [ 7, 8, 9 ]\nPage: [ 10 ]\n\n=== Iterator with Return Method ===\n1\n2\n3\nIterator closed early\n```\n\n**Challenge (Optional)**:\n- Build a tree traversal iterator\n- Create a file line-by-line iterator\n- Build a database result iterator\n- Create a streaming data iterator\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting Symbol.iterator\n\n```javascript\n// ⚠️ Problem: Not iterable\nlet obj = {\n    items: [1, 2, 3],\n    next() { /* ... */ }\n};\n\n// for (let item of obj) { }  // Error: obj is not iterable\n\n// ✅ Solution: Add Symbol.iterator\nlet obj = {\n    items: [1, 2, 3],\n    [Symbol.iterator]() {\n        // Return iterator\n    }\n};\n```\n\n### 2. Not Returning Iterator Object\n\n```javascript\n// ⚠️ Problem: next() not in returned object\n[Symbol.iterator]() {\n    let index = 0;\n    this.next = function() { /* ... */ };\n    return this;  // Wrong\n}\n\n// ✅ Solution: Return object with next()\n[Symbol.iterator]() {\n    let index = 0;\n    return {\n        next() { /* ... */ }\n    };\n}\n```\n\n### 3. Mutating State Incorrectly\n\n```javascript\n// ⚠️ Problem: Shared state\n[Symbol.iterator]() {\n    this.index = 0;  // Shared across iterations\n    return {\n        next() {\n            return { value: this.items[this.index++], done: false };\n        }\n    };\n}\n\n// ✅ Solution: Local state\n[Symbol.iterator]() {\n    let index = 0;  // Local to iterator\n    let items = this.items;\n    return {\n        next() {\n            return { value: items[index++], done: false };\n        }\n    };\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **Iterator Protocol**: Object with `next()` method returning `{value, done}`\n2. **Iterable Protocol**: Object with `Symbol.iterator` method returning iterator\n3. **Symbol.iterator**: Special symbol for making objects iterable\n4. **for...of**: Works with iterables\n5. **Spread/Destructuring**: Works with iterables\n6. **Custom Iterators**: Define how your objects are iterated\n7. **Lazy Evaluation**: Generate values on demand\n8. **Best Practice**: Use iterators for custom iteration logic\n\n---\n\n## Quiz: Iterators\n\nTest your understanding with these questions:\n\n1. **Iterator protocol requires:**\n   - A) next() method\n   - B) value property\n   - C) done property\n   - D) All of the above\n\n2. **Iterable protocol requires:**\n   - A) next() method\n   - B) Symbol.iterator method\n   - C) value property\n   - D) done property\n\n3. **Symbol.iterator returns:**\n   - A) Value\n   - B) Iterator\n   - C) Array\n   - D) Object\n\n4. **for...of works with:**\n   - A) Iterators\n   - B) Iterables\n   - C) Arrays only\n   - D) Objects only\n\n5. **next() returns object with:**\n   - A) value and done\n   - B) value only\n   - C) done only\n   - D) Nothing\n\n6. **Infinite iterators:**\n   - A) Always error\n   - B) Need manual break\n   - C) Auto-stop\n   - D) Not possible\n\n7. **Spread operator works with:**\n   - A) Iterables\n   - B) Arrays only\n   - C) Objects only\n   - D) Nothing\n\n**Answers**:\n1. A) next() method (returns object with value and done)\n2. B) Symbol.iterator method\n3. B) Iterator\n4. B) Iterables\n5. A) value and done\n6. B) Need manual break\n7. A) Iterables\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned iterators. You now know:\n- Iterator and Iterable protocols\n- How to create custom iterators\n- How to use Symbol.iterator\n- How iterators work with for...of\n\n**What''s Next?**\n- Lesson 10.2: Generators\n- Learn generator functions\n- Understand yield keyword\n- Build more advanced iteration patterns\n\n---\n\n## Additional Resources\n\n- **MDN: Iteration Protocols**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols)\n- **MDN: Symbol.iterator**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator)\n- **JavaScript.info: Iterables**: [javascript.info/iterable](https://javascript.info/iterable)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:48:39', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand the Iterator protocol\n- Understand the Iterable protocol\n- Use Symbol.iterator\n- Create custom iterators\n- Work with built-in iterables\n- Use iterators with for...of loops\n- Build iterator-based utilities');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (136, 50, 11, 'Generators', 'generators', '# Lesson 10.2: Generators\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand generator functions\n- Use the `yield` keyword\n- Work with generator methods (next, return, throw)\n- Understand generator delegation\n- Create infinite generators\n- Use generators for iteration\n- Build advanced generator patterns\n\n---\n\n## Introduction to Generators\n\nGenerators are special functions that can be paused and resumed. They provide a powerful way to create iterators and handle asynchronous operations.\n\n### What are Generators?\n\nA generator function returns a generator object that conforms to both the Iterator and Iterable protocols.\n\n### Why Generators?\n\n- **Lazy Evaluation**: Generate values on demand\n- **Memory Efficient**: Don''t need to store all values\n- **Pausable**: Can pause and resume execution\n- **Simpler Iterators**: Easier than manual iterator implementation\n- **Async Patterns**: Useful for async operations\n\n---\n\n## Generator Functions\n\n### Basic Generator Syntax\n\nGenerator functions are declared with `function*`:\n\n```javascript\nfunction* myGenerator() {\n    yield 1;\n    yield 2;\n    yield 3;\n}\n\nlet gen = myGenerator();\nconsole.log(gen.next());  // { value: 1, done: false }\nconsole.log(gen.next());  // { value: 2, done: false }\nconsole.log(gen.next());  // { value: 3, done: false }\nconsole.log(gen.next());  // { value: undefined, done: true }\n```\n\n### Generator Function Declaration\n\n```javascript\nfunction* generator() {\n    yield "Hello";\n    yield "World";\n}\n\nlet gen = generator();\nfor (let value of gen) {\n    console.log(value);  // "Hello", "World"\n}\n```\n\n### Generator Function Expression\n\n```javascript\nlet generator = function*() {\n    yield 1;\n    yield 2;\n};\n\nlet gen = generator();\nconsole.log(gen.next());  // { value: 1, done: false }\n```\n\n### Generator Arrow Function\n\n**Note**: Arrow functions cannot be generators. Must use `function*`.\n\n---\n\n## yield Keyword\n\nThe `yield` keyword pauses generator execution and returns a value.\n\n### Basic yield\n\n```javascript\nfunction* simpleGenerator() {\n    yield 1;\n    yield 2;\n    yield 3;\n}\n\nlet gen = simpleGenerator();\nconsole.log(gen.next().value);  // 1\nconsole.log(gen.next().value);  // 2\nconsole.log(gen.next().value);  // 3\n```\n\n### yield with Expressions\n\n```javascript\nfunction* expressionGenerator() {\n    yield 1 + 1;\n    yield 2 * 2;\n    yield 3 ** 3;\n}\n\nlet gen = expressionGenerator();\nfor (let value of gen) {\n    console.log(value);  // 2, 4, 27\n}\n```\n\n### yield in Loops\n\n```javascript\nfunction* rangeGenerator(start, end) {\n    for (let i = start; i <= end; i++) {\n        yield i;\n    }\n}\n\nlet gen = rangeGenerator(1, 5);\nfor (let num of gen) {\n    console.log(num);  // 1, 2, 3, 4, 5\n}\n```\n\n### yield with return\n\n```javascript\nfunction* generatorWithReturn() {\n    yield 1;\n    yield 2;\n    return "Done";\n    yield 3;  // Never reached\n}\n\nlet gen = generatorWithReturn();\nconsole.log(gen.next());  // { value: 1, done: false }\nconsole.log(gen.next());  // { value: 2, done: false }\nconsole.log(gen.next());  // { value: "Done", done: true }\nconsole.log(gen.next());  // { value: undefined, done: true }\n```\n\n---\n\n## Generator Methods\n\n### next() Method\n\n`next()` resumes execution and returns the next value:\n\n```javascript\nfunction* counter() {\n    let count = 0;\n    while (true) {\n        yield count++;\n    }\n}\n\nlet gen = counter();\nconsole.log(gen.next().value);  // 0\nconsole.log(gen.next().value);  // 1\nconsole.log(gen.next().value);  // 2\n```\n\n### next() with Arguments\n\nValues passed to `next()` become the result of the `yield` expression:\n\n```javascript\nfunction* generator() {\n    let x = yield 1;\n    let y = yield x + 2;\n    yield y + 3;\n}\n\nlet gen = generator();\nconsole.log(gen.next());      // { value: 1, done: false }\nconsole.log(gen.next(10));   // { value: 12, done: false } (x = 10)\nconsole.log(gen.next(20));  // { value: 23, done: false } (y = 20)\n```\n\n### return() Method\n\n`return()` terminates the generator:\n\n```javascript\nfunction* generator() {\n    yield 1;\n    yield 2;\n    yield 3;\n}\n\nlet gen = generator();\nconsole.log(gen.next());        // { value: 1, done: false }\nconsole.log(gen.return("End"));  // { value: "End", done: true }\nconsole.log(gen.next());         // { value: undefined, done: true }\n```\n\n### throw() Method\n\n`throw()` throws an error into the generator:\n\n```javascript\nfunction* generator() {\n    try {\n        yield 1;\n        yield 2;\n    } catch (error) {\n        console.log("Caught:", error.message);\n        yield 3;\n    }\n}\n\nlet gen = generator();\nconsole.log(gen.next());              // { value: 1, done: false }\nconsole.log(gen.throw(new Error("Error")));  // Caught: Error, { value: 3, done: false }\nconsole.log(gen.next());              // { value: undefined, done: true }\n```\n\n---\n\n## Generator Delegation\n\n### yield*\n\n`yield*` delegates to another generator or iterable:\n\n```javascript\nfunction* generator1() {\n    yield 1;\n    yield 2;\n}\n\nfunction* generator2() {\n    yield* generator1();\n    yield 3;\n    yield 4;\n}\n\nlet gen = generator2();\nfor (let value of gen) {\n    console.log(value);  // 1, 2, 3, 4\n}\n```\n\n### yield* with Arrays\n\n```javascript\nfunction* generator() {\n    yield* [1, 2, 3];\n    yield* "ABC";\n}\n\nlet gen = generator();\nfor (let value of gen) {\n    console.log(value);  // 1, 2, 3, "A", "B", "C"\n}\n```\n\n### Recursive Delegation\n\n```javascript\nfunction* treeTraversal(node) {\n    yield node.value;\n    if (node.children) {\n        for (let child of node.children) {\n            yield* treeTraversal(child);\n        }\n    }\n}\n\nlet tree = {\n    value: 1,\n    children: [\n        { value: 2, children: [] },\n        {\n            value: 3,\n            children: [\n                { value: 4, children: [] }\n            ]\n        }\n    ]\n};\n\nfor (let value of treeTraversal(tree)) {\n    console.log(value);  // 1, 2, 3, 4\n}\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Fibonacci Generator\n\n```javascript\nfunction* fibonacci() {\n    let prev = 0;\n    let curr = 1;\n    \n    while (true) {\n        yield curr;\n        [prev, curr] = [curr, prev + curr];\n    }\n}\n\nlet fib = fibonacci();\nlet count = 0;\nfor (let num of fib) {\n    console.log(num);\n    if (++count >= 10) break;  // First 10 numbers\n}\n```\n\n### Example 2: Range Generator\n\n```javascript\nfunction* range(start, end, step = 1) {\n    for (let i = start; i <= end; i += step) {\n        yield i;\n    }\n}\n\nfor (let num of range(0, 10, 2)) {\n    console.log(num);  // 0, 2, 4, 6, 8, 10\n}\n```\n\n### Example 3: Infinite Counter\n\n```javascript\nfunction* counter(start = 0, step = 1) {\n    let current = start;\n    while (true) {\n        yield current;\n        current += step;\n    }\n}\n\nlet count = counter(10, 5);\nconsole.log(count.next().value);  // 10\nconsole.log(count.next().value);  // 15\nconsole.log(count.next().value);  // 20\n```\n\n### Example 4: Data Processing Pipeline\n\n```javascript\nfunction* numbers() {\n    yield* [1, 2, 3, 4, 5];\n}\n\nfunction* squares(iterable) {\n    for (let num of iterable) {\n        yield num * num;\n    }\n}\n\nfunction* evens(iterable) {\n    for (let num of iterable) {\n        if (num % 2 === 0) {\n            yield num;\n        }\n    }\n}\n\nlet pipeline = evens(squares(numbers()));\nfor (let value of pipeline) {\n    console.log(value);  // 4, 16 (squares of 2 and 4)\n}\n```\n\n### Example 5: Async-like Generator\n\n```javascript\nfunction* asyncGenerator() {\n    yield new Promise(resolve => setTimeout(() => resolve(1), 1000));\n    yield new Promise(resolve => setTimeout(() => resolve(2), 1000));\n    yield new Promise(resolve => setTimeout(() => resolve(3), 1000));\n}\n\nasync function process() {\n    for await (let value of asyncGenerator()) {\n        console.log(value);  // 1, 2, 3 (with delays)\n    }\n}\n\nprocess();\n```\n\n---\n\n## Advanced Patterns\n\n### Pattern 1: Generator as State Machine\n\n```javascript\nfunction* stateMachine() {\n    while (true) {\n        let action = yield;\n        switch (action) {\n            case "start":\n                console.log("Starting...");\n                break;\n            case "pause":\n                console.log("Paused");\n                break;\n            case "stop":\n                console.log("Stopped");\n                return;\n            default:\n                console.log("Unknown action");\n        }\n    }\n}\n\nlet machine = stateMachine();\nmachine.next();  // Initialize\nmachine.next("start");   // Starting...\nmachine.next("pause");  // Paused\nmachine.next("stop");   // Stopped\n```\n\n### Pattern 2: Coroutines\n\n```javascript\nfunction* coroutine() {\n    let result = yield "First";\n    console.log("Received:", result);\n    result = yield "Second";\n    console.log("Received:", result);\n    return "Done";\n}\n\nlet co = coroutine();\nconsole.log(co.next());        // { value: "First", done: false }\nconsole.log(co.next("Hello")); // Received: Hello, { value: "Second", done: false }\nconsole.log(co.next("World")); // Received: World, { value: "Done", done: true }\n```\n\n### Pattern 3: Generator Composition\n\n```javascript\nfunction* map(iterable, fn) {\n    for (let item of iterable) {\n        yield fn(item);\n    }\n}\n\nfunction* filter(iterable, predicate) {\n    for (let item of iterable) {\n        if (predicate(item)) {\n            yield item;\n        }\n    }\n}\n\nfunction* take(iterable, n) {\n    let count = 0;\n    for (let item of iterable) {\n        if (count++ >= n) break;\n        yield item;\n    }\n}\n\nlet numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nlet pipeline = take(\n    filter(\n        map(numbers, x => x * 2),\n        x => x > 10\n    ),\n    3\n);\n\nfor (let value of pipeline) {\n    console.log(value);  // 12, 14, 16\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Generator Practice\n\n**Objective**: Practice creating and using generators in various scenarios.\n\n**Instructions**:\n\n1. Create a file called `generators-practice.js`\n\n2. Create generators for:\n   - Range generator\n   - Fibonacci generator\n   - Infinite counter\n   - Data processing pipeline\n   - State machine\n\n3. Practice:\n   - Using yield keyword\n   - Generator methods (next, return, throw)\n   - Generator delegation\n   - for...of with generators\n\n**Example Solution**:\n\n```javascript\n// Generators Practice\nconsole.log("=== Basic Generator ===");\n\nfunction* basicGenerator() {\n    yield 1;\n    yield 2;\n    yield 3;\n}\n\nlet gen = basicGenerator();\nconsole.log(gen.next());  // { value: 1, done: false }\nconsole.log(gen.next());  // { value: 2, done: false }\nconsole.log(gen.next());  // { value: 3, done: false }\nconsole.log(gen.next());  // { value: undefined, done: true }\nconsole.log();\n\nconsole.log("=== Generator with for...of ===");\n\nfunction* rangeGenerator(start, end) {\n    for (let i = start; i <= end; i++) {\n        yield i;\n    }\n}\n\nfor (let num of rangeGenerator(1, 5)) {\n    console.log(num);  // 1, 2, 3, 4, 5\n}\nconsole.log();\n\nconsole.log("=== Fibonacci Generator ===");\n\nfunction* fibonacci() {\n    let prev = 0;\n    let curr = 1;\n    \n    while (true) {\n        yield curr;\n        [prev, curr] = [curr, prev + curr];\n    }\n}\n\nlet fib = fibonacci();\nlet count = 0;\nconsole.log("First 10 Fibonacci numbers:");\nfor (let num of fib) {\n    console.log(num);\n    if (++count >= 10) break;\n}\nconsole.log();\n\nconsole.log("=== next() with Arguments ===");\n\nfunction* generatorWithArgs() {\n    let x = yield "First";\n    console.log("Received x:", x);\n    let y = yield "Second";\n    console.log("Received y:", y);\n    yield x + y;\n}\n\nlet gen2 = generatorWithArgs();\nconsole.log(gen2.next());      // { value: "First", done: false }\nconsole.log(gen2.next(10));   // Received x: 10, { value: "Second", done: false }\nconsole.log(gen2.next(20));   // Received y: 20, { value: 30, done: false }\nconsole.log();\n\nconsole.log("=== return() Method ===");\n\nfunction* generatorWithReturn() {\n    yield 1;\n    yield 2;\n    yield 3;\n}\n\nlet gen3 = generatorWithReturn();\nconsole.log(gen3.next());           // { value: 1, done: false }\nconsole.log(gen3.return("Early"));  // { value: "Early", done: true }\nconsole.log(gen3.next());           // { value: undefined, done: true }\nconsole.log();\n\nconsole.log("=== throw() Method ===");\n\nfunction* generatorWithThrow() {\n    try {\n        yield 1;\n        yield 2;\n    } catch (error) {\n        console.log("Caught error:", error.message);\n        yield 3;\n    }\n}\n\nlet gen4 = generatorWithThrow();\nconsole.log(gen4.next());                    // { value: 1, done: false }\nconsole.log(gen4.throw(new Error("Test"))); // Caught error: Test, { value: 3, done: false }\nconsole.log(gen4.next());                    // { value: undefined, done: true }\nconsole.log();\n\nconsole.log("=== Generator Delegation ===");\n\nfunction* generator1() {\n    yield 1;\n    yield 2;\n}\n\nfunction* generator2() {\n    yield* generator1();\n    yield 3;\n    yield 4;\n}\n\nfor (let value of generator2()) {\n    console.log(value);  // 1, 2, 3, 4\n}\nconsole.log();\n\nconsole.log("=== yield* with Arrays ===");\n\nfunction* arrayGenerator() {\n    yield* [1, 2, 3];\n    yield* "ABC";\n}\n\nfor (let value of arrayGenerator()) {\n    console.log(value);  // 1, 2, 3, "A", "B", "C"\n}\nconsole.log();\n\nconsole.log("=== Infinite Generator ===");\n\nfunction* infiniteCounter(start = 0, step = 1) {\n    let current = start;\n    while (true) {\n        yield current;\n        current += step;\n    }\n}\n\nlet counter = infiniteCounter(10, 5);\nconsole.log("First 5 values:");\nfor (let i = 0; i < 5; i++) {\n    console.log(counter.next().value);  // 10, 15, 20, 25, 30\n}\nconsole.log();\n\nconsole.log("=== Data Processing Pipeline ===");\n\nfunction* numbers() {\n    yield* [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n}\n\nfunction* squares(iterable) {\n    for (let num of iterable) {\n        yield num * num;\n    }\n}\n\nfunction* evens(iterable) {\n    for (let num of iterable) {\n        if (num % 2 === 0) {\n            yield num;\n        }\n    }\n}\n\nlet pipeline = evens(squares(numbers()));\nconsole.log("Even squares:");\nfor (let value of pipeline) {\n    console.log(value);  // 4, 16, 36, 64, 100\n}\nconsole.log();\n\nconsole.log("=== State Machine Generator ===");\n\nfunction* stateMachine() {\n    while (true) {\n        let action = yield;\n        switch (action) {\n            case "start":\n                console.log("  State: Starting");\n                break;\n            case "run":\n                console.log("  State: Running");\n                break;\n            case "pause":\n                console.log("  State: Paused");\n                break;\n            case "stop":\n                console.log("  State: Stopped");\n                return;\n            default:\n                console.log("  Unknown action:", action);\n        }\n    }\n}\n\nlet machine = stateMachine();\nmachine.next();  // Initialize\nmachine.next("start");   // State: Starting\nmachine.next("run");     // State: Running\nmachine.next("pause");   // State: Paused\nmachine.next("stop");    // State: Stopped\nconsole.log();\n\nconsole.log("=== Generator Composition ===");\n\nfunction* map(iterable, fn) {\n    for (let item of iterable) {\n        yield fn(item);\n    }\n}\n\nfunction* filter(iterable, predicate) {\n    for (let item of iterable) {\n        if (predicate(item)) {\n            yield item;\n        }\n    }\n}\n\nfunction* take(iterable, n) {\n    let count = 0;\n    for (let item of iterable) {\n        if (count++ >= n) break;\n        yield item;\n    }\n}\n\nlet data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nlet result = take(\n    filter(\n        map(data, x => x * 2),\n        x => x > 10\n    ),\n    3\n);\n\nconsole.log("Composed pipeline result:");\nfor (let value of result) {\n    console.log(value);  // 12, 14, 16\n}\n```\n\n**Expected Output**:\n```\n=== Basic Generator ===\n{ value: 1, done: false }\n{ value: 2, done: false }\n{ value: 3, done: false }\n{ value: undefined, done: true }\n\n=== Generator with for...of ===\n1\n2\n3\n4\n5\n\n=== Fibonacci Generator ===\nFirst 10 Fibonacci numbers:\n1\n1\n2\n3\n5\n8\n13\n21\n34\n55\n\n=== next() with Arguments ===\n{ value: "First", done: false }\nReceived x: 10\n{ value: "Second", done: false }\nReceived y: 20\n{ value: 30, done: false }\n\n=== return() Method ===\n{ value: 1, done: false }\n{ value: "Early", done: true }\n{ value: undefined, done: true }\n\n=== throw() Method ===\n{ value: 1, done: false }\nCaught error: Test\n{ value: 3, done: false }\n{ value: undefined, done: true }\n\n=== Generator Delegation ===\n1\n2\n3\n4\n\n=== yield* with Arrays ===\n1\n2\n3\nA\nB\nC\n\n=== Infinite Generator ===\nFirst 5 values:\n10\n15\n20\n25\n30\n\n=== Data Processing Pipeline ===\nEven squares:\n4\n16\n36\n64\n100\n\n=== State Machine Generator ===\n  State: Starting\n  State: Running\n  State: Paused\n  State: Stopped\n\n=== Generator Composition ===\nComposed pipeline result:\n12\n14\n16\n```\n\n**Challenge (Optional)**:\n- Build a generator-based async library\n- Create a tree traversal generator\n- Build a file processing generator\n- Create a reactive programming system with generators\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting function*\n\n```javascript\n// ❌ Error: Not a generator\nfunction myGenerator() {\n    yield 1;  // Error: Unexpected token\n}\n\n// ✅ Correct: Use function*\nfunction* myGenerator() {\n    yield 1;\n}\n```\n\n### 2. Calling Generator Directly\n\n```javascript\n// ⚠️ Problem: Generator function returns generator object\nfunction* generator() {\n    yield 1;\n}\n\ngenerator();  // Returns generator, doesn''t execute\n\n// ✅ Correct: Call and use\nlet gen = generator();\ngen.next();  // Execute\n```\n\n### 3. Not Handling Infinite Generators\n\n```javascript\n// ⚠️ Problem: Infinite loop\nfunction* infinite() {\n    while (true) {\n        yield Math.random();\n    }\n}\n\nfor (let value of infinite()) {\n    console.log(value);  // Never ends!\n}\n\n// ✅ Solution: Break manually\nlet count = 0;\nfor (let value of infinite()) {\n    console.log(value);\n    if (++count >= 10) break;\n}\n```\n\n### 4. Misunderstanding yield Return Value\n\n```javascript\n// ⚠️ Confusion: yield returns value passed to next()\nfunction* generator() {\n    let x = yield 1;  // x is value from next()\n}\n\nlet gen = generator();\ngen.next();      // Returns { value: 1, done: false }\ngen.next(10);    // x becomes 10\n```\n\n---\n\n## Key Takeaways\n\n1. **Generator Functions**: Declared with `function*`\n2. **yield**: Pauses execution and returns value\n3. **next()**: Resumes execution, can pass value\n4. **return()**: Terminates generator\n5. **throw()**: Throws error into generator\n6. **yield***: Delegates to another generator/iterable\n7. **Iterable**: Generators are iterable (work with for...of)\n8. **Best Practice**: Use generators for lazy evaluation and iteration\n\n---\n\n## Quiz: Generators\n\nTest your understanding with these questions:\n\n1. **Generator functions use:**\n   - A) function\n   - B) function*\n   - C) function**\n   - D) generator\n\n2. **yield keyword:**\n   - A) Returns value\n   - B) Pauses execution\n   - C) Both A and B\n   - D) Nothing\n\n3. **next() method:**\n   - A) Starts generator\n   - B) Resumes execution\n   - C) Stops generator\n   - D) Returns error\n\n4. **yield* delegates to:**\n   - A) Another generator\n   - B) Iterable\n   - C) Both A and B\n   - D) Function\n\n5. **Generators are:**\n   - A) Iterators\n   - B) Iterables\n   - C) Both\n   - D) Neither\n\n6. **return() method:**\n   - A) Returns value\n   - B) Terminates generator\n   - C) Both A and B\n   - D) Resumes generator\n\n7. **Infinite generators need:**\n   - A) Auto-stop\n   - B) Manual break\n   - C) Error\n   - D) Nothing\n\n**Answers**:\n1. B) function*\n2. C) Both A and B\n3. B) Resumes execution\n4. C) Both A and B\n5. C) Both\n6. C) Both A and B\n7. B) Manual break\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 10: Iterators and Generators. You now know:\n- How iterators work\n- How to create custom iterators\n- How generators work\n- How to use yield and generator methods\n\n**What''s Next?**\n- Module 11: Modules\n- Lesson 11.1: ES6 Modules\n- Practice combining iterators and generators\n- Build more advanced patterns\n\n---\n\n## Additional Resources\n\n- **MDN: Generator Functions**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*)\n- **MDN: yield**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield)\n- **JavaScript.info: Generators**: [javascript.info/generators](https://javascript.info/generators)\n- **Generator Patterns**: Advanced patterns and use cases\n\n---\n\n*Lesson completed! You''ve finished Module 10: Iterators and Generators. Ready for Module 11: Modules!*\n\n', NULL, 2, '2026-01-03 09:48:39', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand generator functions\n- Use the `yield` keyword\n- Work with generator methods (next, return, throw)\n- Understand generator delegation\n- Create infinite generators\n- Use generators for iteration\n- Build advanced generator patterns');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (137, 51, 11, 'ES6 Modules', 'es6-modules', '# Lesson 11.1: ES6 Modules\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand ES6 module system\n- Use `export` keyword to export values\n- Use `import` keyword to import values\n- Differentiate between default and named exports\n- Create and use modules\n- Organize code with modules\n- Write modern modular JavaScript\n\n---\n\n## Introduction to ES6 Modules\n\nES6 modules provide a standardized way to organize and share code between files. They''re the modern standard for JavaScript module systems.\n\n### Why Modules?\n\n- **Code Organization**: Split code into logical units\n- **Reusability**: Share code between files\n- **Dependency Management**: Clear dependencies\n- **Scope Isolation**: Each module has its own scope\n- **Tree Shaking**: Remove unused code\n- **Modern Standard**: Supported in modern browsers and Node.js\n\n---\n\n## Basic Module Syntax\n\n### Exporting Values\n\nUse `export` to make values available to other modules:\n\n```javascript\n// math.js\nexport const PI = 3.14159;\nexport function add(a, b) {\n    return a + b;\n}\n```\n\n### Importing Values\n\nUse `import` to use values from other modules:\n\n```javascript\n// main.js\nimport { PI, add } from ''./math.js'';\n\nconsole.log(PI);        // 3.14159\nconsole.log(add(5, 3)); // 8\n```\n\n---\n\n## Named Exports\n\nNamed exports allow you to export multiple values with specific names.\n\n### Exporting Multiple Named Exports\n\n```javascript\n// utils.js\nexport function greet(name) {\n    return `Hello, ${name}!`;\n}\n\nexport function farewell(name) {\n    return `Goodbye, ${name}!`;\n}\n\nexport const MAX_SIZE = 100;\n```\n\n### Importing Named Exports\n\n```javascript\n// main.js\nimport { greet, farewell, MAX_SIZE } from ''./utils.js'';\n\nconsole.log(greet("Alice"));      // "Hello, Alice!"\nconsole.log(farewell("Bob"));     // "Goodbye, Bob!"\nconsole.log(MAX_SIZE);            // 100\n```\n\n### Import with Different Names\n\n```javascript\n// Import with alias\nimport { greet as sayHello, farewell as sayGoodbye } from ''./utils.js'';\n\nsayHello("Alice");\nsayGoodbye("Bob");\n```\n\n### Import All Named Exports\n\n```javascript\n// Import everything\nimport * as utils from ''./utils.js'';\n\nconsole.log(utils.greet("Alice"));\nconsole.log(utils.MAX_SIZE);\n```\n\n### Export After Declaration\n\n```javascript\n// math.js\nfunction add(a, b) {\n    return a + b;\n}\n\nfunction subtract(a, b) {\n    return a - b;\n}\n\nexport { add, subtract };\n```\n\n### Export with Rename\n\n```javascript\n// math.js\nfunction add(a, b) {\n    return a + b;\n}\n\nexport { add as sum };\n```\n\n---\n\n## Default Exports\n\nDefault exports allow you to export a single value as the default export.\n\n### Single Default Export\n\n```javascript\n// calculator.js\nexport default function calculator(a, b, operation) {\n    switch (operation) {\n        case ''add'':\n            return a + b;\n        case ''subtract'':\n            return a - b;\n        default:\n            return 0;\n    }\n}\n```\n\n### Importing Default Export\n\n```javascript\n// main.js\nimport calculator from ''./calculator.js'';\n\nconsole.log(calculator(5, 3, ''add''));  // 8\n```\n\n### Default Export with Named Exports\n\n```javascript\n// math.js\nexport default function add(a, b) {\n    return a + b;\n}\n\nexport function subtract(a, b) {\n    return a - b;\n}\n\nexport const PI = 3.14159;\n```\n\n### Importing Default and Named\n\n```javascript\n// main.js\nimport add, { subtract, PI } from ''./math.js'';\n\nconsole.log(add(5, 3));        // 8\nconsole.log(subtract(5, 3));   // 2\nconsole.log(PI);               // 3.14159\n```\n\n### Default Export with Rename\n\n```javascript\n// main.js\nimport { default as add, subtract } from ''./math.js'';\n```\n\n---\n\n## Export Syntax Variations\n\n### Export Variable\n\n```javascript\n// constants.js\nexport const API_URL = "https://api.example.com";\nexport let counter = 0;\n```\n\n### Export Class\n\n```javascript\n// user.js\nexport class User {\n    constructor(name) {\n        this.name = name;\n    }\n    \n    greet() {\n        return `Hello, I''m ${this.name}`;\n    }\n}\n```\n\n### Export Object\n\n```javascript\n// config.js\nconst config = {\n    apiUrl: "https://api.example.com",\n    timeout: 5000\n};\n\nexport default config;\n```\n\n### Re-exporting\n\n```javascript\n// index.js\nexport { add, subtract } from ''./math.js'';\nexport { greet } from ''./utils.js'';\nexport { default as Calculator } from ''./calculator.js'';\n```\n\n---\n\n## Module Scope\n\nEach module has its own scope. Variables declared in a module are not global.\n\n### Module Scope Example\n\n```javascript\n// module1.js\nlet privateVar = "I''m private";\nexport let publicVar = "I''m public";\n\n// module2.js\nimport { publicVar } from ''./module1.js'';\nconsole.log(publicVar);  // "I''m public"\n// console.log(privateVar);  // Error: privateVar is not defined\n```\n\n### Top-Level Variables\n\n```javascript\n// module.js\nlet count = 0;  // Module-scoped, not global\n\nexport function increment() {\n    count++;\n    return count;\n}\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Math Module\n\n```javascript\n// math.js\nexport function add(a, b) {\n    return a + b;\n}\n\nexport function subtract(a, b) {\n    return a - b;\n}\n\nexport function multiply(a, b) {\n    return a * b;\n}\n\nexport function divide(a, b) {\n    if (b === 0) {\n        throw new Error("Division by zero");\n    }\n    return a / b;\n}\n\nexport const PI = 3.14159;\nexport const E = 2.71828;\n```\n\n```javascript\n// main.js\nimport { add, subtract, multiply, divide, PI } from ''./math.js'';\n\nconsole.log(add(5, 3));        // 8\nconsole.log(multiply(4, 2));   // 8\nconsole.log(PI);               // 3.14159\n```\n\n### Example 2: User Module\n\n```javascript\n// user.js\nexport class User {\n    constructor(name, email) {\n        this.name = name;\n        this.email = email;\n    }\n    \n    getInfo() {\n        return `${this.name} (${this.email})`;\n    }\n}\n\nexport function createUser(name, email) {\n    return new User(name, email);\n}\n```\n\n```javascript\n// main.js\nimport { User, createUser } from ''./user.js'';\n\nlet user1 = new User("Alice", "alice@example.com");\nlet user2 = createUser("Bob", "bob@example.com");\n\nconsole.log(user1.getInfo());  // "Alice (alice@example.com)"\nconsole.log(user2.getInfo());  // "Bob (bob@example.com)"\n```\n\n### Example 3: Configuration Module\n\n```javascript\n// config.js\nconst config = {\n    apiUrl: "https://api.example.com",\n    timeout: 5000,\n    retries: 3\n};\n\nexport default config;\n```\n\n```javascript\n// main.js\nimport config from ''./config.js'';\n\nconsole.log(config.apiUrl);   // "https://api.example.com"\nconsole.log(config.timeout);  // 5000\n```\n\n### Example 4: Utility Module\n\n```javascript\n// utils.js\nexport function formatDate(date) {\n    return date.toLocaleDateString();\n}\n\nexport function formatCurrency(amount) {\n    return `$${amount.toFixed(2)}`;\n}\n\nexport function debounce(func, delay) {\n    let timeoutId;\n    return function(...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => func(...args), delay);\n    };\n}\n```\n\n```javascript\n// main.js\nimport { formatDate, formatCurrency, debounce } from ''./utils.js'';\n\nconsole.log(formatDate(new Date()));\nconsole.log(formatCurrency(19.99));\n\nlet debouncedLog = debounce(() => console.log("Debounced"), 1000);\n```\n\n---\n\n## Module Best Practices\n\n### 1. One Default Export Per Module\n\n```javascript\n// ✅ Good: One default export\nexport default class Calculator { }\n\n// ⚠️ Avoid: Multiple default exports (not possible)\n```\n\n### 2. Consistent Naming\n\n```javascript\n// ✅ Good: Clear, descriptive names\nexport function calculateTotal(items) { }\nexport const MAX_ITEMS = 100;\n\n// ⚠️ Avoid: Unclear names\nexport function calc(items) { }\nexport const MAX = 100;\n```\n\n### 3. Barrel Exports (index.js)\n\n```javascript\n// index.js - Re-export from multiple modules\nexport { add, subtract } from ''./math.js'';\nexport { greet, farewell } from ''./utils.js'';\nexport { User } from ''./user.js'';\n```\n\n### 4. Organize by Feature\n\n```\nsrc/\n  users/\n    user.js\n    userService.js\n    index.js\n  products/\n    product.js\n    productService.js\n    index.js\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Creating Modules\n\n**Objective**: Practice creating and using ES6 modules.\n\n**Instructions**:\n\n1. Create multiple module files:\n   - `math.js` - Math utilities\n   - `user.js` - User class and functions\n   - `utils.js` - Utility functions\n   - `config.js` - Configuration\n   - `main.js` - Main file importing from modules\n\n2. Practice:\n   - Named exports\n   - Default exports\n   - Importing with different syntaxes\n   - Re-exporting\n   - Module organization\n\n**Example Solution**:\n\n```javascript\n// math.js\nexport function add(a, b) {\n    return a + b;\n}\n\nexport function subtract(a, b) {\n    return a - b;\n}\n\nexport function multiply(a, b) {\n    return a * b;\n}\n\nexport function divide(a, b) {\n    if (b === 0) {\n        throw new Error("Division by zero");\n    }\n    return a / b;\n}\n\nexport const PI = 3.14159;\nexport const E = 2.71828;\n\n// Default export\nexport default {\n    add,\n    subtract,\n    multiply,\n    divide,\n    PI,\n    E\n};\n```\n\n```javascript\n// user.js\nexport class User {\n    constructor(name, email) {\n        this.name = name;\n        this.email = email;\n    }\n    \n    getInfo() {\n        return `${this.name} (${this.email})`;\n    }\n}\n\nexport function createUser(name, email) {\n    return new User(name, email);\n}\n\nexport function validateEmail(email) {\n    return email.includes("@");\n}\n```\n\n```javascript\n// utils.js\nexport function formatDate(date) {\n    return date.toLocaleDateString();\n}\n\nexport function formatCurrency(amount) {\n    return `$${amount.toFixed(2)}`;\n}\n\nexport function debounce(func, delay) {\n    let timeoutId;\n    return function(...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => func(...args), delay);\n    };\n}\n\nexport function throttle(func, limit) {\n    let inThrottle;\n    return function(...args) {\n        if (!inThrottle) {\n            func(...args);\n            inThrottle = true;\n            setTimeout(() => inThrottle = false, limit);\n        }\n    };\n}\n```\n\n```javascript\n// config.js\nconst config = {\n    apiUrl: "https://api.example.com",\n    timeout: 5000,\n    retries: 3,\n    environment: "development"\n};\n\nexport default config;\n```\n\n```javascript\n// index.js - Barrel export\nexport { add, subtract, multiply, divide, PI, E } from ''./math.js'';\nexport { default as math } from ''./math.js'';\nexport { User, createUser, validateEmail } from ''./user.js'';\nexport { formatDate, formatCurrency, debounce, throttle } from ''./utils.js'';\nexport { default as config } from ''./config.js'';\n```\n\n```javascript\n// main.js\n// Import named exports\nimport { add, subtract, PI } from ''./math.js'';\nimport { User, createUser } from ''./user.js'';\nimport { formatDate, formatCurrency } from ''./utils.js'';\n\n// Import default export\nimport config from ''./config.js'';\n\n// Import with alias\nimport { add as sum, subtract as diff } from ''./math.js'';\n\n// Import all\nimport * as math from ''./math.js'';\n\n// Use imported values\nconsole.log("=== Math Operations ===");\nconsole.log("Add:", add(5, 3));           // 8\nconsole.log("Subtract:", subtract(5, 3));  // 2\nconsole.log("PI:", PI);                   // 3.14159\nconsole.log("Sum (alias):", sum(10, 5));  // 15\nconsole.log("Math module:", math.multiply(4, 2));  // 8\n\nconsole.log("\\n=== User Operations ===");\nlet user1 = new User("Alice", "alice@example.com");\nlet user2 = createUser("Bob", "bob@example.com");\nconsole.log("User 1:", user1.getInfo());\nconsole.log("User 2:", user2.getInfo());\n\nconsole.log("\\n=== Utility Functions ===");\nconsole.log("Date:", formatDate(new Date()));\nconsole.log("Currency:", formatCurrency(19.99));\n\nconsole.log("\\n=== Configuration ===");\nconsole.log("API URL:", config.apiUrl);\nconsole.log("Timeout:", config.timeout);\nconsole.log("Environment:", config.environment);\n\n// Import from barrel export\nimport { formatDate as format, config as appConfig } from ''./index.js'';\nconsole.log("\\n=== From Barrel Export ===");\nconsole.log("Formatted date:", format(new Date()));\nconsole.log("Config:", appConfig);\n```\n\n**Expected Output**:\n```\n=== Math Operations ===\nAdd: 8\nSubtract: 2\nPI: 3.14159\nSum (alias): 15\nMath module: 8\n\n=== User Operations ===\nUser 1: Alice (alice@example.com)\nUser 2: Bob (bob@example.com)\n\n=== Utility Functions ===\nDate: [Current date]\nCurrency: $19.99\n\n=== Configuration ===\nAPI URL: https://api.example.com\nTimeout: 5000\nEnvironment: development\n\n=== From Barrel Export ===\nFormatted date: [Current date]\nConfig: { apiUrl: "https://api.example.com", timeout: 5000, retries: 3, environment: "development" }\n```\n\n**Challenge (Optional)**:\n- Build a complete module-based application\n- Create a module library\n- Organize a large codebase with modules\n- Create reusable module patterns\n\n---\n\n## Common Mistakes\n\n### 1. Missing File Extension\n\n```javascript\n// ⚠️ Problem: Missing .js extension\nimport { add } from ''./math'';  // May not work in all environments\n\n// ✅ Solution: Include extension\nimport { add } from ''./math.js'';\n```\n\n### 2. Mixing Default and Named Exports Incorrectly\n\n```javascript\n// ⚠️ Problem: Wrong import syntax\nimport add, { subtract } from ''./math.js'';  // add is default\n\n// ✅ Correct: Default first, then named\nimport add, { subtract } from ''./math.js'';\n```\n\n### 3. Circular Dependencies\n\n```javascript\n// ⚠️ Problem: Circular dependency\n// module1.js\nimport { func2 } from ''./module2.js'';\n\n// module2.js\nimport { func1 } from ''./module1.js'';  // Circular!\n\n// ✅ Solution: Restructure to avoid circular dependencies\n```\n\n### 4. Exporting Non-existent Values\n\n```javascript\n// ⚠️ Problem: Exporting undefined\nexport { nonExistentVar };  // Error\n\n// ✅ Solution: Export existing values\nlet myVar = "value";\nexport { myVar };\n```\n\n---\n\n## Key Takeaways\n\n1. **export**: Makes values available to other modules\n2. **import**: Brings values from other modules\n3. **Named Exports**: Multiple exports with specific names\n4. **Default Export**: Single default export per module\n5. **Module Scope**: Each module has its own scope\n6. **File Extension**: Use `.js` extension in imports\n7. **Best Practice**: One default export, multiple named exports\n8. **Organization**: Organize modules by feature\n\n---\n\n## Quiz: ES6 Modules\n\nTest your understanding with these questions:\n\n1. **What keyword exports values?**\n   - A) export\n   - B) import\n   - C) module\n   - D) require\n\n2. **What keyword imports values?**\n   - A) export\n   - B) import\n   - C) module\n   - D) require\n\n3. **How many default exports per module?**\n   - A) 0\n   - B) 1\n   - C) Multiple\n   - D) Unlimited\n\n4. **Named exports use:**\n   - A) export default\n   - B) export { name }\n   - C) Both\n   - D) Neither\n\n5. **Import syntax for default export:**\n   - A) import { name } from ''./module.js''\n   - B) import name from ''./module.js''\n   - C) import * as name from ''./module.js''\n   - D) All of the above\n\n6. **Modules have:**\n   - A) Global scope\n   - B) Module scope\n   - C) Function scope\n   - D) Block scope\n\n7. **Re-exporting uses:**\n   - A) export from\n   - B) import from\n   - C) require from\n   - D) module from\n\n**Answers**:\n1. A) export\n2. B) import\n3. B) 1\n4. B) export { name }\n5. B) import name from ''./module.js''\n6. B) Module scope\n7. A) export from\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned ES6 modules. You now know:\n- How to export and import values\n- Named vs default exports\n- Module syntax and organization\n- Best practices for modules\n\n**What''s Next?**\n- Lesson 11.2: CommonJS and Module Systems\n- Learn about other module systems\n- Understand module bundlers\n- Build larger applications\n\n---\n\n## Additional Resources\n\n- **MDN: ES6 Modules**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules)\n- **JavaScript.info: Modules**: [javascript.info/modules-intro](https://javascript.info/modules-intro)\n- **ES6 Modules Guide**: Comprehensive module patterns\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:49:46', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand ES6 module system\n- Use `export` keyword to export values\n- Use `import` keyword to import values\n- Differentiate between default and named exports\n- Create and use modules\n- Organize code with modules\n- Write modern modular JavaScript');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (138, 51, 11, 'CommonJS and Module Systems', 'commonjs-and-module-systems', '# Lesson 11.2: CommonJS and Module Systems\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand CommonJS module system\n- Use `require()` and `module.exports`\n- Understand AMD modules\n- Learn about module bundlers (Webpack, Rollup)\n- Compare different module systems\n- Choose the right module system for your project\n- Understand module loading strategies\n\n---\n\n## Introduction to Module Systems\n\nJavaScript has evolved through different module systems. Understanding them helps you work with different codebases and tools.\n\n### Module System Evolution\n\n1. **No Modules**: Global variables (old way)\n2. **CommonJS**: Node.js standard (require/module.exports)\n3. **AMD**: Asynchronous Module Definition (browser)\n4. **ES6 Modules**: Modern standard (import/export)\n5. **Bundlers**: Tools that combine modules (Webpack, Rollup)\n\n---\n\n## CommonJS\n\nCommonJS is the module system used in Node.js. It uses `require()` to import and `module.exports` to export.\n\n### Basic CommonJS Export\n\n```javascript\n// math.js\nfunction add(a, b) {\n    return a + b;\n}\n\nfunction subtract(a, b) {\n    return a - b;\n}\n\nmodule.exports = {\n    add,\n    subtract\n};\n```\n\n### Basic CommonJS Import\n\n```javascript\n// main.js\nconst math = require(''./math.js'');\n\nconsole.log(math.add(5, 3));      // 8\nconsole.log(math.subtract(5, 3));  // 2\n```\n\n### Export Individual Functions\n\n```javascript\n// utils.js\nexports.greet = function(name) {\n    return `Hello, ${name}!`;\n};\n\nexports.farewell = function(name) {\n    return `Goodbye, ${name}!`;\n};\n```\n\n```javascript\n// main.js\nconst { greet, farewell } = require(''./utils.js'');\n\nconsole.log(greet("Alice"));    // "Hello, Alice!"\nconsole.log(farewell("Bob"));   // "Goodbye, Bob!"\n```\n\n### Default Export\n\n```javascript\n// calculator.js\nfunction Calculator() {\n    this.add = (a, b) => a + b;\n    this.subtract = (a, b) => a - b;\n}\n\nmodule.exports = Calculator;\n```\n\n```javascript\n// main.js\nconst Calculator = require(''./calculator.js'');\nconst calc = new Calculator();\n\nconsole.log(calc.add(5, 3));  // 8\n```\n\n### Export Single Function\n\n```javascript\n// add.js\nmodule.exports = function(a, b) {\n    return a + b;\n};\n```\n\n```javascript\n// main.js\nconst add = require(''./add.js'');\nconsole.log(add(5, 3));  // 8\n```\n\n### CommonJS vs ES6 Modules\n\n| Feature | CommonJS | ES6 Modules |\n|---------|----------|-------------|\n| Syntax | `require()` / `module.exports` | `import` / `export` |\n| Loading | Synchronous | Asynchronous |\n| Tree Shaking | No | Yes |\n| Static Analysis | Limited | Full |\n| Browser Support | Via bundler | Native |\n| Node.js | Native | Native (ESM) |\n\n---\n\n## AMD (Asynchronous Module Definition)\n\nAMD is designed for browser environments where modules load asynchronously.\n\n### Basic AMD Module\n\n```javascript\n// math.js\ndefine(function() {\n    return {\n        add: function(a, b) {\n            return a + b;\n        },\n        subtract: function(a, b) {\n            return a - b;\n        }\n    };\n});\n```\n\n### AMD with Dependencies\n\n```javascript\n// calculator.js\ndefine([''math''], function(math) {\n    return {\n        calculate: function(a, b, operation) {\n            if (operation === ''add'') {\n                return math.add(a, b);\n            }\n            return math.subtract(a, b);\n        }\n    };\n});\n```\n\n### AMD with RequireJS\n\n```javascript\n// Using RequireJS\nrequire([''math'', ''calculator''], function(math, calculator) {\n    console.log(math.add(5, 3));\n    console.log(calculator.calculate(10, 5, ''add''));\n});\n```\n\n**Note**: AMD is less common now, replaced by ES6 modules and bundlers.\n\n---\n\n## Module Bundlers\n\nModule bundlers combine multiple modules into one or more files for browser use.\n\n### Why Bundlers?\n\n- **Browser Compatibility**: Browsers don''t natively support all module systems\n- **Optimization**: Minify, tree-shake, optimize code\n- **Asset Management**: Handle CSS, images, etc.\n- **Development Tools**: Hot reload, source maps\n- **Code Splitting**: Load code on demand\n\n### Popular Bundlers\n\n1. **Webpack**: Most popular, highly configurable\n2. **Rollup**: Great for libraries, tree-shaking\n3. **Parcel**: Zero-configuration bundler\n4. **Vite**: Fast development, modern tooling\n5. **esbuild**: Extremely fast bundler\n\n---\n\n## Webpack\n\nWebpack is a powerful module bundler that can handle various assets.\n\n### Basic Webpack Setup\n\n**package.json**:\n```json\n{\n  "name": "my-app",\n  "version": "1.0.0",\n  "scripts": {\n    "build": "webpack",\n    "dev": "webpack serve"\n  },\n  "devDependencies": {\n    "webpack": "^5.0.0",\n    "webpack-cli": "^4.0.0"\n  }\n}\n```\n\n**webpack.config.js**:\n```javascript\nconst path = require(''path'');\n\nmodule.exports = {\n  entry: ''./src/index.js'',\n  output: {\n    filename: ''bundle.js'',\n    path: path.resolve(__dirname, ''dist'')\n  },\n  mode: ''development''\n};\n```\n\n### Webpack Features\n\n- **Loaders**: Transform files (Babel, TypeScript, CSS)\n- **Plugins**: Extend functionality\n- **Code Splitting**: Split code into chunks\n- **Hot Module Replacement**: Update without refresh\n- **Source Maps**: Debug original code\n\n---\n\n## Rollup\n\nRollup is optimized for creating libraries and uses ES6 modules.\n\n### Basic Rollup Setup\n\n**rollup.config.js**:\n```javascript\nexport default {\n  input: ''src/index.js'',\n  output: {\n    file: ''dist/bundle.js'',\n    format: ''es''  // ES module format\n  }\n};\n```\n\n### Rollup Features\n\n- **Tree Shaking**: Remove unused code\n- **ES6 Modules**: Native ES6 module support\n- **Smaller Bundles**: Optimized for libraries\n- **Multiple Formats**: ES, CommonJS, UMD\n\n---\n\n## Vite\n\nVite is a modern build tool that provides fast development experience.\n\n### Basic Vite Setup\n\n**package.json**:\n```json\n{\n  "scripts": {\n    "dev": "vite",\n    "build": "vite build"\n  },\n  "devDependencies": {\n    "vite": "^4.0.0"\n  }\n}\n```\n\n### Vite Features\n\n- **Fast HMR**: Instant hot module replacement\n- **ES Modules**: Native ES module support\n- **Optimized Build**: Uses Rollup for production\n- **Zero Config**: Works out of the box\n\n---\n\n## Module System Comparison\n\n### When to Use Each\n\n**CommonJS:**\n- Node.js applications\n- Legacy codebases\n- Server-side JavaScript\n\n**ES6 Modules:**\n- Modern JavaScript projects\n- Browser applications\n- When you need tree-shaking\n- Modern Node.js (with ESM)\n\n**AMD:**\n- Legacy browser applications\n- RequireJS projects\n- (Generally avoid for new projects)\n\n**Bundlers:**\n- Browser applications\n- When you need optimization\n- Complex build requirements\n- Asset management\n\n---\n\n## Practical Examples\n\n### Example 1: CommonJS Module\n\n```javascript\n// user.js\nclass User {\n    constructor(name, email) {\n        this.name = name;\n        this.email = email;\n    }\n    \n    getInfo() {\n        return `${this.name} (${this.email})`;\n    }\n}\n\nmodule.exports = User;\n```\n\n```javascript\n// main.js\nconst User = require(''./user.js'');\n\nlet user = new User("Alice", "alice@example.com");\nconsole.log(user.getInfo());\n```\n\n### Example 2: CommonJS with Multiple Exports\n\n```javascript\n// math.js\nexports.add = (a, b) => a + b;\nexports.subtract = (a, b) => a - b;\nexports.multiply = (a, b) => a * b;\nexports.divide = (a, b) => a / b;\n```\n\n```javascript\n// main.js\nconst { add, subtract, multiply, divide } = require(''./math.js'');\n\nconsole.log(add(5, 3));        // 8\nconsole.log(multiply(4, 2));   // 8\n```\n\n### Example 3: Mixed Exports\n\n```javascript\n// utils.js\nfunction formatDate(date) {\n    return date.toLocaleDateString();\n}\n\nfunction formatCurrency(amount) {\n    return `$${amount.toFixed(2)}`;\n}\n\n// Named exports\nexports.formatDate = formatDate;\nexports.formatCurrency = formatCurrency;\n\n// Default export\nmodule.exports.default = {\n    formatDate,\n    formatCurrency\n};\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Module Systems\n\n**Objective**: Practice using different module systems and understand bundlers.\n\n**Instructions**:\n\n1. Create CommonJS modules\n2. Convert to ES6 modules\n3. Understand bundler concepts\n4. Compare module systems\n\n**Example Solution**:\n\n```javascript\n// CommonJS Example\n// math.js\nfunction add(a, b) {\n    return a + b;\n}\n\nfunction subtract(a, b) {\n    return a - b;\n}\n\nfunction multiply(a, b) {\n    return a * b;\n}\n\nfunction divide(a, b) {\n    if (b === 0) {\n        throw new Error("Division by zero");\n    }\n    return a / b;\n}\n\nmodule.exports = {\n    add,\n    subtract,\n    multiply,\n    divide\n};\n\n// Alternative syntax\n// exports.add = add;\n// exports.subtract = subtract;\n```\n\n```javascript\n// main.js (CommonJS)\nconst math = require(''./math.js'');\n\nconsole.log("=== CommonJS Module ===");\nconsole.log("Add:", math.add(5, 3));        // 8\nconsole.log("Subtract:", math.subtract(5, 3));  // 2\nconsole.log("Multiply:", math.multiply(4, 2));  // 8\nconsole.log("Divide:", math.divide(10, 2));     // 5\n\n// Destructuring\nconst { add, subtract } = require(''./math.js'');\nconsole.log("Destructured:", add(10, 5));  // 15\n```\n\n```javascript\n// ES6 Module Equivalent\n// math.js\nexport function add(a, b) {\n    return a + b;\n}\n\nexport function subtract(a, b) {\n    return a - b;\n}\n\nexport function multiply(a, b) {\n    return a * b;\n}\n\nexport function divide(a, b) {\n    if (b === 0) {\n        throw new Error("Division by zero");\n    }\n    return a / b;\n}\n```\n\n```javascript\n// main.js (ES6)\nimport { add, subtract, multiply, divide } from ''./math.js'';\n\nconsole.log("=== ES6 Module ===");\nconsole.log("Add:", add(5, 3));\nconsole.log("Subtract:", subtract(5, 3));\nconsole.log("Multiply:", multiply(4, 2));\nconsole.log("Divide:", divide(10, 2));\n```\n\n```javascript\n// CommonJS: User Module\n// user.js\nclass User {\n    constructor(name, email) {\n        this.name = name;\n        this.email = email;\n    }\n    \n    getInfo() {\n        return `${this.name} (${this.email})`;\n    }\n}\n\nmodule.exports = User;\n```\n\n```javascript\n// main.js\nconst User = require(''./user.js'');\n\nlet user = new User("Alice", "alice@example.com");\nconsole.log("User:", user.getInfo());\n```\n\n```javascript\n// CommonJS: Configuration\n// config.js\nconst config = {\n    apiUrl: "https://api.example.com",\n    timeout: 5000,\n    retries: 3\n};\n\nmodule.exports = config;\n```\n\n```javascript\n// main.js\nconst config = require(''./config.js'');\nconsole.log("Config:", config);\n```\n\n**Expected Output**:\n```\n=== CommonJS Module ===\nAdd: 8\nSubtract: 2\nMultiply: 8\nDivide: 5\nDestructured: 15\n\n=== ES6 Module ===\nAdd: 8\nSubtract: 2\nMultiply: 8\nDivide: 5\n\nUser: Alice (alice@example.com)\nConfig: { apiUrl: "https://api.example.com", timeout: 5000, retries: 3 }\n```\n\n**Challenge (Optional)**:\n- Set up a Webpack project\n- Set up a Rollup project\n- Convert CommonJS to ES6 modules\n- Create a module library\n\n---\n\n## Common Mistakes\n\n### 1. Mixing Module Systems\n\n```javascript\n// ⚠️ Problem: Mixing CommonJS and ES6\n// module1.js (CommonJS)\nmodule.exports = { add };\n\n// module2.js (ES6)\nimport { add } from ''./module1.js'';  // May not work\n\n// ✅ Solution: Use one system consistently\n```\n\n### 2. Circular Dependencies\n\n```javascript\n// ⚠️ Problem: Circular dependency\n// module1.js\nconst { func2 } = require(''./module2.js'');\n\n// module2.js\nconst { func1 } = require(''./module1.js'');  // Circular!\n\n// ✅ Solution: Restructure to avoid\n```\n\n### 3. Wrong Export Syntax\n\n```javascript\n// ⚠️ Problem: Wrong syntax\nexports = { add };  // Doesn''t work\n\n// ✅ Solution: Use module.exports or exports.property\nmodule.exports = { add };\n// or\nexports.add = add;\n```\n\n### 4. Forgetting File Extension\n\n```javascript\n// ⚠️ Problem: May not work in all environments\nconst math = require(''./math'');\n\n// ✅ Solution: Include extension (optional in CommonJS, required in ES6)\nconst math = require(''./math.js'');\n```\n\n---\n\n## Key Takeaways\n\n1. **CommonJS**: Node.js standard, uses `require()` and `module.exports`\n2. **AMD**: Browser-focused, asynchronous loading (legacy)\n3. **ES6 Modules**: Modern standard, `import`/`export`\n4. **Bundlers**: Combine modules for browsers (Webpack, Rollup, Vite)\n5. **Choose Wisely**: Use ES6 for new projects, CommonJS for Node.js\n6. **Bundlers Essential**: Needed for browser applications\n7. **Best Practice**: Use consistent module system\n8. **Modern Approach**: ES6 modules with bundler\n\n---\n\n## Quiz: Module Systems\n\nTest your understanding with these questions:\n\n1. **CommonJS uses:**\n   - A) import/export\n   - B) require/module.exports\n   - C) define/require\n   - D) module/import\n\n2. **ES6 modules use:**\n   - A) require/module.exports\n   - B) import/export\n   - C) define/require\n   - D) module/require\n\n3. **CommonJS is:**\n   - A) Asynchronous\n   - B) Synchronous\n   - C) Both\n   - D) Neither\n\n4. **AMD stands for:**\n   - A) Asynchronous Module Definition\n   - B) Advanced Module Definition\n   - C) Application Module Definition\n   - D) Automatic Module Definition\n\n5. **Webpack is a:**\n   - A) Module system\n   - B) Module bundler\n   - C) Framework\n   - D) Library\n\n6. **Rollup is optimized for:**\n   - A) Applications\n   - B) Libraries\n   - C) Both\n   - D) Neither\n\n7. **Modern projects should use:**\n   - A) CommonJS only\n   - B) ES6 modules\n   - C) AMD\n   - D) No modules\n\n**Answers**:\n1. B) require/module.exports\n2. B) import/export\n3. B) Synchronous\n4. A) Asynchronous Module Definition\n5. B) Module bundler\n6. B) Libraries\n7. B) ES6 modules\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 11: Modules. You now know:\n- How ES6 modules work\n- How CommonJS works\n- About module bundlers\n- When to use each system\n\n**What''s Next?**\n- Module 12: Working with APIs\n- Lesson 12.1: Fetch API\n- Practice building modular applications\n- Continue learning advanced JavaScript\n\n---\n\n## Additional Resources\n\n- **Node.js Modules**: [nodejs.org/api/modules.html](https://nodejs.org/api/modules.html)\n- **Webpack Documentation**: [webpack.js.org](https://webpack.js.org/)\n- **Rollup Documentation**: [rollupjs.org](https://rollupjs.org/)\n- **Vite Documentation**: [vitejs.dev](https://vitejs.dev/)\n\n---\n\n*Lesson completed! You''ve finished Module 11: Modules. Ready for Module 12: Working with APIs!*\n\n', NULL, 2, '2026-01-03 09:49:46', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand CommonJS module system\n- Use `require()` and `module.exports`\n- Understand AMD modules\n- Learn about module bundlers (Webpack, Rollup)\n- Compare different module systems\n- Choose the right module system for your project\n- Understand module loading strategies');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (139, 52, 11, 'Fetch API', 'fetch-api', '# Lesson 12.1: Fetch API\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Make HTTP requests using the Fetch API\n- Perform GET, POST, PUT, and DELETE requests\n- Configure request options (headers, body, method)\n- Handle responses and parse data\n- Handle errors properly\n- Work with async/await and Fetch\n- Build API-integrated applications\n\n---\n\n## Introduction to Fetch API\n\nThe Fetch API provides a modern, promise-based way to make HTTP requests. It''s built into modern browsers and is the standard for making network requests in JavaScript.\n\n### Why Fetch API?\n\n- **Promise-based**: Works with async/await\n- **Modern**: Built into browsers\n- **Flexible**: Supports all HTTP methods\n- **Streaming**: Can handle streaming responses\n- **Standard**: Replaces older XMLHttpRequest\n\n---\n\n## Basic Fetch Request\n\n### Simple GET Request\n\n```javascript\nfetch(''https://api.example.com/users'')\n    .then(response => response.json())\n    .then(data => {\n        console.log(data);\n    })\n    .catch(error => {\n        console.error(''Error:'', error);\n    });\n```\n\n### Fetch with async/await\n\n```javascript\nasync function fetchUsers() {\n    try {\n        const response = await fetch(''https://api.example.com/users'');\n        const data = await response.json();\n        console.log(data);\n    } catch (error) {\n        console.error(''Error:'', error);\n    }\n}\n\nfetchUsers();\n```\n\n---\n\n## HTTP Methods\n\n### GET Request\n\n```javascript\n// Simple GET\nfetch(''https://api.example.com/users'')\n    .then(response => response.json())\n    .then(data => console.log(data));\n\n// GET with async/await\nasync function getUsers() {\n    const response = await fetch(''https://api.example.com/users'');\n    const data = await response.json();\n    return data;\n}\n```\n\n### POST Request\n\n```javascript\n// POST with JSON body\nfetch(''https://api.example.com/users'', {\n    method: ''POST'',\n    headers: {\n        ''Content-Type'': ''application/json''\n    },\n    body: JSON.stringify({\n        name: ''Alice'',\n        email: ''alice@example.com''\n    })\n})\n    .then(response => response.json())\n    .then(data => console.log(''Created:'', data));\n\n// POST with async/await\nasync function createUser(userData) {\n    const response = await fetch(''https://api.example.com/users'', {\n        method: ''POST'',\n        headers: {\n            ''Content-Type'': ''application/json''\n        },\n        body: JSON.stringify(userData)\n    });\n    return await response.json();\n}\n```\n\n### PUT Request\n\n```javascript\n// PUT to update resource\nasync function updateUser(userId, userData) {\n    const response = await fetch(`https://api.example.com/users/${userId}`, {\n        method: ''PUT'',\n        headers: {\n            ''Content-Type'': ''application/json''\n        },\n        body: JSON.stringify(userData)\n    });\n    return await response.json();\n}\n```\n\n### DELETE Request\n\n```javascript\n// DELETE to remove resource\nasync function deleteUser(userId) {\n    const response = await fetch(`https://api.example.com/users/${userId}`, {\n        method: ''DELETE''\n    });\n    return await response.json();\n}\n```\n\n---\n\n## Request Options\n\n### Headers\n\n```javascript\nfetch(''https://api.example.com/data'', {\n    headers: {\n        ''Content-Type'': ''application/json'',\n        ''Authorization'': ''Bearer token123'',\n        ''X-Custom-Header'': ''value''\n    }\n});\n```\n\n### Request Body\n\n```javascript\n// JSON body\nfetch(''https://api.example.com/users'', {\n    method: ''POST'',\n    headers: {\n        ''Content-Type'': ''application/json''\n    },\n    body: JSON.stringify({\n        name: ''Alice'',\n        age: 25\n    })\n});\n\n// Form data\nconst formData = new FormData();\nformData.append(''name'', ''Alice'');\nformData.append(''age'', ''25'');\n\nfetch(''https://api.example.com/users'', {\n    method: ''POST'',\n    body: formData\n});\n```\n\n### Complete Request Options\n\n```javascript\nfetch(''https://api.example.com/users'', {\n    method: ''POST'',\n    headers: {\n        ''Content-Type'': ''application/json'',\n        ''Authorization'': ''Bearer token123''\n    },\n    body: JSON.stringify({\n        name: ''Alice'',\n        email: ''alice@example.com''\n    }),\n    mode: ''cors'',           // cors, no-cors, same-origin\n    cache: ''no-cache'',      // default, no-cache, reload, force-cache\n    credentials: ''include'', // include, same-origin, omit\n    redirect: ''follow''      // follow, error, manual\n});\n```\n\n---\n\n## Response Handling\n\n### Checking Response Status\n\n```javascript\nasync function fetchData() {\n    const response = await fetch(''https://api.example.com/data'');\n    \n    if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    \n    const data = await response.json();\n    return data;\n}\n```\n\n### Response Methods\n\n```javascript\nasync function handleResponse() {\n    const response = await fetch(''https://api.example.com/data'');\n    \n    // JSON\n    const jsonData = await response.json();\n    \n    // Text\n    const textData = await response.text();\n    \n    // Blob\n    const blobData = await response.blob();\n    \n    // ArrayBuffer\n    const bufferData = await response.arrayBuffer();\n    \n    // FormData\n    const formData = await response.formData();\n}\n```\n\n### Response Properties\n\n```javascript\nasync function checkResponse() {\n    const response = await fetch(''https://api.example.com/data'');\n    \n    console.log(response.status);      // 200\n    console.log(response.statusText);   // "OK"\n    console.log(response.ok);          // true\n    console.log(response.headers);     // Headers object\n    console.log(response.url);         // Request URL\n    console.log(response.type);        // "cors", "basic", etc.\n}\n```\n\n---\n\n## Error Handling\n\n### Basic Error Handling\n\n```javascript\nasync function fetchWithErrorHandling() {\n    try {\n        const response = await fetch(''https://api.example.com/data'');\n        \n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error(''Fetch error:'', error);\n        throw error;\n    }\n}\n```\n\n### Handling Different Error Types\n\n```javascript\nasync function robustFetch(url) {\n    try {\n        const response = await fetch(url);\n        \n        // Check for HTTP errors\n        if (!response.ok) {\n            if (response.status === 404) {\n                throw new Error(''Resource not found'');\n            } else if (response.status === 500) {\n                throw new Error(''Server error'');\n            } else {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n        }\n        \n        // Parse JSON\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        // Handle network errors\n        if (error instanceof TypeError) {\n            console.error(''Network error:'', error.message);\n        } else {\n            console.error(''Error:'', error.message);\n        }\n        throw error;\n    }\n}\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Fetching User Data\n\n```javascript\nasync function getUser(userId) {\n    try {\n        const response = await fetch(`https://api.example.com/users/${userId}`);\n        \n        if (!response.ok) {\n            throw new Error(`Failed to fetch user: ${response.status}`);\n        }\n        \n        const user = await response.json();\n        return user;\n    } catch (error) {\n        console.error(''Error fetching user:'', error);\n        throw error;\n    }\n}\n\n// Usage\ngetUser(1)\n    .then(user => console.log(''User:'', user))\n    .catch(error => console.error(''Error:'', error));\n```\n\n### Example 2: Creating a Resource\n\n```javascript\nasync function createUser(userData) {\n    try {\n        const response = await fetch(''https://api.example.com/users'', {\n            method: ''POST'',\n            headers: {\n                ''Content-Type'': ''application/json''\n            },\n            body: JSON.stringify(userData)\n        });\n        \n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.message || ''Failed to create user'');\n        }\n        \n        const newUser = await response.json();\n        return newUser;\n    } catch (error) {\n        console.error(''Error creating user:'', error);\n        throw error;\n    }\n}\n\n// Usage\ncreateUser({ name: ''Alice'', email: ''alice@example.com'' })\n    .then(user => console.log(''Created:'', user))\n    .catch(error => console.error(''Error:'', error));\n```\n\n### Example 3: Updating a Resource\n\n```javascript\nasync function updateUser(userId, updates) {\n    try {\n        const response = await fetch(`https://api.example.com/users/${userId}`, {\n            method: ''PUT'',\n            headers: {\n                ''Content-Type'': ''application/json''\n            },\n            body: JSON.stringify(updates)\n        });\n        \n        if (!response.ok) {\n            throw new Error(`Failed to update user: ${response.status}`);\n        }\n        \n        const updatedUser = await response.json();\n        return updatedUser;\n    } catch (error) {\n        console.error(''Error updating user:'', error);\n        throw error;\n    }\n}\n```\n\n### Example 4: Deleting a Resource\n\n```javascript\nasync function deleteUser(userId) {\n    try {\n        const response = await fetch(`https://api.example.com/users/${userId}`, {\n            method: ''DELETE''\n        });\n        \n        if (!response.ok) {\n            throw new Error(`Failed to delete user: ${response.status}`);\n        }\n        \n        // Some APIs return data, others return empty\n        if (response.status === 204) {\n            return { success: true };\n        }\n        \n        return await response.json();\n    } catch (error) {\n        console.error(''Error deleting user:'', error);\n        throw error;\n    }\n}\n```\n\n### Example 5: Fetching Multiple Resources\n\n```javascript\nasync function fetchMultipleUsers(userIds) {\n    try {\n        const promises = userIds.map(id =>\n            fetch(`https://api.example.com/users/${id}`)\n                .then(response => {\n                    if (!response.ok) {\n                        throw new Error(`Failed to fetch user ${id}`);\n                    }\n                    return response.json();\n                })\n        );\n        \n        const users = await Promise.all(promises);\n        return users;\n    } catch (error) {\n        console.error(''Error fetching users:'', error);\n        throw error;\n    }\n}\n\n// Usage\nfetchMultipleUsers([1, 2, 3])\n    .then(users => console.log(''Users:'', users))\n    .catch(error => console.error(''Error:'', error));\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Fetch API Practice\n\n**Objective**: Practice making HTTP requests with the Fetch API.\n\n**Instructions**:\n\n1. Create a file called `fetch-practice.js`\n\n2. Practice:\n   - GET requests\n   - POST requests\n   - PUT requests\n   - DELETE requests\n   - Error handling\n   - Response handling\n   - Multiple requests\n\n3. Use a mock API or JSONPlaceholder (https://jsonplaceholder.typicode.com)\n\n**Example Solution**:\n\n```javascript\n// Fetch API Practice\nconst API_URL = ''https://jsonplaceholder.typicode.com'';\n\nconsole.log("=== GET Request ===");\n\nasync function getUsers() {\n    try {\n        const response = await fetch(`${API_URL}/users`);\n        \n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const users = await response.json();\n        console.log(''Users:'', users);\n        return users;\n    } catch (error) {\n        console.error(''Error fetching users:'', error);\n        throw error;\n    }\n}\n\ngetUsers().then(users => {\n    console.log(`Fetched ${users.length} users`);\n});\nconsole.log();\n\nconsole.log("=== GET Single User ===");\n\nasync function getUser(userId) {\n    try {\n        const response = await fetch(`${API_URL}/users/${userId}`);\n        \n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const user = await response.json();\n        console.log(''User:'', user);\n        return user;\n    } catch (error) {\n        console.error(''Error fetching user:'', error);\n        throw error;\n    }\n}\n\ngetUser(1).then(user => {\n    console.log(`User name: ${user.name}`);\n});\nconsole.log();\n\nconsole.log("=== POST Request ===");\n\nasync function createPost(postData) {\n    try {\n        const response = await fetch(`${API_URL}/posts`, {\n            method: ''POST'',\n            headers: {\n                ''Content-Type'': ''application/json''\n            },\n            body: JSON.stringify(postData)\n        });\n        \n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const newPost = await response.json();\n        console.log(''Created post:'', newPost);\n        return newPost;\n    } catch (error) {\n        console.error(''Error creating post:'', error);\n        throw error;\n    }\n}\n\ncreatePost({\n    title: ''My New Post'',\n    body: ''This is the body of my post'',\n    userId: 1\n}).then(post => {\n    console.log(`Post created with ID: ${post.id}`);\n});\nconsole.log();\n\nconsole.log("=== PUT Request ===");\n\nasync function updatePost(postId, updates) {\n    try {\n        const response = await fetch(`${API_URL}/posts/${postId}`, {\n            method: ''PUT'',\n            headers: {\n                ''Content-Type'': ''application/json''\n            },\n            body: JSON.stringify(updates)\n        });\n        \n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const updatedPost = await response.json();\n        console.log(''Updated post:'', updatedPost);\n        return updatedPost;\n    } catch (error) {\n        console.error(''Error updating post:'', error);\n        throw error;\n    }\n}\n\nupdatePost(1, {\n    title: ''Updated Title'',\n    body: ''Updated body'',\n    userId: 1\n}).then(post => {\n    console.log(`Post ${post.id} updated`);\n});\nconsole.log();\n\nconsole.log("=== DELETE Request ===");\n\nasync function deletePost(postId) {\n    try {\n        const response = await fetch(`${API_URL}/posts/${postId}`, {\n            method: ''DELETE''\n        });\n        \n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        console.log(`Post ${postId} deleted`);\n        return { success: true };\n    } catch (error) {\n        console.error(''Error deleting post:'', error);\n        throw error;\n    }\n}\n\ndeletePost(1).then(result => {\n    console.log(''Delete result:'', result);\n});\nconsole.log();\n\nconsole.log("=== Error Handling ===");\n\nasync function fetchWithErrorHandling(url) {\n    try {\n        const response = await fetch(url);\n        \n        if (!response.ok) {\n            if (response.status === 404) {\n                throw new Error(''Resource not found'');\n            } else if (response.status >= 500) {\n                throw new Error(''Server error'');\n            } else {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n        }\n        \n        const data = await response.json();\n        return data;\n    } catch (error) {\n        if (error instanceof TypeError) {\n            console.error(''Network error:'', error.message);\n        } else {\n            console.error(''Error:'', error.message);\n        }\n        throw error;\n    }\n}\n\n// Test with invalid URL\nfetchWithErrorHandling(`${API_URL}/invalid`)\n    .catch(error => {\n        console.log(''Caught error:'', error.message);\n    });\nconsole.log();\n\nconsole.log("=== Multiple Requests ===");\n\nasync function fetchUserPosts(userId) {\n    try {\n        // Fetch user and posts in parallel\n        const [userResponse, postsResponse] = await Promise.all([\n            fetch(`${API_URL}/users/${userId}`),\n            fetch(`${API_URL}/users/${userId}/posts`)\n        ]);\n        \n        if (!userResponse.ok || !postsResponse.ok) {\n            throw new Error(''Failed to fetch data'');\n        }\n        \n        const [user, posts] = await Promise.all([\n            userResponse.json(),\n            postsResponse.json()\n        ]);\n        \n        console.log(`User: ${user.name}`);\n        console.log(`Posts: ${posts.length}`);\n        return { user, posts };\n    } catch (error) {\n        console.error(''Error:'', error);\n        throw error;\n    }\n}\n\nfetchUserPosts(1).then(data => {\n    console.log(''User data:'', data);\n});\nconsole.log();\n\nconsole.log("=== Response Headers ===");\n\nasync function checkHeaders() {\n    try {\n        const response = await fetch(`${API_URL}/users/1`);\n        \n        console.log(''Status:'', response.status);\n        console.log(''Status Text:'', response.statusText);\n        console.log(''OK:'', response.ok);\n        console.log(''Content-Type:'', response.headers.get(''Content-Type''));\n        console.log(''URL:'', response.url);\n    } catch (error) {\n        console.error(''Error:'', error);\n    }\n}\n\ncheckHeaders();\n```\n\n**Expected Output** (will vary based on API response):\n```\n=== GET Request ===\nUsers: [array of users]\nFetched 10 users\n\n=== GET Single User ===\nUser: { id: 1, name: "Leanne Graham", ... }\nUser name: Leanne Graham\n\n=== POST Request ===\nCreated post: { id: 101, title: "My New Post", ... }\nPost created with ID: 101\n\n=== PUT Request ===\nUpdated post: { id: 1, title: "Updated Title", ... }\nPost 1 updated\n\n=== DELETE Request ===\nPost 1 deleted\nDelete result: { success: true }\n\n=== Error Handling ===\nError: Resource not found\nCaught error: Resource not found\n\n=== Multiple Requests ===\nUser: Leanne Graham\nPosts: 10\nUser data: { user: {...}, posts: [...] }\n\n=== Response Headers ===\nStatus: 200\nStatus Text: OK\nOK: true\nContent-Type: application/json; charset=utf-8\nURL: https://jsonplaceholder.typicode.com/users/1\n```\n\n**Challenge (Optional)**:\n- Build a complete CRUD application with Fetch\n- Create a reusable API client\n- Implement retry logic\n- Add request timeout handling\n\n---\n\n## Common Mistakes\n\n### 1. Not Checking response.ok\n\n```javascript\n// ⚠️ Problem: Doesn''t check for HTTP errors\nconst response = await fetch(url);\nconst data = await response.json();  // May fail if response is error\n\n// ✅ Solution: Always check response.ok\nconst response = await fetch(url);\nif (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n}\nconst data = await response.json();\n```\n\n### 2. Forgetting to Parse JSON\n\n```javascript\n// ⚠️ Problem: Response is not parsed\nconst response = await fetch(url);\nconsole.log(response);  // Response object, not data\n\n// ✅ Solution: Parse response\nconst response = await fetch(url);\nconst data = await response.json();\nconsole.log(data);  // Actual data\n```\n\n### 3. Not Handling Errors\n\n```javascript\n// ⚠️ Problem: No error handling\nconst data = await fetch(url).then(r => r.json());\n\n// ✅ Solution: Always handle errors\ntry {\n    const response = await fetch(url);\n    if (!response.ok) throw new Error(''HTTP error'');\n    const data = await response.json();\n} catch (error) {\n    console.error(''Error:'', error);\n}\n```\n\n### 4. Missing Headers for POST/PUT\n\n```javascript\n// ⚠️ Problem: Missing Content-Type header\nfetch(url, {\n    method: ''POST'',\n    body: JSON.stringify(data)  // Server may not parse correctly\n});\n\n// ✅ Solution: Include Content-Type\nfetch(url, {\n    method: ''POST'',\n    headers: {\n        ''Content-Type'': ''application/json''\n    },\n    body: JSON.stringify(data)\n});\n```\n\n---\n\n## Key Takeaways\n\n1. **Fetch API**: Modern, promise-based HTTP client\n2. **HTTP Methods**: GET, POST, PUT, DELETE\n3. **Request Options**: Headers, body, method, etc.\n4. **Response Handling**: Check status, parse data\n5. **Error Handling**: Always check response.ok, handle errors\n6. **async/await**: Preferred over .then() chains\n7. **Best Practice**: Always handle errors, check response status\n8. **Modern Standard**: Fetch is the standard for HTTP requests\n\n---\n\n## Quiz: Fetch API\n\nTest your understanding with these questions:\n\n1. **Fetch returns:**\n   - A) Data directly\n   - B) Promise\n   - C) Response object\n   - D) Error\n\n2. **To parse JSON response:**\n   - A) response.json()\n   - B) response.text()\n   - C) JSON.parse(response)\n   - D) response.data\n\n3. **POST request needs:**\n   - A) method: ''POST''\n   - B) body\n   - C) headers (usually)\n   - D) All of the above\n\n4. **response.ok is:**\n   - A) Always true\n   - B) True for 2xx status\n   - C) True for 200 only\n   - D) Always false\n\n5. **Fetch is:**\n   - A) Synchronous\n   - B) Asynchronous\n   - C) Both\n   - D) Neither\n\n6. **Error handling should:**\n   - A) Check response.ok\n   - B) Use try-catch\n   - C) Both A and B\n   - D) Neither\n\n7. **Multiple requests can use:**\n   - A) Promise.all()\n   - B) Sequential await\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. B) Promise (that resolves to Response)\n2. A) response.json()\n3. D) All of the above\n4. B) True for 2xx status codes\n5. B) Asynchronous\n6. C) Both A and B\n7. C) Both (Promise.all for parallel, sequential await for dependent)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned the Fetch API. You now know:\n- How to make HTTP requests\n- All HTTP methods (GET, POST, PUT, DELETE)\n- How to handle responses and errors\n- Best practices for API calls\n\n**What''s Next?**\n- Lesson 12.2: Axios and HTTP Libraries\n- Learn about alternative HTTP libraries\n- Understand when to use different tools\n- Build more complex API integrations\n\n---\n\n## Additional Resources\n\n- **MDN: Fetch API**: [developer.mozilla.org/en-US/docs/Web/API/Fetch_API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)\n- **Fetch API Guide**: Comprehensive examples and patterns\n- **JSONPlaceholder**: [jsonplaceholder.typicode.com](https://jsonplaceholder.typicode.com) - Free fake API for testing\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:51:41', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Make HTTP requests using the Fetch API\n- Perform GET, POST, PUT, and DELETE requests\n- Configure request options (headers, body, method)\n- Handle responses and parse data\n- Handle errors properly\n- Work with async/await and Fetch\n- Build API-integrated applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (140, 52, 11, 'Axios and HTTP Libraries', 'axios-and-http-libraries', '# Lesson 12.2: Axios and HTTP Libraries\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Install and use Axios\n- Compare Axios with Fetch API\n- Use request and response interceptors\n- Handle errors with Axios\n- Configure Axios instances\n- Work with other HTTP libraries\n- Choose the right HTTP client for your project\n\n---\n\n## Introduction to Axios\n\nAxios is a popular HTTP client library for JavaScript. It provides a simple API and additional features compared to the native Fetch API.\n\n### Why Axios?\n\n- **Promise-based**: Works with async/await\n- **Automatic JSON**: Automatically parses JSON\n- **Interceptors**: Request/response interceptors\n- **Error Handling**: Better error handling\n- **Request Cancellation**: Cancel requests\n- **Browser & Node.js**: Works in both environments\n\n---\n\n## Installing Axios\n\n### npm Installation\n\n```bash\nnpm install axios\n```\n\n### CDN (Browser)\n\n```html\n<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>\n```\n\n### Import Axios\n\n```javascript\n// ES6 Modules\nimport axios from ''axios'';\n\n// CommonJS\nconst axios = require(''axios'');\n```\n\n---\n\n## Basic Axios Usage\n\n### GET Request\n\n```javascript\n// Simple GET\naxios.get(''https://api.example.com/users'')\n    .then(response => {\n        console.log(response.data);\n    })\n    .catch(error => {\n        console.error(''Error:'', error);\n    });\n\n// With async/await\nasync function getUsers() {\n    try {\n        const response = await axios.get(''https://api.example.com/users'');\n        console.log(response.data);\n        return response.data;\n    } catch (error) {\n        console.error(''Error:'', error);\n        throw error;\n    }\n}\n```\n\n### POST Request\n\n```javascript\n// POST request\naxios.post(''https://api.example.com/users'', {\n    name: ''Alice'',\n    email: ''alice@example.com''\n})\n    .then(response => {\n        console.log(''Created:'', response.data);\n    })\n    .catch(error => {\n        console.error(''Error:'', error);\n    });\n\n// With async/await\nasync function createUser(userData) {\n    try {\n        const response = await axios.post(''https://api.example.com/users'', userData);\n        return response.data;\n    } catch (error) {\n        console.error(''Error creating user:'', error);\n        throw error;\n    }\n}\n```\n\n### PUT Request\n\n```javascript\nasync function updateUser(userId, userData) {\n    try {\n        const response = await axios.put(`https://api.example.com/users/${userId}`, userData);\n        return response.data;\n    } catch (error) {\n        console.error(''Error updating user:'', error);\n        throw error;\n    }\n}\n```\n\n### DELETE Request\n\n```javascript\nasync function deleteUser(userId) {\n    try {\n        const response = await axios.delete(`https://api.example.com/users/${userId}`);\n        return response.data;\n    } catch (error) {\n        console.error(''Error deleting user:'', error);\n        throw error;\n    }\n}\n```\n\n---\n\n## Axios vs Fetch\n\n### Comparison Table\n\n| Feature | Fetch | Axios |\n|---------|-------|-------|\n| **JSON Parsing** | Manual (response.json()) | Automatic |\n| **Request Cancellation** | AbortController | Built-in |\n| **Interceptors** | No | Yes |\n| **Error Handling** | Manual check | Automatic |\n| **Browser Support** | Modern browsers | All browsers |\n| **Bundle Size** | Built-in (0KB) | ~13KB |\n| **Request Timeout** | Manual | Built-in |\n| **Response Timeout** | No | Yes |\n\n### Code Comparison\n\n**Fetch:**\n```javascript\nfetch(''https://api.example.com/users'', {\n    method: ''POST'',\n    headers: {\n        ''Content-Type'': ''application/json''\n    },\n    body: JSON.stringify({ name: ''Alice'' })\n})\n    .then(response => {\n        if (!response.ok) {\n            throw new Error(''HTTP error'');\n        }\n        return response.json();\n    })\n    .then(data => console.log(data))\n    .catch(error => console.error(error));\n```\n\n**Axios:**\n```javascript\naxios.post(''https://api.example.com/users'', { name: ''Alice'' })\n    .then(response => console.log(response.data))\n    .catch(error => console.error(error));\n```\n\n---\n\n## Request Configuration\n\n### Config Object\n\n```javascript\naxios({\n    method: ''POST'',\n    url: ''https://api.example.com/users'',\n    data: {\n        name: ''Alice'',\n        email: ''alice@example.com''\n    },\n    headers: {\n        ''Content-Type'': ''application/json'',\n        ''Authorization'': ''Bearer token123''\n    },\n    timeout: 5000,\n    params: {\n        page: 1,\n        limit: 10\n    }\n});\n```\n\n### Common Config Options\n\n```javascript\naxios.get(''https://api.example.com/users'', {\n    params: {\n        page: 1,\n        limit: 10\n    },\n    headers: {\n        ''Authorization'': ''Bearer token123''\n    },\n    timeout: 5000,\n    responseType: ''json''  // json, text, blob, arraybuffer\n});\n```\n\n---\n\n## Response Object\n\n### Response Structure\n\n```javascript\nconst response = await axios.get(''https://api.example.com/users'');\n\nconsole.log(response.data);      // Response body (parsed)\nconsole.log(response.status);     // HTTP status code\nconsole.log(response.statusText); // HTTP status text\nconsole.log(response.headers);   // Response headers\nconsole.log(response.config);    // Request config\n```\n\n### Accessing Data\n\n```javascript\n// Axios automatically parses JSON\nconst response = await axios.get(''https://api.example.com/users'');\nconst users = response.data;  // Already parsed JSON\n\n// For other types\nconst response = await axios.get(''https://api.example.com/image.png'', {\n    responseType: ''blob''\n});\nconst image = response.data;  // Blob object\n```\n\n---\n\n## Error Handling\n\n### Basic Error Handling\n\n```javascript\ntry {\n    const response = await axios.get(''https://api.example.com/users'');\n    console.log(response.data);\n} catch (error) {\n    if (error.response) {\n        // Server responded with error status\n        console.error(''Status:'', error.response.status);\n        console.error(''Data:'', error.response.data);\n    } else if (error.request) {\n        // Request made but no response\n        console.error(''No response:'', error.request);\n    } else {\n        // Error setting up request\n        console.error(''Error:'', error.message);\n    }\n}\n```\n\n### Error Object Structure\n\n```javascript\ncatch (error) {\n    console.log(error.message);        // Error message\n    console.log(error.response);       // Response object (if received)\n    console.log(error.response.status); // HTTP status\n    console.log(error.response.data);   // Response data\n    console.log(error.request);         // Request object\n    console.log(error.config);          // Request config\n}\n```\n\n### Handling Specific Status Codes\n\n```javascript\ntry {\n    const response = await axios.get(''https://api.example.com/users'');\n} catch (error) {\n    if (error.response) {\n        switch (error.response.status) {\n            case 404:\n                console.error(''Resource not found'');\n                break;\n            case 401:\n                console.error(''Unauthorized'');\n                break;\n            case 500:\n                console.error(''Server error'');\n                break;\n            default:\n                console.error(''Error:'', error.response.status);\n        }\n    }\n}\n```\n\n---\n\n## Interceptors\n\n### Request Interceptor\n\n```javascript\n// Add token to all requests\naxios.interceptors.request.use(\n    config => {\n        const token = localStorage.getItem(''token'');\n        if (token) {\n            config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n    },\n    error => {\n        return Promise.reject(error);\n    }\n);\n```\n\n### Response Interceptor\n\n```javascript\n// Handle responses globally\naxios.interceptors.response.use(\n    response => {\n        // Modify response before returning\n        return response;\n    },\n    error => {\n        // Handle errors globally\n        if (error.response?.status === 401) {\n            // Redirect to login\n            window.location.href = ''/login'';\n        }\n        return Promise.reject(error);\n    }\n);\n```\n\n### Multiple Interceptors\n\n```javascript\n// Request interceptor 1\nconst requestInterceptor1 = axios.interceptors.request.use(config => {\n    console.log(''Request 1:'', config.url);\n    return config;\n});\n\n// Request interceptor 2\nconst requestInterceptor2 = axios.interceptors.request.use(config => {\n    config.headers[''X-Custom''] = ''value'';\n    return config;\n});\n\n// Remove interceptor\naxios.interceptors.request.eject(requestInterceptor1);\n```\n\n---\n\n## Axios Instances\n\n### Creating an Instance\n\n```javascript\nconst apiClient = axios.create({\n    baseURL: ''https://api.example.com'',\n    timeout: 5000,\n    headers: {\n        ''Content-Type'': ''application/json''\n    }\n});\n\n// Use instance\napiClient.get(''/users'')\n    .then(response => console.log(response.data));\n```\n\n### Instance with Defaults\n\n```javascript\nconst apiClient = axios.create({\n    baseURL: ''https://api.example.com'',\n    timeout: 10000\n});\n\n// Add default header\napiClient.defaults.headers.common[''Authorization''] = ''Bearer token123'';\n\n// Add interceptor to instance\napiClient.interceptors.request.use(config => {\n    console.log(''API Request:'', config.url);\n    return config;\n});\n```\n\n---\n\n## Request Cancellation\n\n### Cancel Token (Axios < 0.22)\n\n```javascript\nconst CancelToken = axios.CancelToken;\nconst source = CancelToken.source();\n\naxios.get(''https://api.example.com/users'', {\n    cancelToken: source.token\n})\n    .then(response => console.log(response.data))\n    .catch(error => {\n        if (axios.isCancel(error)) {\n            console.log(''Request cancelled'');\n        }\n    });\n\n// Cancel request\nsource.cancel(''Operation cancelled'');\n```\n\n### AbortController (Axios >= 0.22)\n\n```javascript\nconst controller = new AbortController();\n\naxios.get(''https://api.example.com/users'', {\n    signal: controller.signal\n})\n    .then(response => console.log(response.data))\n    .catch(error => {\n        if (axios.isCancel(error)) {\n            console.log(''Request cancelled'');\n        }\n    });\n\n// Cancel request\ncontroller.abort();\n```\n\n---\n\n## Practical Examples\n\n### Example 1: API Client Class\n\n```javascript\nclass ApiClient {\n    constructor(baseURL) {\n        this.client = axios.create({\n            baseURL,\n            timeout: 10000,\n            headers: {\n                ''Content-Type'': ''application/json''\n            }\n        });\n        \n        this.setupInterceptors();\n    }\n    \n    setupInterceptors() {\n        // Request interceptor\n        this.client.interceptors.request.use(\n            config => {\n                const token = localStorage.getItem(''token'');\n                if (token) {\n                    config.headers.Authorization = `Bearer ${token}`;\n                }\n                return config;\n            },\n            error => Promise.reject(error)\n        );\n        \n        // Response interceptor\n        this.client.interceptors.response.use(\n            response => response,\n            error => {\n                if (error.response?.status === 401) {\n                    localStorage.removeItem(''token'');\n                    window.location.href = ''/login'';\n                }\n                return Promise.reject(error);\n            }\n        );\n    }\n    \n    async get(url, config) {\n        return this.client.get(url, config);\n    }\n    \n    async post(url, data, config) {\n        return this.client.post(url, data, config);\n    }\n    \n    async put(url, data, config) {\n        return this.client.put(url, data, config);\n    }\n    \n    async delete(url, config) {\n        return this.client.delete(url, config);\n    }\n}\n\n// Usage\nconst api = new ApiClient(''https://api.example.com'');\nconst users = await api.get(''/users'');\n```\n\n### Example 2: Error Handling Utility\n\n```javascript\nfunction handleAxiosError(error) {\n    if (error.response) {\n        // Server responded with error\n        const { status, data } = error.response;\n        switch (status) {\n            case 400:\n                return { message: ''Bad request'', details: data };\n            case 401:\n                return { message: ''Unauthorized'', details: data };\n            case 404:\n                return { message: ''Not found'', details: data };\n            case 500:\n                return { message: ''Server error'', details: data };\n            default:\n                return { message: `HTTP error ${status}`, details: data };\n        }\n    } else if (error.request) {\n        // Request made but no response\n        return { message: ''No response from server'', details: null };\n    } else {\n        // Error setting up request\n        return { message: error.message, details: null };\n    }\n}\n\n// Usage\ntry {\n    await axios.get(''https://api.example.com/users'');\n} catch (error) {\n    const errorInfo = handleAxiosError(error);\n    console.error(errorInfo);\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Axios Practice\n\n**Objective**: Practice using Axios for HTTP requests.\n\n**Instructions**:\n\n1. Install Axios (or use CDN)\n2. Create a file called `axios-practice.js`\n3. Practice:\n   - GET, POST, PUT, DELETE requests\n   - Error handling\n   - Interceptors\n   - Creating instances\n   - Request cancellation\n\n**Example Solution**:\n\n```javascript\n// Axios Practice\n// Note: Requires axios to be installed or loaded via CDN\nconst axios = require(''axios''); // or import axios from ''axios'';\n\nconst API_URL = ''https://jsonplaceholder.typicode.com'';\n\nconsole.log("=== Basic GET Request ===");\n\nasync function getUsers() {\n    try {\n        const response = await axios.get(`${API_URL}/users`);\n        console.log(`Fetched ${response.data.length} users`);\n        return response.data;\n    } catch (error) {\n        console.error(''Error:'', error.message);\n        throw error;\n    }\n}\n\ngetUsers();\nconsole.log();\n\nconsole.log("=== GET with Params ===");\n\nasync function getUserPosts(userId) {\n    try {\n        const response = await axios.get(`${API_URL}/posts`, {\n            params: {\n                userId: userId\n            }\n        });\n        console.log(`User ${userId} has ${response.data.length} posts`);\n        return response.data;\n    } catch (error) {\n        console.error(''Error:'', error.message);\n        throw error;\n    }\n}\n\ngetUserPosts(1);\nconsole.log();\n\nconsole.log("=== POST Request ===");\n\nasync function createPost(postData) {\n    try {\n        const response = await axios.post(`${API_URL}/posts`, postData);\n        console.log(''Created post:'', response.data.id);\n        return response.data;\n    } catch (error) {\n        console.error(''Error creating post:'', error.message);\n        throw error;\n    }\n}\n\ncreatePost({\n    title: ''My New Post'',\n    body: ''This is the body'',\n    userId: 1\n});\nconsole.log();\n\nconsole.log("=== PUT Request ===");\n\nasync function updatePost(postId, updates) {\n    try {\n        const response = await axios.put(`${API_URL}/posts/${postId}`, updates);\n        console.log(''Updated post:'', response.data.id);\n        return response.data;\n    } catch (error) {\n        console.error(''Error updating post:'', error.message);\n        throw error;\n    }\n}\n\nupdatePost(1, {\n    title: ''Updated Title'',\n    body: ''Updated body'',\n    userId: 1\n});\nconsole.log();\n\nconsole.log("=== DELETE Request ===");\n\nasync function deletePost(postId) {\n    try {\n        const response = await axios.delete(`${API_URL}/posts/${postId}`);\n        console.log(`Post ${postId} deleted`);\n        return response.data;\n    } catch (error) {\n        console.error(''Error deleting post:'', error.message);\n        throw error;\n    }\n}\n\ndeletePost(1);\nconsole.log();\n\nconsole.log("=== Error Handling ===");\n\nasync function handleErrors() {\n    try {\n        await axios.get(`${API_URL}/invalid-endpoint`);\n    } catch (error) {\n        if (error.response) {\n            console.log(''Status:'', error.response.status);\n            console.log(''Data:'', error.response.data);\n        } else if (error.request) {\n            console.log(''No response received'');\n        } else {\n            console.log(''Error:'', error.message);\n        }\n    }\n}\n\nhandleErrors();\nconsole.log();\n\nconsole.log("=== Request Interceptor ===");\n\n// Add token to all requests\naxios.interceptors.request.use(\n    config => {\n        const token = ''mock-token-123'';\n        if (token) {\n            config.headers.Authorization = `Bearer ${token}`;\n        }\n        console.log(''Request interceptor:'', config.url);\n        return config;\n    },\n    error => {\n        return Promise.reject(error);\n    }\n);\n\naxios.get(`${API_URL}/users/1`)\n    .then(response => {\n        console.log(''Request completed with interceptor'');\n    });\nconsole.log();\n\nconsole.log("=== Response Interceptor ===");\n\naxios.interceptors.response.use(\n    response => {\n        console.log(''Response interceptor:'', response.status);\n        return response;\n    },\n    error => {\n        if (error.response?.status === 404) {\n            console.log(''404 error intercepted'');\n        }\n        return Promise.reject(error);\n    }\n);\n\naxios.get(`${API_URL}/users/1`)\n    .then(response => {\n        console.log(''Response received'');\n    });\nconsole.log();\n\nconsole.log("=== Axios Instance ===");\n\nconst apiClient = axios.create({\n    baseURL: API_URL,\n    timeout: 5000,\n    headers: {\n        ''Content-Type'': ''application/json''\n    }\n});\n\n// Use instance\napiClient.get(''/users/1'')\n    .then(response => {\n        console.log(''Instance request successful'');\n    });\nconsole.log();\n\nconsole.log("=== Request Cancellation ===");\n\nconst controller = new AbortController();\n\nsetTimeout(() => {\n    controller.abort();\n    console.log(''Request cancelled'');\n}, 100);\n\ntry {\n    await axios.get(`${API_URL}/users`, {\n        signal: controller.signal\n    });\n} catch (error) {\n    if (axios.isCancel(error)) {\n        console.log(''Request was cancelled'');\n    } else {\n        console.error(''Error:'', error.message);\n    }\n}\n```\n\n**Expected Output** (will vary):\n```\n=== Basic GET Request ===\nFetched 10 users\n\n=== GET with Params ===\nUser 1 has 10 posts\n\n=== POST Request ===\nCreated post: 101\n\n=== PUT Request ===\nUpdated post: 1\n\n=== DELETE Request ===\nPost 1 deleted\n\n=== Error Handling ===\nStatus: 404\nData: {}\n\n=== Request Interceptor ===\nRequest interceptor: https://jsonplaceholder.typicode.com/users/1\nRequest completed with interceptor\n\n=== Response Interceptor ===\nResponse interceptor: 200\nResponse received\n\n=== Axios Instance ===\nInstance request successful\n\n=== Request Cancellation ===\nRequest cancelled\nRequest was cancelled\n```\n\n**Challenge (Optional)**:\n- Build a complete API client with Axios\n- Create reusable interceptors\n- Implement retry logic\n- Build error handling utilities\n\n---\n\n## Common Mistakes\n\n### 1. Not Handling Errors\n\n```javascript\n// ⚠️ Problem: No error handling\nconst response = await axios.get(url);\nconsole.log(response.data);\n\n// ✅ Solution: Always handle errors\ntry {\n    const response = await axios.get(url);\n    console.log(response.data);\n} catch (error) {\n    console.error(''Error:'', error);\n}\n```\n\n### 2. Accessing Wrong Property\n\n```javascript\n// ⚠️ Problem: Wrong property\nconst data = await axios.get(url);\nconsole.log(data);  // Response object, not data\n\n// ✅ Solution: Use response.data\nconst response = await axios.get(url);\nconsole.log(response.data);  // Actual data\n```\n\n### 3. Not Using Interceptors Properly\n\n```javascript\n// ⚠️ Problem: Interceptor not returning config\naxios.interceptors.request.use(config => {\n    config.headers.Auth = ''token'';\n    // Missing return!\n});\n\n// ✅ Solution: Always return config\naxios.interceptors.request.use(config => {\n    config.headers.Auth = ''token'';\n    return config;\n});\n```\n\n---\n\n## Key Takeaways\n\n1. **Axios**: Popular HTTP client library\n2. **Automatic JSON**: Parses JSON automatically\n3. **Interceptors**: Request/response interceptors\n4. **Error Handling**: Better error handling than Fetch\n5. **Instances**: Create configured instances\n6. **Cancellation**: Cancel requests\n7. **Best Practice**: Use interceptors for common logic\n8. **When to Use**: When you need features beyond Fetch\n\n---\n\n## Quiz: HTTP Libraries\n\nTest your understanding with these questions:\n\n1. **Axios automatically:**\n   - A) Parses JSON\n   - B) Handles errors\n   - C) Both A and B\n   - D) Neither\n\n2. **Interceptors are used for:**\n   - A) Request modification\n   - B) Response modification\n   - C) Both A and B\n   - D) Error handling only\n\n3. **Axios instance is created with:**\n   - A) axios.create()\n   - B) new Axios()\n   - C) axios.instance()\n   - D) axios.new()\n\n4. **Axios vs Fetch:**\n   - A) Axios is built-in\n   - B) Fetch needs more code\n   - C) Both are same\n   - D) Fetch is better\n\n5. **Error.response contains:**\n   - A) Status code\n   - B) Response data\n   - C) Both A and B\n   - D) Request data\n\n6. **Request cancellation uses:**\n   - A) AbortController\n   - B) CancelToken\n   - C) Both (depending on version)\n   - D) Neither\n\n7. **Axios is:**\n   - A) Only for browsers\n   - B) Only for Node.js\n   - C) Both browser and Node.js\n   - D) Neither\n\n**Answers**:\n1. C) Both A and B\n2. C) Both A and B\n3. A) axios.create()\n4. B) Fetch needs more code (Axios is simpler)\n5. C) Both A and B\n6. C) Both (depending on version)\n7. C) Both browser and Node.js\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned Axios. You now know:\n- How to use Axios for HTTP requests\n- How Axios compares to Fetch\n- How to use interceptors\n- How to handle errors with Axios\n\n**What''s Next?**\n- Lesson 12.3: Working with JSON\n- Learn JSON manipulation\n- Practice API data handling\n- Build complete API integrations\n\n---\n\n## Additional Resources\n\n- **Axios Documentation**: [axios-http.com](https://axios-http.com/)\n- **Axios GitHub**: [github.com/axios/axios](https://github.com/axios/axios)\n- **Axios vs Fetch**: Comparison guides\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:51:41', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Install and use Axios\n- Compare Axios with Fetch API\n- Use request and response interceptors\n- Handle errors with Axios\n- Configure Axios instances\n- Work with other HTTP libraries\n- Choose the right HTTP client for your project');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (141, 52, 11, 'Handling API Responses', 'handling-api-responses', '# Lesson 12.3: Working with JSON\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use `JSON.stringify()` to convert objects to JSON\n- Use `JSON.parse()` to convert JSON to objects\n- Handle JSON data from APIs\n- Work with nested JSON structures\n- Use JSON with common patterns\n- Handle JSON errors\n- Manipulate JSON data effectively\n\n---\n\n## Introduction to JSON\n\nJSON (JavaScript Object Notation) is a lightweight data interchange format. It''s the standard format for data exchange in web APIs.\n\n### What is JSON?\n\n- **Text Format**: Human-readable text format\n- **Language Independent**: Works with any language\n- **Lightweight**: Smaller than XML\n- **Standard**: Used by most APIs\n- **JavaScript Native**: Built into JavaScript\n\n### JSON Syntax\n\n```json\n{\n  "name": "Alice",\n  "age": 25,\n  "city": "New York",\n  "isActive": true,\n  "hobbies": ["reading", "coding"],\n  "address": {\n    "street": "123 Main St",\n    "zipCode": "10001"\n  }\n}\n```\n\n---\n\n## JSON.stringify()\n\n`JSON.stringify()` converts a JavaScript value to a JSON string.\n\n### Basic Usage\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York"\n};\n\nlet jsonString = JSON.stringify(person);\nconsole.log(jsonString);\n// ''{"name":"Alice","age":25,"city":"New York"}''\n```\n\n### Stringifying Different Types\n\n```javascript\n// Object\nJSON.stringify({ name: "Alice" });  // ''{"name":"Alice"}''\n\n// Array\nJSON.stringify([1, 2, 3]);  // ''[1,2,3]''\n\n// String\nJSON.stringify("Hello");  // ''"Hello"''\n\n// Number\nJSON.stringify(42);  // ''42''\n\n// Boolean\nJSON.stringify(true);  // ''true''\n\n// null\nJSON.stringify(null);  // ''null''\n\n// undefined (excluded)\nJSON.stringify({ x: undefined });  // ''{}''\n```\n\n### Replacer Function\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    password: "secret123"\n};\n\n// Exclude password\nlet json = JSON.stringify(person, (key, value) => {\n    if (key === "password") {\n        return undefined;  // Exclude\n    }\n    return value;\n});\n\nconsole.log(json);  // ''{"name":"Alice","age":25}''\n```\n\n### Replacer Array\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York",\n    email: "alice@example.com"\n};\n\n// Only include specified keys\nlet json = JSON.stringify(person, ["name", "age"]);\nconsole.log(json);  // ''{"name":"Alice","age":25}''\n```\n\n### Space Parameter (Pretty Print)\n\n```javascript\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York"\n};\n\n// Pretty print with 2 spaces\nlet json = JSON.stringify(person, null, 2);\nconsole.log(json);\n/*\n{\n  "name": "Alice",\n  "age": 25,\n  "city": "New York"\n}\n*/\n\n// Pretty print with tabs\nlet json2 = JSON.stringify(person, null, "\\t");\n```\n\n### Handling Circular References\n\n```javascript\nlet obj = { name: "Alice" };\nobj.self = obj;  // Circular reference\n\n// ⚠️ Error: Converting circular structure\n// JSON.stringify(obj);  // Error!\n\n// ✅ Solution: Handle circular references\nfunction stringifyCircular(obj) {\n    let seen = new WeakSet();\n    return JSON.stringify(obj, (key, value) => {\n        if (typeof value === "object" && value !== null) {\n            if (seen.has(value)) {\n                return "[Circular]";\n            }\n            seen.add(value);\n        }\n        return value;\n    });\n}\n```\n\n---\n\n## JSON.parse()\n\n`JSON.parse()` converts a JSON string to a JavaScript object.\n\n### Basic Usage\n\n```javascript\nlet jsonString = ''{"name":"Alice","age":25,"city":"New York"}'';\nlet person = JSON.parse(jsonString);\n\nconsole.log(person.name);  // "Alice"\nconsole.log(person.age);   // 25\n```\n\n### Parsing Arrays\n\n```javascript\nlet jsonArray = ''[1, 2, 3, 4, 5]'';\nlet numbers = JSON.parse(jsonArray);\n\nconsole.log(numbers);      // [1, 2, 3, 4, 5]\nconsole.log(numbers[0]);   // 1\n```\n\n### Reviver Function\n\n```javascript\nlet jsonString = ''{"name":"Alice","age":"25","date":"2024-01-01"}'';\n\nlet person = JSON.parse(jsonString, (key, value) => {\n    // Convert age string to number\n    if (key === "age") {\n        return parseInt(value);\n    }\n    // Convert date string to Date object\n    if (key === "date") {\n        return new Date(value);\n    }\n    return value;\n});\n\nconsole.log(person.age);   // 25 (number)\nconsole.log(person.date);  // Date object\n```\n\n### Error Handling\n\n```javascript\nfunction safeParse(jsonString) {\n    try {\n        return JSON.parse(jsonString);\n    } catch (error) {\n        console.error("Invalid JSON:", error.message);\n        return null;\n    }\n}\n\nlet valid = safeParse(''{"name":"Alice"}'');  // { name: "Alice" }\nlet invalid = safeParse(''{name:"Alice"}'');  // null (invalid JSON)\n```\n\n---\n\n## Working with API Data\n\n### Fetching and Parsing JSON\n\n```javascript\nasync function fetchUserData(userId) {\n    try {\n        const response = await fetch(`https://api.example.com/users/${userId}`);\n        const jsonString = await response.text();\n        const user = JSON.parse(jsonString);\n        return user;\n    } catch (error) {\n        console.error("Error:", error);\n        throw error;\n    }\n}\n\n// Or use response.json() which does parsing automatically\nasync function fetchUserData(userId) {\n    const response = await fetch(`https://api.example.com/users/${userId}`);\n    const user = await response.json();  // Automatically parses JSON\n    return user;\n}\n```\n\n### Sending JSON Data\n\n```javascript\nasync function createUser(userData) {\n    try {\n        const response = await fetch(''https://api.example.com/users'', {\n            method: ''POST'',\n            headers: {\n                ''Content-Type'': ''application/json''\n            },\n            body: JSON.stringify(userData)  // Convert to JSON string\n        });\n        \n        const newUser = await response.json();\n        return newUser;\n    } catch (error) {\n        console.error("Error:", error);\n        throw error;\n    }\n}\n\ncreateUser({\n    name: "Alice",\n    age: 25,\n    email: "alice@example.com"\n});\n```\n\n---\n\n## Common JSON Patterns\n\n### Pattern 1: Deep Clone\n\n```javascript\nfunction deepClone(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\n\nlet original = {\n    name: "Alice",\n    address: {\n        city: "New York"\n    }\n};\n\nlet cloned = deepClone(original);\ncloned.address.city = "Boston";\n\nconsole.log(original.address.city);  // "New York" (unchanged)\nconsole.log(cloned.address.city);    // "Boston"\n```\n\n**Note**: This doesn''t work with functions, dates, or circular references.\n\n### Pattern 2: Comparing Objects\n\n```javascript\nfunction objectsEqual(obj1, obj2) {\n    return JSON.stringify(obj1) === JSON.stringify(obj2);\n}\n\nlet obj1 = { name: "Alice", age: 25 };\nlet obj2 = { name: "Alice", age: 25 };\nlet obj3 = { age: 25, name: "Alice" };  // Different order\n\nconsole.log(objectsEqual(obj1, obj2));  // true\nconsole.log(objectsEqual(obj1, obj3));  // false (order matters)\n```\n\n### Pattern 3: Filtering Object Properties\n\n```javascript\nfunction filterObject(obj, keys) {\n    let filtered = {};\n    keys.forEach(key => {\n        if (obj.hasOwnProperty(key)) {\n            filtered[key] = obj[key];\n        }\n    });\n    return filtered;\n}\n\nlet person = {\n    name: "Alice",\n    age: 25,\n    email: "alice@example.com",\n    password: "secret"\n};\n\nlet public = filterObject(person, ["name", "age"]);\nlet json = JSON.stringify(public);\nconsole.log(json);  // ''{"name":"Alice","age":25}''\n```\n\n### Pattern 4: Transforming Data\n\n```javascript\nfunction transformData(data, transformer) {\n    return JSON.parse(\n        JSON.stringify(data, transformer)\n    );\n}\n\nlet person = {\n    name: "Alice",\n    age: 25,\n    password: "secret"\n};\n\nlet transformed = transformData(person, (key, value) => {\n    if (key === "password") {\n        return undefined;  // Remove\n    }\n    if (key === "age") {\n        return value + 1;  // Transform\n    }\n    return value;\n});\n\nconsole.log(transformed);  // { name: "Alice", age: 26 }\n```\n\n---\n\n## Nested JSON Structures\n\n### Working with Nested Objects\n\n```javascript\nlet company = {\n    name: "Tech Corp",\n    employees: [\n        {\n            id: 1,\n            name: "Alice",\n            department: {\n                name: "Engineering",\n                location: "New York"\n            }\n        },\n        {\n            id: 2,\n            name: "Bob",\n            department: {\n                name: "Sales",\n                location: "Boston"\n            }\n        }\n    ]\n};\n\nlet json = JSON.stringify(company, null, 2);\nconsole.log(json);\n\n// Access nested data\nlet parsed = JSON.parse(json);\nconsole.log(parsed.employees[0].department.name);  // "Engineering"\n```\n\n### Flattening Nested JSON\n\n```javascript\nfunction flattenObject(obj, prefix = "") {\n    let flattened = {};\n    \n    for (let key in obj) {\n        let newKey = prefix ? `${prefix}.${key}` : key;\n        \n        if (typeof obj[key] === "object" && obj[key] !== null && !Array.isArray(obj[key])) {\n            Object.assign(flattened, flattenObject(obj[key], newKey));\n        } else {\n            flattened[newKey] = obj[key];\n        }\n    }\n    \n    return flattened;\n}\n\nlet nested = {\n    user: {\n        name: "Alice",\n        address: {\n            city: "New York"\n        }\n    }\n};\n\nlet flat = flattenObject(nested);\nconsole.log(flat);\n// { "user.name": "Alice", "user.address.city": "New York" }\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: JSON Manipulation\n\n**Objective**: Practice working with JSON data.\n\n**Instructions**:\n\n1. Create a file called `json-practice.js`\n\n2. Practice:\n   - JSON.stringify() with different options\n   - JSON.parse() with reviver\n   - Working with API data\n   - Common JSON patterns\n   - Nested JSON structures\n\n**Example Solution**:\n\n```javascript\n// JSON Practice\nconsole.log("=== JSON.stringify() Basics ===");\n\nlet person = {\n    name: "Alice",\n    age: 25,\n    city: "New York",\n    isActive: true,\n    hobbies: ["reading", "coding"]\n};\n\nlet json = JSON.stringify(person);\nconsole.log("JSON string:", json);\n\nlet pretty = JSON.stringify(person, null, 2);\nconsole.log("Pretty JSON:");\nconsole.log(pretty);\nconsole.log();\n\nconsole.log("=== JSON.parse() Basics ===");\n\nlet jsonString = ''{"name":"Alice","age":25,"city":"New York"}'';\nlet parsed = JSON.parse(jsonString);\n\nconsole.log("Parsed object:", parsed);\nconsole.log("Name:", parsed.name);\nconsole.log("Age:", parsed.age);\nconsole.log();\n\nconsole.log("=== Replacer Function ===");\n\nlet user = {\n    name: "Alice",\n    age: 25,\n    password: "secret123",\n    email: "alice@example.com"\n};\n\n// Exclude password\nlet safeJson = JSON.stringify(user, (key, value) => {\n    if (key === "password") {\n        return undefined;\n    }\n    return value;\n});\n\nconsole.log("Safe JSON:", safeJson);\nconsole.log();\n\nconsole.log("=== Replacer Array ===");\n\nlet selectedFields = JSON.stringify(user, ["name", "email"]);\nconsole.log("Selected fields:", selectedFields);\nconsole.log();\n\nconsole.log("=== Reviver Function ===");\n\nlet jsonWithTypes = ''{"name":"Alice","age":"25","birthDate":"1999-01-01"}'';\n\nlet parsedWithTypes = JSON.parse(jsonWithTypes, (key, value) => {\n    if (key === "age") {\n        return parseInt(value);\n    }\n    if (key === "birthDate") {\n        return new Date(value);\n    }\n    return value;\n});\n\nconsole.log("Age type:", typeof parsedWithTypes.age);  // "number"\nconsole.log("Birth date type:", parsedWithTypes.birthDate instanceof Date);  // true\nconsole.log();\n\nconsole.log("=== Error Handling ===");\n\nfunction safeParse(jsonString) {\n    try {\n        return JSON.parse(jsonString);\n    } catch (error) {\n        console.error("Parse error:", error.message);\n        return null;\n    }\n}\n\nlet valid = safeParse(''{"name":"Alice"}'');\nconsole.log("Valid JSON:", valid);\n\nlet invalid = safeParse(''{name:"Alice"}'');\nconsole.log("Invalid JSON:", invalid);\nconsole.log();\n\nconsole.log("=== Deep Clone ===");\n\nlet original = {\n    name: "Alice",\n    address: {\n        city: "New York",\n        zipCode: "10001"\n    }\n};\n\nlet cloned = JSON.parse(JSON.stringify(original));\ncloned.address.city = "Boston";\n\nconsole.log("Original city:", original.address.city);  // "New York"\nconsole.log("Cloned city:", cloned.address.city);      // "Boston"\nconsole.log();\n\nconsole.log("=== Comparing Objects ===");\n\nfunction objectsEqual(obj1, obj2) {\n    return JSON.stringify(obj1) === JSON.stringify(obj2);\n}\n\nlet obj1 = { a: 1, b: 2 };\nlet obj2 = { a: 1, b: 2 };\nlet obj3 = { a: 1, b: 3 };\n\nconsole.log("obj1 === obj2:", objectsEqual(obj1, obj2));  // true\nconsole.log("obj1 === obj3:", objectsEqual(obj1, obj3));  // false\nconsole.log();\n\nconsole.log("=== Filtering Properties ===");\n\nfunction filterProperties(obj, keys) {\n    let filtered = {};\n    keys.forEach(key => {\n        if (obj.hasOwnProperty(key)) {\n            filtered[key] = obj[key];\n        }\n    });\n    return filtered;\n}\n\nlet fullUser = {\n    name: "Alice",\n    age: 25,\n    email: "alice@example.com",\n    password: "secret",\n    phone: "555-1234"\n};\n\nlet publicUser = filterProperties(fullUser, ["name", "age", "email"]);\nconsole.log("Public user:", JSON.stringify(publicUser, null, 2));\nconsole.log();\n\nconsole.log("=== Nested JSON ===");\n\nlet company = {\n    name: "Tech Corp",\n    employees: [\n        {\n            id: 1,\n            name: "Alice",\n            department: {\n                name: "Engineering",\n                location: "New York"\n            },\n            skills: ["JavaScript", "Python"]\n        },\n        {\n            id: 2,\n            name: "Bob",\n            department: {\n                name: "Sales",\n                location: "Boston"\n            },\n            skills: ["Communication", "Negotiation"]\n        }\n    ]\n};\n\nlet companyJson = JSON.stringify(company, null, 2);\nconsole.log("Company JSON:");\nconsole.log(companyJson);\n\nlet parsedCompany = JSON.parse(companyJson);\nconsole.log("\\nFirst employee department:", parsedCompany.employees[0].department.name);\nconsole.log();\n\nconsole.log("=== Transforming Data ===");\n\nfunction transformJSON(data, transformer) {\n    return JSON.parse(\n        JSON.stringify(data, transformer)\n    );\n}\n\nlet data = {\n    name: "Alice",\n    age: 25,\n    password: "secret",\n    score: 85\n};\n\nlet transformed = transformJSON(data, (key, value) => {\n    if (key === "password") {\n        return undefined;  // Remove\n    }\n    if (key === "score") {\n        return value > 80 ? "A" : "B";  // Transform\n    }\n    return value;\n});\n\nconsole.log("Transformed:", JSON.stringify(transformed, null, 2));\nconsole.log();\n\nconsole.log("=== API Data Simulation ===");\n\n// Simulate API response\nlet apiResponse = {\n    status: "success",\n    data: {\n        users: [\n            { id: 1, name: "Alice", email: "alice@example.com" },\n            { id: 2, name: "Bob", email: "bob@example.com" }\n        ],\n        total: 2\n    }\n};\n\nlet responseJson = JSON.stringify(apiResponse);\nconsole.log("API Response JSON:", responseJson);\n\nlet parsedResponse = JSON.parse(responseJson);\nconsole.log("Total users:", parsedResponse.data.total);\nconsole.log("First user:", parsedResponse.data.users[0].name);\nconsole.log();\n\nconsole.log("=== Working with Arrays ===");\n\nlet users = [\n    { id: 1, name: "Alice" },\n    { id: 2, name: "Bob" },\n    { id: 3, name: "Charlie" }\n];\n\nlet usersJson = JSON.stringify(users);\nconsole.log("Users JSON:", usersJson);\n\nlet parsedUsers = JSON.parse(usersJson);\nconsole.log("User count:", parsedUsers.length);\nconsole.log("Second user:", parsedUsers[1].name);\n```\n\n**Expected Output**:\n```\n=== JSON.stringify() Basics ===\nJSON string: {"name":"Alice","age":25,"city":"New York","isActive":true,"hobbies":["reading","coding"]}\nPretty JSON:\n{\n  "name": "Alice",\n  "age": 25,\n  "city": "New York",\n  "isActive": true,\n  "hobbies": [\n    "reading",\n    "coding"\n  ]\n}\n\n=== JSON.parse() Basics ===\nParsed object: { name: "Alice", age: 25, city: "New York" }\nName: Alice\nAge: 25\n\n=== Replacer Function ===\nSafe JSON: {"name":"Alice","age":25,"email":"alice@example.com"}\n\n=== Replacer Array ===\nSelected fields: {"name":"Alice","email":"alice@example.com"}\n\n=== Reviver Function ===\nAge type: number\nBirth date type: true\n\n=== Error Handling ===\nValid JSON: { name: "Alice" }\nParse error: Expected property name or ''}'' in JSON at position 1\nInvalid JSON: null\n\n=== Deep Clone ===\nOriginal city: New York\nCloned city: Boston\n\n=== Comparing Objects ===\nobj1 === obj2: true\nobj1 === obj3: false\n\n=== Filtering Properties ===\nPublic user: {\n  "name": "Alice",\n  "age": 25,\n  "email": "alice@example.com"\n}\n\n=== Nested JSON ===\nCompany JSON:\n{\n  "name": "Tech Corp",\n  "employees": [\n    {\n      "id": 1,\n      "name": "Alice",\n      "department": {\n        "name": "Engineering",\n        "location": "New York"\n      },\n      "skills": [\n        "JavaScript",\n        "Python"\n      ]\n    },\n    {\n      "id": 2,\n      "name": "Bob",\n      "department": {\n        "name": "Sales",\n        "location": "Boston"\n      },\n      "skills": [\n        "Communication",\n        "Negotiation"\n      ]\n    }\n  ]\n}\n\nFirst employee department: Engineering\n\n=== Transforming Data ===\nTransformed: {\n  "name": "Alice",\n  "age": 25,\n  "score": "A"\n}\n\n=== API Data Simulation ===\nAPI Response JSON: {"status":"success","data":{"users":[{"id":1,"name":"Alice","email":"alice@example.com"},{"id":2,"name":"Bob","email":"bob@example.com"}],"total":2}}\nTotal users: 2\nFirst user: Alice\n\n=== Working with Arrays ===\nUsers JSON: [{"id":1,"name":"Alice"},{"id":2,"name":"Bob"},{"id":3,"name":"Charlie"}]\nUser count: 3\nSecond user: Bob\n```\n\n**Challenge (Optional)**:\n- Build a JSON validator\n- Create JSON transformation utilities\n- Build a JSON diff tool\n- Create JSON schema validator\n\n---\n\n## Common Mistakes\n\n### 1. Not Handling Parse Errors\n\n```javascript\n// ⚠️ Problem: No error handling\nlet data = JSON.parse(invalidJson);  // Throws error\n\n// ✅ Solution: Use try-catch\ntry {\n    let data = JSON.parse(jsonString);\n} catch (error) {\n    console.error("Invalid JSON:", error);\n}\n```\n\n### 2. Forgetting to Stringify\n\n```javascript\n// ⚠️ Problem: Sending object directly\nfetch(url, {\n    method: ''POST'',\n    body: userObject  // Wrong!\n});\n\n// ✅ Solution: Stringify first\nfetch(url, {\n    method: ''POST'',\n    body: JSON.stringify(userObject)\n});\n```\n\n### 3. Circular References\n\n```javascript\n// ⚠️ Problem: Circular reference\nlet obj = { name: "Alice" };\nobj.self = obj;\nJSON.stringify(obj);  // Error!\n\n// ✅ Solution: Handle circular references\nfunction safeStringify(obj) {\n    let seen = new WeakSet();\n    return JSON.stringify(obj, (key, value) => {\n        if (typeof value === "object" && value !== null) {\n            if (seen.has(value)) {\n                return "[Circular]";\n            }\n            seen.add(value);\n        }\n        return value;\n    });\n}\n```\n\n### 4. Functions Not Stringified\n\n```javascript\n// ⚠️ Problem: Functions are lost\nlet obj = {\n    name: "Alice",\n    greet: function() {\n        return "Hello";\n    }\n};\n\nJSON.stringify(obj);  // ''{"name":"Alice"}'' (function lost)\n\n// ✅ Solution: Convert functions to strings or exclude\nJSON.stringify(obj, (key, value) => {\n    if (typeof value === "function") {\n        return value.toString();\n    }\n    return value;\n});\n```\n\n---\n\n## Key Takeaways\n\n1. **JSON.stringify()**: Converts JavaScript to JSON string\n2. **JSON.parse()**: Converts JSON string to JavaScript\n3. **Replacer**: Filter/transform during stringify\n4. **Reviver**: Transform during parse\n5. **Error Handling**: Always handle parse errors\n6. **API Integration**: JSON is standard for APIs\n7. **Best Practice**: Use try-catch for parsing\n8. **Common Patterns**: Deep clone, compare, filter\n\n---\n\n## Quiz: JSON\n\nTest your understanding with these questions:\n\n1. **JSON.stringify() converts:**\n   - A) JSON to object\n   - B) Object to JSON string\n   - C) String to object\n   - D) Nothing\n\n2. **JSON.parse() converts:**\n   - A) JSON string to object\n   - B) Object to JSON\n   - C) String to number\n   - D) Nothing\n\n3. **Replacer function is used with:**\n   - A) JSON.parse()\n   - B) JSON.stringify()\n   - C) Both\n   - D) Neither\n\n4. **Reviver function is used with:**\n   - A) JSON.parse()\n   - B) JSON.stringify()\n   - C) Both\n   - D) Neither\n\n5. **JSON.stringify() excludes:**\n   - A) undefined\n   - B) functions\n   - C) Both A and B\n   - D) Nothing\n\n6. **Circular references cause:**\n   - A) Error in stringify\n   - B) Infinite loop\n   - C) Both A and B\n   - D) Nothing\n\n7. **Pretty printing uses:**\n   - A) Space parameter\n   - B) Tab parameter\n   - C) Both A and B\n   - D) Neither\n\n**Answers**:\n1. B) Object to JSON string\n2. A) JSON string to object\n3. B) JSON.stringify()\n4. A) JSON.parse()\n5. C) Both A and B\n6. A) Error in stringify\n7. C) Both A and B (space parameter can be number or string)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 12: Working with APIs. You now know:\n- How to use the Fetch API\n- How to use Axios\n- How to work with JSON data\n- Complete API integration\n\n**What''s Next?**\n- Course 3: DOM Manipulation and Events\n- Module 13: DOM Basics\n- Learn to manipulate web pages\n- Build interactive web applications\n\n---\n\n## Additional Resources\n\n- **MDN: JSON**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON)\n- **JSON.org**: [json.org](https://www.json.org/)\n- **JSON Guide**: Comprehensive JSON patterns and best practices\n\n---\n\n*Lesson completed! You''ve finished Module 12: Working with APIs. Ready for Course 3: DOM Manipulation and Events!*\n\n', NULL, 3, '2026-01-03 09:51:41', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use `JSON.stringify()` to convert objects to JSON\n- Use `JSON.parse()` to convert JSON to objects\n- Handle JSON data from APIs\n- Work with nested JSON structures\n- Use JSON with common patterns\n- Handle JSON errors\n- Manipulate JSON data effectively');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (142, 53, 12, 'DOM Basics', 'dom-basics', '# Lesson 13.1: DOM Basics\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand what the DOM is\n- Understand the DOM tree structure\n- Differentiate between nodes and elements\n- Access DOM elements using various methods\n- Navigate the DOM tree\n- Work with the document object\n- Understand DOM relationships\n\n---\n\n## Introduction to the DOM\n\nThe Document Object Model (DOM) is a programming interface for HTML and XML documents. It represents the page structure as a tree of objects that can be manipulated with JavaScript.\n\n### What is the DOM?\n\n- **Tree Structure**: Represents HTML as a tree\n- **Programmatic Access**: JavaScript can access and modify it\n- **Live Representation**: Changes reflect in the browser\n- **Standard API**: Cross-browser standard\n- **Dynamic**: Can be modified at runtime\n\n### Why Learn the DOM?\n\n- **Interactive Web Pages**: Make pages dynamic\n- **User Interaction**: Respond to user actions\n- **Content Updates**: Change page content dynamically\n- **Modern Web Development**: Essential for web apps\n\n---\n\n## DOM Tree Structure\n\n### HTML to DOM Tree\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <title>My Page</title>\n</head>\n<body>\n    <h1>Hello</h1>\n    <p>World</p>\n</body>\n</html>\n```\n\n**DOM Tree:**\n```\nDocument\n└── html\n    ├── head\n    │   └── title\n    │       └── "My Page"\n    └── body\n        ├── h1\n        │   └── "Hello"\n        └── p\n            └── "World"\n```\n\n### Understanding the Tree\n\n- **Root**: `document` object\n- **Nodes**: Every part of the tree (elements, text, attributes)\n- **Elements**: HTML tags (div, p, h1, etc.)\n- **Text Nodes**: Text content\n- **Attributes**: Properties of elements (id, class, etc.)\n\n---\n\n## Nodes vs Elements\n\n### Nodes\n\nA node is any object in the DOM tree. Types include:\n- **Element Node**: HTML elements (div, p, etc.)\n- **Text Node**: Text content\n- **Attribute Node**: Attributes (id, class, etc.)\n- **Comment Node**: HTML comments\n- **Document Node**: The document itself\n\n### Elements\n\nAn element is a specific type of node representing HTML tags.\n\n### Example\n\n```html\n<div id="container">Hello World</div>\n```\n\n- **Element Node**: `<div>` element\n- **Attribute Node**: `id="container"`\n- **Text Node**: "Hello World"\n\n---\n\n## The document Object\n\nThe `document` object represents the entire HTML document.\n\n### Accessing document\n\n```javascript\n// document is available globally\nconsole.log(document);\nconsole.log(document.documentElement);  // <html> element\nconsole.log(document.body);            // <body> element\nconsole.log(document.head);            // <head> element\n```\n\n### Document Properties\n\n```javascript\nconsole.log(document.title);        // Page title\nconsole.log(document.URL);          // Page URL\nconsole.log(document.domain);       // Domain name\nconsole.log(document.readyState);   // Loading state\n```\n\n---\n\n## Accessing Elements\n\n### getElementById()\n\nGet element by its ID attribute:\n\n```javascript\n// HTML: <div id="myDiv">Content</div>\nlet element = document.getElementById(''myDiv'');\nconsole.log(element);  // <div id="myDiv">Content</div>\n```\n\n**Note**: Returns `null` if element not found.\n\n### getElementsByClassName()\n\nGet elements by class name (returns HTMLCollection):\n\n```javascript\n// HTML: <div class="item">1</div><div class="item">2</div>\nlet elements = document.getElementsByClassName(''item'');\nconsole.log(elements.length);  // 2\nconsole.log(elements[0]);     // First element\n```\n\n### getElementsByTagName()\n\nGet elements by tag name (returns HTMLCollection):\n\n```javascript\n// HTML: <p>Para 1</p><p>Para 2</p>\nlet paragraphs = document.getElementsByTagName(''p'');\nconsole.log(paragraphs.length);  // 2\n```\n\n### querySelector()\n\nGet first element matching CSS selector:\n\n```javascript\n// Get by ID\nlet element = document.querySelector(''#myDiv'');\n\n// Get by class\nlet element = document.querySelector(''.myClass'');\n\n// Get by tag\nlet element = document.querySelector(''p'');\n\n// Complex selector\nlet element = document.querySelector(''div.container > p'');\n```\n\n### querySelectorAll()\n\nGet all elements matching CSS selector (returns NodeList):\n\n```javascript\n// Get all elements with class\nlet elements = document.querySelectorAll(''.item'');\n\n// Get all paragraphs\nlet paragraphs = document.querySelectorAll(''p'');\n\n// Complex selector\nlet elements = document.querySelectorAll(''div.container p'');\n```\n\n### Comparison\n\n| Method | Returns | Live Collection | Selector Support |\n|--------|---------|----------------|------------------|\n| `getElementById()` | Single element | No | No |\n| `getElementsByClassName()` | HTMLCollection | Yes | No |\n| `getElementsByTagName()` | HTMLCollection | Yes | No |\n| `querySelector()` | Single element | No | Yes |\n| `querySelectorAll()` | NodeList | No | Yes |\n\n---\n\n## HTMLCollection vs NodeList\n\n### HTMLCollection\n\n- **Live**: Updates when DOM changes\n- **Array-like**: Can use index, length\n- **Methods**: Limited (no forEach in older browsers)\n\n```javascript\nlet items = document.getElementsByClassName(''item'');\nconsole.log(items.length);  // Current count\n\n// Add new element\ndocument.body.appendChild(document.createElement(''div'')).className = ''item'';\nconsole.log(items.length);  // Updated count (live)\n```\n\n### NodeList\n\n- **Static**: Doesn''t update (querySelectorAll)\n- **Array-like**: Can use index, length\n- **Methods**: forEach, entries, keys, values\n\n```javascript\nlet items = document.querySelectorAll(''.item'');\nconsole.log(items.length);  // Current count\n\n// Add new element\ndocument.body.appendChild(document.createElement(''div'')).className = ''item'';\nconsole.log(items.length);  // Same count (static)\n```\n\n### Converting to Array\n\n```javascript\n// HTMLCollection to Array\nlet items = Array.from(document.getElementsByClassName(''item''));\n\n// NodeList to Array\nlet items = Array.from(document.querySelectorAll(''.item''));\n\n// Or use spread\nlet items = [...document.querySelectorAll(''.item'')];\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Accessing Elements\n\n```html\n<!DOCTYPE html>\n<html>\n<body>\n    <div id="container">\n        <h1 class="title">Hello</h1>\n        <p class="text">World</p>\n        <p class="text">JavaScript</p>\n    </div>\n</body>\n</html>\n```\n\n```javascript\n// Get by ID\nlet container = document.getElementById(''container'');\n\n// Get by class\nlet titles = document.getElementsByClassName(''title'');\nlet texts = document.getElementsByClassName(''text'');\n\n// Get by tag\nlet paragraphs = document.getElementsByTagName(''p'');\n\n// Query selector\nlet firstText = document.querySelector(''.text'');\nlet allTexts = document.querySelectorAll(''.text'');\n\n// Complex selector\nlet textInContainer = document.querySelector(''#container .text'');\n```\n\n### Example 2: Checking Element Existence\n\n```javascript\nfunction getElementSafely(id) {\n    let element = document.getElementById(id);\n    if (element) {\n        return element;\n    } else {\n        console.warn(`Element with id "${id}" not found`);\n        return null;\n    }\n}\n\nlet element = getElementSafely(''myDiv'');\nif (element) {\n    // Work with element\n    console.log(element);\n}\n```\n\n### Example 3: Working with Collections\n\n```javascript\n// Get all buttons\nlet buttons = document.querySelectorAll(''button'');\n\n// Iterate with forEach\nbuttons.forEach((button, index) => {\n    console.log(`Button ${index}:`, button.textContent);\n});\n\n// Convert to array and use array methods\nlet buttonArray = Array.from(buttons);\nlet buttonTexts = buttonArray.map(btn => btn.textContent);\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: DOM Navigation\n\n**Objective**: Practice accessing and navigating DOM elements.\n\n**Instructions**:\n\n1. Create an HTML file with various elements\n2. Create a JavaScript file to access elements\n3. Practice:\n   - Using all element access methods\n   - Working with HTMLCollection and NodeList\n   - Navigating the DOM tree\n   - Checking element existence\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>DOM Navigation Practice</title>\n</head>\n<body>\n    <div id="container">\n        <h1 class="title">My Page</h1>\n        <p class="text">First paragraph</p>\n        <p class="text">Second paragraph</p>\n        <ul id="list">\n            <li class="item">Item 1</li>\n            <li class="item">Item 2</li>\n            <li class="item">Item 3</li>\n        </ul>\n        <button class="btn">Click Me</button>\n        <button class="btn">Another Button</button>\n    </div>\n    <script src="dom-navigation.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// dom-navigation.js\nconsole.log("=== DOM Navigation Practice ===");\n\nconsole.log("\\n=== Document Object ===");\nconsole.log("Document:", document);\nconsole.log("Document title:", document.title);\nconsole.log("Document URL:", document.URL);\nconsole.log("Document body:", document.body);\nconsole.log("Document head:", document.head);\n\nconsole.log("\\n=== getElementById() ===");\nlet container = document.getElementById(''container'');\nconsole.log("Container:", container);\nconsole.log("Container ID:", container.id);\nconsole.log("Container tag name:", container.tagName);\n\nlet list = document.getElementById(''list'');\nconsole.log("List:", list);\nconsole.log("List children count:", list.children.length);\n\nconsole.log("\\n=== getElementsByClassName() ===");\nlet texts = document.getElementsByClassName(''text'');\nconsole.log("Text elements count:", texts.length);\nconsole.log("First text:", texts[0].textContent);\nconsole.log("Second text:", texts[1].textContent);\n\nlet items = document.getElementsByClassName(''item'');\nconsole.log("Item elements count:", items.length);\nfor (let i = 0; i < items.length; i++) {\n    console.log(`Item ${i + 1}:`, items[i].textContent);\n}\n\nlet buttons = document.getElementsByClassName(''btn'');\nconsole.log("Button elements count:", buttons.length);\n\nconsole.log("\\n=== getElementsByTagName() ===");\nlet paragraphs = document.getElementsByTagName(''p'');\nconsole.log("Paragraphs count:", paragraphs.length);\n\nlet listItems = document.getElementsByTagName(''li'');\nconsole.log("List items count:", listItems.length);\n\nlet allDivs = document.getElementsByTagName(''div'');\nconsole.log("Divs count:", allDivs.length);\n\nconsole.log("\\n=== querySelector() ===");\nlet firstText = document.querySelector(''.text'');\nconsole.log("First text element:", firstText.textContent);\n\nlet title = document.querySelector(''.title'');\nconsole.log("Title:", title.textContent);\n\nlet firstButton = document.querySelector(''.btn'');\nconsole.log("First button:", firstButton.textContent);\n\nlet containerQuery = document.querySelector(''#container'');\nconsole.log("Container via querySelector:", containerQuery.id);\n\nlet nestedItem = document.querySelector(''#list .item'');\nconsole.log("First nested item:", nestedItem.textContent);\n\nconsole.log("\\n=== querySelectorAll() ===");\nlet allTexts = document.querySelectorAll(''.text'');\nconsole.log("All text elements:", allTexts.length);\nallTexts.forEach((text, index) => {\n    console.log(`Text ${index + 1}:`, text.textContent);\n});\n\nlet allItems = document.querySelectorAll(''.item'');\nconsole.log("All items:", allItems.length);\nallItems.forEach((item, index) => {\n    console.log(`Item ${index + 1}:`, item.textContent);\n});\n\nlet allButtons = document.querySelectorAll(''.btn'');\nconsole.log("All buttons:", allButtons.length);\nallButtons.forEach((btn, index) => {\n    console.log(`Button ${index + 1}:`, btn.textContent);\n});\n\nconsole.log("\\n=== Complex Selectors ===");\nlet itemsInList = document.querySelectorAll(''#list .item'');\nconsole.log("Items in list:", itemsInList.length);\n\nlet buttonsInContainer = document.querySelectorAll(''#container .btn'');\nconsole.log("Buttons in container:", buttonsInContainer.length);\n\nlet directChildren = document.querySelectorAll(''#container > p'');\nconsole.log("Direct paragraph children:", directChildren.length);\n\nconsole.log("\\n=== HTMLCollection vs NodeList ===");\nlet classCollection = document.getElementsByClassName(''text'');\nlet queryNodeList = document.querySelectorAll(''.text'');\n\nconsole.log("HTMLCollection length:", classCollection.length);\nconsole.log("NodeList length:", queryNodeList.length);\n\n// Add new element\nlet newP = document.createElement(''p'');\nnewP.className = ''text'';\nnewP.textContent = ''New paragraph'';\ndocument.getElementById(''container'').appendChild(newP);\n\nconsole.log("After adding element:");\nconsole.log("HTMLCollection length (live):", classCollection.length);\nconsole.log("NodeList length (static):", queryNodeList.length);\n\nconsole.log("\\n=== Converting to Array ===");\nlet itemsArray = Array.from(items);\nconsole.log("Items as array:", itemsArray);\nconsole.log("Can use array methods:", itemsArray.map(item => item.textContent));\n\nlet buttonsArray = [...allButtons];\nconsole.log("Buttons as array:", buttonsArray);\nconsole.log("Button texts:", buttonsArray.map(btn => btn.textContent));\n\nconsole.log("\\n=== Checking Element Existence ===");\nfunction getElementSafely(id) {\n    let element = document.getElementById(id);\n    if (element) {\n        return element;\n    } else {\n        console.warn(`Element with id "${id}" not found`);\n        return null;\n    }\n}\n\nlet existing = getElementSafely(''container'');\nconsole.log("Existing element:", existing ? existing.id : "null");\n\nlet missing = getElementSafely(''nonExistent'');\nconsole.log("Missing element:", missing);\n\nconsole.log("\\n=== Element Properties ===");\nif (container) {\n    console.log("Container ID:", container.id);\n    console.log("Container className:", container.className);\n    console.log("Container tagName:", container.tagName);\n    console.log("Container textContent:", container.textContent);\n    console.log("Container innerHTML:", container.innerHTML.substring(0, 50) + "...");\n}\n```\n\n**Expected Output** (in browser console):\n```\n=== DOM Navigation Practice ===\n\n=== Document Object ===\nDocument: [Document object]\nDocument title: DOM Navigation Practice\nDocument URL: [current URL]\nDocument body: [body element]\nDocument head: [head element]\n\n=== getElementById() ===\nContainer: [div#container]\nContainer ID: container\nContainer tag name: DIV\nList: [ul#list]\nList children count: 3\n\n=== getElementsByClassName() ===\nText elements count: 2\nFirst text: First paragraph\nSecond text: Second paragraph\nItem elements count: 3\nItem 1: Item 1\nItem 2: Item 2\nItem 3: Item 3\nButton elements count: 2\n\n=== getElementsByTagName() ===\nParagraphs count: 2\nList items count: 3\nDivs count: 1\n\n=== querySelector() ===\nFirst text element: First paragraph\nTitle: My Page\nFirst button: Click Me\nContainer via querySelector: container\nFirst nested item: Item 1\n\n=== querySelectorAll() ===\nAll text elements: 2\nText 1: First paragraph\nText 2: Second paragraph\nAll items: 3\nItem 1: Item 1\nItem 2: Item 2\nItem 3: Item 3\nAll buttons: 2\nButton 1: Click Me\nButton 2: Another Button\n\n=== Complex Selectors ===\nItems in list: 3\nButtons in container: 2\nDirect paragraph children: 2\n\n=== HTMLCollection vs NodeList ===\nHTMLCollection length: 2\nNodeList length: 2\nAfter adding element:\nHTMLCollection length (live): 3\nNodeList length (static): 2\n\n=== Converting to Array ===\nItems as array: [array of elements]\nCan use array methods: ["Item 1", "Item 2", "Item 3"]\nButtons as array: [array of elements]\nButton texts: ["Click Me", "Another Button"]\n\n=== Checking Element Existence ===\nExisting element: container\nMissing element: null\n\n=== Element Properties ===\nContainer ID: container\nContainer className: \nContainer tagName: DIV\nContainer textContent: [all text content]\nContainer innerHTML: [HTML content]\n```\n\n**Challenge (Optional)**:\n- Build a DOM inspector tool\n- Create element finder utilities\n- Build a DOM navigation helper\n- Create element validation functions\n\n---\n\n## Common Mistakes\n\n### 1. Not Checking for null\n\n```javascript\n// ⚠️ Problem: Element might not exist\nlet element = document.getElementById(''myDiv'');\nelement.textContent = "Hello";  // Error if element is null\n\n// ✅ Solution: Always check\nlet element = document.getElementById(''myDiv'');\nif (element) {\n    element.textContent = "Hello";\n}\n```\n\n### 2. Confusing HTMLCollection and Array\n\n```javascript\n// ⚠️ Problem: HTMLCollection doesn''t have all array methods\nlet items = document.getElementsByClassName(''item'');\nitems.forEach(item => { });  // Error in older browsers\n\n// ✅ Solution: Convert to array\nlet items = Array.from(document.getElementsByClassName(''item''));\nitems.forEach(item => { });\n```\n\n### 3. Using Wrong Method\n\n```javascript\n// ⚠️ Problem: getElementById doesn''t accept selector\nlet element = document.getElementById(''.myClass'');  // Wrong\n\n// ✅ Solution: Use appropriate method\nlet element = document.querySelector(''.myClass'');\n// or\nlet element = document.getElementsByClassName(''myClass'')[0];\n```\n\n### 4. Forgetting Live Collections\n\n```javascript\n// ⚠️ Problem: Collection updates automatically\nlet items = document.getElementsByClassName(''item'');\nconsole.log(items.length);  // 3\n\n// Add new item\ndocument.body.appendChild(createItem());\n\nconsole.log(items.length);  // 4 (updated automatically)\n\n// ✅ Solution: Be aware of live collections\n// Or use querySelectorAll for static collection\n```\n\n---\n\n## Key Takeaways\n\n1. **DOM**: Tree structure representing HTML\n2. **Nodes**: All objects in DOM tree\n3. **Elements**: Specific type of node (HTML tags)\n4. **Access Methods**: getElementById, querySelector, etc.\n5. **HTMLCollection**: Live collection (updates automatically)\n6. **NodeList**: Static collection (from querySelectorAll)\n7. **Best Practice**: Always check for null, use querySelector for flexibility\n8. **Modern Approach**: Prefer querySelector/querySelectorAll\n\n---\n\n## Quiz: DOM Basics\n\nTest your understanding with these questions:\n\n1. **What does DOM stand for?**\n   - A) Document Object Model\n   - B) Data Object Model\n   - C) Document Order Model\n   - D) Data Order Model\n\n2. **getElementById returns:**\n   - A) Array\n   - B) Single element or null\n   - C) HTMLCollection\n   - D) NodeList\n\n3. **querySelectorAll returns:**\n   - A) HTMLCollection\n   - B) NodeList\n   - C) Array\n   - D) Single element\n\n4. **HTMLCollection is:**\n   - A) Static\n   - B) Live\n   - C) Both\n   - D) Neither\n\n5. **querySelector supports:**\n   - A) ID only\n   - B) Class only\n   - C) CSS selectors\n   - D) Tag only\n\n6. **document represents:**\n   - A) Body element\n   - B) HTML element\n   - C) Entire document\n   - D) Head element\n\n7. **Which is most flexible?**\n   - A) getElementById\n   - B) getElementsByClassName\n   - C) querySelector\n   - D) getElementsByTagName\n\n**Answers**:\n1. A) Document Object Model\n2. B) Single element or null\n3. B) NodeList\n4. B) Live\n5. C) CSS selectors\n6. C) Entire document\n7. C) querySelector\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned DOM basics. You now know:\n- What the DOM is\n- How to access elements\n- Different access methods\n- HTMLCollection vs NodeList\n\n**What''s Next?**\n- Lesson 13.2: Manipulating the DOM\n- Learn to create and modify elements\n- Change content dynamically\n- Build interactive web pages\n\n---\n\n## Additional Resources\n\n- **MDN: DOM**: [developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model](https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model)\n- **MDN: Document**: [developer.mozilla.org/en-US/docs/Web/API/Document](https://developer.mozilla.org/en-US/docs/Web/API/Document)\n- **JavaScript.info: DOM**: [javascript.info/dom-nodes](https://javascript.info/dom-nodes)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:52:47', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand what the DOM is\n- Understand the DOM tree structure\n- Differentiate between nodes and elements\n- Access DOM elements using various methods\n- Navigate the DOM tree\n- Work with the document object\n- Understand DOM relationships');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (143, 53, 12, 'Manipulating the DOM', 'manipulating-the-dom', '# Lesson 13.2: Manipulating the DOM\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Create new DOM elements\n- Add elements to the DOM\n- Remove elements from the DOM\n- Modify element content (text and HTML)\n- Change element attributes\n- Add and remove CSS classes\n- Update element styles\n- Build dynamic web pages\n\n---\n\n## Introduction to DOM Manipulation\n\nDOM manipulation allows you to dynamically change the content, structure, and appearance of web pages using JavaScript.\n\n### Why Manipulate the DOM?\n\n- **Dynamic Content**: Update page without reload\n- **User Interaction**: Respond to user actions\n- **Real-time Updates**: Show live data\n- **Interactive UIs**: Build modern web applications\n\n---\n\n## Creating Elements\n\n### createElement()\n\nCreate a new HTML element:\n\n```javascript\n// Create a div element\nlet div = document.createElement(''div'');\n\n// Create a paragraph\nlet paragraph = document.createElement(''p'');\n\n// Create a button\nlet button = document.createElement(''button'');\n```\n\n### Setting Element Properties\n\n```javascript\nlet div = document.createElement(''div'');\ndiv.id = ''myDiv'';\ndiv.className = ''container'';\ndiv.textContent = ''Hello World'';\n```\n\n### Creating Elements with Attributes\n\n```javascript\nlet link = document.createElement(''a'');\nlink.href = ''https://example.com'';\nlink.textContent = ''Visit Example'';\nlink.target = ''_blank'';\n```\n\n---\n\n## Adding Elements to DOM\n\n### appendChild()\n\nAdd element as the last child:\n\n```javascript\nlet container = document.getElementById(''container'');\nlet newDiv = document.createElement(''div'');\nnewDiv.textContent = ''New content'';\ncontainer.appendChild(newDiv);\n```\n\n### insertBefore()\n\nInsert element before another element:\n\n```javascript\nlet container = document.getElementById(''container'');\nlet newDiv = document.createElement(''div'');\nlet existingDiv = document.getElementById(''existing'');\ncontainer.insertBefore(newDiv, existingDiv);\n```\n\n### insertAdjacentElement()\n\nInsert element at specific position:\n\n```javascript\nlet element = document.getElementById(''target'');\n\n// beforebegin: Before element\nelement.insertAdjacentElement(''beforebegin'', newElement);\n\n// afterbegin: First child\nelement.insertAdjacentElement(''afterbegin'', newElement);\n\n// beforeend: Last child\nelement.insertAdjacentElement(''beforeend'', newElement);\n\n// afterend: After element\nelement.insertAdjacentElement(''afterend'', newElement);\n```\n\n### prepend() and append()\n\nModern methods (may need polyfill for older browsers):\n\n```javascript\nlet container = document.getElementById(''container'');\n\n// Add at beginning\ncontainer.prepend(newElement);\n\n// Add at end\ncontainer.append(newElement);\n```\n\n---\n\n## Removing Elements\n\n### removeChild()\n\nRemove a child element:\n\n```javascript\nlet container = document.getElementById(''container'');\nlet child = document.getElementById(''child'');\ncontainer.removeChild(child);\n```\n\n### remove()\n\nModern method to remove element:\n\n```javascript\nlet element = document.getElementById(''myElement'');\nelement.remove();\n```\n\n### Clearing All Children\n\n```javascript\nlet container = document.getElementById(''container'');\n\n// Method 1: Remove all children\nwhile (container.firstChild) {\n    container.removeChild(container.firstChild);\n}\n\n// Method 2: Clear innerHTML\ncontainer.innerHTML = '''';\n\n// Method 3: Modern way\ncontainer.replaceChildren();\n```\n\n---\n\n## Modifying Element Content\n\n### textContent\n\nGet or set text content (strips HTML):\n\n```javascript\nlet element = document.getElementById(''myDiv'');\n\n// Get text content\nconsole.log(element.textContent);  // "Hello World"\n\n// Set text content\nelement.textContent = ''New text'';\n```\n\n### innerHTML\n\nGet or set HTML content:\n\n```javascript\nlet element = document.getElementById(''myDiv'');\n\n// Get HTML\nconsole.log(element.innerHTML);  // "<span>Hello</span>"\n\n// Set HTML\nelement.innerHTML = ''<strong>Bold text</strong>'';\n```\n\n### innerText\n\nGet or set visible text (respects CSS):\n\n```javascript\nlet element = document.getElementById(''myDiv'');\nelement.innerText = ''Visible text'';\n```\n\n### Comparison\n\n| Property | Gets | Sets | HTML Support |\n|----------|------|------|--------------|\n| `textContent` | All text | Plain text | No |\n| `innerHTML` | HTML string | HTML string | Yes |\n| `innerText` | Visible text | Plain text | No |\n\n---\n\n## Changing Attributes\n\n### getAttribute() and setAttribute()\n\n```javascript\nlet element = document.getElementById(''myLink'');\n\n// Get attribute\nlet href = element.getAttribute(''href'');\n\n// Set attribute\nelement.setAttribute(''href'', ''https://example.com'');\nelement.setAttribute(''target'', ''_blank'');\nelement.setAttribute(''data-id'', ''123'');\n```\n\n### Direct Property Access\n\n```javascript\nlet element = document.getElementById(''myLink'');\n\n// Set properties directly\nelement.href = ''https://example.com'';\nelement.id = ''newId'';\nelement.className = ''newClass'';\n```\n\n### hasAttribute() and removeAttribute()\n\n```javascript\nlet element = document.getElementById(''myDiv'');\n\n// Check if attribute exists\nif (element.hasAttribute(''data-id'')) {\n    console.log(''Has data-id'');\n}\n\n// Remove attribute\nelement.removeAttribute(''data-id'');\n```\n\n### data-* Attributes\n\n```javascript\nlet element = document.getElementById(''myDiv'');\n\n// Set data attribute\nelement.setAttribute(''data-user-id'', ''123'');\nelement.setAttribute(''data-status'', ''active'');\n\n// Access via dataset\nconsole.log(element.dataset.userId);  // "123"\nconsole.log(element.dataset.status);  // "active"\n\n// Set via dataset\nelement.dataset.userId = ''456'';\nelement.dataset.newAttribute = ''value'';\n```\n\n---\n\n## Working with Classes\n\n### className\n\nGet or set all classes:\n\n```javascript\nlet element = document.getElementById(''myDiv'');\n\n// Get classes\nconsole.log(element.className);  // "class1 class2"\n\n// Set classes\nelement.className = ''newClass'';\nelement.className = ''class1 class2 class3'';\n```\n\n### classList\n\nModern API for class manipulation:\n\n```javascript\nlet element = document.getElementById(''myDiv'');\n\n// Add class\nelement.classList.add(''newClass'');\nelement.classList.add(''class1'', ''class2'');\n\n// Remove class\nelement.classList.remove(''oldClass'');\nelement.classList.remove(''class1'', ''class2'');\n\n// Toggle class\nelement.classList.toggle(''active'');\n\n// Check if has class\nif (element.classList.contains(''active'')) {\n    console.log(''Has active class'');\n}\n\n// Replace class\nelement.classList.replace(''oldClass'', ''newClass'');\n```\n\n### classList Methods\n\n```javascript\nlet element = document.getElementById(''myDiv'');\n\n// Add multiple classes\nelement.classList.add(''class1'', ''class2'', ''class3'');\n\n// Remove multiple classes\nelement.classList.remove(''class1'', ''class2'');\n\n// Toggle with condition\nelement.classList.toggle(''active'', true);   // Force add\nelement.classList.toggle(''active'', false);  // Force remove\n\n// Get all classes as array\nlet classes = Array.from(element.classList);\nconsole.log(classes);  // ["class1", "class2"]\n```\n\n---\n\n## Changing Styles\n\n### style Property\n\nSet inline styles:\n\n```javascript\nlet element = document.getElementById(''myDiv'');\n\n// Set individual styles\nelement.style.color = ''red'';\nelement.style.backgroundColor = ''blue'';\nelement.style.fontSize = ''20px'';\nelement.style.display = ''none'';\n```\n\n### style Property (camelCase)\n\nCSS properties use camelCase in JavaScript:\n\n```javascript\nelement.style.backgroundColor = ''red'';      // background-color\nelement.style.fontSize = ''16px'';           // font-size\nelement.style.marginTop = ''10px'';          // margin-top\nelement.style.zIndex = ''100'';              // z-index\n```\n\n### getComputedStyle()\n\nGet computed styles (including CSS):\n\n```javascript\nlet element = document.getElementById(''myDiv'');\nlet styles = window.getComputedStyle(element);\n\nconsole.log(styles.color);\nconsole.log(styles.backgroundColor);\nconsole.log(styles.fontSize);\n```\n\n### Setting Multiple Styles\n\n```javascript\n// Method 1: Individual properties\nelement.style.color = ''red'';\nelement.style.fontSize = ''20px'';\n\n// Method 2: cssText\nelement.style.cssText = ''color: red; font-size: 20px; background: blue;'';\n\n// Method 3: Object.assign\nObject.assign(element.style, {\n    color: ''red'',\n    fontSize: ''20px'',\n    backgroundColor: ''blue''\n});\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Creating a List\n\n```javascript\nfunction createList(items) {\n    let ul = document.createElement(''ul'');\n    \n    items.forEach(item => {\n        let li = document.createElement(''li'');\n        li.textContent = item;\n        ul.appendChild(li);\n    });\n    \n    return ul;\n}\n\nlet list = createList([''Apple'', ''Banana'', ''Orange'']);\ndocument.body.appendChild(list);\n```\n\n### Example 2: Dynamic Card Creation\n\n```javascript\nfunction createCard(title, content) {\n    let card = document.createElement(''div'');\n    card.className = ''card'';\n    \n    let cardTitle = document.createElement(''h2'');\n    cardTitle.textContent = title;\n    cardTitle.className = ''card-title'';\n    \n    let cardContent = document.createElement(''p'');\n    cardContent.textContent = content;\n    cardContent.className = ''card-content'';\n    \n    card.appendChild(cardTitle);\n    card.appendChild(cardContent);\n    \n    return card;\n}\n\nlet card = createCard(''My Title'', ''Card content here'');\ndocument.getElementById(''container'').appendChild(card);\n```\n\n### Example 3: Toggle Visibility\n\n```javascript\nfunction toggleElement(elementId) {\n    let element = document.getElementById(elementId);\n    \n    if (element.style.display === ''none'') {\n        element.style.display = ''block'';\n    } else {\n        element.style.display = ''none'';\n    }\n}\n\n// Or using classList\nfunction toggleElement(elementId) {\n    let element = document.getElementById(elementId);\n    element.classList.toggle(''hidden'');\n}\n```\n\n### Example 4: Form Validation Display\n\n```javascript\nfunction showError(inputId, message) {\n    let input = document.getElementById(inputId);\n    \n    // Remove existing error\n    let existingError = input.parentElement.querySelector(''.error'');\n    if (existingError) {\n        existingError.remove();\n    }\n    \n    // Add error class\n    input.classList.add(''error'');\n    \n    // Create error message\n    let errorDiv = document.createElement(''div'');\n    errorDiv.className = ''error'';\n    errorDiv.textContent = message;\n    errorDiv.style.color = ''red'';\n    \n    input.parentElement.appendChild(errorDiv);\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: DOM Manipulation\n\n**Objective**: Practice creating, modifying, and removing DOM elements.\n\n**Instructions**:\n\n1. Create an HTML file with a container\n2. Create a JavaScript file for manipulation\n3. Practice:\n   - Creating elements\n   - Adding elements\n   - Removing elements\n   - Modifying content\n   - Changing attributes and classes\n   - Updating styles\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>DOM Manipulation Practice</title>\n    <style>\n        .card {\n            border: 1px solid #ccc;\n            padding: 20px;\n            margin: 10px;\n            border-radius: 5px;\n        }\n        .highlight {\n            background-color: yellow;\n        }\n        .hidden {\n            display: none;\n        }\n    </style>\n</head>\n<body>\n    <div id="container">\n        <h1>DOM Manipulation Practice</h1>\n        <button id="addBtn">Add Card</button>\n        <button id="removeBtn">Remove Last</button>\n        <button id="toggleBtn">Toggle Highlight</button>\n    </div>\n    <script src="dom-manipulation.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// dom-manipulation.js\nconsole.log("=== DOM Manipulation Practice ===");\n\nconsole.log("\\n=== Creating Elements ===");\n\n// Create a div\nlet div = document.createElement(''div'');\ndiv.id = ''myDiv'';\ndiv.className = ''card'';\ndiv.textContent = ''Created with createElement'';\nconsole.log("Created div:", div);\n\n// Create a paragraph\nlet paragraph = document.createElement(''p'');\nparagraph.textContent = ''This is a paragraph'';\nparagraph.style.color = ''blue'';\nconsole.log("Created paragraph:", paragraph);\n\n// Create a button\nlet button = document.createElement(''button'');\nbutton.textContent = ''Click Me'';\nbutton.className = ''btn'';\nbutton.setAttribute(''data-action'', ''click'');\nconsole.log("Created button:", button);\nconsole.log();\n\nconsole.log("=== Adding Elements ===");\n\nlet container = document.getElementById(''container'');\n\n// Append child\nlet newDiv = document.createElement(''div'');\nnewDiv.textContent = ''Appended element'';\nnewDiv.className = ''card'';\ncontainer.appendChild(newDiv);\nconsole.log("Appended element to container");\n\n// Insert before\nlet beforeDiv = document.createElement(''div'');\nbeforeDiv.textContent = ''Inserted before'';\nbeforeDiv.className = ''card'';\ncontainer.insertBefore(beforeDiv, newDiv);\nconsole.log("Inserted element before");\n\n// Using insertAdjacentElement\nlet adjacentDiv = document.createElement(''div'');\nadjacentDiv.textContent = ''Adjacent element'';\nadjacentDiv.className = ''card'';\ncontainer.insertAdjacentElement(''beforeend'', adjacentDiv);\nconsole.log("Inserted adjacent element");\nconsole.log();\n\nconsole.log("=== Modifying Content ===");\n\nlet contentDiv = document.createElement(''div'');\ncontentDiv.id = ''contentDiv'';\n\n// textContent\ncontentDiv.textContent = ''Plain text content'';\nconsole.log("textContent:", contentDiv.textContent);\n\n// innerHTML\ncontentDiv.innerHTML = ''<strong>Bold</strong> and <em>italic</em> text'';\nconsole.log("innerHTML:", contentDiv.innerHTML);\nconsole.log("textContent after innerHTML:", contentDiv.textContent);\n\ncontainer.appendChild(contentDiv);\nconsole.log();\n\nconsole.log("=== Changing Attributes ===");\n\nlet link = document.createElement(''a'');\nlink.href = ''https://example.com'';\nlink.textContent = ''Visit Example'';\nlink.target = ''_blank'';\nlink.setAttribute(''data-link-id'', ''123'');\n\nconsole.log("Link href:", link.getAttribute(''href''));\nconsole.log("Link target:", link.target);\nconsole.log("Link data-id:", link.dataset.linkId);\n\n// Update attributes\nlink.setAttribute(''href'', ''https://google.com'');\nlink.setAttribute(''data-link-id'', ''456'');\nconsole.log("Updated href:", link.getAttribute(''href''));\nconsole.log("Updated data-id:", link.dataset.linkId);\nconsole.log();\n\nconsole.log("=== Working with Classes ===");\n\nlet classDiv = document.createElement(''div'');\nclassDiv.className = ''card'';\n\n// Add classes\nclassDiv.classList.add(''highlight'');\nclassDiv.classList.add(''active'', ''visible'');\nconsole.log("Classes after add:", classDiv.className);\n\n// Remove classes\nclassDiv.classList.remove(''active'');\nconsole.log("Classes after remove:", classDiv.className);\n\n// Toggle class\nclassDiv.classList.toggle(''highlight'');\nconsole.log("Has highlight:", classDiv.classList.contains(''highlight''));\n\nclassDiv.classList.toggle(''highlight'');\nconsole.log("Has highlight after toggle:", classDiv.classList.contains(''highlight''));\n\n// Replace class\nclassDiv.classList.replace(''visible'', ''hidden'');\nconsole.log("Classes after replace:", classDiv.className);\nconsole.log();\n\nconsole.log("=== Changing Styles ===");\n\nlet styleDiv = document.createElement(''div'');\nstyleDiv.textContent = ''Styled div'';\nstyleDiv.style.color = ''red'';\nstyleDiv.style.backgroundColor = ''yellow'';\nstyleDiv.style.padding = ''20px'';\nstyleDiv.style.border = ''2px solid black'';\n\nconsole.log("Color:", styleDiv.style.color);\nconsole.log("Background:", styleDiv.style.backgroundColor);\n\n// Using cssText\nlet styleDiv2 = document.createElement(''div'');\nstyleDiv2.textContent = ''Styled with cssText'';\nstyleDiv2.style.cssText = ''color: blue; font-size: 20px; margin: 10px;'';\n\n// Using Object.assign\nlet styleDiv3 = document.createElement(''div'');\nstyleDiv3.textContent = ''Styled with Object.assign'';\nObject.assign(styleDiv3.style, {\n    color: ''green'',\n    fontSize: ''18px'',\n    padding: ''15px''\n});\n\ncontainer.appendChild(styleDiv);\ncontainer.appendChild(styleDiv2);\ncontainer.appendChild(styleDiv3);\nconsole.log();\n\nconsole.log("=== Removing Elements ===");\n\n// Create elements to remove\nlet removeDiv1 = document.createElement(''div'');\nremoveDiv1.textContent = ''Will be removed'';\nremoveDiv1.id = ''removeMe'';\ncontainer.appendChild(removeDiv1);\n\nlet removeDiv2 = document.createElement(''div'');\nremoveDiv2.textContent = ''Will also be removed'';\ncontainer.appendChild(removeDiv2);\n\nconsole.log("Container children before removal:", container.children.length);\n\n// Remove by reference\ncontainer.removeChild(removeDiv1);\nconsole.log("Removed first element");\n\n// Remove using remove()\nremoveDiv2.remove();\nconsole.log("Removed second element");\n\nconsole.log("Container children after removal:", container.children.length);\nconsole.log();\n\nconsole.log("=== Practical Example: Card Creator ===");\n\nfunction createCard(title, content, color = ''white'') {\n    let card = document.createElement(''div'');\n    card.className = ''card'';\n    card.style.backgroundColor = color;\n    \n    let cardTitle = document.createElement(''h2'');\n    cardTitle.textContent = title;\n    cardTitle.style.marginTop = ''0'';\n    \n    let cardContent = document.createElement(''p'');\n    cardContent.textContent = content;\n    \n    let removeBtn = document.createElement(''button'');\n    removeBtn.textContent = ''Remove'';\n    removeBtn.onclick = () => card.remove();\n    \n    card.appendChild(cardTitle);\n    card.appendChild(cardContent);\n    card.appendChild(removeBtn);\n    \n    return card;\n}\n\n// Add cards\nlet card1 = createCard(''Card 1'', ''This is the first card'', ''#f0f0f0'');\nlet card2 = createCard(''Card 2'', ''This is the second card'', ''#e0e0e0'');\nlet card3 = createCard(''Card 3'', ''This is the third card'', ''#d0d0d0'');\n\ncontainer.appendChild(card1);\ncontainer.appendChild(card2);\ncontainer.appendChild(card3);\n\nconsole.log("Created 3 cards");\nconsole.log();\n\nconsole.log("=== Toggle Functionality ===");\n\nlet toggleDiv = document.createElement(''div'');\ntoggleDiv.id = ''toggleDiv'';\ntoggleDiv.textContent = ''This div can be toggled'';\ntoggleDiv.style.padding = ''10px'';\ntoggleDiv.style.border = ''1px solid black'';\ncontainer.appendChild(toggleDiv);\n\nfunction toggleVisibility(elementId) {\n    let element = document.getElementById(elementId);\n    element.classList.toggle(''hidden'');\n    console.log("Toggled visibility, is hidden:", element.classList.contains(''hidden''));\n}\n\n// Test toggle\ntoggleVisibility(''toggleDiv'');\ntoggleVisibility(''toggleDiv'');\nconsole.log();\n\nconsole.log("=== List Creator ===");\n\nfunction createList(items) {\n    let ul = document.createElement(''ul'');\n    ul.style.listStyle = ''none'';\n    ul.style.padding = ''0'';\n    \n    items.forEach((item, index) => {\n        let li = document.createElement(''li'');\n        li.textContent = item;\n        li.style.padding = ''5px'';\n        li.style.backgroundColor = index % 2 === 0 ? ''#f0f0f0'' : ''#ffffff'';\n        ul.appendChild(li);\n    });\n    \n    return ul;\n}\n\nlet list = createList([''Apple'', ''Banana'', ''Orange'', ''Grape'', ''Mango'']);\ncontainer.appendChild(list);\nconsole.log("Created list with", list.children.length, "items");\n```\n\n**Expected Output** (in browser console):\n```\n=== DOM Manipulation Practice ===\n\n=== Creating Elements ===\nCreated div: [div element]\nCreated paragraph: [p element]\nCreated button: [button element]\n\n=== Adding Elements ===\nAppended element to container\nInserted element before\nInserted adjacent element\n\n=== Modifying Content ===\ntextContent: Plain text content\ninnerHTML: <strong>Bold</strong> and <em>italic</em> text\ntextContent after innerHTML: Bold and italic text\n\n=== Changing Attributes ===\nLink href: https://example.com\nLink target: _blank\nLink data-id: 123\nUpdated href: https://google.com\nUpdated data-id: 456\n\n=== Working with Classes ===\nClasses after add: card highlight active visible\nClasses after remove: card highlight visible\nHas highlight: false\nHas highlight after toggle: true\nClasses after replace: card highlight hidden\n\n=== Changing Styles ===\nColor: red\nBackground: yellow\n\n=== Removing Elements ===\nContainer children before removal: [number]\nRemoved first element\nRemoved second element\nContainer children after removal: [number]\n\n=== Practical Example: Card Creator ===\nCreated 3 cards\n\n=== Toggle Functionality ===\nToggled visibility, is hidden: true\nToggled visibility, is hidden: false\n\n=== List Creator ===\nCreated list with 5 items\n```\n\n**Challenge (Optional)**:\n- Build a dynamic form generator\n- Create a todo list application\n- Build a card-based UI system\n- Create a dynamic table generator\n\n---\n\n## Common Mistakes\n\n### 1. Using innerHTML with User Input\n\n```javascript\n// ⚠️ Security risk: XSS vulnerability\nlet userInput = "<img src=x onerror=''alert(1)''>";\nelement.innerHTML = userInput;  // Dangerous!\n\n// ✅ Solution: Use textContent or sanitize\nelement.textContent = userInput;\n// or use a sanitization library\n```\n\n### 2. Not Checking Element Existence\n\n```javascript\n// ⚠️ Problem: Element might not exist\nlet element = document.getElementById(''myDiv'');\nelement.appendChild(newElement);  // Error if element is null\n\n// ✅ Solution: Always check\nlet element = document.getElementById(''myDiv'');\nif (element) {\n    element.appendChild(newElement);\n}\n```\n\n### 3. Creating Elements in Loop Without Optimization\n\n```javascript\n// ⚠️ Problem: Multiple DOM updates\nfor (let i = 0; i < 1000; i++) {\n    let div = document.createElement(''div'');\n    container.appendChild(div);  // Updates DOM each time\n}\n\n// ✅ Solution: Use DocumentFragment\nlet fragment = document.createDocumentFragment();\nfor (let i = 0; i < 1000; i++) {\n    let div = document.createElement(''div'');\n    fragment.appendChild(div);\n}\ncontainer.appendChild(fragment);  // Single DOM update\n```\n\n### 4. Confusing textContent and innerHTML\n\n```javascript\n// ⚠️ Problem: innerHTML doesn''t work as expected\nelement.innerHTML = ''<strong>Bold</strong>'';  // Renders HTML\nelement.textContent = ''<strong>Bold</strong>'';  // Shows as text\n\n// ✅ Solution: Use appropriate property\n// Use innerHTML for HTML, textContent for plain text\n```\n\n---\n\n## Key Takeaways\n\n1. **createElement()**: Create new elements\n2. **appendChild()**: Add elements to DOM\n3. **remove()**: Remove elements\n4. **textContent**: Plain text content\n5. **innerHTML**: HTML content\n6. **setAttribute()**: Set attributes\n7. **classList**: Modern class manipulation\n8. **style**: Inline styles\n9. **Best Practice**: Check for null, use DocumentFragment for multiple elements\n10. **Security**: Be careful with innerHTML and user input\n\n---\n\n## Quiz: DOM Manipulation\n\nTest your understanding with these questions:\n\n1. **createElement() creates:**\n   - A) Element in DOM\n   - B) Element object (not in DOM)\n   - C) Text node\n   - D) Attribute\n\n2. **appendChild() adds element:**\n   - A) At beginning\n   - B) At end\n   - C) Before element\n   - D) After element\n\n3. **textContent:**\n   - A) Includes HTML\n   - B) Strips HTML\n   - C) Renders HTML\n   - D) Nothing\n\n4. **innerHTML:**\n   - A) Plain text only\n   - B) Renders HTML\n   - C) Strips HTML\n   - D) Nothing\n\n5. **classList.add() is:**\n   - A) Old method\n   - B) Modern method\n   - C) Deprecated\n   - D) Not available\n\n6. **element.remove() is:**\n   - A) Old method\n   - B) Modern method\n   - C) Not available\n   - D) Error\n\n7. **DocumentFragment is used for:**\n   - A) Single element\n   - B) Multiple elements (optimization)\n   - C) Text nodes\n   - D) Attributes\n\n**Answers**:\n1. B) Element object (not in DOM yet)\n2. B) At end\n3. B) Strips HTML\n4. B) Renders HTML\n5. B) Modern method\n6. B) Modern method\n7. B) Multiple elements (optimization)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned DOM manipulation. You now know:\n- How to create elements\n- How to add and remove elements\n- How to modify content\n- How to change attributes and classes\n\n**What''s Next?**\n- Lesson 13.3: DOM Traversal\n- Learn to navigate the DOM tree\n- Understand parent/child relationships\n- Build more complex DOM operations\n\n---\n\n## Additional Resources\n\n- **MDN: Element**: [developer.mozilla.org/en-US/docs/Web/API/Element](https://developer.mozilla.org/en-US/docs/Web/API/Element)\n- **MDN: Document.createElement()**: [developer.mozilla.org/en-US/docs/Web/API/Document/createElement](https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement)\n- **JavaScript.info: DOM Manipulation**: [javascript.info/modifying-document](https://javascript.info/modifying-document)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:52:47', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Create new DOM elements\n- Add elements to the DOM\n- Remove elements from the DOM\n- Modify element content (text and HTML)\n- Change element attributes\n- Add and remove CSS classes\n- Update element styles\n- Build dynamic web pages');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (144, 53, 12, 'DOM Traversal', 'dom-traversal', '# Lesson 13.3: DOM Traversal\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand parent, child, and sibling relationships\n- Navigate up the DOM tree (parent nodes)\n- Navigate down the DOM tree (child nodes)\n- Navigate sideways (sibling nodes)\n- Use traversal methods effectively\n- Differentiate between Element and Node methods\n- Build efficient DOM navigation code\n\n---\n\n## Introduction to DOM Traversal\n\nDOM traversal is the process of moving through the DOM tree to access different nodes based on their relationships.\n\n### Why Traverse the DOM?\n\n- **Find Related Elements**: Access parent, children, siblings\n- **Navigate Structure**: Move through DOM tree\n- **Efficient Access**: Direct navigation vs searching\n- **Dynamic Operations**: Work with element relationships\n\n---\n\n## Parent Nodes\n\n### parentNode\n\nGet the parent node:\n\n```javascript\nlet element = document.getElementById(''child'');\nlet parent = element.parentNode;\nconsole.log(parent);\n```\n\n### parentElement\n\nGet the parent element (excludes non-element nodes):\n\n```javascript\nlet element = document.getElementById(''child'');\nlet parent = element.parentElement;\nconsole.log(parent);\n```\n\n### Difference\n\n```javascript\n// parentNode: Returns any node type\nlet textNode = document.createTextNode(''Hello'');\nlet parent = textNode.parentNode;  // Could be element or document\n\n// parentElement: Returns only element nodes\nlet parent = textNode.parentElement;  // null if parent is not element\n```\n\n### Closest()\n\nFind closest ancestor matching selector:\n\n```javascript\nlet element = document.getElementById(''child'');\nlet container = element.closest(''.container'');\nlet div = element.closest(''div'');\n```\n\n---\n\n## Child Nodes\n\n### childNodes\n\nGet all child nodes (including text nodes):\n\n```javascript\nlet container = document.getElementById(''container'');\nlet children = container.childNodes;\nconsole.log(children.length);  // Includes text nodes\n```\n\n### children\n\nGet only element children:\n\n```javascript\nlet container = document.getElementById(''container'');\nlet children = container.children;\nconsole.log(children.length);  // Only element nodes\n```\n\n### firstChild and lastChild\n\nGet first and last child nodes:\n\n```javascript\nlet container = document.getElementById(''container'');\nlet first = container.firstChild;  // May be text node\nlet last = container.lastChild;    // May be text node\n```\n\n### firstElementChild and lastElementChild\n\nGet first and last element children:\n\n```javascript\nlet container = document.getElementById(''container'');\nlet first = container.firstElementChild;  // First element\nlet last = container.lastElementChild;    // Last element\n```\n\n### hasChildNodes()\n\nCheck if element has children:\n\n```javascript\nlet container = document.getElementById(''container'');\nif (container.hasChildNodes()) {\n    console.log(''Has children'');\n}\n```\n\n---\n\n## Sibling Nodes\n\n### nextSibling and previousSibling\n\nGet next/previous sibling nodes:\n\n```javascript\nlet element = document.getElementById(''middle'');\nlet next = element.nextSibling;      // May be text node\nlet previous = element.previousSibling; // May be text node\n```\n\n### nextElementSibling and previousElementSibling\n\nGet next/previous element siblings:\n\n```javascript\nlet element = document.getElementById(''middle'');\nlet next = element.nextElementSibling;      // Next element\nlet previous = element.previousElementSibling; // Previous element\n```\n\n---\n\n## Element vs Node Methods\n\n### Node Methods (All Nodes)\n\n- `parentNode`\n- `childNodes`\n- `firstChild` / `lastChild`\n- `nextSibling` / `previousSibling`\n\n### Element Methods (Elements Only)\n\n- `parentElement`\n- `children`\n- `firstElementChild` / `lastElementChild`\n- `nextElementSibling` / `previousElementSibling`\n\n### When to Use Each\n\n**Use Node methods when:**\n- You need to work with all node types\n- Text nodes are important\n- Working with document structure\n\n**Use Element methods when:**\n- You only care about elements\n- Text nodes are whitespace\n- More convenient for most cases\n\n---\n\n## Practical Examples\n\n### Example 1: Finding Parent Container\n\n```javascript\nfunction findContainer(element) {\n    let current = element;\n    \n    while (current) {\n        if (current.classList && current.classList.contains(''container'')) {\n            return current;\n        }\n        current = current.parentElement;\n    }\n    \n    return null;\n}\n\n// Or using closest()\nfunction findContainer(element) {\n    return element.closest(''.container'');\n}\n```\n\n### Example 2: Getting All Siblings\n\n```javascript\nfunction getAllSiblings(element) {\n    let siblings = [];\n    let parent = element.parentElement;\n    \n    if (parent) {\n        let children = parent.children;\n        for (let child of children) {\n            if (child !== element) {\n                siblings.push(child);\n            }\n        }\n    }\n    \n    return siblings;\n}\n```\n\n### Example 3: Getting All Children\n\n```javascript\nfunction getAllChildren(element) {\n    return Array.from(element.children);\n}\n\n// Or get all including text nodes\nfunction getAllChildNodes(element) {\n    return Array.from(element.childNodes);\n}\n```\n\n### Example 4: Finding Next Element\n\n```javascript\nfunction findNextElement(element, selector) {\n    let current = element.nextElementSibling;\n    \n    while (current) {\n        if (current.matches(selector)) {\n            return current;\n        }\n        current = current.nextElementSibling;\n    }\n    \n    return null;\n}\n```\n\n### Example 5: Walking the Tree\n\n```javascript\nfunction walkTree(element, callback) {\n    callback(element);\n    \n    let children = element.children;\n    for (let child of children) {\n        walkTree(child, callback);\n    }\n}\n\n// Usage\nwalkTree(document.body, (element) => {\n    console.log(element.tagName);\n});\n```\n\n---\n\n## Advanced Traversal\n\n### matches()\n\nCheck if element matches selector:\n\n```javascript\nlet element = document.getElementById(''myDiv'');\nif (element.matches(''.container'')) {\n    console.log(''Matches container class'');\n}\n```\n\n### contains()\n\nCheck if element contains another element:\n\n```javascript\nlet container = document.getElementById(''container'');\nlet child = document.getElementById(''child'');\n\nif (container.contains(child)) {\n    console.log(''Container contains child'');\n}\n```\n\n### compareDocumentPosition()\n\nCompare positions of two nodes:\n\n```javascript\nlet element1 = document.getElementById(''elem1'');\nlet element2 = document.getElementById(''elem2'');\n\nlet position = element1.compareDocumentPosition(element2);\n\nif (position & Node.DOCUMENT_POSITION_FOLLOWING) {\n    console.log(''element2 follows element1'');\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: DOM Traversal\n\n**Objective**: Practice navigating the DOM tree using traversal methods.\n\n**Instructions**:\n\n1. Create an HTML file with nested structure\n2. Create a JavaScript file for traversal\n3. Practice:\n   - Navigating to parent nodes\n   - Accessing child nodes\n   - Finding sibling nodes\n   - Using Element vs Node methods\n   - Building traversal utilities\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>DOM Traversal Practice</title>\n</head>\n<body>\n    <div id="container" class="container">\n        <h1 id="title">My Page</h1>\n        <div class="section">\n            <p id="para1" class="text">First paragraph</p>\n            <p id="para2" class="text">Second paragraph</p>\n            <p id="para3" class="text">Third paragraph</p>\n        </div>\n        <ul id="list">\n            <li class="item">Item 1</li>\n            <li class="item" id="middleItem">Item 2</li>\n            <li class="item">Item 3</li>\n        </ul>\n    </div>\n    <script src="dom-traversal.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// dom-traversal.js\nconsole.log("=== DOM Traversal Practice ===");\n\nconsole.log("\\n=== Parent Nodes ===");\n\nlet para1 = document.getElementById(''para1'');\nconsole.log("Para1:", para1.textContent);\n\n// parentNode\nlet parentNode = para1.parentNode;\nconsole.log("Parent node:", parentNode.tagName);\n\n// parentElement\nlet parentElement = para1.parentElement;\nconsole.log("Parent element:", parentElement.tagName);\n\n// closest()\nlet container = para1.closest(''.container'');\nconsole.log("Closest container:", container.id);\n\nlet section = para1.closest(''.section'');\nconsole.log("Closest section:", section.className);\nconsole.log();\n\nconsole.log("=== Child Nodes ===");\n\nlet container = document.getElementById(''container'');\n\n// childNodes (includes text nodes)\nconsole.log("Child nodes count:", container.childNodes.length);\n\n// children (only elements)\nconsole.log("Children count:", container.children.length);\n\n// firstChild vs firstElementChild\nconsole.log("First child node:", container.firstChild.nodeType);\nconsole.log("First element child:", container.firstElementChild.tagName);\n\n// lastChild vs lastElementChild\nconsole.log("Last child node:", container.lastChild.nodeType);\nconsole.log("Last element child:", container.lastElementChild.tagName);\n\n// hasChildNodes()\nconsole.log("Has child nodes:", container.hasChildNodes());\nconsole.log();\n\nconsole.log("=== Sibling Nodes ===");\n\nlet para2 = document.getElementById(''para2'');\nconsole.log("Para2:", para2.textContent);\n\n// nextSibling vs nextElementSibling\nlet nextSibling = para2.nextSibling;\nconsole.log("Next sibling node type:", nextSibling ? nextSibling.nodeType : "null");\nlet nextElement = para2.nextElementSibling;\nconsole.log("Next element sibling:", nextElement ? nextElement.id : "null");\n\n// previousSibling vs previousElementSibling\nlet prevSibling = para2.previousSibling;\nconsole.log("Previous sibling node type:", prevSibling ? prevSibling.nodeType : "null");\nlet prevElement = para2.previousElementSibling;\nconsole.log("Previous element sibling:", prevElement ? prevElement.id : "null");\nconsole.log();\n\nconsole.log("=== Node vs Element Methods ===");\n\nlet list = document.getElementById(''list'');\n\nconsole.log("Using Node methods:");\nconsole.log("childNodes length:", list.childNodes.length);\nconsole.log("firstChild:", list.firstChild.nodeType === Node.TEXT_NODE ? "Text node" : "Element");\n\nconsole.log("\\nUsing Element methods:");\nconsole.log("children length:", list.children.length);\nconsole.log("firstElementChild:", list.firstElementChild.tagName);\nconsole.log();\n\nconsole.log("=== Finding Parent Container ===");\n\nfunction findContainer(element) {\n    return element.closest(''.container'');\n}\n\nlet item = document.getElementById(''middleItem'');\nlet foundContainer = findContainer(item);\nconsole.log("Container found:", foundContainer ? foundContainer.id : "null");\nconsole.log();\n\nconsole.log("=== Getting All Siblings ===");\n\nfunction getAllSiblings(element) {\n    let siblings = [];\n    let parent = element.parentElement;\n    \n    if (parent) {\n        let children = parent.children;\n        for (let child of children) {\n            if (child !== element) {\n                siblings.push(child);\n            }\n        }\n    }\n    \n    return siblings;\n}\n\nlet middleItem = document.getElementById(''middleItem'');\nlet siblings = getAllSiblings(middleItem);\nconsole.log("Siblings of middleItem:", siblings.length);\nsiblings.forEach((sibling, index) => {\n    console.log(`Sibling ${index + 1}:`, sibling.textContent);\n});\nconsole.log();\n\nconsole.log("=== Getting All Children ===");\n\nfunction getAllChildren(element) {\n    return Array.from(element.children);\n}\n\nlet section = document.querySelector(''.section'');\nlet children = getAllChildren(section);\nconsole.log("Children of section:", children.length);\nchildren.forEach((child, index) => {\n    console.log(`Child ${index + 1}:`, child.tagName, "-", child.textContent);\n});\nconsole.log();\n\nconsole.log("=== Finding Next Element ===");\n\nfunction findNextElement(element, selector) {\n    let current = element.nextElementSibling;\n    \n    while (current) {\n        if (current.matches(selector)) {\n            return current;\n        }\n        current = current.nextElementSibling;\n    }\n    \n    return null;\n}\n\nlet para1 = document.getElementById(''para1'');\nlet nextText = findNextElement(para1, ''.text'');\nconsole.log("Next text element after para1:", nextText ? nextText.id : "null");\nconsole.log();\n\nconsole.log("=== Walking the Tree ===");\n\nfunction walkTree(element, callback, depth = 0) {\n    callback(element, depth);\n    \n    let children = element.children;\n    for (let child of children) {\n        walkTree(child, callback, depth + 1);\n    }\n}\n\nconsole.log("Tree structure:");\nwalkTree(document.getElementById(''container''), (element, depth) => {\n    let indent = ''  ''.repeat(depth);\n    console.log(`${indent}${element.tagName}${element.id ? ''#'' + element.id : ''''}${element.className ? ''.'' + element.className : ''''}`);\n});\nconsole.log();\n\nconsole.log("=== matches() Method ===");\n\nlet element = document.getElementById(''para1'');\nconsole.log("Para1 matches .text:", element.matches(''.text''));\nconsole.log("Para1 matches p:", element.matches(''p''));\nconsole.log("Para1 matches #para1:", element.matches(''#para1''));\nconsole.log();\n\nconsole.log("=== contains() Method ===");\n\nlet container = document.getElementById(''container'');\nlet para1 = document.getElementById(''para1'');\nlet title = document.getElementById(''title'');\n\nconsole.log("Container contains para1:", container.contains(para1));\nconsole.log("Container contains title:", container.contains(title));\nconsole.log("Para1 contains container:", para1.contains(container));\nconsole.log();\n\nconsole.log("=== Navigation Utilities ===");\n\n// Get all ancestors\nfunction getAllAncestors(element) {\n    let ancestors = [];\n    let current = element.parentElement;\n    \n    while (current) {\n        ancestors.push(current);\n        current = current.parentElement;\n    }\n    \n    return ancestors;\n}\n\nlet item = document.getElementById(''middleItem'');\nlet ancestors = getAllAncestors(item);\nconsole.log("Ancestors of middleItem:");\nancestors.forEach((ancestor, index) => {\n    console.log(`  Level ${index + 1}:`, ancestor.tagName, ancestor.id || ancestor.className || '''');\n});\nconsole.log();\n\n// Get all descendants\nfunction getAllDescendants(element) {\n    let descendants = [];\n    let children = element.children;\n    \n    for (let child of children) {\n        descendants.push(child);\n        descendants.push(...getAllDescendants(child));\n    }\n    \n    return descendants;\n}\n\nlet container = document.getElementById(''container'');\nlet descendants = getAllDescendants(container);\nconsole.log("Descendants of container:", descendants.length);\ndescendants.forEach((desc, index) => {\n    console.log(`  ${index + 1}.`, desc.tagName, desc.id || desc.className || '''');\n});\n```\n\n**Expected Output** (in browser console):\n```\n=== DOM Traversal Practice ===\n\n=== Parent Nodes ===\nPara1: First paragraph\nParent node: DIV\nParent element: DIV\nClosest container: container\nClosest section: section\n\n=== Child Nodes ===\nChild nodes count: [number including text nodes]\nChildren count: [number of elements only]\nFirst child node: 3 (text node)\nFirst element child: H1\nLast child node: 3 (text node)\nLast element child: UL\nHas child nodes: true\n\n=== Sibling Nodes ===\nPara2: Second paragraph\nNext sibling node type: 3 (text node)\nNext element sibling: para3\nPrevious sibling node type: 3 (text node)\nPrevious element sibling: para1\n\n=== Node vs Element Methods ===\nUsing Node methods:\nchildNodes length: [number]\nfirstChild: Text node\n\nUsing Element methods:\nchildren length: 3\nfirstElementChild: LI\n\n=== Finding Parent Container ===\nContainer found: container\n\n=== Getting All Siblings ===\nSiblings of middleItem: 2\nSibling 1: Item 1\nSibling 2: Item 3\n\n=== Getting All Children ===\nChildren of section: 3\nChild 1: P - First paragraph\nChild 2: P - Second paragraph\nChild 3: P - Third paragraph\n\n=== Finding Next Element ===\nNext text element after para1: para2\n\n=== Walking the Tree ===\nTree structure:\nDIV#container.container\n  H1#title\n  DIV.section\n    P#para1.text\n    P#para2.text\n    P#para3.text\n  UL#list\n    LI.item\n    LI#middleItem.item\n    LI.item\n\n=== matches() Method ===\nPara1 matches .text: true\nPara1 matches p: true\nPara1 matches #para1: true\n\n=== contains() Method ===\nContainer contains para1: true\nContainer contains title: true\nPara1 contains container: false\n\n=== Navigation Utilities ===\nAncestors of middleItem:\n  Level 1: UL list\n  Level 2: DIV container\n\nDescendants of container: [number]\n  1. H1 title\n  2. DIV section\n  3. P para1\n  4. P para2\n  5. P para3\n  6. UL list\n  7. LI item\n  8. LI middleItem\n  9. LI item\n```\n\n**Challenge (Optional)**:\n- Build a DOM tree visualizer\n- Create navigation utilities\n- Build a breadcrumb generator\n- Create element finder utilities\n\n---\n\n## Common Mistakes\n\n### 1. Confusing Node and Element Methods\n\n```javascript\n// ⚠️ Problem: firstChild might be text node\nlet first = container.firstChild;\nfirst.classList.add(''active'');  // Error if text node\n\n// ✅ Solution: Use firstElementChild\nlet first = container.firstElementChild;\nfirst.classList.add(''active'');\n```\n\n### 2. Not Checking for null\n\n```javascript\n// ⚠️ Problem: Sibling might not exist\nlet next = element.nextElementSibling;\nnext.classList.add(''active'');  // Error if null\n\n// ✅ Solution: Always check\nlet next = element.nextElementSibling;\nif (next) {\n    next.classList.add(''active'');\n}\n```\n\n### 3. Forgetting Text Nodes\n\n```javascript\n// ⚠️ Problem: childNodes includes text nodes\nlet children = container.childNodes;\nchildren.forEach(child => {\n    child.classList.add(''active'');  // Error for text nodes\n});\n\n// ✅ Solution: Use children or check node type\nlet children = container.children;\nchildren.forEach(child => {\n    child.classList.add(''active'');\n});\n```\n\n### 4. Infinite Loops in Traversal\n\n```javascript\n// ⚠️ Problem: Circular reference\nfunction traverse(element) {\n    // No base case\n    traverse(element.parentElement);  // Infinite loop\n}\n\n// ✅ Solution: Add base case\nfunction traverse(element) {\n    if (!element) return;  // Base case\n    console.log(element);\n    traverse(element.parentElement);\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **Parent Nodes**: parentNode, parentElement, closest()\n2. **Child Nodes**: childNodes, children, firstChild, lastChild\n3. **Sibling Nodes**: nextSibling, previousSibling, nextElementSibling, previousElementSibling\n4. **Node Methods**: Work with all node types\n5. **Element Methods**: Work only with elements (usually preferred)\n6. **matches()**: Check if element matches selector\n7. **contains()**: Check if element contains another\n8. **Best Practice**: Use Element methods for most cases, check for null\n\n---\n\n## Quiz: DOM Traversal\n\nTest your understanding with these questions:\n\n1. **parentNode returns:**\n   - A) Only elements\n   - B) Any node type\n   - C) Only text nodes\n   - D) Nothing\n\n2. **children returns:**\n   - A) All nodes\n   - B) Only elements\n   - C) Only text nodes\n   - D) Attributes\n\n3. **nextElementSibling:**\n   - A) Next node (any type)\n   - B) Next element\n   - C) Previous element\n   - D) Parent element\n\n4. **firstChild might be:**\n   - A) Element only\n   - B) Text node\n   - C) Both A and B\n   - D) Neither\n\n5. **closest() finds:**\n   - A) Child element\n   - B) Ancestor element\n   - C) Sibling element\n   - D) Any element\n\n6. **Element methods work with:**\n   - A) All nodes\n   - B) Elements only\n   - C) Text nodes only\n   - D) Attributes only\n\n7. **contains() checks:**\n   - A) If element contains another\n   - B) If element is contained\n   - C) If elements are siblings\n   - D) If elements match\n\n**Answers**:\n1. B) Any node type\n2. B) Only elements\n3. B) Next element\n4. C) Both A and B (could be text or element)\n5. B) Ancestor element\n6. B) Elements only\n7. A) If element contains another\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 13: Document Object Model (DOM). You now know:\n- How to access DOM elements\n- How to manipulate the DOM\n- How to traverse the DOM tree\n- Complete DOM operations\n\n**What''s Next?**\n- Module 14: Events\n- Lesson 14.1: Event Basics\n- Learn to handle user interactions\n- Build interactive web applications\n\n---\n\n## Additional Resources\n\n- **MDN: Node**: [developer.mozilla.org/en-US/docs/Web/API/Node](https://developer.mozilla.org/en-US/docs/Web/API/Node)\n- **MDN: Element**: [developer.mozilla.org/en-US/docs/Web/API/Element](https://developer.mozilla.org/en-US/docs/Web/API/Element)\n- **JavaScript.info: DOM Navigation**: [javascript.info/dom-navigation](https://javascript.info/dom-navigation)\n\n---\n\n*Lesson completed! You''ve finished Module 13: Document Object Model (DOM). Ready for Module 14: Events!*\n\n', NULL, 3, '2026-01-03 09:52:47', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand parent, child, and sibling relationships\n- Navigate up the DOM tree (parent nodes)\n- Navigate down the DOM tree (child nodes)\n- Navigate sideways (sibling nodes)\n- Use traversal methods effectively\n- Differentiate between Element and Node methods\n- Build efficient DOM navigation code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (145, 54, 12, 'Event Basics', 'event-basics', '# Lesson 14.1: Event Basics\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand what events are\n- Recognize different event types\n- Add event listeners using addEventListener\n- Understand event objects\n- Access event properties\n- Remove event listeners\n- Handle events effectively\n\n---\n\n## Introduction to Events\n\nEvents are actions or occurrences that happen in the browser, such as clicks, keyboard presses, or page loads. JavaScript can listen for these events and respond to them.\n\n### What are Events?\n\n- **User Actions**: Clicks, key presses, mouse movements\n- **Browser Actions**: Page load, resize, scroll\n- **Form Actions**: Submit, input, change\n- **Network Actions**: Load, error, complete\n\n### Why Events?\n\n- **Interactivity**: Make pages respond to user actions\n- **User Experience**: Create engaging interfaces\n- **Dynamic Behavior**: Change page based on events\n- **Modern Web**: Essential for web applications\n\n---\n\n## Event Types\n\n### Mouse Events\n\n```javascript\n// click - Mouse click\nelement.addEventListener(''click'', handler);\n\n// dblclick - Double click\nelement.addEventListener(''dblclick'', handler);\n\n// mousedown - Mouse button pressed\nelement.addEventListener(''mousedown'', handler);\n\n// mouseup - Mouse button released\nelement.addEventListener(''mouseup'', handler);\n\n// mouseover - Mouse enters element\nelement.addEventListener(''mouseover'', handler);\n\n// mouseout - Mouse leaves element\nelement.addEventListener(''mouseout'', handler);\n\n// mousemove - Mouse moves over element\nelement.addEventListener(''mousemove'', handler);\n```\n\n### Keyboard Events\n\n```javascript\n// keydown - Key pressed down\nelement.addEventListener(''keydown'', handler);\n\n// keyup - Key released\nelement.addEventListener(''keyup'', handler);\n\n// keypress - Key pressed (deprecated, use keydown)\nelement.addEventListener(''keypress'', handler);\n```\n\n### Form Events\n\n```javascript\n// submit - Form submitted\nform.addEventListener(''submit'', handler);\n\n// change - Input value changed\ninput.addEventListener(''change'', handler);\n\n// input - Input value changing (real-time)\ninput.addEventListener(''input'', handler);\n\n// focus - Element receives focus\ninput.addEventListener(''focus'', handler);\n\n// blur - Element loses focus\ninput.addEventListener(''blur'', handler);\n```\n\n### Window Events\n\n```javascript\n// load - Page loaded\nwindow.addEventListener(''load'', handler);\n\n// DOMContentLoaded - DOM ready\ndocument.addEventListener(''DOMContentLoaded'', handler);\n\n// resize - Window resized\nwindow.addEventListener(''resize'', handler);\n\n// scroll - Page scrolled\nwindow.addEventListener(''scroll'', handler);\n\n// beforeunload - Before page unloads\nwindow.addEventListener(''beforeunload'', handler);\n```\n\n---\n\n## addEventListener()\n\nThe modern way to add event listeners.\n\n### Basic Syntax\n\n```javascript\nelement.addEventListener(eventType, handler, options);\n```\n\n### Basic Example\n\n```javascript\nlet button = document.getElementById(''myButton'');\n\nbutton.addEventListener(''click'', function() {\n    console.log(''Button clicked!'');\n});\n```\n\n### Arrow Function\n\n```javascript\nbutton.addEventListener(''click'', () => {\n    console.log(''Button clicked!'');\n});\n```\n\n### Named Function\n\n```javascript\nfunction handleClick() {\n    console.log(''Button clicked!'');\n}\n\nbutton.addEventListener(''click'', handleClick);\n```\n\n### Multiple Listeners\n\n```javascript\nbutton.addEventListener(''click'', function() {\n    console.log(''First handler'');\n});\n\nbutton.addEventListener(''click'', function() {\n    console.log(''Second handler'');\n});\n\n// Both handlers execute\n```\n\n### Options Parameter\n\n```javascript\n// Once: Remove after first trigger\nbutton.addEventListener(''click'', handler, { once: true });\n\n// Capture: Use capture phase\nbutton.addEventListener(''click'', handler, { capture: true });\n\n// Passive: Listener won''t call preventDefault()\nbutton.addEventListener(''scroll'', handler, { passive: true });\n```\n\n---\n\n## Event Objects\n\nEvent handlers receive an event object with information about the event.\n\n### Accessing Event Object\n\n```javascript\nbutton.addEventListener(''click'', function(event) {\n    console.log(event);\n    console.log(event.type);      // "click"\n    console.log(event.target);    // Element that triggered event\n    console.log(event.currentTarget); // Element with listener\n});\n```\n\n### Common Event Properties\n\n```javascript\nfunction handleEvent(event) {\n    // Event type\n    console.log(event.type);           // "click", "keydown", etc.\n    \n    // Target element\n    console.log(event.target);         // Element that triggered event\n    console.log(event.currentTarget);  // Element with listener\n    \n    // Mouse events\n    console.log(event.clientX);        // X coordinate\n    console.log(event.clientY);        // Y coordinate\n    console.log(event.button);         // Mouse button (0=left, 1=middle, 2=right)\n    \n    // Keyboard events\n    console.log(event.key);            // Key pressed\n    console.log(event.code);           // Physical key code\n    console.log(event.ctrlKey);        // Ctrl key pressed\n    console.log(event.shiftKey);       // Shift key pressed\n    console.log(event.altKey);         // Alt key pressed\n    \n    // Time\n    console.log(event.timeStamp);      // When event occurred\n}\n```\n\n---\n\n## Removing Event Listeners\n\n### removeEventListener()\n\nRemove an event listener (must be same function reference):\n\n```javascript\nfunction handleClick() {\n    console.log(''Clicked'');\n}\n\nbutton.addEventListener(''click'', handleClick);\n\n// Remove listener\nbutton.removeEventListener(''click'', handleClick);\n```\n\n### Important: Function Reference\n\n```javascript\n// ❌ Won''t work: Different function reference\nbutton.addEventListener(''click'', function() {\n    console.log(''Clicked'');\n});\nbutton.removeEventListener(''click'', function() { });  // Different function!\n\n// ✅ Works: Same function reference\nfunction handler() {\n    console.log(''Clicked'');\n}\nbutton.addEventListener(''click'', handler);\nbutton.removeEventListener(''click'', handler);\n```\n\n### Using once Option\n\n```javascript\n// Automatically removes after first trigger\nbutton.addEventListener(''click'', handler, { once: true });\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Button Click\n\n```javascript\nlet button = document.getElementById(''myButton'');\n\nbutton.addEventListener(''click'', function(event) {\n    console.log(''Button clicked!'');\n    console.log(''Event type:'', event.type);\n    console.log(''Target:'', event.target);\n});\n```\n\n### Example 2: Form Submission\n\n```javascript\nlet form = document.getElementById(''myForm'');\n\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();  // Prevent default form submission\n    \n    let formData = new FormData(form);\n    console.log(''Form submitted:'', formData);\n    \n    // Process form data\n});\n```\n\n### Example 3: Input Change\n\n```javascript\nlet input = document.getElementById(''myInput'');\n\ninput.addEventListener(''input'', function(event) {\n    console.log(''Input value:'', event.target.value);\n    \n    // Real-time validation or processing\n    if (event.target.value.length < 5) {\n        console.log(''Too short'');\n    }\n});\n```\n\n### Example 4: Keyboard Events\n\n```javascript\nlet input = document.getElementById(''myInput'');\n\ninput.addEventListener(''keydown'', function(event) {\n    console.log(''Key pressed:'', event.key);\n    console.log(''Key code:'', event.code);\n    \n    // Enter key\n    if (event.key === ''Enter'') {\n        console.log(''Enter pressed'');\n    }\n    \n    // Ctrl+S\n    if (event.ctrlKey && event.key === ''s'') {\n        event.preventDefault();\n        console.log(''Save shortcut'');\n    }\n});\n```\n\n### Example 5: Mouse Events\n\n```javascript\nlet div = document.getElementById(''myDiv'');\n\ndiv.addEventListener(''mouseenter'', function() {\n    div.style.backgroundColor = ''yellow'';\n});\n\ndiv.addEventListener(''mouseleave'', function() {\n    div.style.backgroundColor = ''white'';\n});\n\ndiv.addEventListener(''mousemove'', function(event) {\n    console.log(''Mouse at:'', event.clientX, event.clientY);\n});\n```\n\n### Example 6: Window Events\n\n```javascript\n// Page load\nwindow.addEventListener(''load'', function() {\n    console.log(''Page loaded'');\n});\n\n// DOM ready (faster than load)\ndocument.addEventListener(''DOMContentLoaded'', function() {\n    console.log(''DOM ready'');\n});\n\n// Window resize\nwindow.addEventListener(''resize'', function() {\n    console.log(''Window resized:'', window.innerWidth, window.innerHeight);\n});\n\n// Scroll\nwindow.addEventListener(''scroll'', function() {\n    console.log(''Scrolled:'', window.scrollY);\n});\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Basic Event Handling\n\n**Objective**: Practice adding and handling various events.\n\n**Instructions**:\n\n1. Create an HTML file with various interactive elements\n2. Create a JavaScript file for event handling\n3. Practice:\n   - Adding event listeners\n   - Handling different event types\n   - Accessing event properties\n   - Removing event listeners\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Event Basics Practice</title>\n    <style>\n        .box {\n            width: 200px;\n            height: 200px;\n            background-color: lightblue;\n            margin: 20px;\n            padding: 20px;\n            cursor: pointer;\n        }\n        .highlight {\n            background-color: yellow;\n        }\n    </style>\n</head>\n<body>\n    <h1>Event Basics Practice</h1>\n    \n    <button id="clickBtn">Click Me</button>\n    <button id="doubleClickBtn">Double Click Me</button>\n    \n    <div id="hoverBox" class="box">Hover over me</div>\n    \n    <input type="text" id="textInput" placeholder="Type something">\n    <p id="output"></p>\n    \n    <form id="myForm">\n        <input type="text" name="username" placeholder="Username">\n        <button type="submit">Submit</button>\n    </form>\n    \n    <script src="event-basics.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// event-basics.js\nconsole.log("=== Event Basics Practice ===");\n\nconsole.log("\\n=== Click Event ===");\n\nlet clickBtn = document.getElementById(''clickBtn'');\nclickBtn.addEventListener(''click'', function(event) {\n    console.log(''Button clicked!'');\n    console.log(''Event type:'', event.type);\n    console.log(''Target:'', event.target);\n    console.log(''Current target:'', event.currentTarget);\n    event.target.textContent = ''Clicked!'';\n});\nconsole.log();\n\nconsole.log("=== Double Click Event ===");\n\nlet doubleClickBtn = document.getElementById(''doubleClickBtn'');\ndoubleClickBtn.addEventListener(''dblclick'', function(event) {\n    console.log(''Double clicked!'');\n    event.target.textContent = ''Double Clicked!'';\n});\nconsole.log();\n\nconsole.log("=== Mouse Events ===");\n\nlet hoverBox = document.getElementById(''hoverBox'');\n\nhoverBox.addEventListener(''mouseenter'', function(event) {\n    console.log(''Mouse entered box'');\n    event.target.classList.add(''highlight'');\n});\n\nhoverBox.addEventListener(''mouseleave'', function(event) {\n    console.log(''Mouse left box'');\n    event.target.classList.remove(''highlight'');\n});\n\nhoverBox.addEventListener(''mousemove'', function(event) {\n    let x = event.clientX;\n    let y = event.clientY;\n    event.target.textContent = `Mouse: ${x}, ${y}`;\n});\n\nhoverBox.addEventListener(''mousedown'', function(event) {\n    console.log(''Mouse down on box'');\n    event.target.style.backgroundColor = ''red'';\n});\n\nhoverBox.addEventListener(''mouseup'', function(event) {\n    console.log(''Mouse up on box'');\n    event.target.style.backgroundColor = ''lightblue'';\n});\nconsole.log();\n\nconsole.log("=== Keyboard Events ===");\n\nlet textInput = document.getElementById(''textInput'');\nlet output = document.getElementById(''output'');\n\ntextInput.addEventListener(''keydown'', function(event) {\n    console.log(''Key down:'', event.key, event.code);\n    \n    // Enter key\n    if (event.key === ''Enter'') {\n        console.log(''Enter pressed'');\n    }\n    \n    // Escape key\n    if (event.key === ''Escape'') {\n        event.target.value = '''';\n    }\n});\n\ntextInput.addEventListener(''keyup'', function(event) {\n    console.log(''Key up:'', event.key);\n});\n\ntextInput.addEventListener(''input'', function(event) {\n    output.textContent = ''You typed: '' + event.target.value;\n});\n\ntextInput.addEventListener(''focus'', function(event) {\n    console.log(''Input focused'');\n    event.target.style.border = ''2px solid blue'';\n});\n\ntextInput.addEventListener(''blur'', function(event) {\n    console.log(''Input blurred'');\n    event.target.style.border = ''1px solid gray'';\n});\nconsole.log();\n\nconsole.log("=== Form Events ===");\n\nlet form = document.getElementById(''myForm'');\n\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();  // Prevent default submission\n    console.log(''Form submitted'');\n    \n    let formData = new FormData(form);\n    let username = formData.get(''username'');\n    console.log(''Username:'', username);\n    \n    alert(''Form submitted: '' + username);\n});\n\nlet usernameInput = form.querySelector(''input[name="username"]'');\nusernameInput.addEventListener(''change'', function(event) {\n    console.log(''Username changed:'', event.target.value);\n});\nconsole.log();\n\nconsole.log("=== Window Events ===");\n\nwindow.addEventListener(''load'', function() {\n    console.log(''Page fully loaded'');\n});\n\ndocument.addEventListener(''DOMContentLoaded'', function() {\n    console.log(''DOM content loaded'');\n});\n\nwindow.addEventListener(''resize'', function() {\n    console.log(''Window resized:'', window.innerWidth, ''x'', window.innerHeight);\n});\n\nwindow.addEventListener(''scroll'', function() {\n    console.log(''Scrolled:'', window.scrollY);\n});\nconsole.log();\n\nconsole.log("=== Event Object Properties ===");\n\nlet testBtn = document.createElement(''button'');\ntestBtn.textContent = ''Test Event Properties'';\ndocument.body.appendChild(testBtn);\n\ntestBtn.addEventListener(''click'', function(event) {\n    console.log(''=== Event Properties ==='');\n    console.log(''Type:'', event.type);\n    console.log(''Target:'', event.target);\n    console.log(''Current Target:'', event.currentTarget);\n    console.log(''Time Stamp:'', event.timeStamp);\n    console.log(''Bubbles:'', event.bubbles);\n    console.log(''Cancelable:'', event.cancelable);\n    console.log(''Default Prevented:'', event.defaultPrevented);\n});\nconsole.log();\n\nconsole.log("=== Removing Event Listeners ===");\n\nlet removeBtn = document.createElement(''button'');\nremoveBtn.textContent = ''Click to Remove Listener'';\ndocument.body.appendChild(removeBtn);\n\nlet clickCount = 0;\n\nfunction handleRemoveClick(event) {\n    clickCount++;\n    console.log(`Clicked ${clickCount} times`);\n    \n    if (clickCount >= 3) {\n        removeBtn.removeEventListener(''click'', handleRemoveClick);\n        removeBtn.textContent = ''Listener removed'';\n        console.log(''Event listener removed'');\n    }\n}\n\nremoveBtn.addEventListener(''click'', handleRemoveClick);\nconsole.log();\n\nconsole.log("=== Once Option ===");\n\nlet onceBtn = document.createElement(''button'');\nonceBtn.textContent = ''Click Once (auto-remove)'';\ndocument.body.appendChild(onceBtn);\n\nonceBtn.addEventListener(''click'', function() {\n    console.log(''This will only fire once'');\n    onceBtn.textContent = ''Already clicked'';\n}, { once: true });\nconsole.log();\n\nconsole.log("=== Multiple Listeners ===");\n\nlet multiBtn = document.createElement(''button'');\nmultiBtn.textContent = ''Multiple Listeners'';\ndocument.body.appendChild(multiBtn);\n\nmultiBtn.addEventListener(''click'', function() {\n    console.log(''Handler 1'');\n});\n\nmultiBtn.addEventListener(''click'', function() {\n    console.log(''Handler 2'');\n});\n\nmultiBtn.addEventListener(''click'', function() {\n    console.log(''Handler 3'');\n});\n\n// All three handlers execute\nconsole.log();\n```\n\n**Expected Output** (in browser console):\n```\n=== Event Basics Practice ===\n\n=== Click Event ===\n[On click]\nButton clicked!\nEvent type: click\nTarget: [button element]\nCurrent target: [button element]\n\n=== Double Click Event ===\n[On double click]\nDouble clicked!\n\n=== Mouse Events ===\n[On mouse enter]\nMouse entered box\n[On mouse leave]\nMouse left box\n[On mouse move]\n[Shows coordinates]\n\n=== Keyboard Events ===\n[On key press]\nKey down: [key] [code]\n[On input]\n[Shows typed text]\n\n=== Form Events ===\n[On submit]\nForm submitted\nUsername: [value]\n\n=== Window Events ===\nDOM content loaded\nPage fully loaded\n[On resize]\nWindow resized: [width] x [height]\n[On scroll]\nScrolled: [position]\n\n=== Event Object Properties ===\n[On click]\n=== Event Properties ===\nType: click\nTarget: [element]\nCurrent Target: [element]\nTime Stamp: [timestamp]\nBubbles: true\nCancelable: true\nDefault Prevented: false\n\n=== Removing Event Listeners ===\n[On click]\nClicked 1 times\nClicked 2 times\nClicked 3 times\nEvent listener removed\n\n=== Once Option ===\n[On click]\nThis will only fire once\n\n=== Multiple Listeners ===\n[On click]\nHandler 1\nHandler 2\nHandler 3\n```\n\n**Challenge (Optional)**:\n- Build an interactive game with events\n- Create a form validation system\n- Build a keyboard shortcut system\n- Create a drag-and-drop interface\n\n---\n\n## Common Mistakes\n\n### 1. Not Preventing Default\n\n```javascript\n// ⚠️ Problem: Form submits and page reloads\nform.addEventListener(''submit'', function(event) {\n    // Process form\n    // Page reloads!\n});\n\n// ✅ Solution: Prevent default\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();\n    // Process form\n});\n```\n\n### 2. Wrong Function Reference for Removal\n\n```javascript\n// ⚠️ Problem: Can''t remove (different function)\nbutton.addEventListener(''click'', function() {\n    console.log(''Click'');\n});\nbutton.removeEventListener(''click'', function() { });  // Won''t work\n\n// ✅ Solution: Use same reference\nfunction handler() {\n    console.log(''Click'');\n}\nbutton.addEventListener(''click'', handler);\nbutton.removeEventListener(''click'', handler);\n```\n\n### 3. Adding Listener Before Element Exists\n\n```javascript\n// ⚠️ Problem: Element might not exist\nlet button = document.getElementById(''myButton'');\nbutton.addEventListener(''click'', handler);  // Error if button is null\n\n// ✅ Solution: Check or wait for DOM\ndocument.addEventListener(''DOMContentLoaded'', function() {\n    let button = document.getElementById(''myButton'');\n    if (button) {\n        button.addEventListener(''click'', handler);\n    }\n});\n```\n\n### 4. Using Inline Handlers\n\n```javascript\n// ⚠️ Problem: Inline handlers (not recommended)\n<button onclick="handleClick()">Click</button>\n\n// ✅ Solution: Use addEventListener\nbutton.addEventListener(''click'', handleClick);\n```\n\n---\n\n## Key Takeaways\n\n1. **Events**: Actions that occur in the browser\n2. **addEventListener()**: Modern way to add listeners\n3. **Event Types**: click, keydown, submit, load, etc.\n4. **Event Object**: Contains event information\n5. **removeEventListener()**: Remove listeners (same function reference)\n6. **Options**: once, capture, passive\n7. **Best Practice**: Use addEventListener, prevent default when needed\n8. **Multiple Listeners**: Can add multiple listeners to same element\n\n---\n\n## Quiz: Events Basics\n\nTest your understanding with these questions:\n\n1. **addEventListener() is:**\n   - A) Old method\n   - B) Modern method\n   - C) Deprecated\n   - D) Not available\n\n2. **Event handler receives:**\n   - A) Nothing\n   - B) Event object\n   - C) Element\n   - D) String\n\n3. **removeEventListener() requires:**\n   - A) Same function reference\n   - B) Different function\n   - C) No function\n   - D) String\n\n4. **event.target is:**\n   - A) Element with listener\n   - B) Element that triggered event\n   - C) Parent element\n   - D) Document\n\n5. **once option:**\n   - A) Prevents event\n   - B) Removes after first trigger\n   - C) Adds multiple times\n   - D) Nothing\n\n6. **DOMContentLoaded fires:**\n   - A) After images load\n   - B) When DOM ready\n   - C) Never\n   - D) On click\n\n7. **Multiple listeners:**\n   - A) Only first executes\n   - B) All execute\n   - C) Error\n   - D) Random\n\n**Answers**:\n1. B) Modern method\n2. B) Event object\n3. A) Same function reference\n4. B) Element that triggered event\n5. B) Removes after first trigger\n6. B) When DOM ready\n7. B) All execute\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned event basics. You now know:\n- What events are\n- Different event types\n- How to add event listeners\n- How to access event properties\n\n**What''s Next?**\n- Lesson 14.2: Event Propagation\n- Learn about event bubbling and capturing\n- Understand event delegation\n- Build more complex event handling\n\n---\n\n## Additional Resources\n\n- **MDN: Events**: [developer.mozilla.org/en-US/docs/Web/API/Event](https://developer.mozilla.org/en-US/docs/Web/API/Event)\n- **MDN: addEventListener()**: [developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener)\n- **JavaScript.info: Events**: [javascript.info/events](https://javascript.info/events)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:53:34', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand what events are\n- Recognize different event types\n- Add event listeners using addEventListener\n- Understand event objects\n- Access event properties\n- Remove event listeners\n- Handle events effectively');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (146, 54, 12, 'Event Propagation', 'event-propagation', '# Lesson 14.2: Event Propagation\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand event bubbling\n- Understand event capturing\n- Use stopPropagation() to stop event propagation\n- Use preventDefault() to prevent default behavior\n- Implement event delegation\n- Control event flow effectively\n- Build efficient event handling systems\n\n---\n\n## Introduction to Event Propagation\n\nEvent propagation is the mechanism by which events travel through the DOM tree. Understanding propagation is crucial for effective event handling.\n\n### Event Propagation Phases\n\n1. **Capturing Phase**: Event travels down from document to target\n2. **Target Phase**: Event reaches the target element\n3. **Bubbling Phase**: Event travels up from target to document\n\n---\n\n## Event Bubbling\n\nEvent bubbling means events bubble up from the target element to the document root.\n\n### How Bubbling Works\n\n```html\n<div id="grandparent">\n    <div id="parent">\n        <div id="child">Click me</div>\n    </div>\n</div>\n```\n\n```javascript\ndocument.getElementById(''grandparent'').addEventListener(''click'', function() {\n    console.log(''Grandparent clicked'');\n});\n\ndocument.getElementById(''parent'').addEventListener(''click'', function() {\n    console.log(''Parent clicked'');\n});\n\ndocument.getElementById(''child'').addEventListener(''click'', function() {\n    console.log(''Child clicked'');\n});\n\n// Clicking child outputs:\n// Child clicked\n// Parent clicked\n// Grandparent clicked\n```\n\n### Bubbling Example\n\n```javascript\nlet container = document.getElementById(''container'');\nlet button = document.getElementById(''button'');\n\nbutton.addEventListener(''click'', function(event) {\n    console.log(''Button clicked'');\n});\n\ncontainer.addEventListener(''click'', function(event) {\n    console.log(''Container clicked'');\n});\n\n// Clicking button triggers both handlers\n```\n\n---\n\n## Event Capturing\n\nEvent capturing means events are captured on the way down to the target.\n\n### How Capturing Works\n\n```javascript\ndocument.getElementById(''grandparent'').addEventListener(''click'', function() {\n    console.log(''Grandparent captured'');\n}, true);  // Use capture phase\n\ndocument.getElementById(''parent'').addEventListener(''click'', function() {\n    console.log(''Parent captured'');\n}, true);\n\ndocument.getElementById(''child'').addEventListener(''click'', function() {\n    console.log(''Child clicked'');\n});\n\n// Clicking child outputs:\n// Grandparent captured\n// Parent captured\n// Child clicked\n```\n\n### Capture vs Bubble\n\n```javascript\n// Capture phase (true)\nelement.addEventListener(''click'', handler, true);\n\n// Bubble phase (false or omitted)\nelement.addEventListener(''click'', handler, false);\nelement.addEventListener(''click'', handler);  // Default: bubble\n```\n\n---\n\n## stopPropagation()\n\n`stopPropagation()` stops the event from propagating to other elements.\n\n### Stopping Bubbling\n\n```javascript\nlet parent = document.getElementById(''parent'');\nlet child = document.getElementById(''child'');\n\nchild.addEventListener(''click'', function(event) {\n    console.log(''Child clicked'');\n    event.stopPropagation();  // Stop bubbling\n});\n\nparent.addEventListener(''click'', function() {\n    console.log(''Parent clicked'');  // Won''t execute\n});\n\n// Only "Child clicked" is logged\n```\n\n### Stopping Capturing\n\n```javascript\nlet parent = document.getElementById(''parent'');\nlet child = document.getElementById(''child'');\n\nparent.addEventListener(''click'', function(event) {\n    console.log(''Parent captured'');\n    event.stopPropagation();  // Stop capturing\n}, true);\n\nchild.addEventListener(''click'', function() {\n    console.log(''Child clicked'');  // Won''t execute\n});\n```\n\n### stopImmediatePropagation()\n\nStops propagation and prevents other listeners on same element:\n\n```javascript\nbutton.addEventListener(''click'', function(event) {\n    console.log(''Handler 1'');\n    event.stopImmediatePropagation();  // Stops all other handlers\n});\n\nbutton.addEventListener(''click'', function() {\n    console.log(''Handler 2'');  // Won''t execute\n});\n\n// Only "Handler 1" is logged\n```\n\n---\n\n## preventDefault()\n\n`preventDefault()` prevents the default behavior of an event.\n\n### Common Use Cases\n\n```javascript\n// Prevent form submission\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();\n    // Handle form manually\n});\n\n// Prevent link navigation\nlink.addEventListener(''click'', function(event) {\n    event.preventDefault();\n    // Handle navigation manually\n});\n\n// Prevent context menu\nelement.addEventListener(''contextmenu'', function(event) {\n    event.preventDefault();\n    // Show custom menu\n});\n```\n\n### preventDefault() vs stopPropagation()\n\n```javascript\n// preventDefault(): Prevents default behavior\nlink.addEventListener(''click'', function(event) {\n    event.preventDefault();  // Link won''t navigate\n    // Event still bubbles\n});\n\n// stopPropagation(): Stops event propagation\nlink.addEventListener(''click'', function(event) {\n    event.stopPropagation();  // Event won''t bubble\n    // Link still navigates (default behavior)\n});\n\n// Both\nlink.addEventListener(''click'', function(event) {\n    event.preventDefault();      // Prevent navigation\n    event.stopPropagation();     // Stop bubbling\n});\n```\n\n---\n\n## Event Delegation\n\nEvent delegation uses event bubbling to handle events on multiple elements with a single listener.\n\n### Problem: Multiple Listeners\n\n```javascript\n// ⚠️ Problem: Many listeners\nlet items = document.querySelectorAll(''.item'');\nitems.forEach(item => {\n    item.addEventListener(''click'', function() {\n        console.log(''Item clicked'');\n    });\n});\n\n// New items added dynamically won''t have listeners\n```\n\n### Solution: Event Delegation\n\n```javascript\n// ✅ Solution: Single listener on parent\nlet list = document.getElementById(''list'');\n\nlist.addEventListener(''click'', function(event) {\n    // Check if clicked element is an item\n    if (event.target.classList.contains(''item'')) {\n        console.log(''Item clicked:'', event.target.textContent);\n    }\n});\n\n// Works for dynamically added items too!\n```\n\n### Event Delegation Benefits\n\n- **Performance**: Fewer event listeners\n- **Dynamic Elements**: Works with dynamically added elements\n- **Memory**: Less memory usage\n- **Flexibility**: Easy to add/remove items\n\n### Event Delegation Pattern\n\n```javascript\nparent.addEventListener(''click'', function(event) {\n    // Check if target matches selector\n    if (event.target.matches(''.item'')) {\n        // Handle event\n        handleItemClick(event.target);\n    }\n});\n\n// Or use closest() for nested elements\nparent.addEventListener(''click'', function(event) {\n    let item = event.target.closest(''.item'');\n    if (item) {\n        handleItemClick(item);\n    }\n});\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Stop Bubbling\n\n```javascript\nlet container = document.getElementById(''container'');\nlet button = document.getElementById(''button'');\n\nbutton.addEventListener(''click'', function(event) {\n    console.log(''Button clicked'');\n    event.stopPropagation();  // Don''t bubble to container\n});\n\ncontainer.addEventListener(''click'', function() {\n    console.log(''Container clicked'');  // Won''t execute\n});\n```\n\n### Example 2: Prevent Default\n\n```javascript\nlet form = document.getElementById(''myForm'');\n\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();  // Prevent form submission\n    \n    // Validate and process\n    let formData = new FormData(form);\n    console.log(''Form data:'', formData);\n    \n    // Submit via AJAX instead\n    fetch(''/api/submit'', {\n        method: ''POST'',\n        body: formData\n    });\n});\n```\n\n### Example 3: Event Delegation for List\n\n```javascript\nlet todoList = document.getElementById(''todoList'');\n\n// Single listener for all items\ntodoList.addEventListener(''click'', function(event) {\n    let item = event.target.closest(''.todo-item'');\n    if (item) {\n        // Handle item click\n        if (event.target.classList.contains(''delete-btn'')) {\n            item.remove();\n        } else if (event.target.classList.contains(''complete-btn'')) {\n            item.classList.toggle(''completed'');\n        }\n    }\n});\n\n// Add new items dynamically\nfunction addTodoItem(text) {\n    let li = document.createElement(''li'');\n    li.className = ''todo-item'';\n    li.innerHTML = `\n        <span>${text}</span>\n        <button class="complete-btn">Complete</button>\n        <button class="delete-btn">Delete</button>\n    `;\n    todoList.appendChild(li);\n    // No need to add listeners - delegation handles it!\n}\n```\n\n### Example 4: Modal Close on Outside Click\n\n```javascript\nlet modal = document.getElementById(''modal'');\nlet modalContent = document.getElementById(''modalContent'');\n\nmodal.addEventListener(''click'', function(event) {\n    // If click is outside modal content\n    if (!modalContent.contains(event.target)) {\n        modal.style.display = ''none'';\n    }\n});\n\n// Prevent clicks inside modal from closing\nmodalContent.addEventListener(''click'', function(event) {\n    event.stopPropagation();\n});\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Event Propagation\n\n**Objective**: Practice event propagation, stopping propagation, and event delegation.\n\n**Instructions**:\n\n1. Create an HTML file with nested elements\n2. Create a JavaScript file for event handling\n3. Practice:\n   - Event bubbling\n   - Event capturing\n   - stopPropagation()\n   - preventDefault()\n   - Event delegation\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Event Propagation Practice</title>\n    <style>\n        .container {\n            padding: 20px;\n            border: 2px solid blue;\n            margin: 10px;\n        }\n        .box {\n            padding: 15px;\n            border: 2px solid green;\n            margin: 10px;\n        }\n        .item {\n            padding: 10px;\n            border: 2px solid red;\n            margin: 5px;\n            cursor: pointer;\n        }\n        .highlight {\n            background-color: yellow;\n        }\n    </style>\n</head>\n<body>\n    <h1>Event Propagation Practice</h1>\n    \n    <div id="grandparent" class="container">\n        Grandparent\n        <div id="parent" class="box">\n            Parent\n            <div id="child" class="item">Child - Click me</div>\n        </div>\n    </div>\n    \n    <form id="myForm">\n        <input type="text" name="username" placeholder="Username">\n        <button type="submit">Submit</button>\n    </form>\n    \n    <ul id="todoList">\n        <li class="todo-item">\n            <span>Task 1</span>\n            <button class="delete-btn">Delete</button>\n        </li>\n        <li class="todo-item">\n            <span>Task 2</span>\n            <button class="delete-btn">Delete</button>\n        </li>\n    </ul>\n    <button id="addTask">Add Task</button>\n    \n    <script src="event-propagation.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// event-propagation.js\nconsole.log("=== Event Propagation Practice ===");\n\nconsole.log("\\n=== Event Bubbling ===");\n\nlet grandparent = document.getElementById(''grandparent'');\nlet parent = document.getElementById(''parent'');\nlet child = document.getElementById(''child'');\n\ngrandparent.addEventListener(''click'', function(event) {\n    console.log(''Grandparent clicked (bubble)'');\n    event.currentTarget.classList.add(''highlight'');\n    setTimeout(() => event.currentTarget.classList.remove(''highlight''), 500);\n});\n\nparent.addEventListener(''click'', function(event) {\n    console.log(''Parent clicked (bubble)'');\n    event.currentTarget.classList.add(''highlight'');\n    setTimeout(() => event.currentTarget.classList.remove(''highlight''), 500);\n});\n\nchild.addEventListener(''click'', function(event) {\n    console.log(''Child clicked (bubble)'');\n    event.currentTarget.classList.add(''highlight'');\n    setTimeout(() => event.currentTarget.classList.remove(''highlight''), 500);\n});\n\n// Clicking child triggers all three (bubbling)\nconsole.log();\n\nconsole.log("=== Event Capturing ===");\n\nlet grandparentCapture = document.getElementById(''grandparent'');\nlet parentCapture = document.getElementById(''parent'');\nlet childCapture = document.getElementById(''child'');\n\ngrandparentCapture.addEventListener(''click'', function(event) {\n    console.log(''Grandparent captured'');\n}, true);  // Capture phase\n\nparentCapture.addEventListener(''click'', function(event) {\n    console.log(''Parent captured'');\n}, true);  // Capture phase\n\nchildCapture.addEventListener(''click'', function(event) {\n    console.log(''Child clicked'');\n});  // Bubble phase (default)\n\n// Clicking child outputs: Grandparent captured, Parent captured, Child clicked\nconsole.log();\n\nconsole.log("=== stopPropagation() ===");\n\nlet stopParent = document.getElementById(''parent'');\nlet stopChild = document.getElementById(''child'');\n\n// Create new elements for stopPropagation demo\nlet stopContainer = document.createElement(''div'');\nstopContainer.className = ''container'';\nstopContainer.id = ''stopContainer'';\nstopContainer.innerHTML = `\n    <div class="box" id="stopParent">\n        <div class="item" id="stopChild">Click to stop propagation</div>\n    </div>\n`;\ndocument.body.appendChild(stopContainer);\n\nlet stopParentEl = document.getElementById(''stopParent'');\nlet stopChildEl = document.getElementById(''stopChild'');\n\nstopParentEl.addEventListener(''click'', function() {\n    console.log(''Parent clicked (should not see this)'');\n});\n\nstopChildEl.addEventListener(''click'', function(event) {\n    console.log(''Child clicked - stopping propagation'');\n    event.stopPropagation();  // Stop bubbling\n});\nconsole.log();\n\nconsole.log("=== preventDefault() ===");\n\nlet form = document.getElementById(''myForm'');\n\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();  // Prevent form submission\n    console.log(''Form submission prevented'');\n    \n    let formData = new FormData(form);\n    let username = formData.get(''username'');\n    console.log(''Username:'', username);\n    \n    alert(''Form would submit: '' + username);\n});\nconsole.log();\n\nconsole.log("=== Event Delegation ===");\n\nlet todoList = document.getElementById(''todoList'');\nlet addTaskBtn = document.getElementById(''addTask'');\n\n// Single listener for all items (including dynamically added)\ntodoList.addEventListener(''click'', function(event) {\n    let item = event.target.closest(''.todo-item'');\n    \n    if (item) {\n        if (event.target.classList.contains(''delete-btn'')) {\n            console.log(''Delete button clicked'');\n            item.remove();\n        } else if (event.target.tagName === ''SPAN'') {\n            console.log(''Task clicked:'', event.target.textContent);\n            item.classList.toggle(''highlight'');\n        }\n    }\n});\n\n// Add new tasks dynamically\naddTaskBtn.addEventListener(''click'', function() {\n    let taskNumber = todoList.children.length + 1;\n    let li = document.createElement(''li'');\n    li.className = ''todo-item'';\n    li.innerHTML = `\n        <span>Task ${taskNumber}</span>\n        <button class="delete-btn">Delete</button>\n    `;\n    todoList.appendChild(li);\n    console.log(`Added Task ${taskNumber} (delegation handles clicks)`);\n});\nconsole.log();\n\nconsole.log("=== stopImmediatePropagation() ===");\n\nlet immediateBtn = document.createElement(''button'');\nimmediateBtn.textContent = ''Stop Immediate Propagation'';\ndocument.body.appendChild(immediateBtn);\n\nimmediateBtn.addEventListener(''click'', function(event) {\n    console.log(''Handler 1'');\n    event.stopImmediatePropagation();  // Stops other handlers\n});\n\nimmediateBtn.addEventListener(''click'', function() {\n    console.log(''Handler 2'');  // Won''t execute\n});\n\nimmediateBtn.addEventListener(''click'', function() {\n    console.log(''Handler 3'');  // Won''t execute\n});\nconsole.log();\n\nconsole.log("=== Combined: preventDefault and stopPropagation ===");\n\nlet link = document.createElement(''a'');\nlink.href = ''https://example.com'';\nlink.textContent = ''Link (prevented)'';\nlink.style.display = ''block'';\nlink.style.margin = ''10px'';\ndocument.body.appendChild(link);\n\nlink.addEventListener(''click'', function(event) {\n    event.preventDefault();      // Prevent navigation\n    event.stopPropagation();     // Stop bubbling\n    console.log(''Link clicked - default prevented and propagation stopped'');\n    alert(''Link click handled, navigation prevented'');\n});\nconsole.log();\n\nconsole.log("=== Event Delegation with matches() ===");\n\nlet container = document.createElement(''div'');\ncontainer.id = ''delegationContainer'';\ncontainer.className = ''container'';\ncontainer.innerHTML = `\n    <button class="action-btn" data-action="save">Save</button>\n    <button class="action-btn" data-action="delete">Delete</button>\n    <button class="action-btn" data-action="edit">Edit</button>\n    <div class="info">Click buttons above</div>\n`;\ndocument.body.appendChild(container);\n\nlet infoDiv = container.querySelector(''.info'');\n\ncontainer.addEventListener(''click'', function(event) {\n    if (event.target.matches(''.action-btn'')) {\n        let action = event.target.dataset.action;\n        console.log(`Action: ${action}`);\n        infoDiv.textContent = `Last action: ${action}`;\n    }\n});\nconsole.log();\n\nconsole.log("=== Nested Event Delegation ===");\n\nlet nestedList = document.createElement(''ul'');\nnestedList.id = ''nestedList'';\nnestedList.innerHTML = `\n    <li class="category">\n        <span class="category-name">Category 1</span>\n        <ul>\n            <li class="item">Item 1.1</li>\n            <li class="item">Item 1.2</li>\n        </ul>\n    </li>\n    <li class="category">\n        <span class="category-name">Category 2</span>\n        <ul>\n            <li class="item">Item 2.1</li>\n            <li class="item">Item 2.2</li>\n        </ul>\n    </li>\n`;\ndocument.body.appendChild(nestedList);\n\nnestedList.addEventListener(''click'', function(event) {\n    // Handle category clicks\n    if (event.target.classList.contains(''category-name'')) {\n        console.log(''Category clicked:'', event.target.textContent);\n        event.target.parentElement.classList.toggle(''highlight'');\n    }\n    \n    // Handle item clicks (using closest for nested elements)\n    let item = event.target.closest(''.item'');\n    if (item && event.target === item) {\n        console.log(''Item clicked:'', item.textContent);\n        item.classList.toggle(''highlight'');\n    }\n});\n```\n\n**Expected Output** (in browser console):\n```\n=== Event Propagation Practice ===\n\n=== Event Bubbling ===\n[On clicking child]\nChild clicked (bubble)\nParent clicked (bubble)\nGrandparent clicked (bubble)\n\n=== Event Capturing ===\n[On clicking child]\nGrandparent captured\nParent captured\nChild clicked\n\n=== stopPropagation() ===\n[On clicking stopChild]\nChild clicked - stopping propagation\n\n=== preventDefault() ===\n[On form submit]\nForm submission prevented\nUsername: [value]\n\n=== Event Delegation ===\n[On clicking delete button]\nDelete button clicked\n[On clicking task]\nTask clicked: Task 1\n[On adding task]\nAdded Task 3 (delegation handles clicks)\n\n=== stopImmediatePropagation() ===\n[On clicking button]\nHandler 1\n\n=== Combined: preventDefault and stopPropagation ===\n[On clicking link]\nLink clicked - default prevented and propagation stopped\n\n=== Event Delegation with matches() ===\n[On clicking button]\nAction: save\n[On clicking button]\nAction: delete\n\n=== Nested Event Delegation ===\n[On clicking category]\nCategory clicked: Category 1\n[On clicking item]\nItem clicked: Item 1.1\n```\n\n**Challenge (Optional)**:\n- Build a complex event delegation system\n- Create a modal system with outside click detection\n- Build a nested menu system\n- Create a drag-and-drop with event handling\n\n---\n\n## Common Mistakes\n\n### 1. Confusing preventDefault and stopPropagation\n\n```javascript\n// ⚠️ Confusion\nevent.preventDefault();   // Prevents default behavior\nevent.stopPropagation();  // Stops event propagation\n\n// They do different things!\n```\n\n### 2. Not Using Event Delegation\n\n```javascript\n// ⚠️ Problem: Many listeners, doesn''t work with dynamic elements\nitems.forEach(item => {\n    item.addEventListener(''click'', handler);\n});\n\n// ✅ Solution: Event delegation\nparent.addEventListener(''click'', function(event) {\n    if (event.target.matches(''.item'')) {\n        handler(event.target);\n    }\n});\n```\n\n### 3. stopPropagation Too Early\n\n```javascript\n// ⚠️ Problem: Stops before handling\nchild.addEventListener(''click'', function(event) {\n    event.stopPropagation();  // Stops immediately\n    // Do something\n    // Parent won''t receive event (might be needed)\n});\n\n// ✅ Solution: Only stop if needed\nchild.addEventListener(''click'', function(event) {\n    // Do something\n    if (shouldStopPropagation) {\n        event.stopPropagation();\n    }\n});\n```\n\n### 4. Wrong Target in Delegation\n\n```javascript\n// ⚠️ Problem: Target might be nested element\nlist.addEventListener(''click'', function(event) {\n    event.target.classList.add(''active'');  // Might be span inside li\n});\n\n// ✅ Solution: Use closest()\nlist.addEventListener(''click'', function(event) {\n    let item = event.target.closest(''.item'');\n    if (item) {\n        item.classList.add(''active'');\n    }\n});\n```\n\n---\n\n## Key Takeaways\n\n1. **Event Bubbling**: Events bubble up from target to document\n2. **Event Capturing**: Events captured on way down (use true option)\n3. **stopPropagation()**: Stops event propagation\n4. **preventDefault()**: Prevents default behavior\n5. **Event Delegation**: Single listener on parent for multiple children\n6. **closest()**: Find ancestor matching selector\n7. **matches()**: Check if element matches selector\n8. **Best Practice**: Use event delegation for dynamic elements\n\n---\n\n## Quiz: Event Propagation\n\nTest your understanding with these questions:\n\n1. **Event bubbling:**\n   - A) Goes down\n   - B) Goes up\n   - C) Stays at target\n   - D) Doesn''t happen\n\n2. **Event capturing uses:**\n   - A) addEventListener(..., true)\n   - B) addEventListener(..., false)\n   - C) No option\n   - D) preventDefault()\n\n3. **stopPropagation() stops:**\n   - A) Default behavior\n   - B) Event propagation\n   - C) Event listener\n   - D) Nothing\n\n4. **preventDefault() prevents:**\n   - A) Event propagation\n   - B) Default behavior\n   - C) Event listener\n   - D) Nothing\n\n5. **Event delegation uses:**\n   - A) Multiple listeners\n   - B) Single listener on parent\n   - C) No listeners\n   - D) Inline handlers\n\n6. **closest() finds:**\n   - A) Child element\n   - B) Ancestor element\n   - C) Sibling element\n   - D) Any element\n\n7. **stopImmediatePropagation() stops:**\n   - A) Propagation only\n   - B) Other listeners on same element\n   - C) Default behavior\n   - D) Nothing\n\n**Answers**:\n1. B) Goes up\n2. A) addEventListener(..., true)\n3. B) Event propagation\n4. B) Default behavior\n5. B) Single listener on parent\n6. B) Ancestor element\n7. B) Other listeners on same element\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned event propagation. You now know:\n- How event bubbling and capturing work\n- How to stop propagation\n- How to prevent default behavior\n- How to use event delegation\n\n**What''s Next?**\n- Lesson 14.3: Advanced Events\n- Learn custom events\n- Understand debouncing and throttling\n- Work with touch and keyboard events\n\n---\n\n## Additional Resources\n\n- **MDN: Event Propagation**: [developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation](https://developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation)\n- **MDN: preventDefault()**: [developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault](https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault)\n- **JavaScript.info: Event Delegation**: [javascript.info/event-delegation](https://javascript.info/event-delegation)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:53:34', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand event bubbling\n- Understand event capturing\n- Use stopPropagation() to stop event propagation\n- Use preventDefault() to prevent default behavior\n- Implement event delegation\n- Control event flow effectively\n- Build efficient event handling systems');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (147, 54, 12, 'Advanced Events', 'advanced-events', '# Lesson 14.3: Advanced Events\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Create and dispatch custom events\n- Understand event patterns\n- Implement debouncing for performance\n- Implement throttling for performance\n- Handle touch events for mobile\n- Work with keyboard events in detail\n- Build advanced event-driven applications\n\n---\n\n## Introduction to Advanced Events\n\nAdvanced event handling includes custom events, performance optimization patterns, and specialized event types for modern web applications.\n\n### Advanced Event Topics\n\n- **Custom Events**: Create your own events\n- **Debouncing**: Limit function calls\n- **Throttling**: Limit function execution rate\n- **Touch Events**: Mobile device interactions\n- **Keyboard Events**: Advanced keyboard handling\n\n---\n\n## Custom Events\n\nCustom events allow you to create and dispatch your own events.\n\n### Creating Custom Events\n\n```javascript\n// Create custom event\nlet customEvent = new CustomEvent(''myEvent'', {\n    detail: {\n        message: ''Hello from custom event'',\n        data: { id: 1, name: ''Alice'' }\n    },\n    bubbles: true,\n    cancelable: true\n});\n\n// Dispatch event\nelement.dispatchEvent(customEvent);\n```\n\n### Listening to Custom Events\n\n```javascript\nelement.addEventListener(''myEvent'', function(event) {\n    console.log(''Custom event received:'', event.detail);\n    console.log(''Message:'', event.detail.message);\n    console.log(''Data:'', event.detail.data);\n});\n```\n\n### CustomEvent Constructor\n\n```javascript\nnew CustomEvent(eventName, {\n    detail: {},        // Custom data\n    bubbles: true,    // Bubbles up\n    cancelable: true  // Can be cancelled\n});\n```\n\n### Practical Example: Notification System\n\n```javascript\n// Create notification event\nfunction showNotification(message, type = ''info'') {\n    let event = new CustomEvent(''notification'', {\n        detail: {\n            message: message,\n            type: type,\n            timestamp: Date.now()\n        },\n        bubbles: true\n    });\n    \n    document.dispatchEvent(event);\n}\n\n// Listen for notifications\ndocument.addEventListener(''notification'', function(event) {\n    let { message, type, timestamp } = event.detail;\n    console.log(`[${type}] ${message} at ${new Date(timestamp)}`);\n    // Display notification in UI\n});\n\n// Use it\nshowNotification(''User logged in'', ''success'');\nshowNotification(''Error occurred'', ''error'');\n```\n\n---\n\n## Debouncing\n\nDebouncing limits how often a function can be called. It waits for a pause before executing.\n\n### Basic Debounce Function\n\n```javascript\nfunction debounce(func, delay) {\n    let timeoutId;\n    \n    return function(...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => {\n            func(...args);\n        }, delay);\n    };\n}\n```\n\n### Debounce Example: Search Input\n\n```javascript\nlet searchInput = document.getElementById(''search'');\n\nfunction performSearch(query) {\n    console.log(''Searching for:'', query);\n    // Make API call\n}\n\nlet debouncedSearch = debounce(performSearch, 300);\n\nsearchInput.addEventListener(''input'', function(event) {\n    debouncedSearch(event.target.value);\n    // Only searches 300ms after user stops typing\n});\n```\n\n### Debounce Example: Window Resize\n\n```javascript\nfunction handleResize() {\n    console.log(''Window resized:'', window.innerWidth, window.innerHeight);\n    // Update layout\n}\n\nlet debouncedResize = debounce(handleResize, 250);\n\nwindow.addEventListener(''resize'', debouncedResize);\n```\n\n### Debounce with Immediate Option\n\n```javascript\nfunction debounce(func, delay, immediate = false) {\n    let timeoutId;\n    \n    return function(...args) {\n        let callNow = immediate && !timeoutId;\n        \n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => {\n            timeoutId = null;\n            if (!immediate) {\n                func(...args);\n            }\n        }, delay);\n        \n        if (callNow) {\n            func(...args);\n        }\n    };\n}\n```\n\n---\n\n## Throttling\n\nThrottling limits how often a function can execute. It ensures the function runs at most once per time period.\n\n### Basic Throttle Function\n\n```javascript\nfunction throttle(func, limit) {\n    let inThrottle;\n    \n    return function(...args) {\n        if (!inThrottle) {\n            func(...args);\n            inThrottle = true;\n            setTimeout(() => {\n                inThrottle = false;\n            }, limit);\n        }\n    };\n}\n```\n\n### Throttle Example: Scroll Event\n\n```javascript\nfunction handleScroll() {\n    console.log(''Scrolled:'', window.scrollY);\n    // Update UI\n}\n\nlet throttledScroll = throttle(handleScroll, 100);\n\nwindow.addEventListener(''scroll'', throttledScroll);\n// Executes at most once per 100ms\n```\n\n### Throttle Example: Mouse Move\n\n```javascript\nlet element = document.getElementById(''myDiv'');\n\nfunction trackMouse(event) {\n    console.log(''Mouse at:'', event.clientX, event.clientY);\n}\n\nlet throttledTrack = throttle(trackMouse, 100);\n\nelement.addEventListener(''mousemove'', throttledTrack);\n```\n\n### Advanced Throttle (Leading and Trailing)\n\n```javascript\nfunction throttle(func, limit, options = {}) {\n    let timeoutId;\n    let lastRan;\n    let { leading = true, trailing = true } = options;\n    \n    return function(...args) {\n        if (!lastRan && leading) {\n            func(...args);\n            lastRan = Date.now();\n        } else {\n            clearTimeout(timeoutId);\n            timeoutId = setTimeout(() => {\n                if (trailing && Date.now() - lastRan >= limit) {\n                    func(...args);\n                    lastRan = Date.now();\n                }\n            }, limit - (Date.now() - lastRan));\n        }\n    };\n}\n```\n\n---\n\n## Touch Events\n\nTouch events handle interactions on touch devices (mobile, tablets).\n\n### Touch Event Types\n\n```javascript\n// touchstart - Finger touches screen\nelement.addEventListener(''touchstart'', handler);\n\n// touchmove - Finger moves on screen\nelement.addEventListener(''touchmove'', handler);\n\n// touchend - Finger leaves screen\nelement.addEventListener(''touchend'', handler);\n\n// touchcancel - Touch interrupted\nelement.addEventListener(''touchcancel'', handler);\n```\n\n### Touch Event Object\n\n```javascript\nelement.addEventListener(''touchstart'', function(event) {\n    let touches = event.touches;        // All touches\n    let targetTouches = event.targetTouches;  // Touches on element\n    let changedTouches = event.changedTouches; // Changed touches\n    \n    // Access first touch\n    let touch = touches[0];\n    console.log(''Touch X:'', touch.clientX);\n    console.log(''Touch Y:'', touch.clientY);\n    console.log(''Touch ID:'', touch.identifier);\n});\n```\n\n### Multi-Touch Example\n\n```javascript\nelement.addEventListener(''touchstart'', function(event) {\n    console.log(''Number of touches:'', event.touches.length);\n    \n    for (let i = 0; i < event.touches.length; i++) {\n        let touch = event.touches[i];\n        console.log(`Touch ${i}:`, touch.clientX, touch.clientY);\n    }\n});\n```\n\n### Preventing Default Touch Behavior\n\n```javascript\nelement.addEventListener(''touchmove'', function(event) {\n    event.preventDefault();  // Prevent scrolling\n    // Handle touch movement\n}, { passive: false });\n```\n\n---\n\n## Advanced Keyboard Events\n\n### Key Properties\n\n```javascript\ninput.addEventListener(''keydown'', function(event) {\n    console.log(''Key:'', event.key);           // "a", "Enter", "ArrowUp"\n    console.log(''Code:'', event.code);         // "KeyA", "Enter", "ArrowUp"\n    console.log(''Key Code:'', event.keyCode);  // 65, 13, 38 (deprecated)\n    \n    // Modifier keys\n    console.log(''Ctrl:'', event.ctrlKey);\n    console.log(''Shift:'', event.shiftKey);\n    console.log(''Alt:'', event.altKey);\n    console.log(''Meta:'', event.metaKey);\n    \n    // Repeat\n    console.log(''Repeat:'', event.repeat);\n});\n```\n\n### Keyboard Shortcuts\n\n```javascript\ndocument.addEventListener(''keydown'', function(event) {\n    // Ctrl+S (Save)\n    if (event.ctrlKey && event.key === ''s'') {\n        event.preventDefault();\n        console.log(''Save shortcut'');\n        saveDocument();\n    }\n    \n    // Ctrl+Z (Undo)\n    if (event.ctrlKey && event.key === ''z'' && !event.shiftKey) {\n        event.preventDefault();\n        undo();\n    }\n    \n    // Ctrl+Shift+Z (Redo)\n    if (event.ctrlKey && event.shiftKey && event.key === ''z'') {\n        event.preventDefault();\n        redo();\n    }\n    \n    // Escape\n    if (event.key === ''Escape'') {\n        closeModal();\n    }\n});\n```\n\n### Arrow Key Navigation\n\n```javascript\nlet items = document.querySelectorAll(''.item'');\nlet currentIndex = 0;\n\ndocument.addEventListener(''keydown'', function(event) {\n    switch (event.key) {\n        case ''ArrowDown'':\n            event.preventDefault();\n            currentIndex = Math.min(currentIndex + 1, items.length - 1);\n            items[currentIndex].focus();\n            break;\n            \n        case ''ArrowUp'':\n            event.preventDefault();\n            currentIndex = Math.max(currentIndex - 1, 0);\n            items[currentIndex].focus();\n            break;\n            \n        case ''Home'':\n            event.preventDefault();\n            currentIndex = 0;\n            items[currentIndex].focus();\n            break;\n            \n        case ''End'':\n            event.preventDefault();\n            currentIndex = items.length - 1;\n            items[currentIndex].focus();\n            break;\n    }\n});\n```\n\n---\n\n## Event Patterns\n\n### Pattern 1: Event Bus\n\n```javascript\nclass EventBus {\n    constructor() {\n        this.events = {};\n    }\n    \n    on(event, callback) {\n        if (!this.events[event]) {\n            this.events[event] = [];\n        }\n        this.events[event].push(callback);\n    }\n    \n    off(event, callback) {\n        if (this.events[event]) {\n            this.events[event] = this.events[event].filter(cb => cb !== callback);\n        }\n    }\n    \n    emit(event, data) {\n        if (this.events[event]) {\n            this.events[event].forEach(callback => callback(data));\n        }\n    }\n}\n\n// Usage\nlet eventBus = new EventBus();\n\neventBus.on(''userLogin'', (user) => {\n    console.log(''User logged in:'', user);\n});\n\neventBus.on(''userLogin'', (user) => {\n    updateUI(user);\n});\n\neventBus.emit(''userLogin'', { id: 1, name: ''Alice'' });\n```\n\n### Pattern 2: Observer Pattern\n\n```javascript\nclass Observable {\n    constructor() {\n        this.observers = [];\n    }\n    \n    subscribe(observer) {\n        this.observers.push(observer);\n    }\n    \n    unsubscribe(observer) {\n        this.observers = this.observers.filter(obs => obs !== observer);\n    }\n    \n    notify(data) {\n        this.observers.forEach(observer => observer(data));\n    }\n}\n\n// Usage\nlet subject = new Observable();\n\nsubject.subscribe((data) => {\n    console.log(''Observer 1:'', data);\n});\n\nsubject.subscribe((data) => {\n    console.log(''Observer 2:'', data);\n});\n\nsubject.notify(''Hello'');\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Advanced Events\n\n**Objective**: Practice custom events, debouncing, throttling, and advanced event handling.\n\n**Instructions**:\n\n1. Create an HTML file with various interactive elements\n2. Create a JavaScript file for advanced event handling\n3. Practice:\n   - Creating and dispatching custom events\n   - Implementing debouncing\n   - Implementing throttling\n   - Handling touch events\n   - Advanced keyboard handling\n\n**Example Solution**:\n\n```javascript\n// Advanced Events Practice\nconsole.log("=== Custom Events ===");\n\n// Create custom event\nfunction createCustomEvent(name, data) {\n    return new CustomEvent(name, {\n        detail: data,\n        bubbles: true,\n        cancelable: true\n    });\n}\n\n// Notification system\nfunction showNotification(message, type = ''info'') {\n    let event = createCustomEvent(''notification'', {\n        message: message,\n        type: type,\n        timestamp: Date.now()\n    });\n    document.dispatchEvent(event);\n}\n\ndocument.addEventListener(''notification'', function(event) {\n    let { message, type, timestamp } = event.detail;\n    console.log(`[${type.toUpperCase()}] ${message} at ${new Date(timestamp).toLocaleTimeString()}`);\n});\n\nshowNotification(''User logged in'', ''success'');\nshowNotification(''Data saved'', ''info'');\nshowNotification(''Error occurred'', ''error'');\nconsole.log();\n\nconsole.log("=== Debouncing ===");\n\nfunction debounce(func, delay) {\n    let timeoutId;\n    \n    return function(...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => {\n            func(...args);\n        }, delay);\n    };\n}\n\n// Search input debouncing\nlet searchInput = document.createElement(''input'');\nsearchInput.type = ''text'';\nsearchInput.placeholder = ''Type to search (debounced)'';\ndocument.body.appendChild(searchInput);\n\nlet searchCount = 0;\nfunction performSearch(query) {\n    searchCount++;\n    console.log(`Search ${searchCount} for: "${query}"`);\n}\n\nlet debouncedSearch = debounce(performSearch, 500);\n\nsearchInput.addEventListener(''input'', function(event) {\n    debouncedSearch(event.target.value);\n});\nconsole.log("Type in search input - searches after 500ms pause");\nconsole.log();\n\nconsole.log("=== Throttling ===");\n\nfunction throttle(func, limit) {\n    let inThrottle;\n    \n    return function(...args) {\n        if (!inThrottle) {\n            func(...args);\n            inThrottle = true;\n            setTimeout(() => {\n                inThrottle = false;\n            }, limit);\n        }\n    };\n}\n\n// Scroll throttling\nlet scrollCount = 0;\nfunction handleScroll() {\n    scrollCount++;\n    console.log(`Scroll event ${scrollCount} at position: ${window.scrollY}`);\n}\n\nlet throttledScroll = throttle(handleScroll, 1000);\n\nwindow.addEventListener(''scroll'', throttledScroll);\nconsole.log("Scroll page - events throttled to once per second");\nconsole.log();\n\nconsole.log("=== Mouse Move Throttling ===");\n\nlet moveBox = document.createElement(''div'');\nmoveBox.style.width = ''200px'';\nmoveBox.style.height = ''200px'';\nmoveBox.style.backgroundColor = ''lightblue'';\nmoveBox.style.margin = ''20px'';\nmoveBox.textContent = ''Move mouse here (throttled)'';\ndocument.body.appendChild(moveBox);\n\nlet moveCount = 0;\nfunction trackMouse(event) {\n    moveCount++;\n    console.log(`Mouse move ${moveCount}: (${event.clientX}, ${event.clientY})`);\n}\n\nlet throttledMouse = throttle(trackMouse, 200);\nmoveBox.addEventListener(''mousemove'', throttledMouse);\nconsole.log();\n\nconsole.log("=== Touch Events ===");\n\nlet touchBox = document.createElement(''div'');\ntouchBox.style.width = ''200px'';\ntouchBox.style.height = ''200px'';\ntouchBox.style.backgroundColor = ''lightgreen'';\ntouchBox.style.margin = ''20px'';\ntouchBox.textContent = ''Touch here (mobile)'';\ndocument.body.appendChild(touchBox);\n\ntouchBox.addEventListener(''touchstart'', function(event) {\n    console.log(''Touch started'');\n    let touch = event.touches[0];\n    console.log(`Touch at: (${touch.clientX}, ${touch.clientY})`);\n    console.log(''Number of touches:'', event.touches.length);\n});\n\ntouchBox.addEventListener(''touchmove'', function(event) {\n    event.preventDefault();\n    let touch = event.touches[0];\n    console.log(`Touch moved to: (${touch.clientX}, ${touch.clientY})`);\n});\n\ntouchBox.addEventListener(''touchend'', function(event) {\n    console.log(''Touch ended'');\n    console.log(''Changed touches:'', event.changedTouches.length);\n});\nconsole.log();\n\nconsole.log("=== Advanced Keyboard Events ===");\n\nlet keyboardInput = document.createElement(''input'');\nkeyboardInput.type = ''text'';\nkeyboardInput.placeholder = ''Type here (keyboard events)'';\nkeyboardInput.style.display = ''block'';\nkeyboardInput.style.margin = ''20px'';\nkeyboardInput.style.padding = ''10px'';\ndocument.body.appendChild(keyboardInput);\n\nkeyboardInput.addEventListener(''keydown'', function(event) {\n    console.log(''=== Key Down ==='');\n    console.log(''Key:'', event.key);\n    console.log(''Code:'', event.code);\n    console.log(''Ctrl:'', event.ctrlKey);\n    console.log(''Shift:'', event.shiftKey);\n    console.log(''Alt:'', event.altKey);\n    console.log(''Repeat:'', event.repeat);\n});\n\nkeyboardInput.addEventListener(''keyup'', function(event) {\n    console.log(''Key up:'', event.key);\n});\nconsole.log();\n\nconsole.log("=== Keyboard Shortcuts ===");\n\ndocument.addEventListener(''keydown'', function(event) {\n    // Ctrl+S\n    if (event.ctrlKey && event.key === ''s'') {\n        event.preventDefault();\n        console.log(''Save shortcut (Ctrl+S)'');\n    }\n    \n    // Ctrl+Z\n    if (event.ctrlKey && event.key === ''z'' && !event.shiftKey) {\n        event.preventDefault();\n        console.log(''Undo shortcut (Ctrl+Z)'');\n    }\n    \n    // Ctrl+Shift+Z\n    if (event.ctrlKey && event.shiftKey && event.key === ''z'') {\n        event.preventDefault();\n        console.log(''Redo shortcut (Ctrl+Shift+Z)'');\n    }\n    \n    // Escape\n    if (event.key === ''Escape'') {\n        console.log(''Escape pressed'');\n    }\n    \n    // Arrow keys\n    if (event.key.startsWith(''Arrow'')) {\n        console.log(''Arrow key:'', event.key);\n    }\n});\nconsole.log();\n\nconsole.log("=== Event Bus Pattern ===");\n\nclass EventBus {\n    constructor() {\n        this.events = {};\n    }\n    \n    on(event, callback) {\n        if (!this.events[event]) {\n            this.events[event] = [];\n        }\n        this.events[event].push(callback);\n    }\n    \n    off(event, callback) {\n        if (this.events[event]) {\n            this.events[event] = this.events[event].filter(cb => cb !== callback);\n        }\n    }\n    \n    emit(event, data) {\n        if (this.events[event]) {\n            this.events[event].forEach(callback => callback(data));\n        }\n    }\n}\n\nlet eventBus = new EventBus();\n\neventBus.on(''userAction'', (data) => {\n    console.log(''Handler 1:'', data);\n});\n\neventBus.on(''userAction'', (data) => {\n    console.log(''Handler 2:'', data);\n});\n\neventBus.emit(''userAction'', { action: ''click'', target: ''button'' });\nconsole.log();\n\nconsole.log("=== Debounce with Immediate ===");\n\nfunction debounceImmediate(func, delay, immediate = false) {\n    let timeoutId;\n    \n    return function(...args) {\n        let callNow = immediate && !timeoutId;\n        \n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => {\n            timeoutId = null;\n            if (!immediate) {\n                func(...args);\n            }\n        }, delay);\n        \n        if (callNow) {\n            func(...args);\n        }\n    };\n}\n\nlet immediateInput = document.createElement(''input'');\nimmediateInput.type = ''text'';\nimmediateInput.placeholder = ''Type (immediate debounce)'';\ndocument.body.appendChild(immediateInput);\n\nfunction searchImmediate(query) {\n    console.log(''Immediate search for:'', query);\n}\n\nlet immediateSearch = debounceImmediate(searchImmediate, 500, true);\nimmediateInput.addEventListener(''input'', function(event) {\n    immediateSearch(event.target.value);\n});\nconsole.log();\n\nconsole.log("=== Advanced Throttle ===");\n\nfunction advancedThrottle(func, limit) {\n    let lastRan;\n    let timeoutId;\n    \n    return function(...args) {\n        if (!lastRan) {\n            func(...args);\n            lastRan = Date.now();\n        } else {\n            clearTimeout(timeoutId);\n            timeoutId = setTimeout(() => {\n                if (Date.now() - lastRan >= limit) {\n                    func(...args);\n                    lastRan = Date.now();\n                }\n            }, limit - (Date.now() - lastRan));\n        }\n    };\n}\n\nlet throttleBox = document.createElement(''div'');\nthrottleBox.style.width = ''200px'';\nthrottleBox.style.height = ''200px'';\nthrottleBox.style.backgroundColor = ''lightyellow'';\nthrottleBox.style.margin = ''20px'';\nthrottleBox.textContent = ''Move mouse (advanced throttle)'';\ndocument.body.appendChild(throttleBox);\n\nlet throttleCount = 0;\nfunction advancedTrack(event) {\n    throttleCount++;\n    console.log(`Advanced throttle ${throttleCount}: (${event.clientX}, ${event.clientY})`);\n}\n\nlet advancedThrottled = advancedThrottle(advancedTrack, 300);\nthrottleBox.addEventListener(''mousemove'', advancedThrottled);\n```\n\n**Expected Output** (in browser console):\n```\n=== Custom Events ===\n[SUCCESS] User logged in at [time]\n[INFO] Data saved at [time]\n[ERROR] Error occurred at [time]\n\n=== Debouncing ===\nType in search input - searches after 500ms pause\n[After typing and pausing]\nSearch 1 for: "[typed text]"\n\n=== Throttling ===\nScroll page - events throttled to once per second\n[On scrolling]\nScroll event 1 at position: [position]\n[After 1 second]\nScroll event 2 at position: [position]\n\n=== Mouse Move Throttling ===\n[On mouse move]\nMouse move 1: (x, y)\n[After 200ms]\nMouse move 2: (x, y)\n\n=== Touch Events ===\n[On touch - mobile]\nTouch started\nTouch at: (x, y)\nNumber of touches: 1\n[On move]\nTouch moved to: (x, y)\n[On release]\nTouch ended\nChanged touches: 1\n\n=== Advanced Keyboard Events ===\n[On key press]\n=== Key Down ===\nKey: [key]\nCode: [code]\nCtrl: false\nShift: false\nAlt: false\nRepeat: false\n\n=== Keyboard Shortcuts ===\n[On Ctrl+S]\nSave shortcut (Ctrl+S)\n[On Escape]\nEscape pressed\n[On Arrow keys]\nArrow key: ArrowDown\n\n=== Event Bus Pattern ===\nHandler 1: { action: "click", target: "button" }\nHandler 2: { action: "click", target: "button" }\n\n=== Debounce with Immediate ===\n[On first input]\nImmediate search for: [first char]\n[After pause]\nImmediate search for: [full text]\n\n=== Advanced Throttle ===\n[On mouse move]\nAdvanced throttle 1: (x, y)\n[After delay]\nAdvanced throttle 2: (x, y)\n```\n\n**Challenge (Optional)**:\n- Build a complete event system\n- Create a gesture recognition system\n- Build keyboard navigation\n- Create a performance-optimized event handler\n\n---\n\n## Common Mistakes\n\n### 1. Not Clearing Timeout in Debounce\n\n```javascript\n// ⚠️ Problem: Multiple timeouts\nfunction badDebounce(func, delay) {\n    setTimeout(() => func(), delay);  // Doesn''t clear previous\n}\n\n// ✅ Solution: Clear timeout\nfunction debounce(func, delay) {\n    let timeoutId;\n    return function(...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => func(...args), delay);\n    };\n}\n```\n\n### 2. Throttle Not Resetting\n\n```javascript\n// ⚠️ Problem: Throttle never resets\nfunction badThrottle(func, limit) {\n    let inThrottle = false;\n    return function() {\n        if (!inThrottle) {\n            func();\n            inThrottle = true;  // Never resets!\n        }\n    };\n}\n\n// ✅ Solution: Reset after delay\nfunction throttle(func, limit) {\n    let inThrottle;\n    return function(...args) {\n        if (!inThrottle) {\n            func(...args);\n            inThrottle = true;\n            setTimeout(() => inThrottle = false, limit);\n        }\n    };\n}\n```\n\n### 3. Touch Events Not Prevented\n\n```javascript\n// ⚠️ Problem: Default scroll behavior\nelement.addEventListener(''touchmove'', function(event) {\n    // Handle touch but page still scrolls\n});\n\n// ✅ Solution: Prevent default\nelement.addEventListener(''touchmove'', function(event) {\n    event.preventDefault();\n    // Handle touch\n}, { passive: false });\n```\n\n---\n\n## Key Takeaways\n\n1. **Custom Events**: Create and dispatch your own events\n2. **Debouncing**: Wait for pause before executing\n3. **Throttling**: Limit execution rate\n4. **Touch Events**: Handle mobile interactions\n5. **Keyboard Events**: Advanced keyboard handling\n6. **Event Patterns**: Event bus, observer pattern\n7. **Best Practice**: Use debounce/throttle for performance\n8. **Mobile Support**: Handle touch events for mobile devices\n\n---\n\n## Quiz: Advanced Events\n\nTest your understanding with these questions:\n\n1. **Custom events are created with:**\n   - A) new Event()\n   - B) new CustomEvent()\n   - C) createEvent()\n   - D) addEvent()\n\n2. **Debouncing:**\n   - A) Executes immediately\n   - B) Waits for pause\n   - C) Limits rate\n   - D) Nothing\n\n3. **Throttling:**\n   - A) Waits for pause\n   - B) Limits execution rate\n   - C) Executes once\n   - D) Nothing\n\n4. **touchstart fires:**\n   - A) When finger moves\n   - B) When finger touches\n   - C) When finger leaves\n   - D) Never\n\n5. **event.key returns:**\n   - A) Key code\n   - B) Key name\n   - C) Key number\n   - D) Nothing\n\n6. **Debounce is best for:**\n   - A) Scroll events\n   - B) Search input\n   - C) Click events\n   - D) Load events\n\n7. **Throttle is best for:**\n   - A) Search input\n   - B) Scroll events\n   - C) Click events\n   - D) Load events\n\n**Answers**:\n1. B) new CustomEvent()\n2. B) Waits for pause\n3. B) Limits execution rate\n4. B) When finger touches\n5. B) Key name\n6. B) Search input\n7. B) Scroll events\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 14: Events. You now know:\n- Event basics and types\n- Event propagation and delegation\n- Custom events and advanced patterns\n- Performance optimization\n\n**What''s Next?**\n- Module 15: Forms and Validation\n- Lesson 15.1: Working with Forms\n- Learn form handling and validation\n- Build interactive forms\n\n---\n\n## Additional Resources\n\n- **MDN: CustomEvent**: [developer.mozilla.org/en-US/docs/Web/API/CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent)\n- **MDN: Touch Events**: [developer.mozilla.org/en-US/docs/Web/API/Touch_events](https://developer.mozilla.org/en-US/docs/Web/API/Touch_events)\n- **JavaScript.info: Custom Events**: [javascript.info/dispatch-events](https://javascript.info/dispatch-events)\n\n---\n\n*Lesson completed! You''ve finished Module 14: Events. Ready for Module 15: Forms and Validation!*\n\n', NULL, 3, '2026-01-03 09:53:34', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Create and dispatch custom events\n- Understand event patterns\n- Implement debouncing for performance\n- Implement throttling for performance\n- Handle touch events for mobile\n- Work with keyboard events in detail\n- Build advanced event-driven applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (148, 55, 12, 'Working with Forms', 'working-with-forms', '# Lesson 15.1: Working with Forms\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Access form elements\n- Get and set form data\n- Handle form submission\n- Validate form data\n- Work with different form elements\n- Prevent default form submission\n- Build interactive forms\n\n---\n\n## Introduction to Forms\n\nForms are essential for collecting user input. JavaScript allows you to interact with forms, validate data, and handle submissions programmatically.\n\n### Why Work with Forms?\n\n- **User Input**: Collect data from users\n- **Validation**: Ensure data quality\n- **User Experience**: Provide feedback\n- **Data Processing**: Handle form data before submission\n- **Modern Web**: Essential for web applications\n\n---\n\n## Accessing Form Elements\n\n### Accessing Form by ID\n\n```javascript\nlet form = document.getElementById(''myForm'');\n```\n\n### Accessing Form via forms Collection\n\n```javascript\n// Access by index\nlet firstForm = document.forms[0];\n\n// Access by name\nlet form = document.forms[''myForm''];\n\n// Access by id\nlet form = document.forms.myForm;\n```\n\n### Accessing Form Elements\n\n```javascript\nlet form = document.getElementById(''myForm'');\n\n// By name\nlet username = form.elements.username;\nlet email = form.elements.email;\n\n// By index\nlet firstInput = form.elements[0];\n\n// By id (if element has id)\nlet username = document.getElementById(''username'');\n```\n\n---\n\n## Getting Form Data\n\n### Individual Fields\n\n```javascript\nlet form = document.getElementById(''myForm'');\nlet username = form.elements.username.value;\nlet email = form.elements.email.value;\n```\n\n### FormData Object\n\n```javascript\nlet form = document.getElementById(''myForm'');\nlet formData = new FormData(form);\n\n// Get specific value\nlet username = formData.get(''username'');\n\n// Get all values\nfor (let [key, value] of formData.entries()) {\n    console.log(key, value);\n}\n```\n\n### Serialize Form Data\n\n```javascript\nfunction serializeForm(form) {\n    let data = {};\n    let formData = new FormData(form);\n    \n    for (let [key, value] of formData.entries()) {\n        data[key] = value;\n    }\n    \n    return data;\n}\n\nlet form = document.getElementById(''myForm'');\nlet data = serializeForm(form);\nconsole.log(data);\n```\n\n### Getting All Form Values\n\n```javascript\nfunction getFormValues(form) {\n    let values = {};\n    \n    for (let element of form.elements) {\n        if (element.name) {\n            if (element.type === ''checkbox'') {\n                values[element.name] = element.checked;\n            } else if (element.type === ''radio'') {\n                if (element.checked) {\n                    values[element.name] = element.value;\n                }\n            } else {\n                values[element.name] = element.value;\n            }\n        }\n    }\n    \n    return values;\n}\n```\n\n---\n\n## Setting Form Data\n\n### Setting Individual Fields\n\n```javascript\nlet form = document.getElementById(''myForm'');\nform.elements.username.value = ''Alice'';\nform.elements.email.value = ''alice@example.com'';\n```\n\n### Setting Multiple Fields\n\n```javascript\nfunction setFormValues(form, data) {\n    for (let key in data) {\n        let element = form.elements[key];\n        if (element) {\n            if (element.type === ''checkbox'') {\n                element.checked = data[key];\n            } else {\n                element.value = data[key];\n            }\n        }\n    }\n}\n\nlet form = document.getElementById(''myForm'');\nsetFormValues(form, {\n    username: ''Alice'',\n    email: ''alice@example.com'',\n    remember: true\n});\n```\n\n### Resetting Form\n\n```javascript\n// Reset to default values\nform.reset();\n\n// Or reset programmatically\nform.elements.username.value = '''';\nform.elements.email.value = '''';\n```\n\n---\n\n## Form Submission\n\n### Preventing Default Submission\n\n```javascript\nlet form = document.getElementById(''myForm'');\n\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();  // Prevent default form submission\n    \n    // Handle form data\n    let formData = new FormData(form);\n    console.log(''Form data:'', formData);\n    \n    // Submit via AJAX or process data\n});\n```\n\n### Handling Form Submission\n\n```javascript\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();\n    \n    // Get form data\n    let formData = new FormData(form);\n    let data = Object.fromEntries(formData);\n    \n    // Validate\n    if (validateForm(data)) {\n        // Submit\n        submitForm(data);\n    } else {\n        // Show errors\n        showErrors();\n    }\n});\n```\n\n### Programmatic Submission\n\n```javascript\n// Submit form programmatically\nform.submit();\n\n// Or trigger submit event\nlet submitEvent = new Event(''submit'');\nform.dispatchEvent(submitEvent);\n```\n\n---\n\n## Form Validation\n\n### Basic Validation\n\n```javascript\nfunction validateForm(form) {\n    let isValid = true;\n    let errors = [];\n    \n    // Validate username\n    let username = form.elements.username.value.trim();\n    if (username.length < 3) {\n        isValid = false;\n        errors.push(''Username must be at least 3 characters'');\n    }\n    \n    // Validate email\n    let email = form.elements.email.value.trim();\n    if (!email.includes(''@'')) {\n        isValid = false;\n        errors.push(''Invalid email address'');\n    }\n    \n    // Validate password\n    let password = form.elements.password.value;\n    if (password.length < 8) {\n        isValid = false;\n        errors.push(''Password must be at least 8 characters'');\n    }\n    \n    return { isValid, errors };\n}\n```\n\n### Real-time Validation\n\n```javascript\nlet usernameInput = form.elements.username;\n\nusernameInput.addEventListener(''blur'', function() {\n    let value = this.value.trim();\n    \n    if (value.length < 3) {\n        showError(this, ''Username must be at least 3 characters'');\n    } else {\n        clearError(this);\n    }\n});\n```\n\n### Validation Functions\n\n```javascript\nfunction validateEmail(email) {\n    let regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return regex.test(email);\n}\n\nfunction validatePassword(password) {\n    return password.length >= 8 && \n           /[A-Z]/.test(password) && \n           /[a-z]/.test(password) && \n           /\\d/.test(password);\n}\n\nfunction validateUsername(username) {\n    return username.length >= 3 && \n           /^[a-zA-Z0-9_]+$/.test(username);\n}\n```\n\n---\n\n## Working with Different Form Elements\n\n### Text Inputs\n\n```javascript\nlet input = form.elements.username;\nconsole.log(input.value);        // Get value\ninput.value = ''New value'';       // Set value\ninput.placeholder = ''Enter username'';\ninput.required = true;\n```\n\n### Checkboxes\n\n```javascript\nlet checkbox = form.elements.remember;\nconsole.log(checkbox.checked);   // true or false\ncheckbox.checked = true;         // Set checked\n```\n\n### Radio Buttons\n\n```javascript\nlet radios = form.elements.gender;\nconsole.log(radios.value);       // Value of checked radio\n\n// Set checked\nradios.value = ''male'';\n// or\nradios[0].checked = true;\n```\n\n### Select Dropdowns\n\n```javascript\nlet select = form.elements.country;\nconsole.log(select.value);      // Selected value\nconsole.log(select.selectedIndex); // Selected index\n\n// Set value\nselect.value = ''usa'';\n\n// Get selected option\nlet selectedOption = select.options[select.selectedIndex];\nconsole.log(selectedOption.text);\n```\n\n### Textareas\n\n```javascript\nlet textarea = form.elements.message;\nconsole.log(textarea.value);     // Get value\ntextarea.value = ''New message'';  // Set value\ntextarea.rows = 5;              // Set rows\ntextarea.cols = 50;              // Set columns\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Simple Form Handler\n\n```javascript\nlet form = document.getElementById(''myForm'');\n\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();\n    \n    let formData = new FormData(form);\n    let data = {\n        username: formData.get(''username''),\n        email: formData.get(''email''),\n        password: formData.get(''password'')\n    };\n    \n    console.log(''Form data:'', data);\n    \n    // Process or submit data\n    processFormData(data);\n});\n```\n\n### Example 2: Form with Validation\n\n```javascript\nlet form = document.getElementById(''myForm'');\n\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();\n    \n    let errors = validateForm(form);\n    \n    if (errors.length === 0) {\n        // Form is valid\n        let formData = new FormData(form);\n        submitForm(formData);\n    } else {\n        // Show errors\n        displayErrors(errors);\n    }\n});\n\nfunction validateForm(form) {\n    let errors = [];\n    \n    // Validate each field\n    let username = form.elements.username.value.trim();\n    if (!username) {\n        errors.push(''Username is required'');\n    } else if (username.length < 3) {\n        errors.push(''Username must be at least 3 characters'');\n    }\n    \n    let email = form.elements.email.value.trim();\n    if (!email) {\n        errors.push(''Email is required'');\n    } else if (!validateEmail(email)) {\n        errors.push(''Invalid email address'');\n    }\n    \n    return errors;\n}\n```\n\n### Example 3: Real-time Validation\n\n```javascript\nlet form = document.getElementById(''myForm'');\n\n// Validate on blur\nform.elements.username.addEventListener(''blur'', function() {\n    validateField(this, validateUsername);\n});\n\nform.elements.email.addEventListener(''blur'', function() {\n    validateField(this, validateEmail);\n});\n\nfunction validateField(field, validator) {\n    let value = field.value.trim();\n    let errorElement = field.parentElement.querySelector(''.error'');\n    \n    if (!value) {\n        showError(field, ''This field is required'');\n    } else if (!validator(value)) {\n        showError(field, ''Invalid value'');\n    } else {\n        clearError(field);\n    }\n}\n\nfunction showError(field, message) {\n    clearError(field);\n    field.classList.add(''error'');\n    let errorDiv = document.createElement(''div'');\n    errorDiv.className = ''error-message'';\n    errorDiv.textContent = message;\n    field.parentElement.appendChild(errorDiv);\n}\n\nfunction clearError(field) {\n    field.classList.remove(''error'');\n    let errorDiv = field.parentElement.querySelector(''.error-message'');\n    if (errorDiv) {\n        errorDiv.remove();\n    }\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Form Handling\n\n**Objective**: Practice working with forms, accessing data, and validation.\n\n**Instructions**:\n\n1. Create an HTML file with a form\n2. Create a JavaScript file for form handling\n3. Practice:\n   - Accessing form elements\n   - Getting form data\n   - Setting form data\n   - Handling form submission\n   - Form validation\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Form Handling Practice</title>\n    <style>\n        .error {\n            border: 2px solid red;\n        }\n        .error-message {\n            color: red;\n            font-size: 12px;\n            margin-top: 5px;\n        }\n        .success {\n            border: 2px solid green;\n        }\n        form {\n            max-width: 400px;\n            margin: 20px;\n        }\n        .form-group {\n            margin-bottom: 15px;\n        }\n        label {\n            display: block;\n            margin-bottom: 5px;\n        }\n        input, select, textarea {\n            width: 100%;\n            padding: 8px;\n            box-sizing: border-box;\n        }\n    </style>\n</head>\n<body>\n    <h1>Form Handling Practice</h1>\n    \n    <form id="userForm">\n        <div class="form-group">\n            <label for="username">Username:</label>\n            <input type="text" id="username" name="username" required>\n            <div class="error-message"></div>\n        </div>\n        \n        <div class="form-group">\n            <label for="email">Email:</label>\n            <input type="email" id="email" name="email" required>\n            <div class="error-message"></div>\n        </div>\n        \n        <div class="form-group">\n            <label for="password">Password:</label>\n            <input type="password" id="password" name="password" required>\n            <div class="error-message"></div>\n        </div>\n        \n        <div class="form-group">\n            <label for="country">Country:</label>\n            <select id="country" name="country">\n                <option value="">Select country</option>\n                <option value="us">United States</option>\n                <option value="uk">United Kingdom</option>\n                <option value="ca">Canada</option>\n            </select>\n        </div>\n        \n        <div class="form-group">\n            <label>\n                <input type="checkbox" name="newsletter" value="yes">\n                Subscribe to newsletter\n            </label>\n        </div>\n        \n        <div class="form-group">\n            <label>Gender:</label>\n            <label><input type="radio" name="gender" value="male"> Male</label>\n            <label><input type="radio" name="gender" value="female"> Female</label>\n            <label><input type="radio" name="gender" value="other"> Other</label>\n        </div>\n        \n        <div class="form-group">\n            <label for="message">Message:</label>\n            <textarea id="message" name="message" rows="4"></textarea>\n        </div>\n        \n        <button type="submit">Submit</button>\n        <button type="reset">Reset</button>\n    </form>\n    \n    <div id="output"></div>\n    \n    <script src="form-handling.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// form-handling.js\nconsole.log("=== Form Handling Practice ===");\n\nlet form = document.getElementById(''userForm'');\nlet output = document.getElementById(''output'');\n\nconsole.log("\\n=== Accessing Form Elements ===");\n\n// Access form\nconsole.log("Form:", form);\nconsole.log("Form ID:", form.id);\nconsole.log("Form method:", form.method);\nconsole.log("Form action:", form.action);\n\n// Access elements\nconsole.log("Username element:", form.elements.username);\nconsole.log("Email element:", form.elements.email);\nconsole.log("Number of elements:", form.elements.length);\nconsole.log();\n\nconsole.log("=== Getting Form Data ===");\n\n// Individual fields\nfunction getFormData() {\n    return {\n        username: form.elements.username.value,\n        email: form.elements.email.value,\n        password: form.elements.password.value,\n        country: form.elements.country.value,\n        newsletter: form.elements.newsletter.checked,\n        gender: form.elements.gender.value,\n        message: form.elements.message.value\n    };\n}\n\n// Using FormData\nfunction getFormDataFormData() {\n    let formData = new FormData(form);\n    let data = {};\n    for (let [key, value] of formData.entries()) {\n        data[key] = value;\n    }\n    return data;\n}\n\n// Display current form data\nfunction displayFormData() {\n    let data = getFormData();\n    console.log("Current form data:", data);\n}\nconsole.log();\n\nconsole.log("=== Setting Form Data ===");\n\nfunction setFormData(data) {\n    if (data.username) form.elements.username.value = data.username;\n    if (data.email) form.elements.email.value = data.email;\n    if (data.password) form.elements.password.value = data.password;\n    if (data.country) form.elements.country.value = data.country;\n    if (data.newsletter !== undefined) form.elements.newsletter.checked = data.newsletter;\n    if (data.gender) form.elements.gender.value = data.gender;\n    if (data.message) form.elements.message.value = data.message;\n}\n\n// Set sample data\nsetFormData({\n    username: ''alice'',\n    email: ''alice@example.com'',\n    country: ''us'',\n    newsletter: true,\n    gender: ''female'',\n    message: ''Hello world''\n});\n\nconsole.log("Set sample form data");\ndisplayFormData();\nconsole.log();\n\nconsole.log("=== Form Submission ===");\n\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();\n    console.log(''Form submitted'');\n    \n    let data = getFormData();\n    console.log(''Submitted data:'', data);\n    \n    // Validate\n    let errors = validateForm(form);\n    \n    if (errors.length === 0) {\n        console.log(''Form is valid'');\n        output.innerHTML = ''<p style="color: green;">Form submitted successfully!</p>'';\n        output.innerHTML += ''<pre>'' + JSON.stringify(data, null, 2) + ''</pre>'';\n        \n        // Could submit to server here\n        // submitToServer(data);\n    } else {\n        console.log(''Form has errors:'', errors);\n        output.innerHTML = ''<p style="color: red;">Form has errors:</p><ul>'';\n        errors.forEach(error => {\n            output.innerHTML += ''<li>'' + error + ''</li>'';\n        });\n        output.innerHTML += ''</ul>'';\n    }\n});\nconsole.log();\n\nconsole.log("=== Form Validation ===");\n\nfunction validateForm(form) {\n    let errors = [];\n    \n    // Username validation\n    let username = form.elements.username.value.trim();\n    if (!username) {\n        errors.push(''Username is required'');\n    } else if (username.length < 3) {\n        errors.push(''Username must be at least 3 characters'');\n    } else if (!/^[a-zA-Z0-9_]+$/.test(username)) {\n        errors.push(''Username can only contain letters, numbers, and underscores'');\n    }\n    \n    // Email validation\n    let email = form.elements.email.value.trim();\n    if (!email) {\n        errors.push(''Email is required'');\n    } else if (!validateEmail(email)) {\n        errors.push(''Invalid email address'');\n    }\n    \n    // Password validation\n    let password = form.elements.password.value;\n    if (!password) {\n        errors.push(''Password is required'');\n    } else if (password.length < 8) {\n        errors.push(''Password must be at least 8 characters'');\n    }\n    \n    // Country validation\n    let country = form.elements.country.value;\n    if (!country) {\n        errors.push(''Country is required'');\n    }\n    \n    return errors;\n}\n\nfunction validateEmail(email) {\n    let regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return regex.test(email);\n}\nconsole.log();\n\nconsole.log("=== Real-time Validation ===");\n\n// Username validation\nform.elements.username.addEventListener(''blur'', function() {\n    validateField(this, function(value) {\n        if (!value) {\n            return ''Username is required'';\n        } else if (value.length < 3) {\n            return ''Username must be at least 3 characters'';\n        } else if (!/^[a-zA-Z0-9_]+$/.test(value)) {\n            return ''Username can only contain letters, numbers, and underscores'';\n        }\n        return null;\n    });\n});\n\n// Email validation\nform.elements.email.addEventListener(''blur'', function() {\n    validateField(this, function(value) {\n        if (!value) {\n            return ''Email is required'';\n        } else if (!validateEmail(value)) {\n            return ''Invalid email address'';\n        }\n        return null;\n    });\n});\n\n// Password validation\nform.elements.password.addEventListener(''blur'', function() {\n    validateField(this, function(value) {\n        if (!value) {\n            return ''Password is required'';\n        } else if (value.length < 8) {\n            return ''Password must be at least 8 characters'';\n        }\n        return null;\n    });\n});\n\nfunction validateField(field, validator) {\n    let value = field.value.trim();\n    let errorMessage = field.parentElement.querySelector(''.error-message'');\n    let error = validator(value);\n    \n    if (error) {\n        field.classList.add(''error'');\n        field.classList.remove(''success'');\n        if (errorMessage) {\n            errorMessage.textContent = error;\n        }\n    } else {\n        field.classList.remove(''error'');\n        field.classList.add(''success'');\n        if (errorMessage) {\n            errorMessage.textContent = '''';\n        }\n    }\n}\nconsole.log();\n\nconsole.log("=== Working with Different Elements ===");\n\n// Text input\nconsole.log("Text input value:", form.elements.username.value);\n\n// Checkbox\nconsole.log("Checkbox checked:", form.elements.newsletter.checked);\n\n// Radio buttons\nconsole.log("Radio value:", form.elements.gender.value);\n\n// Select\nconsole.log("Select value:", form.elements.country.value);\nconsole.log("Select selected index:", form.elements.country.selectedIndex);\nconsole.log("Selected option:", form.elements.country.options[form.elements.country.selectedIndex]?.text);\n\n// Textarea\nconsole.log("Textarea value:", form.elements.message.value);\nconsole.log();\n\nconsole.log("=== Form Reset ===");\n\nform.addEventListener(''reset'', function() {\n    console.log(''Form reset'');\n    output.innerHTML = '''';\n    \n    // Clear all error messages\n    let errorMessages = document.querySelectorAll(''.error-message'');\n    errorMessages.forEach(msg => msg.textContent = '''');\n    \n    let errorFields = document.querySelectorAll(''.error'');\n    errorFields.forEach(field => {\n        field.classList.remove(''error'');\n        field.classList.remove(''success'');\n    });\n});\nconsole.log();\n\nconsole.log("=== FormData API ===");\n\nfunction demonstrateFormData() {\n    let formData = new FormData(form);\n    \n    console.log("FormData entries:");\n    for (let [key, value] of formData.entries()) {\n        console.log(`${key}: ${value}`);\n    }\n    \n    // Get specific value\n    console.log("Username from FormData:", formData.get(''username''));\n    console.log("Newsletter from FormData:", formData.get(''newsletter''));\n    \n    // Check if has key\n    console.log("Has username:", formData.has(''username''));\n    \n    // Get all values for a key (if multiple)\n    console.log("All values:", Array.from(formData.values()));\n}\n\n// Demonstrate when form is submitted\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();\n    demonstrateFormData();\n});\n```\n\n**Expected Output** (in browser console):\n```\n=== Form Handling Practice ===\n\n=== Accessing Form Elements ===\nForm: [form element]\nForm ID: userForm\nForm method: get\nForm action: \nUsername element: [input element]\nEmail element: [input element]\nNumber of elements: [number]\n\n=== Getting Form Data ===\nCurrent form data: { username: "alice", email: "alice@example.com", ... }\n\n=== Setting Form Data ===\nSet sample form data\nCurrent form data: { username: "alice", email: "alice@example.com", ... }\n\n=== Form Submission ===\n[On submit]\nForm submitted\nSubmitted data: { username: "...", email: "...", ... }\nForm is valid / Form has errors: [...]\n\n=== Form Validation ===\n[Validation functions defined]\n\n=== Real-time Validation ===\n[On blur events]\n[Shows validation messages]\n\n=== Working with Different Elements ===\nText input value: alice\nCheckbox checked: true\nRadio value: female\nSelect value: us\nSelected option: United States\nTextarea value: Hello world\n\n=== Form Reset ===\n[On reset]\nForm reset\n\n=== FormData API ===\n[On submit]\nFormData entries:\nusername: alice\nemail: alice@example.com\n...\nUsername from FormData: alice\nNewsletter from FormData: yes\nHas username: true\nAll values: [array of values]\n```\n\n**Challenge (Optional)**:\n- Build a complete form validation system\n- Create a multi-step form\n- Build a form builder\n- Create a form data persistence system\n\n---\n\n## Common Mistakes\n\n### 1. Not Preventing Default\n\n```javascript\n// ⚠️ Problem: Form submits and page reloads\nform.addEventListener(''submit'', function(event) {\n    // Process form\n    // Page reloads!\n});\n\n// ✅ Solution: Prevent default\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();\n    // Process form\n});\n```\n\n### 2. Accessing Value Before Input\n\n```javascript\n// ⚠️ Problem: Value might be empty\nlet username = form.elements.username.value;\nconsole.log(username);  // Might be empty\n\n// ✅ Solution: Check or wait for input\nform.elements.username.addEventListener(''input'', function() {\n    console.log(this.value);\n});\n```\n\n### 3. Not Handling Checkboxes/Radios\n\n```javascript\n// ⚠️ Problem: Wrong way to get checkbox value\nlet newsletter = form.elements.newsletter.value;  // Always "yes"\n\n// ✅ Solution: Check checked property\nlet newsletter = form.elements.newsletter.checked;\n```\n\n### 4. Not Trimming Values\n\n```javascript\n// ⚠️ Problem: Includes whitespace\nlet username = form.elements.username.value;\nif (username.length < 3) { }  // Might fail due to spaces\n\n// ✅ Solution: Trim first\nlet username = form.elements.username.value.trim();\n```\n\n---\n\n## Key Takeaways\n\n1. **Form Access**: Use getElementById, forms collection, or querySelector\n2. **Form Data**: Use FormData or access elements directly\n3. **Form Submission**: Prevent default, handle programmatically\n4. **Validation**: Check values before submission\n5. **Form Elements**: Different elements need different handling\n6. **Real-time**: Validate on blur or input\n7. **Best Practice**: Always prevent default, validate data, trim values\n8. **FormData**: Modern API for form data handling\n\n---\n\n## Quiz: Forms\n\nTest your understanding with these questions:\n\n1. **Form elements accessed via:**\n   - A) form.elements\n   - B) form.inputs\n   - C) form.fields\n   - D) form.data\n\n2. **FormData is:**\n   - A) Old API\n   - B) Modern API\n   - C) Deprecated\n   - D) Not available\n\n3. **Checkbox value accessed via:**\n   - A) value property\n   - B) checked property\n   - C) Both\n   - D) Neither\n\n4. **preventDefault() prevents:**\n   - A) Form submission\n   - B) Event propagation\n   - C) Both\n   - D) Neither\n\n5. **form.reset() does:**\n   - A) Clears all fields\n   - B) Resets to default values\n   - C) Both\n   - D) Nothing\n\n6. **Radio button value:**\n   - A) Value of checked button\n   - B) All values\n   - C) First value\n   - D) Nothing\n\n7. **FormData.get() returns:**\n   - A) All values\n   - B) First value for key\n   - C) Last value\n   - D) Nothing\n\n**Answers**:\n1. A) form.elements\n2. B) Modern API\n3. B) checked property (for boolean, value for string)\n4. A) Form submission (default behavior)\n5. B) Resets to default values\n6. A) Value of checked button\n7. B) First value for key\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned form handling. You now know:\n- How to access form elements\n- How to get and set form data\n- How to handle form submission\n- How to validate forms\n\n**What''s Next?**\n- Lesson 15.2: Input Types and Validation\n- Learn different input types\n- Understand HTML5 validation\n- Build comprehensive validation systems\n\n---\n\n## Additional Resources\n\n- **MDN: Forms**: [developer.mozilla.org/en-US/docs/Web/HTML/Element/form](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form)\n- **MDN: FormData**: [developer.mozilla.org/en-US/docs/Web/API/FormData](https://developer.mozilla.org/en-US/docs/Web/API/FormData)\n- **JavaScript.info: Forms**: [javascript.info/forms-controls](https://javascript.info/forms-controls)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:53:34', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Access form elements\n- Get and set form data\n- Handle form submission\n- Validate form data\n- Work with different form elements\n- Prevent default form submission\n- Build interactive forms');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (149, 55, 12, 'Input Types and Validation', 'input-types-and-validation', '# Lesson 15.2: Input Types and Validation\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Work with different HTML5 input types\n- Use HTML5 built-in validation\n- Implement JavaScript validation\n- Create real-time validation\n- Build custom validation rules\n- Display validation errors\n- Create user-friendly validation feedback\n\n---\n\n## Introduction to Input Types\n\nHTML5 introduced many new input types that provide better user experience and built-in validation.\n\n### Why Different Input Types?\n\n- **Better UX**: Appropriate keyboards on mobile\n- **Built-in Validation**: Browser validates automatically\n- **Data Type**: Ensures correct data format\n- **Accessibility**: Better for screen readers\n- **Modern Standard**: HTML5 standard\n\n---\n\n## HTML5 Input Types\n\n### Text Inputs\n\n```html\n<!-- Basic text -->\n<input type="text" name="username">\n\n<!-- Email -->\n<input type="email" name="email">\n\n<!-- Password -->\n<input type="password" name="password">\n\n<!-- Number -->\n<input type="number" name="age" min="0" max="120">\n\n<!-- Tel -->\n<input type="tel" name="phone">\n\n<!-- URL -->\n<input type="url" name="website">\n\n<!-- Search -->\n<input type="search" name="query">\n```\n\n### Date and Time Inputs\n\n```html\n<!-- Date -->\n<input type="date" name="birthday">\n\n<!-- Time -->\n<input type="time" name="appointment">\n\n<!-- DateTime Local -->\n<input type="datetime-local" name="event">\n\n<!-- Month -->\n<input type="month" name="month">\n\n<!-- Week -->\n<input type="week" name="week">\n```\n\n### Other Input Types\n\n```html\n<!-- Color -->\n<input type="color" name="color">\n\n<!-- Range -->\n<input type="range" name="volume" min="0" max="100">\n\n<!-- File -->\n<input type="file" name="upload" accept="image/*">\n\n<!-- Hidden -->\n<input type="hidden" name="token" value="abc123">\n```\n\n---\n\n## HTML5 Validation Attributes\n\n### required\n\nMakes field required:\n\n```html\n<input type="text" name="username" required>\n```\n\n### min and max\n\nSet minimum and maximum values:\n\n```html\n<input type="number" name="age" min="18" max="100">\n<input type="date" name="date" min="2024-01-01" max="2024-12-31">\n```\n\n### minlength and maxlength\n\nSet minimum and maximum length:\n\n```html\n<input type="text" name="username" minlength="3" maxlength="20">\n```\n\n### pattern\n\nValidate against regex pattern:\n\n```html\n<input type="text" name="username" pattern="[a-zA-Z0-9_]+">\n```\n\n### step\n\nSet step for number inputs:\n\n```html\n<input type="number" name="quantity" min="0" step="5">\n```\n\n### Validation Messages\n\n```javascript\nlet input = document.getElementById(''username'');\n\ninput.addEventListener(''invalid'', function(event) {\n    if (input.validity.valueMissing) {\n        input.setCustomValidity(''Username is required'');\n    } else if (input.validity.tooShort) {\n        input.setCustomValidity(''Username is too short'');\n    } else {\n        input.setCustomValidity('''');\n    }\n});\n```\n\n---\n\n## JavaScript Validation\n\n### Validity API\n\n```javascript\nlet input = document.getElementById(''email'');\n\n// Check validity\nconsole.log(input.validity.valid);           // true or false\nconsole.log(input.validity.valueMissing);     // true if required and empty\nconsole.log(input.validity.typeMismatch);     // true if type doesn''t match\nconsole.log(input.validity.patternMismatch);  // true if pattern doesn''t match\nconsole.log(input.validity.tooLong);          // true if too long\nconsole.log(input.validity.tooShort);         // true if too short\nconsole.log(input.validity.rangeUnderflow);   // true if below min\nconsole.log(input.validity.rangeOverflow);     // true if above max\nconsole.log(input.validity.stepMismatch);     // true if step doesn''t match\nconsole.log(input.validity.badInput);         // true if bad input\nconsole.log(input.validity.customError);      // true if custom error set\n\n// Validation message\nconsole.log(input.validationMessage);\n```\n\n### checkValidity()\n\nCheck if form or element is valid:\n\n```javascript\nlet form = document.getElementById(''myForm'');\n\nif (form.checkValidity()) {\n    // Form is valid\n    submitForm();\n} else {\n    // Form has errors\n    showErrors();\n}\n\n// Check individual field\nlet input = form.elements.username;\nif (input.checkValidity()) {\n    console.log(''Field is valid'');\n} else {\n    console.log(''Field error:'', input.validationMessage);\n}\n```\n\n### reportValidity()\n\nShow validation messages to user:\n\n```javascript\nlet form = document.getElementById(''myForm'');\n\nif (!form.reportValidity()) {\n    // Validation failed, browser shows messages\n    return;\n}\n\n// Form is valid\nsubmitForm();\n```\n\n---\n\n## Custom Validation\n\n### setCustomValidity()\n\nSet custom validation message:\n\n```javascript\nlet password = document.getElementById(''password'');\nlet confirmPassword = document.getElementById(''confirmPassword'');\n\nconfirmPassword.addEventListener(''input'', function() {\n    if (this.value !== password.value) {\n        this.setCustomValidity(''Passwords do not match'');\n    } else {\n        this.setCustomValidity('''');\n    }\n});\n```\n\n### Custom Validation Example\n\n```javascript\nfunction validatePassword(password) {\n    let errors = [];\n    \n    if (password.length < 8) {\n        errors.push(''Password must be at least 8 characters'');\n    }\n    if (!/[A-Z]/.test(password)) {\n        errors.push(''Password must contain uppercase letter'');\n    }\n    if (!/[a-z]/.test(password)) {\n        errors.push(''Password must contain lowercase letter'');\n    }\n    if (!/\\d/.test(password)) {\n        errors.push(''Password must contain a number'');\n    }\n    if (!/[!@#$%^&*]/.test(password)) {\n        errors.push(''Password must contain special character'');\n    }\n    \n    return errors;\n}\n\nlet passwordInput = document.getElementById(''password'');\npasswordInput.addEventListener(''blur'', function() {\n    let errors = validatePassword(this.value);\n    \n    if (errors.length > 0) {\n        this.setCustomValidity(errors.join(''. ''));\n    } else {\n        this.setCustomValidity('''');\n    }\n});\n```\n\n---\n\n## Real-time Validation\n\n### Input Event Validation\n\n```javascript\nlet usernameInput = document.getElementById(''username'');\n\nusernameInput.addEventListener(''input'', function() {\n    validateUsername(this);\n});\n\nfunction validateUsername(input) {\n    let value = input.value.trim();\n    let errorDiv = input.parentElement.querySelector(''.error'');\n    \n    if (value.length < 3) {\n        showError(input, ''Username must be at least 3 characters'');\n    } else if (!/^[a-zA-Z0-9_]+$/.test(value)) {\n        showError(input, ''Username can only contain letters, numbers, and underscores'');\n    } else {\n        clearError(input);\n    }\n}\n```\n\n### Blur Event Validation\n\n```javascript\nlet emailInput = document.getElementById(''email'');\n\nemailInput.addEventListener(''blur'', function() {\n    validateEmail(this);\n});\n\nfunction validateEmail(input) {\n    let value = input.value.trim();\n    \n    if (!value) {\n        showError(input, ''Email is required'');\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)) {\n        showError(input, ''Invalid email address'');\n    } else {\n        clearError(input);\n    }\n}\n```\n\n### Combined Validation\n\n```javascript\nfunction setupValidation(input, validator) {\n    // Validate on blur\n    input.addEventListener(''blur'', function() {\n        validator(this);\n    });\n    \n    // Clear error on input (optional)\n    input.addEventListener(''input'', function() {\n        if (this.classList.contains(''error'')) {\n            validator(this);\n        }\n    });\n}\n\nsetupValidation(usernameInput, validateUsername);\nsetupValidation(emailInput, validateEmail);\n```\n\n---\n\n## Validation Patterns\n\n### Email Validation\n\n```javascript\nfunction validateEmail(email) {\n    let regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return regex.test(email);\n}\n\n// More strict\nfunction validateEmailStrict(email) {\n    let regex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n    return regex.test(email);\n}\n```\n\n### Password Validation\n\n```javascript\nfunction validatePassword(password) {\n    let rules = {\n        minLength: password.length >= 8,\n        hasUpperCase: /[A-Z]/.test(password),\n        hasLowerCase: /[a-z]/.test(password),\n        hasNumber: /\\d/.test(password),\n        hasSpecial: /[!@#$%^&*(),.?":{}|<>]/.test(password)\n    };\n    \n    return rules;\n}\n```\n\n### Phone Validation\n\n```javascript\nfunction validatePhone(phone) {\n    // Remove non-digits\n    let digits = phone.replace(/\\D/g, '''');\n    \n    // US phone: 10 digits\n    if (digits.length === 10) {\n        return true;\n    }\n    \n    // International: +country code\n    if (phone.startsWith(''+'') && digits.length >= 10) {\n        return true;\n    }\n    \n    return false;\n}\n```\n\n### URL Validation\n\n```javascript\nfunction validateURL(url) {\n    try {\n        new URL(url);\n        return true;\n    } catch {\n        return false;\n    }\n}\n\n// Or regex\nfunction validateURLRegex(url) {\n    let regex = /^https?:\\/\\/.+\\..+/;\n    return regex.test(url);\n}\n```\n\n---\n\n## Displaying Validation Errors\n\n### Inline Error Messages\n\n```javascript\nfunction showError(input, message) {\n    input.classList.add(''error'');\n    \n    let errorDiv = input.parentElement.querySelector(''.error-message'');\n    if (!errorDiv) {\n        errorDiv = document.createElement(''div'');\n        errorDiv.className = ''error-message'';\n        input.parentElement.appendChild(errorDiv);\n    }\n    errorDiv.textContent = message;\n}\n\nfunction clearError(input) {\n    input.classList.remove(''error'');\n    let errorDiv = input.parentElement.querySelector(''.error-message'');\n    if (errorDiv) {\n        errorDiv.remove();\n    }\n}\n```\n\n### Summary Error List\n\n```javascript\nfunction displayFormErrors(errors) {\n    let errorContainer = document.getElementById(''errors'');\n    errorContainer.innerHTML = '''';\n    \n    if (errors.length > 0) {\n        let errorList = document.createElement(''ul'');\n        errorList.className = ''error-list'';\n        \n        errors.forEach(error => {\n            let li = document.createElement(''li'');\n            li.textContent = error;\n            errorList.appendChild(li);\n        });\n        \n        errorContainer.appendChild(errorList);\n    }\n}\n```\n\n### Visual Feedback\n\n```javascript\nfunction updateFieldStatus(input, isValid, message) {\n    if (isValid) {\n        input.classList.remove(''error'');\n        input.classList.add(''success'');\n        clearError(input);\n    } else {\n        input.classList.remove(''success'');\n        input.classList.add(''error'');\n        showError(input, message);\n    }\n}\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Complete Form Validation\n\n```javascript\nlet form = document.getElementById(''myForm'');\n\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();\n    \n    let errors = validateForm(form);\n    \n    if (errors.length === 0) {\n        submitForm(form);\n    } else {\n        displayErrors(errors);\n    }\n});\n\nfunction validateForm(form) {\n    let errors = [];\n    \n    // Validate each field\n    let username = form.elements.username.value.trim();\n    if (!username) {\n        errors.push({ field: ''username'', message: ''Username is required'' });\n    } else if (username.length < 3) {\n        errors.push({ field: ''username'', message: ''Username must be at least 3 characters'' });\n    }\n    \n    let email = form.elements.email.value.trim();\n    if (!email) {\n        errors.push({ field: ''email'', message: ''Email is required'' });\n    } else if (!validateEmail(email)) {\n        errors.push({ field: ''email'', message: ''Invalid email address'' });\n    }\n    \n    // ... more validations\n    \n    return errors;\n}\n```\n\n### Example 2: Real-time Password Strength\n\n```javascript\nlet passwordInput = document.getElementById(''password'');\nlet strengthIndicator = document.getElementById(''strength'');\n\npasswordInput.addEventListener(''input'', function() {\n    let strength = calculatePasswordStrength(this.value);\n    updateStrengthIndicator(strength);\n});\n\nfunction calculatePasswordStrength(password) {\n    let strength = 0;\n    \n    if (password.length >= 8) strength++;\n    if (password.length >= 12) strength++;\n    if (/[a-z]/.test(password)) strength++;\n    if (/[A-Z]/.test(password)) strength++;\n    if (/\\d/.test(password)) strength++;\n    if (/[!@#$%^&*]/.test(password)) strength++;\n    \n    return strength;\n}\n\nfunction updateStrengthIndicator(strength) {\n    strengthIndicator.className = ''strength-'' + strength;\n    \n    if (strength <= 2) {\n        strengthIndicator.textContent = ''Weak'';\n    } else if (strength <= 4) {\n        strengthIndicator.textContent = ''Medium'';\n    } else {\n        strengthIndicator.textContent = ''Strong'';\n    }\n}\n```\n\n### Example 3: Conditional Validation\n\n```javascript\nlet form = document.getElementById(''myForm'');\nlet ageInput = form.elements.age;\nlet parentConsent = form.elements.parentConsent;\n\nageInput.addEventListener(''change'', function() {\n    let age = parseInt(this.value);\n    \n    if (age < 18) {\n        parentConsent.required = true;\n        parentConsent.parentElement.style.display = ''block'';\n    } else {\n        parentConsent.required = false;\n        parentConsent.parentElement.style.display = ''none'';\n    }\n});\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Form Validation\n\n**Objective**: Practice working with different input types and implementing validation.\n\n**Instructions**:\n\n1. Create an HTML file with various input types\n2. Create a JavaScript file for validation\n3. Practice:\n   - HTML5 validation attributes\n   - JavaScript validation\n   - Real-time validation\n   - Custom validation rules\n   - Error display\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Input Types and Validation</title>\n    <style>\n        .form-group {\n            margin-bottom: 15px;\n        }\n        label {\n            display: block;\n            margin-bottom: 5px;\n        }\n        input, select, textarea {\n            width: 100%;\n            padding: 8px;\n            box-sizing: border-box;\n        }\n        .error {\n            border: 2px solid red;\n        }\n        .success {\n            border: 2px solid green;\n        }\n        .error-message {\n            color: red;\n            font-size: 12px;\n            margin-top: 5px;\n        }\n        .strength-weak { color: red; }\n        .strength-medium { color: orange; }\n        .strength-strong { color: green; }\n    </style>\n</head>\n<body>\n    <h1>Input Types and Validation Practice</h1>\n    \n    <form id="validationForm">\n        <div class="form-group">\n            <label for="email">Email (HTML5):</label>\n            <input type="email" id="email" name="email" required>\n            <div class="error-message"></div>\n        </div>\n        \n        <div class="form-group">\n            <label for="username">Username:</label>\n            <input type="text" id="username" name="username" \n                   pattern="[a-zA-Z0-9_]+" minlength="3" maxlength="20" required>\n            <div class="error-message"></div>\n        </div>\n        \n        <div class="form-group">\n            <label for="password">Password:</label>\n            <input type="password" id="password" name="password" \n                   minlength="8" required>\n            <div id="strength"></div>\n            <div class="error-message"></div>\n        </div>\n        \n        <div class="form-group">\n            <label for="confirmPassword">Confirm Password:</label>\n            <input type="password" id="confirmPassword" name="confirmPassword" required>\n            <div class="error-message"></div>\n        </div>\n        \n        <div class="form-group">\n            <label for="age">Age:</label>\n            <input type="number" id="age" name="age" min="18" max="100" required>\n            <div class="error-message"></div>\n        </div>\n        \n        <div class="form-group">\n            <label for="birthday">Birthday:</label>\n            <input type="date" id="birthday" name="birthday" required>\n            <div class="error-message"></div>\n        </div>\n        \n        <div class="form-group">\n            <label for="phone">Phone:</label>\n            <input type="tel" id="phone" name="phone" pattern="[0-9]{10}">\n            <div class="error-message"></div>\n        </div>\n        \n        <div class="form-group">\n            <label for="website">Website:</label>\n            <input type="url" id="website" name="website">\n            <div class="error-message"></div>\n        </div>\n        \n        <div class="form-group">\n            <label for="volume">Volume (0-100):</label>\n            <input type="range" id="volume" name="volume" min="0" max="100" value="50">\n            <span id="volumeValue">50</span>\n        </div>\n        \n        <div class="form-group">\n            <label for="color">Favorite Color:</label>\n            <input type="color" id="color" name="color" value="#000000">\n        </div>\n        \n        <button type="submit">Submit</button>\n        <button type="reset">Reset</button>\n    </form>\n    \n    <div id="output"></div>\n    \n    <script src="input-validation.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// input-validation.js\nconsole.log("=== Input Types and Validation Practice ===");\n\nlet form = document.getElementById(''validationForm'');\nlet output = document.getElementById(''output'');\n\nconsole.log("\\n=== HTML5 Input Types ===");\n\n// Email input\nlet emailInput = form.elements.email;\nconsole.log("Email input type:", emailInput.type);\n\n// Number input\nlet ageInput = form.elements.age;\nconsole.log("Age input type:", ageInput.type);\nconsole.log("Age min:", ageInput.min);\nconsole.log("Age max:", ageInput.max);\n\n// Date input\nlet birthdayInput = form.elements.birthday;\nconsole.log("Birthday input type:", birthdayInput.type);\n\n// Range input\nlet volumeInput = form.elements.volume;\nlet volumeValue = document.getElementById(''volumeValue'');\nvolumeInput.addEventListener(''input'', function() {\n    volumeValue.textContent = this.value;\n});\nconsole.log();\n\nconsole.log("=== HTML5 Validation ===");\n\n// Check validity\nfunction checkFieldValidity(input) {\n    console.log(`${input.name} validity:`, input.validity.valid);\n    if (!input.validity.valid) {\n        console.log(`  Error: ${input.validationMessage}`);\n        console.log(`  Value missing: ${input.validity.valueMissing}`);\n        console.log(`  Type mismatch: ${input.validity.typeMismatch}`);\n        console.log(`  Too short: ${input.validity.tooShort}`);\n        console.log(`  Pattern mismatch: ${input.validity.patternMismatch}`);\n    }\n}\n\n// Check form validity\nfunction checkFormValidity() {\n    console.log("Form valid:", form.checkValidity());\n    \n    Array.from(form.elements).forEach(element => {\n        if (element.tagName === ''INPUT'' || element.tagName === ''SELECT'' || element.tagName === ''TEXTAREA'') {\n            if (!element.validity.valid) {\n                checkFieldValidity(element);\n            }\n        }\n    });\n}\nconsole.log();\n\nconsole.log("=== Custom Validation Messages ===");\n\nemailInput.addEventListener(''invalid'', function(event) {\n    if (this.validity.valueMissing) {\n        this.setCustomValidity(''Email address is required'');\n    } else if (this.validity.typeMismatch) {\n        this.setCustomValidity(''Please enter a valid email address'');\n    } else {\n        this.setCustomValidity('''');\n    }\n});\nconsole.log();\n\nconsole.log("=== Real-time Validation ===");\n\n// Username validation\nlet usernameInput = form.elements.username;\nusernameInput.addEventListener(''blur'', function() {\n    validateUsername(this);\n});\n\nfunction validateUsername(input) {\n    let value = input.value.trim();\n    let error = null;\n    \n    if (!value) {\n        error = ''Username is required'';\n    } else if (value.length < 3) {\n        error = ''Username must be at least 3 characters'';\n    } else if (value.length > 20) {\n        error = ''Username must be no more than 20 characters'';\n    } else if (!/^[a-zA-Z0-9_]+$/.test(value)) {\n        error = ''Username can only contain letters, numbers, and underscores'';\n    }\n    \n    updateFieldStatus(input, !error, error);\n}\n\n// Password strength\nlet passwordInput = form.elements.password;\npasswordInput.addEventListener(''input'', function() {\n    let strength = calculatePasswordStrength(this.value);\n    updatePasswordStrength(strength);\n    validatePassword(this);\n});\n\nfunction calculatePasswordStrength(password) {\n    let strength = 0;\n    \n    if (password.length >= 8) strength++;\n    if (password.length >= 12) strength++;\n    if (/[a-z]/.test(password)) strength++;\n    if (/[A-Z]/.test(password)) strength++;\n    if (/\\d/.test(password)) strength++;\n    if (/[!@#$%^&*(),.?":{}|<>]/.test(password)) strength++;\n    \n    return strength;\n}\n\nfunction updatePasswordStrength(strength) {\n    let strengthDiv = document.getElementById(''strength'');\n    \n    if (strength <= 2) {\n        strengthDiv.textContent = ''Password strength: Weak'';\n        strengthDiv.className = ''strength-weak'';\n    } else if (strength <= 4) {\n        strengthDiv.textContent = ''Password strength: Medium'';\n        strengthDiv.className = ''strength-medium'';\n    } else {\n        strengthDiv.textContent = ''Password strength: Strong'';\n        strengthDiv.className = ''strength-strong'';\n    }\n}\n\nfunction validatePassword(input) {\n    let value = input.value;\n    let error = null;\n    \n    if (!value) {\n        error = ''Password is required'';\n    } else if (value.length < 8) {\n        error = ''Password must be at least 8 characters'';\n    } else {\n        let rules = {\n            hasUpperCase: /[A-Z]/.test(value),\n            hasLowerCase: /[a-z]/.test(value),\n            hasNumber: /\\d/.test(value),\n            hasSpecial: /[!@#$%^&*(),.?":{}|<>]/.test(value)\n        };\n        \n        let missing = [];\n        if (!rules.hasUpperCase) missing.push(''uppercase letter'');\n        if (!rules.hasLowerCase) missing.push(''lowercase letter'');\n        if (!rules.hasNumber) missing.push(''number'');\n        if (!rules.hasSpecial) missing.push(''special character'');\n        \n        if (missing.length > 0) {\n            error = `Password must contain: ${missing.join('', '')}`;\n        }\n    }\n    \n    updateFieldStatus(input, !error, error);\n}\n\n// Confirm password\nlet confirmPasswordInput = form.elements.confirmPassword;\nconfirmPasswordInput.addEventListener(''blur'', function() {\n    validateConfirmPassword(this);\n});\n\nfunction validateConfirmPassword(input) {\n    let value = input.value;\n    let password = passwordInput.value;\n    let error = null;\n    \n    if (!value) {\n        error = ''Please confirm your password'';\n    } else if (value !== password) {\n        error = ''Passwords do not match'';\n    }\n    \n    updateFieldStatus(input, !error, error);\n}\n\n// Phone validation\nlet phoneInput = form.elements.phone;\nphoneInput.addEventListener(''blur'', function() {\n    validatePhone(this);\n});\n\nfunction validatePhone(input) {\n    let value = input.value.trim();\n    let error = null;\n    \n    if (value && !/^\\d{10}$/.test(value.replace(/\\D/g, ''''))) {\n        error = ''Please enter a valid 10-digit phone number'';\n    }\n    \n    updateFieldStatus(input, !error, error);\n}\n\n// Website validation\nlet websiteInput = form.elements.website;\nwebsiteInput.addEventListener(''blur'', function() {\n    validateWebsite(this);\n});\n\nfunction validateWebsite(input) {\n    let value = input.value.trim();\n    let error = null;\n    \n    if (value) {\n        try {\n            new URL(value);\n        } catch {\n            error = ''Please enter a valid URL (e.g., https://example.com)'';\n        }\n    }\n    \n    updateFieldStatus(input, !error, error);\n}\nconsole.log();\n\nconsole.log("=== Field Status Update ===");\n\nfunction updateFieldStatus(input, isValid, errorMessage) {\n    let errorDiv = input.parentElement.querySelector(''.error-message'');\n    \n    if (isValid) {\n        input.classList.remove(''error'');\n        input.classList.add(''success'');\n        if (errorDiv) {\n            errorDiv.textContent = '''';\n        }\n    } else {\n        input.classList.remove(''success'');\n        input.classList.add(''error'');\n        if (errorDiv) {\n            errorDiv.textContent = errorMessage || '''';\n        }\n    }\n}\nconsole.log();\n\nconsole.log("=== Form Submission with Validation ===");\n\nform.addEventListener(''submit'', function(event) {\n    event.preventDefault();\n    \n    console.log(''Form submission attempted'');\n    \n    // Check HTML5 validity\n    if (!form.checkValidity()) {\n        console.log(''HTML5 validation failed'');\n        form.reportValidity();\n        return;\n    }\n    \n    // Additional JavaScript validation\n    let errors = [];\n    \n    // Validate password match\n    if (passwordInput.value !== confirmPasswordInput.value) {\n        errors.push(''Passwords do not match'');\n    }\n    \n    // Validate age\n    let age = parseInt(ageInput.value);\n    if (age < 18) {\n        errors.push(''You must be at least 18 years old'');\n    }\n    \n    if (errors.length > 0) {\n        console.log(''JavaScript validation errors:'', errors);\n        output.innerHTML = ''<div style="color: red;"><strong>Errors:</strong><ul>'' +\n            errors.map(e => ''<li>'' + e + ''</li>'').join('''') + ''</ul></div>'';\n        return;\n    }\n    \n    // Form is valid\n    console.log(''Form is valid'');\n    let formData = new FormData(form);\n    let data = {};\n    for (let [key, value] of formData.entries()) {\n        data[key] = value;\n    }\n    \n    output.innerHTML = ''<div style="color: green;"><strong>Form submitted successfully!</strong></div>'';\n    output.innerHTML += ''<pre>'' + JSON.stringify(data, null, 2) + ''</pre>'';\n});\nconsole.log();\n\nconsole.log("=== Validity API Demonstration ===");\n\nfunction demonstrateValidityAPI() {\n    console.log("=== Email Field Validity ===");\n    console.log("Valid:", emailInput.validity.valid);\n    console.log("Value missing:", emailInput.validity.valueMissing);\n    console.log("Type mismatch:", emailInput.validity.typeMismatch);\n    console.log("Validation message:", emailInput.validationMessage);\n    \n    console.log("\\n=== Username Field Validity ===");\n    console.log("Valid:", usernameInput.validity.valid);\n    console.log("Pattern mismatch:", usernameInput.validity.patternMismatch);\n    console.log("Too short:", usernameInput.validity.tooShort);\n    console.log("Too long:", usernameInput.validity.tooLong);\n    \n    console.log("\\n=== Age Field Validity ===");\n    console.log("Valid:", ageInput.validity.valid);\n    console.log("Range underflow:", ageInput.validity.rangeUnderflow);\n    console.log("Range overflow:", ageInput.validity.rangeOverflow);\n    console.log("Step mismatch:", ageInput.validity.stepMismatch);\n}\n\n// Demonstrate after form interaction\nsetTimeout(() => {\n    demonstrateValidityAPI();\n}, 2000);\nconsole.log();\n\nconsole.log("=== Input Type Features ===");\n\n// Date input\nbirthdayInput.addEventListener(''change'', function() {\n    console.log(''Birthday selected:'', this.value);\n    let date = new Date(this.value);\n    console.log(''Date object:'', date);\n});\n\n// Range input\nvolumeInput.addEventListener(''input'', function() {\n    console.log(''Volume changed:'', this.value);\n});\n\n// Color input\nlet colorInput = form.elements.color;\ncolorInput.addEventListener(''change'', function() {\n    console.log(''Color selected:'', this.value);\n    document.body.style.backgroundColor = this.value;\n});\n```\n\n**Expected Output** (in browser console):\n```\n=== Input Types and Validation Practice ===\n\n=== HTML5 Input Types ===\nEmail input type: email\nAge input type: number\nAge min: 18\nAge max: 100\nBirthday input type: date\n\n=== HTML5 Validation ===\n[On form check]\nForm valid: true/false\n[Field validity details]\n\n=== Custom Validation Messages ===\n[Custom messages set]\n\n=== Real-time Validation ===\n[On blur/input events]\n[Validation messages shown]\n\n=== Field Status Update ===\n[Fields updated with success/error classes]\n\n=== Form Submission with Validation ===\n[On submit]\nForm submission attempted\n[Validation results]\nForm is valid / Errors shown\n\n=== Validity API Demonstration ===\n=== Email Field Validity ===\nValid: true/false\nValue missing: true/false\nType mismatch: true/false\nValidation message: [message]\n\n=== Input Type Features ===\n[On interactions]\n[Input values logged]\n```\n\n**Challenge (Optional)**:\n- Build a complete validation library\n- Create a multi-step form with validation\n- Build a password strength meter\n- Create a form validation framework\n\n---\n\n## Common Mistakes\n\n### 1. Not Using HTML5 Validation\n\n```javascript\n// ⚠️ Problem: Only JavaScript validation\nfunction validateEmail(email) {\n    return email.includes(''@'');\n}\n\n// ✅ Solution: Combine HTML5 and JavaScript\n<input type="email" required>\n// Plus JavaScript for custom rules\n```\n\n### 2. Not Clearing Custom Validity\n\n```javascript\n// ⚠️ Problem: Custom validity persists\ninput.setCustomValidity(''Error'');\n// Error always shows\n\n// ✅ Solution: Clear when valid\nif (isValid) {\n    input.setCustomValidity('''');\n}\n```\n\n### 3. Not Handling All Input Types\n\n```javascript\n// ⚠️ Problem: Only handles text\nlet value = input.value;  // Works for text, but...\n\n// ✅ Solution: Handle different types\nif (input.type === ''checkbox'') {\n    value = input.checked;\n} else if (input.type === ''radio'') {\n    value = input.checked ? input.value : null;\n} else {\n    value = input.value;\n}\n```\n\n### 4. Not Validating on Both Input and Blur\n\n```javascript\n// ⚠️ Problem: Only validates on blur\ninput.addEventListener(''blur'', validate);\n\n// ✅ Solution: Validate on both\ninput.addEventListener(''blur'', validate);\ninput.addEventListener(''input'', function() {\n    if (this.classList.contains(''error'')) {\n        validate(this);\n    }\n});\n```\n\n---\n\n## Key Takeaways\n\n1. **HTML5 Input Types**: email, number, date, url, tel, etc.\n2. **HTML5 Validation**: required, min, max, pattern, etc.\n3. **Validity API**: Check field validity programmatically\n4. **Custom Validation**: setCustomValidity() for custom rules\n5. **Real-time Validation**: Validate on input or blur\n6. **Error Display**: Show errors inline or in summary\n7. **Best Practice**: Combine HTML5 and JavaScript validation\n8. **User Experience**: Provide immediate feedback\n\n---\n\n## Quiz: Validation\n\nTest your understanding with these questions:\n\n1. **HTML5 email input:**\n   - A) Only accepts emails\n   - B) Validates email format\n   - C) Both A and B\n   - D) Neither\n\n2. **required attribute:**\n   - A) Makes field optional\n   - B) Makes field required\n   - C) Hides field\n   - D) Nothing\n\n3. **checkValidity() returns:**\n   - A) Error message\n   - B) true/false\n   - C) Validation object\n   - D) Nothing\n\n4. **setCustomValidity() sets:**\n   - A) HTML5 message\n   - B) Custom message\n   - C) Both\n   - D) Neither\n\n5. **pattern attribute uses:**\n   - A) CSS selector\n   - B) Regular expression\n   - C) String\n   - D) Number\n\n6. **Real-time validation uses:**\n   - A) submit event\n   - B) input/blur events\n   - C) load event\n   - D) click event\n\n7. **validity.valid is:**\n   - A) Always true\n   - B) true if field valid\n   - C) Always false\n   - D) Error message\n\n**Answers**:\n1. B) Validates email format (doesn''t restrict, just validates)\n2. B) Makes field required\n3. B) true/false\n4. B) Custom message\n5. B) Regular expression\n6. B) input/blur events\n7. B) true if field valid\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 15: Forms and Validation. You now know:\n- How to work with forms\n- Different input types\n- HTML5 validation\n- JavaScript validation\n- Real-time validation\n\n**What''s Next?**\n- Course 4: Browser APIs and Storage\n- Module 16: Browser Storage\n- Learn localStorage and sessionStorage\n- Work with browser storage APIs\n\n---\n\n## Additional Resources\n\n- **MDN: HTML Input Types**: [developer.mozilla.org/en-US/docs/Web/HTML/Element/input](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input)\n- **MDN: Constraint Validation**: [developer.mozilla.org/en-US/docs/Web/API/Constraint_validation](https://developer.mozilla.org/en-US/docs/Web/API/Constraint_validation)\n- **JavaScript.info: Forms**: [javascript.info/forms-controls](https://javascript.info/forms-controls)\n\n---\n\n*Lesson completed! You''ve finished Module 15: Forms and Validation. Ready for Course 4: Browser APIs and Storage!*\n\n', NULL, 2, '2026-01-03 09:53:34', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Work with different HTML5 input types\n- Use HTML5 built-in validation\n- Implement JavaScript validation\n- Create real-time validation\n- Build custom validation rules\n- Display validation errors\n- Create user-friendly validation feedback');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (150, 56, 13, 'localStorage and sessionStorage', 'localstorage-and-sessionstorage', '# Lesson 16.1: localStorage and sessionStorage\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand browser storage APIs\n- Use localStorage for persistent storage\n- Use sessionStorage for session storage\n- Store and retrieve data\n- Handle storage limitations\n- Work with storage events\n- Build storage utilities\n\n---\n\n## Introduction to Browser Storage\n\nBrowser storage allows you to store data in the user''s browser. There are two main storage APIs: localStorage and sessionStorage.\n\n### Why Browser Storage?\n\n- **Persistent Data**: Store data across sessions\n- **No Server**: Store data client-side\n- **Fast Access**: Quick data retrieval\n- **User Preferences**: Save user settings\n- **Offline Support**: Work without internet\n- **Modern Web**: Essential for web apps\n\n---\n\n## localStorage API\n\nlocalStorage stores data with no expiration date. Data persists until explicitly removed.\n\n### Basic Usage\n\n```javascript\n// Store data\nlocalStorage.setItem(''key'', ''value'');\n\n// Retrieve data\nlet value = localStorage.getItem(''key'');\n\n// Remove data\nlocalStorage.removeItem(''key'');\n\n// Clear all data\nlocalStorage.clear();\n```\n\n### Storing Different Data Types\n\n```javascript\n// String\nlocalStorage.setItem(''name'', ''Alice'');\n\n// Number (stored as string)\nlocalStorage.setItem(''age'', ''30'');\n// Retrieve and convert\nlet age = parseInt(localStorage.getItem(''age''));\n\n// Boolean (stored as string)\nlocalStorage.setItem(''isActive'', ''true'');\n// Retrieve and convert\nlet isActive = localStorage.getItem(''isActive'') === ''true'';\n\n// Object (must stringify)\nlet user = { name: ''Alice'', age: 30 };\nlocalStorage.setItem(''user'', JSON.stringify(user));\n// Retrieve and parse\nlet user = JSON.parse(localStorage.getItem(''user''));\n\n// Array (must stringify)\nlet items = [''apple'', ''banana'', ''orange''];\nlocalStorage.setItem(''items'', JSON.stringify(items));\n// Retrieve and parse\nlet items = JSON.parse(localStorage.getItem(''items''));\n```\n\n### Checking if Key Exists\n\n```javascript\n// Check if key exists\nif (localStorage.getItem(''key'') !== null) {\n    console.log(''Key exists'');\n}\n\n// Or check directly\nif (''key'' in localStorage) {\n    console.log(''Key exists'');\n}\n\n// Get all keys\nlet keys = Object.keys(localStorage);\nconsole.log(''All keys:'', keys);\n```\n\n### Getting All Items\n\n```javascript\n// Get all items\nfor (let i = 0; i < localStorage.length; i++) {\n    let key = localStorage.key(i);\n    let value = localStorage.getItem(key);\n    console.log(key, value);\n}\n\n// Or using Object.keys\nObject.keys(localStorage).forEach(key => {\n    console.log(key, localStorage.getItem(key));\n});\n```\n\n---\n\n## sessionStorage API\n\nsessionStorage stores data for one session. Data is cleared when the tab is closed.\n\n### Basic Usage\n\n```javascript\n// Store data\nsessionStorage.setItem(''key'', ''value'');\n\n// Retrieve data\nlet value = sessionStorage.getItem(''key'');\n\n// Remove data\nsessionStorage.removeItem(''key'');\n\n// Clear all data\nsessionStorage.clear();\n```\n\n### sessionStorage vs localStorage\n\n```javascript\n// localStorage: Persists across sessions\nlocalStorage.setItem(''persistent'', ''data'');\n// Close and reopen browser - data still exists\n\n// sessionStorage: Only for current session\nsessionStorage.setItem(''session'', ''data'');\n// Close tab - data is cleared\n```\n\n---\n\n## Storage Methods\n\n### setItem(key, value)\n\nStore data:\n\n```javascript\nlocalStorage.setItem(''username'', ''alice'');\nlocalStorage.setItem(''score'', ''100'');\nlocalStorage.setItem(''settings'', JSON.stringify({ theme: ''dark'' }));\n```\n\n### getItem(key)\n\nRetrieve data:\n\n```javascript\nlet username = localStorage.getItem(''username'');\nlet score = parseInt(localStorage.getItem(''score''));\nlet settings = JSON.parse(localStorage.getItem(''settings''));\n```\n\n### removeItem(key)\n\nRemove specific item:\n\n```javascript\nlocalStorage.removeItem(''username'');\n```\n\n### clear()\n\nClear all storage:\n\n```javascript\nlocalStorage.clear();  // Removes all localStorage data\nsessionStorage.clear();  // Removes all sessionStorage data\n```\n\n### key(index)\n\nGet key at index:\n\n```javascript\nlet firstKey = localStorage.key(0);\nconsole.log(''First key:'', firstKey);\n```\n\n### length\n\nGet number of items:\n\n```javascript\nlet count = localStorage.length;\nconsole.log(''Number of items:'', count);\n```\n\n---\n\n## Storage Limitations\n\n### Size Limits\n\n- **localStorage**: ~5-10MB (varies by browser)\n- **sessionStorage**: ~5-10MB (varies by browser)\n- **Quota Exceeded Error**: Thrown when limit exceeded\n\n### Handling Quota Exceeded\n\n```javascript\nfunction setItemSafe(key, value) {\n    try {\n        localStorage.setItem(key, value);\n        return true;\n    } catch (e) {\n        if (e.name === ''QuotaExceededError'') {\n            console.error(''Storage quota exceeded'');\n            // Handle error (e.g., clear old data)\n            return false;\n        }\n        throw e;\n    }\n}\n```\n\n### Checking Available Space\n\n```javascript\nfunction getStorageSize() {\n    let total = 0;\n    for (let key in localStorage) {\n        if (localStorage.hasOwnProperty(key)) {\n            total += localStorage[key].length + key.length;\n        }\n    }\n    return total;\n}\n\nconsole.log(''Storage used:'', getStorageSize(), ''bytes'');\n```\n\n---\n\n## Storage Events\n\n### storage Event\n\nFired when storage changes (in other tabs/windows):\n\n```javascript\nwindow.addEventListener(''storage'', function(event) {\n    console.log(''Storage changed'');\n    console.log(''Key:'', event.key);\n    console.log(''Old value:'', event.oldValue);\n    console.log(''New value:'', event.newValue);\n    console.log(''Storage area:'', event.storageArea);\n    console.log(''URL:'', event.url);\n});\n```\n\n### Important Notes\n\n- **Only fires in other tabs**: Not in the tab that made the change\n- **Only for localStorage**: sessionStorage doesn''t fire storage events\n- **Useful for sync**: Sync data across tabs\n\n---\n\n## Practical Examples\n\n### Example 1: User Preferences\n\n```javascript\n// Save user preferences\nfunction savePreferences(preferences) {\n    localStorage.setItem(''preferences'', JSON.stringify(preferences));\n}\n\n// Load user preferences\nfunction loadPreferences() {\n    let stored = localStorage.getItem(''preferences'');\n    if (stored) {\n        return JSON.parse(stored);\n    }\n    return {\n        theme: ''light'',\n        language: ''en'',\n        notifications: true\n    };\n}\n\n// Use\nlet prefs = loadPreferences();\nconsole.log(''Theme:'', prefs.theme);\n\nprefs.theme = ''dark'';\nsavePreferences(prefs);\n```\n\n### Example 2: Shopping Cart\n\n```javascript\n// Add to cart\nfunction addToCart(item) {\n    let cart = getCart();\n    cart.push(item);\n    localStorage.setItem(''cart'', JSON.stringify(cart));\n}\n\n// Get cart\nfunction getCart() {\n    let stored = localStorage.getItem(''cart'');\n    return stored ? JSON.parse(stored) : [];\n}\n\n// Remove from cart\nfunction removeFromCart(index) {\n    let cart = getCart();\n    cart.splice(index, 1);\n    localStorage.setItem(''cart'', JSON.stringify(cart));\n}\n\n// Clear cart\nfunction clearCart() {\n    localStorage.removeItem(''cart'');\n}\n```\n\n### Example 3: Form Data Persistence\n\n```javascript\nlet form = document.getElementById(''myForm'');\n\n// Save form data on input\nform.addEventListener(''input'', function() {\n    let formData = new FormData(form);\n    let data = Object.fromEntries(formData);\n    localStorage.setItem(''formDraft'', JSON.stringify(data));\n});\n\n// Load form data on page load\nwindow.addEventListener(''load'', function() {\n    let draft = localStorage.getItem(''formDraft'');\n    if (draft) {\n        let data = JSON.parse(draft);\n        Object.keys(data).forEach(key => {\n            let input = form.elements[key];\n            if (input) {\n                if (input.type === ''checkbox'') {\n                    input.checked = data[key] === ''on'';\n                } else {\n                    input.value = data[key];\n                }\n            }\n        });\n    }\n});\n\n// Clear draft on submit\nform.addEventListener(''submit'', function() {\n    localStorage.removeItem(''formDraft'');\n});\n```\n\n### Example 4: Session Data\n\n```javascript\n// Store session data\nsessionStorage.setItem(''sessionId'', generateSessionId());\nsessionStorage.setItem(''loginTime'', Date.now().toString());\n\n// Check if session exists\nfunction isSessionActive() {\n    return sessionStorage.getItem(''sessionId'') !== null;\n}\n\n// Get session info\nfunction getSessionInfo() {\n    return {\n        id: sessionStorage.getItem(''sessionId''),\n        loginTime: parseInt(sessionStorage.getItem(''loginTime''))\n    };\n}\n```\n\n---\n\n## Storage Utilities\n\n### Storage Helper Class\n\n```javascript\nclass StorageHelper {\n    constructor(storage = localStorage) {\n        this.storage = storage;\n    }\n    \n    set(key, value) {\n        try {\n            this.storage.setItem(key, JSON.stringify(value));\n            return true;\n        } catch (e) {\n            console.error(''Storage error:'', e);\n            return false;\n        }\n    }\n    \n    get(key, defaultValue = null) {\n        try {\n            let item = this.storage.getItem(key);\n            return item ? JSON.parse(item) : defaultValue;\n        } catch (e) {\n            console.error(''Storage error:'', e);\n            return defaultValue;\n        }\n    }\n    \n    remove(key) {\n        this.storage.removeItem(key);\n    }\n    \n    clear() {\n        this.storage.clear();\n    }\n    \n    has(key) {\n        return this.storage.getItem(key) !== null;\n    }\n    \n    keys() {\n        return Object.keys(this.storage);\n    }\n    \n    size() {\n        let total = 0;\n        for (let key in this.storage) {\n            if (this.storage.hasOwnProperty(key)) {\n                total += this.storage[key].length + key.length;\n            }\n        }\n        return total;\n    }\n}\n\n// Usage\nlet storage = new StorageHelper();\nstorage.set(''user'', { name: ''Alice'', age: 30 });\nlet user = storage.get(''user'');\nconsole.log(user);\n```\n\n### Storage with Expiration\n\n```javascript\nclass ExpiringStorage {\n    constructor(storage = localStorage) {\n        this.storage = storage;\n    }\n    \n    set(key, value, expirationMinutes) {\n        let expiration = Date.now() + (expirationMinutes * 60 * 1000);\n        let item = {\n            value: value,\n            expiration: expiration\n        };\n        this.storage.setItem(key, JSON.stringify(item));\n    }\n    \n    get(key) {\n        let item = this.storage.getItem(key);\n        if (!item) return null;\n        \n        item = JSON.parse(item);\n        \n        if (Date.now() > item.expiration) {\n            this.storage.removeItem(key);\n            return null;\n        }\n        \n        return item.value;\n    }\n}\n\n// Usage\nlet expiringStorage = new ExpiringStorage();\nexpiringStorage.set(''token'', ''abc123'', 30);  // Expires in 30 minutes\nlet token = expiringStorage.get(''token'');\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Using Storage APIs\n\n**Objective**: Practice using localStorage and sessionStorage to store and retrieve data.\n\n**Instructions**:\n\n1. Create an HTML file with various inputs\n2. Create a JavaScript file for storage operations\n3. Practice:\n   - Storing different data types\n   - Retrieving data\n   - Handling errors\n   - Working with storage events\n   - Building storage utilities\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Browser Storage Practice</title>\n    <style>\n        .container {\n            max-width: 600px;\n            margin: 20px;\n        }\n        .form-group {\n            margin-bottom: 15px;\n        }\n        label {\n            display: block;\n            margin-bottom: 5px;\n        }\n        input, select {\n            width: 100%;\n            padding: 8px;\n            box-sizing: border-box;\n        }\n        button {\n            padding: 10px 20px;\n            margin: 5px;\n        }\n        .output {\n            margin-top: 20px;\n            padding: 10px;\n            background-color: #f0f0f0;\n            border-radius: 5px;\n        }\n    </style>\n</head>\n<body>\n    <div class="container">\n        <h1>Browser Storage Practice</h1>\n        \n        <h2>localStorage</h2>\n        <div class="form-group">\n            <label for="localKey">Key:</label>\n            <input type="text" id="localKey" placeholder="Enter key">\n        </div>\n        <div class="form-group">\n            <label for="localValue">Value:</label>\n            <input type="text" id="localValue" placeholder="Enter value">\n        </div>\n        <button onclick="saveToLocalStorage()">Save to localStorage</button>\n        <button onclick="loadFromLocalStorage()">Load from localStorage</button>\n        <button onclick="removeFromLocalStorage()">Remove from localStorage</button>\n        <button onclick="clearLocalStorage()">Clear localStorage</button>\n        \n        <h2>sessionStorage</h2>\n        <div class="form-group">\n            <label for="sessionKey">Key:</label>\n            <input type="text" id="sessionKey" placeholder="Enter key">\n        </div>\n        <div class="form-group">\n            <label for="sessionValue">Value:</label>\n            <input type="text" id="sessionValue" placeholder="Enter value">\n        </div>\n        <button onclick="saveToSessionStorage()">Save to sessionStorage</button>\n        <button onclick="loadFromSessionStorage()">Load from sessionStorage</button>\n        <button onclick="clearSessionStorage()">Clear sessionStorage</button>\n        \n        <h2>Storage Info</h2>\n        <button onclick="showStorageInfo()">Show Storage Info</button>\n        <button onclick="showAllItems()">Show All Items</button>\n        \n        <div id="output" class="output"></div>\n    </div>\n    \n    <script src="storage-practice.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// storage-practice.js\nconsole.log("=== Browser Storage Practice ===");\n\nlet output = document.getElementById(''output'');\n\nfunction log(message) {\n    console.log(message);\n    output.innerHTML += ''<p>'' + message + ''</p>'';\n}\n\nfunction clearOutput() {\n    output.innerHTML = '''';\n}\n\nconsole.log("\\n=== localStorage Basics ===");\n\n// Save to localStorage\nfunction saveToLocalStorage() {\n    clearOutput();\n    let key = document.getElementById(''localKey'').value;\n    let value = document.getElementById(''localValue'').value;\n    \n    if (!key) {\n        log(''Error: Key is required'');\n        return;\n    }\n    \n    try {\n        localStorage.setItem(key, value);\n        log(`Saved to localStorage: ${key} = ${value}`);\n    } catch (e) {\n        if (e.name === ''QuotaExceededError'') {\n            log(''Error: Storage quota exceeded'');\n        } else {\n            log(''Error: '' + e.message);\n        }\n    }\n}\n\n// Load from localStorage\nfunction loadFromLocalStorage() {\n    clearOutput();\n    let key = document.getElementById(''localKey'').value;\n    \n    if (!key) {\n        log(''Error: Key is required'');\n        return;\n    }\n    \n    let value = localStorage.getItem(key);\n    if (value !== null) {\n        log(`Loaded from localStorage: ${key} = ${value}`);\n        document.getElementById(''localValue'').value = value;\n    } else {\n        log(`Key "${key}" not found in localStorage`);\n    }\n}\n\n// Remove from localStorage\nfunction removeFromLocalStorage() {\n    clearOutput();\n    let key = document.getElementById(''localKey'').value;\n    \n    if (!key) {\n        log(''Error: Key is required'');\n        return;\n    }\n    \n    localStorage.removeItem(key);\n    log(`Removed "${key}" from localStorage`);\n}\n\n// Clear localStorage\nfunction clearLocalStorage() {\n    clearOutput();\n    localStorage.clear();\n    log(''Cleared all localStorage data'');\n}\nconsole.log();\n\nconsole.log("=== sessionStorage Basics ===");\n\n// Save to sessionStorage\nfunction saveToSessionStorage() {\n    clearOutput();\n    let key = document.getElementById(''sessionKey'').value;\n    let value = document.getElementById(''sessionValue'').value;\n    \n    if (!key) {\n        log(''Error: Key is required'');\n        return;\n    }\n    \n    try {\n        sessionStorage.setItem(key, value);\n        log(`Saved to sessionStorage: ${key} = ${value}`);\n    } catch (e) {\n        if (e.name === ''QuotaExceededError'') {\n            log(''Error: Storage quota exceeded'');\n        } else {\n            log(''Error: '' + e.message);\n        }\n    }\n}\n\n// Load from sessionStorage\nfunction loadFromSessionStorage() {\n    clearOutput();\n    let key = document.getElementById(''sessionKey'').value;\n    \n    if (!key) {\n        log(''Error: Key is required'');\n        return;\n    }\n    \n    let value = sessionStorage.getItem(key);\n    if (value !== null) {\n        log(`Loaded from sessionStorage: ${key} = ${value}`);\n        document.getElementById(''sessionValue'').value = value;\n    } else {\n        log(`Key "${key}" not found in sessionStorage`);\n    }\n}\n\n// Clear sessionStorage\nfunction clearSessionStorage() {\n    clearOutput();\n    sessionStorage.clear();\n    log(''Cleared all sessionStorage data'');\n}\nconsole.log();\n\nconsole.log("=== Storing Different Data Types ===");\n\n// Store object\nfunction storeObject() {\n    let user = {\n        name: ''Alice'',\n        age: 30,\n        email: ''alice@example.com''\n    };\n    localStorage.setItem(''user'', JSON.stringify(user));\n    log(''Stored object: '' + JSON.stringify(user));\n}\n\n// Store array\nfunction storeArray() {\n    let items = [''apple'', ''banana'', ''orange''];\n    localStorage.setItem(''items'', JSON.stringify(items));\n    log(''Stored array: '' + JSON.stringify(items));\n}\n\n// Retrieve and parse\nfunction retrieveObject() {\n    let userStr = localStorage.getItem(''user'');\n    if (userStr) {\n        let user = JSON.parse(userStr);\n        log(''Retrieved object: '' + JSON.stringify(user));\n        log(''User name: '' + user.name);\n    }\n}\n\n// Store number\nfunction storeNumber() {\n    localStorage.setItem(''score'', ''100'');\n    let score = parseInt(localStorage.getItem(''score''));\n    log(''Stored and retrieved number: '' + score);\n}\n\n// Store boolean\nfunction storeBoolean() {\n    localStorage.setItem(''isActive'', ''true'');\n    let isActive = localStorage.getItem(''isActive'') === ''true'';\n    log(''Stored and retrieved boolean: '' + isActive);\n}\nconsole.log();\n\nconsole.log("=== Storage Info ===");\n\nfunction showStorageInfo() {\n    clearOutput();\n    \n    log(''=== localStorage Info ==='');\n    log(''Number of items: '' + localStorage.length);\n    log(''Storage size: ~'' + getStorageSize(localStorage) + '' bytes'');\n    \n    log(''\\n=== sessionStorage Info ==='');\n    log(''Number of items: '' + sessionStorage.length);\n    log(''Storage size: ~'' + getStorageSize(sessionStorage) + '' bytes'');\n}\n\nfunction getStorageSize(storage) {\n    let total = 0;\n    for (let key in storage) {\n        if (storage.hasOwnProperty(key)) {\n            total += storage[key].length + key.length;\n        }\n    }\n    return total;\n}\n\nfunction showAllItems() {\n    clearOutput();\n    \n    log(''=== localStorage Items ==='');\n    if (localStorage.length === 0) {\n        log(''No items in localStorage'');\n    } else {\n        for (let i = 0; i < localStorage.length; i++) {\n            let key = localStorage.key(i);\n            let value = localStorage.getItem(key);\n            log(`${key}: ${value}`);\n        }\n    }\n    \n    log(''\\n=== sessionStorage Items ==='');\n    if (sessionStorage.length === 0) {\n        log(''No items in sessionStorage'');\n    } else {\n        for (let i = 0; i < sessionStorage.length; i++) {\n            let key = sessionStorage.key(i);\n            let value = sessionStorage.getItem(key);\n            log(`${key}: ${value}`);\n        }\n    }\n}\nconsole.log();\n\nconsole.log("=== Storage Events ===");\n\n// Listen for storage changes (from other tabs)\nwindow.addEventListener(''storage'', function(event) {\n    console.log(''Storage event fired'');\n    console.log(''Key:'', event.key);\n    console.log(''Old value:'', event.oldValue);\n    console.log(''New value:'', event.newValue);\n    console.log(''Storage area:'', event.storageArea);\n    \n    log(`Storage changed: ${event.key} (old: ${event.oldValue}, new: ${event.newValue})`);\n});\nconsole.log();\n\nconsole.log("=== Storage Helper ===");\n\nclass StorageHelper {\n    constructor(storage = localStorage) {\n        this.storage = storage;\n    }\n    \n    set(key, value) {\n        try {\n            this.storage.setItem(key, JSON.stringify(value));\n            return true;\n        } catch (e) {\n            console.error(''Storage error:'', e);\n            return false;\n        }\n    }\n    \n    get(key, defaultValue = null) {\n        try {\n            let item = this.storage.getItem(key);\n            return item ? JSON.parse(item) : defaultValue;\n        } catch (e) {\n            console.error(''Storage error:'', e);\n            return defaultValue;\n        }\n    }\n    \n    remove(key) {\n        this.storage.removeItem(key);\n    }\n    \n    clear() {\n        this.storage.clear();\n    }\n    \n    has(key) {\n        return this.storage.getItem(key) !== null;\n    }\n    \n    keys() {\n        return Object.keys(this.storage);\n    }\n}\n\n// Demonstrate helper\nlet helper = new StorageHelper();\nhelper.set(''test'', { name: ''Test'', value: 123 });\nlet test = helper.get(''test'');\nlog(''Helper test: '' + JSON.stringify(test));\nconsole.log();\n\nconsole.log("=== Practical Examples ===");\n\n// User preferences\nfunction savePreferences() {\n    let prefs = {\n        theme: ''dark'',\n        language: ''en'',\n        notifications: true\n    };\n    localStorage.setItem(''preferences'', JSON.stringify(prefs));\n    log(''Saved preferences'');\n}\n\nfunction loadPreferences() {\n    let stored = localStorage.getItem(''preferences'');\n    if (stored) {\n        let prefs = JSON.parse(stored);\n        log(''Loaded preferences: '' + JSON.stringify(prefs));\n        return prefs;\n    }\n    return null;\n}\n\n// Shopping cart\nfunction addToCart(item) {\n    let cart = getCart();\n    cart.push(item);\n    localStorage.setItem(''cart'', JSON.stringify(cart));\n    log(''Added to cart: '' + item);\n}\n\nfunction getCart() {\n    let stored = localStorage.getItem(''cart'');\n    return stored ? JSON.parse(stored) : [];\n}\n\nfunction showCart() {\n    let cart = getCart();\n    log(''Cart items: '' + JSON.stringify(cart));\n}\n\n// Initialize\nwindow.addEventListener(''load'', function() {\n    log(''Page loaded. Storage APIs ready.'');\n    log(''Try opening this page in multiple tabs to see storage events!'');\n});\n```\n\n**Expected Output** (in browser console):\n```\n=== Browser Storage Practice ===\n\n=== localStorage Basics ===\n[On save]\nSaved to localStorage: key = value\n\n[On load]\nLoaded from localStorage: key = value\n\n=== sessionStorage Basics ===\n[On save]\nSaved to sessionStorage: key = value\n\n=== Storing Different Data Types ===\n[On store object]\nStored object: {"name":"Alice","age":30,"email":"alice@example.com"}\n\n[On retrieve]\nRetrieved object: {"name":"Alice","age":30,"email":"alice@example.com"}\nUser name: Alice\n\n=== Storage Info ===\n[On show info]\n=== localStorage Info ===\nNumber of items: [count]\nStorage size: ~[size] bytes\n\n=== Storage Events ===\n[On change in other tab]\nStorage event fired\nKey: [key]\nOld value: [old]\nNew value: [new]\n\n=== Storage Helper ===\nHelper test: {"name":"Test","value":123}\n\n=== Practical Examples ===\n[On save preferences]\nSaved preferences\n[On load]\nLoaded preferences: {"theme":"dark","language":"en","notifications":true}\n```\n\n**Challenge (Optional)**:\n- Build a complete storage management system\n- Create a storage quota monitor\n- Build a storage sync system\n- Create a storage migration utility\n\n---\n\n## Common Mistakes\n\n### 1. Not Stringifying Objects\n\n```javascript\n// ⚠️ Problem: Stores "[object Object]"\nlocalStorage.setItem(''user'', { name: ''Alice'' });\n\n// ✅ Solution: Stringify first\nlocalStorage.setItem(''user'', JSON.stringify({ name: ''Alice'' }));\n```\n\n### 2. Not Parsing Retrieved Data\n\n```javascript\n// ⚠️ Problem: Returns string, not object\nlet user = localStorage.getItem(''user'');\nconsole.log(user.name);  // undefined\n\n// ✅ Solution: Parse JSON\nlet user = JSON.parse(localStorage.getItem(''user''));\nconsole.log(user.name);  // "Alice"\n```\n\n### 3. Not Handling Errors\n\n```javascript\n// ⚠️ Problem: No error handling\nlocalStorage.setItem(''key'', ''value'');  // Might throw\n\n// ✅ Solution: Try-catch\ntry {\n    localStorage.setItem(''key'', ''value'');\n} catch (e) {\n    if (e.name === ''QuotaExceededError'') {\n        // Handle quota exceeded\n    }\n}\n```\n\n### 4. Assuming Data Exists\n\n```javascript\n// ⚠️ Problem: Might be null\nlet user = JSON.parse(localStorage.getItem(''user''));\nconsole.log(user.name);  // Error if null\n\n// ✅ Solution: Check first\nlet userStr = localStorage.getItem(''user'');\nif (userStr) {\n    let user = JSON.parse(userStr);\n    console.log(user.name);\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **localStorage**: Persistent storage, survives browser restart\n2. **sessionStorage**: Session-only storage, cleared on tab close\n3. **Storage Methods**: setItem, getItem, removeItem, clear\n4. **Data Types**: Store strings, stringify objects/arrays\n5. **Limitations**: ~5-10MB per origin\n6. **Storage Events**: Fired in other tabs when storage changes\n7. **Best Practice**: Always stringify/parse, handle errors, check for null\n8. **Use Cases**: Preferences, cart, form drafts, session data\n\n---\n\n## Quiz: Browser Storage\n\nTest your understanding with these questions:\n\n1. **localStorage data:**\n   - A) Cleared on tab close\n   - B) Persists across sessions\n   - C) Cleared on page reload\n   - D) Never cleared\n\n2. **sessionStorage data:**\n   - A) Persists across sessions\n   - B) Cleared on tab close\n   - C) Never cleared\n   - D) Cleared on page reload\n\n3. **Objects stored in storage:**\n   - A) Directly\n   - B) Must stringify\n   - C) Not allowed\n   - D) Automatically\n\n4. **Storage quota is:**\n   - A) Unlimited\n   - B) ~5-10MB\n   - C) 1MB\n   - D) 100MB\n\n5. **storage event fires:**\n   - A) In same tab\n   - B) In other tabs\n   - C) Both\n   - D) Never\n\n6. **getItem() returns:**\n   - A) Object\n   - B) String or null\n   - C) Number\n   - D) Boolean\n\n7. **clear() removes:**\n   - A) One item\n   - B) All items\n   - C) Nothing\n   - D) Only expired items\n\n**Answers**:\n1. B) Persists across sessions\n2. B) Cleared on tab close\n3. B) Must stringify\n4. B) ~5-10MB\n5. B) In other tabs\n6. B) String or null\n7. B) All items\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned localStorage and sessionStorage. You now know:\n- How to store and retrieve data\n- Storage limitations and error handling\n- Storage events\n- Building storage utilities\n\n**What''s Next?**\n- Lesson 16.2: IndexedDB\n- Learn IndexedDB for larger storage\n- Understand database operations\n- Build more complex storage solutions\n\n---\n\n## Additional Resources\n\n- **MDN: Web Storage API**: [developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API)\n- **MDN: localStorage**: [developer.mozilla.org/en-US/docs/Web/API/Window/localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)\n- **MDN: sessionStorage**: [developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:54:38', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand browser storage APIs\n- Use localStorage for persistent storage\n- Use sessionStorage for session storage\n- Store and retrieve data\n- Handle storage limitations\n- Work with storage events\n- Build storage utilities');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (151, 56, 13, 'IndexedDB', 'indexeddb', '# Lesson 16.2: IndexedDB\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand IndexedDB basics\n- Create and open databases\n- Create object stores\n- Perform CRUD operations\n- Use indexes for queries\n- Handle transactions\n- Compare IndexedDB with localStorage\n- Build database-driven applications\n\n---\n\n## Introduction to IndexedDB\n\nIndexedDB is a low-level API for storing large amounts of structured data in the browser. It''s more powerful than localStorage but also more complex.\n\n### Why IndexedDB?\n\n- **Large Storage**: Store much more data than localStorage\n- **Structured Data**: Store complex objects\n- **Indexes**: Fast queries on any field\n- **Transactions**: Safe concurrent operations\n- **Asynchronous**: Non-blocking operations\n- **Modern Standard**: W3C standard\n\n### IndexedDB vs localStorage\n\n| Feature | localStorage | IndexedDB |\n|---------|-------------|-----------|\n| Storage Size | ~5-10MB | Much larger (50%+ of disk) |\n| Data Type | Strings only | Any structured data |\n| Queries | Manual | Indexed queries |\n| Performance | Fast for small data | Better for large data |\n| Complexity | Simple | More complex |\n| Async | Synchronous | Asynchronous |\n\n---\n\n## IndexedDB Basics\n\n### Opening a Database\n\n```javascript\nlet request = indexedDB.open(''myDatabase'', 1);\n\nrequest.onerror = function(event) {\n    console.error(''Database error:'', event.target.error);\n};\n\nrequest.onsuccess = function(event) {\n    let db = event.target.result;\n    console.log(''Database opened:'', db);\n};\n\nrequest.onupgradeneeded = function(event) {\n    let db = event.target.result;\n    // Create object stores here\n    if (!db.objectStoreNames.contains(''users'')) {\n        let objectStore = db.createObjectStore(''users'', { keyPath: ''id'', autoIncrement: true });\n        objectStore.createIndex(''name'', ''name'', { unique: false });\n        objectStore.createIndex(''email'', ''email'', { unique: true });\n    }\n};\n```\n\n### Database Version\n\n```javascript\n// Version 1\nlet request = indexedDB.open(''myDatabase'', 1);\n\n// Upgrade to version 2\nlet request = indexedDB.open(''myDatabase'', 2);\n\nrequest.onupgradeneeded = function(event) {\n    let db = event.target.result;\n    let oldVersion = event.oldVersion;\n    let newVersion = event.newVersion;\n    \n    if (oldVersion < 2) {\n        // Migration code\n    }\n};\n```\n\n---\n\n## Creating Object Stores\n\n### Basic Object Store\n\n```javascript\nrequest.onupgradeneeded = function(event) {\n    let db = event.target.result;\n    \n    // Create object store\n    let objectStore = db.createObjectStore(''users'', {\n        keyPath: ''id'',\n        autoIncrement: true\n    });\n};\n```\n\n### Object Store Options\n\n```javascript\n// With keyPath\nlet objectStore = db.createObjectStore(''users'', {\n    keyPath: ''id''  // Use ''id'' property as key\n});\n\n// With autoIncrement\nlet objectStore = db.createObjectStore(''users'', {\n    keyPath: ''id'',\n    autoIncrement: true  // Auto-generate keys\n});\n\n// Without keyPath (use keys manually)\nlet objectStore = db.createObjectStore(''items'', {\n    autoIncrement: false\n});\n```\n\n### Creating Indexes\n\n```javascript\nrequest.onupgradeneeded = function(event) {\n    let db = event.target.result;\n    let objectStore = db.createObjectStore(''users'', {\n        keyPath: ''id'',\n        autoIncrement: true\n    });\n    \n    // Create index on name\n    objectStore.createIndex(''name'', ''name'', { unique: false });\n    \n    // Create unique index on email\n    objectStore.createIndex(''email'', ''email'', { unique: true });\n    \n    // Create index on age\n    objectStore.createIndex(''age'', ''age'', { unique: false });\n};\n```\n\n---\n\n## CRUD Operations\n\n### Create (Add)\n\n```javascript\nfunction addUser(db, user) {\n    let transaction = db.transaction([''users''], ''readwrite'');\n    let objectStore = transaction.objectStore(''users'');\n    let request = objectStore.add(user);\n    \n    request.onsuccess = function() {\n        console.log(''User added:'', request.result);\n    };\n    \n    request.onerror = function() {\n        console.error(''Error adding user:'', request.error);\n    };\n}\n\n// Usage\nindexedDB.open(''myDatabase'', 1).onsuccess = function(event) {\n    let db = event.target.result;\n    addUser(db, {\n        name: ''Alice'',\n        email: ''alice@example.com'',\n        age: 30\n    });\n};\n```\n\n### Read (Get)\n\n```javascript\nfunction getUser(db, id) {\n    let transaction = db.transaction([''users''], ''readonly'');\n    let objectStore = transaction.objectStore(''users'');\n    let request = objectStore.get(id);\n    \n    request.onsuccess = function() {\n        let user = request.result;\n        if (user) {\n            console.log(''User found:'', user);\n        } else {\n            console.log(''User not found'');\n        }\n    };\n    \n    request.onerror = function() {\n        console.error(''Error getting user:'', request.error);\n    };\n}\n```\n\n### Update (Put)\n\n```javascript\nfunction updateUser(db, user) {\n    let transaction = db.transaction([''users''], ''readwrite'');\n    let objectStore = transaction.objectStore(''users'');\n    let request = objectStore.put(user);\n    \n    request.onsuccess = function() {\n        console.log(''User updated'');\n    };\n    \n    request.onerror = function() {\n        console.error(''Error updating user:'', request.error);\n    };\n}\n\n// Usage\nupdateUser(db, {\n    id: 1,\n    name: ''Alice Updated'',\n    email: ''alice@example.com'',\n    age: 31\n});\n```\n\n### Delete\n\n```javascript\nfunction deleteUser(db, id) {\n    let transaction = db.transaction([''users''], ''readwrite'');\n    let objectStore = transaction.objectStore(''users'');\n    let request = objectStore.delete(id);\n    \n    request.onsuccess = function() {\n        console.log(''User deleted'');\n    };\n    \n    request.onerror = function() {\n        console.error(''Error deleting user:'', request.error);\n    };\n}\n```\n\n---\n\n## Queries and Indexes\n\n### Get All Records\n\n```javascript\nfunction getAllUsers(db) {\n    let transaction = db.transaction([''users''], ''readonly'');\n    let objectStore = transaction.objectStore(''users'');\n    let request = objectStore.getAll();\n    \n    request.onsuccess = function() {\n        let users = request.result;\n        console.log(''All users:'', users);\n    };\n}\n```\n\n### Query by Index\n\n```javascript\nfunction getUserByEmail(db, email) {\n    let transaction = db.transaction([''users''], ''readonly'');\n    let objectStore = transaction.objectStore(''users'');\n    let index = objectStore.index(''email'');\n    let request = index.get(email);\n    \n    request.onsuccess = function() {\n        let user = request.result;\n        if (user) {\n            console.log(''User found:'', user);\n        } else {\n            console.log(''User not found'');\n        }\n    };\n}\n```\n\n### Range Queries\n\n```javascript\nfunction getUsersByAgeRange(db, minAge, maxAge) {\n    let transaction = db.transaction([''users''], ''readonly'');\n    let objectStore = transaction.objectStore(''users'');\n    let index = objectStore.index(''age'');\n    let range = IDBKeyRange.bound(minAge, maxAge);\n    let request = index.getAll(range);\n    \n    request.onsuccess = function() {\n        let users = request.result;\n        console.log(''Users in age range:'', users);\n    };\n}\n```\n\n### Cursor Queries\n\n```javascript\nfunction getAllUsersWithCursor(db) {\n    let transaction = db.transaction([''users''], ''readonly'');\n    let objectStore = transaction.objectStore(''users'');\n    let request = objectStore.openCursor();\n    \n    request.onsuccess = function(event) {\n        let cursor = event.target.result;\n        if (cursor) {\n            console.log(''User:'', cursor.value);\n            cursor.continue();  // Move to next\n        } else {\n            console.log(''No more users'');\n        }\n    };\n}\n```\n\n---\n\n## Transactions\n\n### Transaction Modes\n\n```javascript\n// Read-only transaction\nlet transaction = db.transaction([''users''], ''readonly'');\n\n// Read-write transaction\nlet transaction = db.transaction([''users''], ''readwrite'');\n```\n\n### Transaction Events\n\n```javascript\nlet transaction = db.transaction([''users''], ''readwrite'');\n\ntransaction.oncomplete = function() {\n    console.log(''Transaction completed'');\n};\n\ntransaction.onerror = function() {\n    console.error(''Transaction error:'', transaction.error);\n};\n\ntransaction.onabort = function() {\n    console.log(''Transaction aborted'');\n};\n```\n\n### Multiple Object Stores\n\n```javascript\nlet transaction = db.transaction([''users'', ''orders''], ''readwrite'');\nlet userStore = transaction.objectStore(''users'');\nlet orderStore = transaction.objectStore(''orders'');\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Database Helper Class\n\n```javascript\nclass IndexedDBHelper {\n    constructor(dbName, version) {\n        this.dbName = dbName;\n        this.version = version;\n        this.db = null;\n    }\n    \n    open() {\n        return new Promise((resolve, reject) => {\n            let request = indexedDB.open(this.dbName, this.version);\n            \n            request.onerror = () => reject(request.error);\n            request.onsuccess = () => {\n                this.db = request.result;\n                resolve(this.db);\n            };\n            \n            request.onupgradeneeded = (event) => {\n                let db = event.target.result;\n                if (!db.objectStoreNames.contains(''users'')) {\n                    let store = db.createObjectStore(''users'', {\n                        keyPath: ''id'',\n                        autoIncrement: true\n                    });\n                    store.createIndex(''email'', ''email'', { unique: true });\n                }\n            };\n        });\n    }\n    \n    add(storeName, data) {\n        return new Promise((resolve, reject) => {\n            let transaction = this.db.transaction([storeName], ''readwrite'');\n            let store = transaction.objectStore(storeName);\n            let request = store.add(data);\n            \n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    get(storeName, key) {\n        return new Promise((resolve, reject) => {\n            let transaction = this.db.transaction([storeName], ''readonly'');\n            let store = transaction.objectStore(storeName);\n            let request = store.get(key);\n            \n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    getAll(storeName) {\n        return new Promise((resolve, reject) => {\n            let transaction = this.db.transaction([storeName], ''readonly'');\n            let store = transaction.objectStore(storeName);\n            let request = store.getAll();\n            \n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    put(storeName, data) {\n        return new Promise((resolve, reject) => {\n            let transaction = this.db.transaction([storeName], ''readwrite'');\n            let store = transaction.objectStore(storeName);\n            let request = store.put(data);\n            \n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    delete(storeName, key) {\n        return new Promise((resolve, reject) => {\n            let transaction = this.db.transaction([storeName], ''readwrite'');\n            let store = transaction.objectStore(storeName);\n            let request = store.delete(key);\n            \n            request.onsuccess = () => resolve();\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    query(storeName, indexName, value) {\n        return new Promise((resolve, reject) => {\n            let transaction = this.db.transaction([storeName], ''readonly'');\n            let store = transaction.objectStore(storeName);\n            let index = store.index(indexName);\n            let request = index.get(value);\n            \n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n}\n\n// Usage\nlet dbHelper = new IndexedDBHelper(''myDatabase'', 1);\ndbHelper.open().then(() => {\n    return dbHelper.add(''users'', {\n        name: ''Alice'',\n        email: ''alice@example.com''\n    });\n}).then(id => {\n    console.log(''User added with ID:'', id);\n    return dbHelper.get(''users'', id);\n}).then(user => {\n    console.log(''User retrieved:'', user);\n});\n```\n\n### Example 2: User Management\n\n```javascript\nclass UserManager {\n    constructor() {\n        this.db = null;\n    }\n    \n    async init() {\n        return new Promise((resolve, reject) => {\n            let request = indexedDB.open(''userDB'', 1);\n            \n            request.onerror = () => reject(request.error);\n            request.onsuccess = () => {\n                this.db = request.result;\n                resolve();\n            };\n            \n            request.onupgradeneeded = (event) => {\n                let db = event.target.result;\n                if (!db.objectStoreNames.contains(''users'')) {\n                    let store = db.createObjectStore(''users'', {\n                        keyPath: ''id'',\n                        autoIncrement: true\n                    });\n                    store.createIndex(''email'', ''email'', { unique: true });\n                    store.createIndex(''name'', ''name'', { unique: false });\n                }\n            };\n        });\n    }\n    \n    async addUser(user) {\n        let transaction = this.db.transaction([''users''], ''readwrite'');\n        let store = transaction.objectStore(''users'');\n        return new Promise((resolve, reject) => {\n            let request = store.add(user);\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    async getUser(id) {\n        let transaction = this.db.transaction([''users''], ''readonly'');\n        let store = transaction.objectStore(''users'');\n        return new Promise((resolve, reject) => {\n            let request = store.get(id);\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    async getUserByEmail(email) {\n        let transaction = this.db.transaction([''users''], ''readonly'');\n        let store = transaction.objectStore(''users'');\n        let index = store.index(''email'');\n        return new Promise((resolve, reject) => {\n            let request = index.get(email);\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    async getAllUsers() {\n        let transaction = this.db.transaction([''users''], ''readonly'');\n        let store = transaction.objectStore(''users'');\n        return new Promise((resolve, reject) => {\n            let request = store.getAll();\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    async updateUser(user) {\n        let transaction = this.db.transaction([''users''], ''readwrite'');\n        let store = transaction.objectStore(''users'');\n        return new Promise((resolve, reject) => {\n            let request = store.put(user);\n            request.onsuccess = () => resolve();\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    async deleteUser(id) {\n        let transaction = this.db.transaction([''users''], ''readwrite'');\n        let store = transaction.objectStore(''users'');\n        return new Promise((resolve, reject) => {\n            let request = store.delete(id);\n            request.onsuccess = () => resolve();\n            request.onerror = () => reject(request.error);\n        });\n    }\n}\n\n// Usage\nlet userManager = new UserManager();\nuserManager.init().then(async () => {\n    await userManager.addUser({\n        name: ''Alice'',\n        email: ''alice@example.com'',\n        age: 30\n    });\n    \n    let user = await userManager.getUserByEmail(''alice@example.com'');\n    console.log(''User found:'', user);\n});\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: IndexedDB Practice\n\n**Objective**: Practice creating databases, object stores, and performing CRUD operations.\n\n**Instructions**:\n\n1. Create an HTML file with a form\n2. Create a JavaScript file for IndexedDB operations\n3. Practice:\n   - Creating and opening databases\n   - Creating object stores and indexes\n   - Adding, reading, updating, deleting data\n   - Querying data with indexes\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>IndexedDB Practice</title>\n    <style>\n        .container {\n            max-width: 600px;\n            margin: 20px;\n        }\n        .form-group {\n            margin-bottom: 15px;\n        }\n        label {\n            display: block;\n            margin-bottom: 5px;\n        }\n        input {\n            width: 100%;\n            padding: 8px;\n            box-sizing: border-box;\n        }\n        button {\n            padding: 10px 20px;\n            margin: 5px;\n        }\n        .output {\n            margin-top: 20px;\n            padding: 10px;\n            background-color: #f0f0f0;\n            border-radius: 5px;\n        }\n    </style>\n</head>\n<body>\n    <div class="container">\n        <h1>IndexedDB Practice</h1>\n        \n        <h2>Add User</h2>\n        <form id="userForm">\n            <div class="form-group">\n                <label for="name">Name:</label>\n                <input type="text" id="name" required>\n            </div>\n            <div class="form-group">\n                <label for="email">Email:</label>\n                <input type="email" id="email" required>\n            </div>\n            <div class="form-group">\n                <label for="age">Age:</label>\n                <input type="number" id="age" required>\n            </div>\n            <button type="submit">Add User</button>\n        </form>\n        \n        <h2>Operations</h2>\n        <button onclick="showAllUsers()">Show All Users</button>\n        <button onclick="clearUsers()">Clear All Users</button>\n        \n        <div id="output" class="output"></div>\n    </div>\n    \n    <script src="indexeddb-practice.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// indexeddb-practice.js\nconsole.log("=== IndexedDB Practice ===");\n\nlet db = null;\nlet output = document.getElementById(''output'');\n\nfunction log(message) {\n    console.log(message);\n    output.innerHTML += ''<p>'' + message + ''</p>'';\n}\n\nfunction clearOutput() {\n    output.innerHTML = '''';\n}\n\nconsole.log("\\n=== Opening Database ===");\n\nlet request = indexedDB.open(''practiceDB'', 1);\n\nrequest.onerror = function(event) {\n    console.error(''Database error:'', event.target.error);\n    log(''Error opening database: '' + event.target.error);\n};\n\nrequest.onsuccess = function(event) {\n    db = event.target.result;\n    console.log(''Database opened successfully'');\n    log(''Database opened successfully'');\n    \n    // Show all users on load\n    showAllUsers();\n};\n\nrequest.onupgradeneeded = function(event) {\n    db = event.target.result;\n    console.log(''Database upgrade needed'');\n    \n    // Create users object store\n    if (!db.objectStoreNames.contains(''users'')) {\n        let objectStore = db.createObjectStore(''users'', {\n            keyPath: ''id'',\n            autoIncrement: true\n        });\n        \n        // Create indexes\n        objectStore.createIndex(''email'', ''email'', { unique: true });\n        objectStore.createIndex(''name'', ''name'', { unique: false });\n        objectStore.createIndex(''age'', ''age'', { unique: false });\n        \n        console.log(''Object store and indexes created'');\n    }\n};\nconsole.log();\n\nconsole.log("=== Adding Users ===");\n\nlet userForm = document.getElementById(''userForm'');\nuserForm.addEventListener(''submit'', function(event) {\n    event.preventDefault();\n    \n    let user = {\n        name: document.getElementById(''name'').value,\n        email: document.getElementById(''email'').value,\n        age: parseInt(document.getElementById(''age'').value)\n    };\n    \n    addUser(user);\n    \n    // Reset form\n    userForm.reset();\n});\n\nfunction addUser(user) {\n    if (!db) {\n        log(''Database not ready'');\n        return;\n    }\n    \n    let transaction = db.transaction([''users''], ''readwrite'');\n    let objectStore = transaction.objectStore(''users'');\n    let request = objectStore.add(user);\n    \n    request.onsuccess = function() {\n        let id = request.result;\n        console.log(''User added with ID:'', id);\n        log(''User added with ID: '' + id);\n        showAllUsers();\n    };\n    \n    request.onerror = function() {\n        console.error(''Error adding user:'', request.error);\n        log(''Error adding user: '' + request.error.message);\n    };\n}\nconsole.log();\n\nconsole.log("=== Getting All Users ===");\n\nfunction showAllUsers() {\n    if (!db) {\n        log(''Database not ready'');\n        return;\n    }\n    \n    clearOutput();\n    \n    let transaction = db.transaction([''users''], ''readonly'');\n    let objectStore = transaction.objectStore(''users'');\n    let request = objectStore.getAll();\n    \n    request.onsuccess = function() {\n        let users = request.result;\n        console.log(''All users:'', users);\n        \n        if (users.length === 0) {\n            log(''No users in database'');\n        } else {\n            log(''Users ('' + users.length + ''):'');\n            users.forEach(user => {\n                log(`ID: ${user.id}, Name: ${user.name}, Email: ${user.email}, Age: ${user.age}`);\n            });\n        }\n    };\n    \n    request.onerror = function() {\n        console.error(''Error getting users:'', request.error);\n        log(''Error getting users: '' + request.error.message);\n    };\n}\nconsole.log();\n\nconsole.log("=== Getting User by ID ===");\n\nfunction getUser(id) {\n    if (!db) {\n        return Promise.reject(''Database not ready'');\n    }\n    \n    return new Promise((resolve, reject) => {\n        let transaction = db.transaction([''users''], ''readonly'');\n        let objectStore = transaction.objectStore(''users'');\n        let request = objectStore.get(id);\n        \n        request.onsuccess = function() {\n            resolve(request.result);\n        };\n        \n        request.onerror = function() {\n            reject(request.error);\n        };\n    });\n}\nconsole.log();\n\nconsole.log("=== Querying by Index ===");\n\nfunction getUserByEmail(email) {\n    if (!db) {\n        return Promise.reject(''Database not ready'');\n    }\n    \n    return new Promise((resolve, reject) => {\n        let transaction = db.transaction([''users''], ''readonly'');\n        let objectStore = transaction.objectStore(''users'');\n        let index = objectStore.index(''email'');\n        let request = index.get(email);\n        \n        request.onsuccess = function() {\n            resolve(request.result);\n        };\n        \n        request.onerror = function() {\n            reject(request.error);\n        };\n    });\n}\nconsole.log();\n\nconsole.log("=== Updating User ===");\n\nfunction updateUser(user) {\n    if (!db) {\n        return Promise.reject(''Database not ready'');\n    }\n    \n    return new Promise((resolve, reject) => {\n        let transaction = db.transaction([''users''], ''readwrite'');\n        let objectStore = transaction.objectStore(''users'');\n        let request = objectStore.put(user);\n        \n        request.onsuccess = function() {\n            resolve();\n        };\n        \n        request.onerror = function() {\n            reject(request.error);\n        };\n    });\n}\nconsole.log();\n\nconsole.log("=== Deleting User ===");\n\nfunction deleteUser(id) {\n    if (!db) {\n        return Promise.reject(''Database not ready'');\n    }\n    \n    return new Promise((resolve, reject) => {\n        let transaction = db.transaction([''users''], ''readwrite'');\n        let objectStore = transaction.objectStore(''users'');\n        let request = objectStore.delete(id);\n        \n        request.onsuccess = function() {\n            resolve();\n        };\n        \n        request.onerror = function() {\n            reject(request.error);\n        };\n    });\n}\nconsole.log();\n\nconsole.log("=== Clearing All Users ===");\n\nfunction clearUsers() {\n    if (!db) {\n        log(''Database not ready'');\n        return;\n    }\n    \n    let transaction = db.transaction([''users''], ''readwrite'');\n    let objectStore = transaction.objectStore(''users'');\n    let request = objectStore.clear();\n    \n    request.onsuccess = function() {\n        console.log(''All users cleared'');\n        log(''All users cleared'');\n        showAllUsers();\n    };\n    \n    request.onerror = function() {\n        console.error(''Error clearing users:'', request.error);\n        log(''Error clearing users: '' + request.error.message);\n    };\n}\nconsole.log();\n\nconsole.log("=== Using Cursor ===");\n\nfunction getAllUsersWithCursor() {\n    if (!db) {\n        return Promise.reject(''Database not ready'');\n    }\n    \n    return new Promise((resolve, reject) => {\n        let users = [];\n        let transaction = db.transaction([''users''], ''readonly'');\n        let objectStore = transaction.objectStore(''users'');\n        let request = objectStore.openCursor();\n        \n        request.onsuccess = function(event) {\n            let cursor = event.target.result;\n            if (cursor) {\n                users.push(cursor.value);\n                cursor.continue();\n            } else {\n                resolve(users);\n            }\n        };\n        \n        request.onerror = function() {\n            reject(request.error);\n        };\n    });\n}\nconsole.log();\n\nconsole.log("=== Range Queries ===");\n\nfunction getUsersByAgeRange(minAge, maxAge) {\n    if (!db) {\n        return Promise.reject(''Database not ready'');\n    }\n    \n    return new Promise((resolve, reject) => {\n        let transaction = db.transaction([''users''], ''readonly'');\n        let objectStore = transaction.objectStore(''users'');\n        let index = objectStore.index(''age'');\n        let range = IDBKeyRange.bound(minAge, maxAge);\n        let request = index.getAll(range);\n        \n        request.onsuccess = function() {\n            resolve(request.result);\n        };\n        \n        request.onerror = function() {\n            reject(request.error);\n        };\n    });\n}\nconsole.log();\n\nconsole.log("=== Database Helper Class ===");\n\nclass DBHelper {\n    constructor(dbName, version) {\n        this.dbName = dbName;\n        this.version = version;\n        this.db = null;\n    }\n    \n    open() {\n        return new Promise((resolve, reject) => {\n            let request = indexedDB.open(this.dbName, this.version);\n            \n            request.onerror = () => reject(request.error);\n            request.onsuccess = () => {\n                this.db = request.result;\n                resolve(this.db);\n            };\n            \n            request.onupgradeneeded = (event) => {\n                let db = event.target.result;\n                if (!db.objectStoreNames.contains(''users'')) {\n                    let store = db.createObjectStore(''users'', {\n                        keyPath: ''id'',\n                        autoIncrement: true\n                    });\n                    store.createIndex(''email'', ''email'', { unique: true });\n                }\n            };\n        });\n    }\n    \n    add(storeName, data) {\n        return new Promise((resolve, reject) => {\n            let transaction = this.db.transaction([storeName], ''readwrite'');\n            let store = transaction.objectStore(storeName);\n            let request = store.add(data);\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    get(storeName, key) {\n        return new Promise((resolve, reject) => {\n            let transaction = this.db.transaction([storeName], ''readonly'');\n            let store = transaction.objectStore(storeName);\n            let request = store.get(key);\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    getAll(storeName) {\n        return new Promise((resolve, reject) => {\n            let transaction = this.db.transaction([storeName], ''readonly'');\n            let store = transaction.objectStore(storeName);\n            let request = store.getAll();\n            request.onsuccess = () => resolve(request.result);\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    put(storeName, data) {\n        return new Promise((resolve, reject) => {\n            let transaction = this.db.transaction([storeName], ''readwrite'');\n            let store = transaction.objectStore(storeName);\n            let request = store.put(data);\n            request.onsuccess = () => resolve();\n            request.onerror = () => reject(request.error);\n        });\n    }\n    \n    delete(storeName, key) {\n        return new Promise((resolve, reject) => {\n            let transaction = this.db.transaction([storeName], ''readwrite'');\n            let store = transaction.objectStore(storeName);\n            let request = store.delete(key);\n            request.onsuccess = () => resolve();\n            request.onerror = () => reject(request.error);\n        });\n    }\n}\n\n// Demonstrate helper\nlet helper = new DBHelper(''helperDB'', 1);\nhelper.open().then(() => {\n    console.log(''Helper database opened'');\n    return helper.add(''users'', { name: ''Test'', email: ''test@example.com'' });\n}).then(id => {\n    console.log(''Added with ID:'', id);\n    return helper.get(''users'', id);\n}).then(user => {\n    console.log(''Retrieved user:'', user);\n});\n```\n\n**Expected Output** (in browser console):\n```\n=== IndexedDB Practice ===\n\n=== Opening Database ===\nDatabase opened successfully\nDatabase upgrade needed\nObject store and indexes created\n\n=== Adding Users ===\n[On form submit]\nUser added with ID: 1\n\n=== Getting All Users ===\n[On show all]\nAll users: [array]\nUsers (1):\nID: 1, Name: Alice, Email: alice@example.com, Age: 30\n\n=== Database Helper Class ===\nHelper database opened\nAdded with ID: 1\nRetrieved user: {id: 1, name: "Test", email: "test@example.com"}\n```\n\n**Challenge (Optional)**:\n- Build a complete database management system\n- Create a complex query system\n- Build a data migration utility\n- Create a database backup/restore system\n\n---\n\n## Common Mistakes\n\n### 1. Not Handling onupgradeneeded\n\n```javascript\n// ⚠️ Problem: Object stores not created\nlet request = indexedDB.open(''db'', 1);\nrequest.onsuccess = function(event) {\n    let db = event.target.result;\n    // Object store doesn''t exist!\n};\n\n// ✅ Solution: Create in onupgradeneeded\nrequest.onupgradeneeded = function(event) {\n    let db = event.target.result;\n    db.createObjectStore(''users'', { keyPath: ''id'' });\n};\n```\n\n### 2. Using Database Before It''s Ready\n\n```javascript\n// ⚠️ Problem: Database might not be ready\nlet db = null;\nindexedDB.open(''db'', 1).onsuccess = function(event) {\n    db = event.target.result;\n};\naddUser(db, user);  // db might be null!\n\n// ✅ Solution: Wait for success\nindexedDB.open(''db'', 1).onsuccess = function(event) {\n    let db = event.target.result;\n    addUser(db, user);\n};\n```\n\n### 3. Not Handling Errors\n\n```javascript\n// ⚠️ Problem: No error handling\nlet request = objectStore.add(user);\n\n// ✅ Solution: Handle errors\nrequest.onerror = function() {\n    console.error(''Error:'', request.error);\n};\n```\n\n### 4. Forgetting Transaction Completion\n\n```javascript\n// ⚠️ Problem: Transaction might complete before operation\nlet transaction = db.transaction([''users''], ''readwrite'');\nlet store = transaction.objectStore(''users'');\nstore.add(user);\n// Transaction might complete before add finishes\n\n// ✅ Solution: Wait for request\nlet request = store.add(user);\nrequest.onsuccess = function() {\n    // Operation complete\n};\n```\n\n---\n\n## Key Takeaways\n\n1. **IndexedDB**: Large structured data storage\n2. **Asynchronous**: All operations are async\n3. **Object Stores**: Like tables in a database\n4. **Indexes**: Fast queries on any field\n5. **Transactions**: Safe concurrent operations\n6. **CRUD Operations**: Add, get, put, delete\n7. **Best Practice**: Handle errors, wait for operations, use transactions\n8. **Use Cases**: Large data, complex queries, offline apps\n\n---\n\n## Quiz: IndexedDB\n\nTest your understanding with these questions:\n\n1. **IndexedDB is:**\n   - A) Synchronous\n   - B) Asynchronous\n   - C) Both\n   - D) Neither\n\n2. **Object stores created in:**\n   - A) onsuccess\n   - B) onupgradeneeded\n   - C) onerror\n   - D) Anywhere\n\n3. **Indexes are used for:**\n   - A) Storage only\n   - B) Fast queries\n   - C) Validation\n   - D) Nothing\n\n4. **Transactions can be:**\n   - A) Read-only\n   - B) Read-write\n   - C) Both\n   - D) Neither\n\n5. **keyPath is:**\n   - A) Index name\n   - B) Property used as key\n   - C) Store name\n   - D) Database name\n\n6. **Cursor is used for:**\n   - A) Iterating records\n   - B) Getting one record\n   - C) Deleting records\n   - D) Nothing\n\n7. **IndexedDB stores:**\n   - A) Only strings\n   - B) Structured data\n   - C) Only numbers\n   - D) Nothing\n\n**Answers**:\n1. B) Asynchronous\n2. B) onupgradeneeded\n3. B) Fast queries\n4. C) Both\n5. B) Property used as key\n6. A) Iterating records\n7. B) Structured data\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 16: Browser Storage. You now know:\n- localStorage and sessionStorage\n- IndexedDB for large data\n- CRUD operations\n- Database queries\n\n**What''s Next?**\n- Module 17: Browser APIs\n- Lesson 17.1: Geolocation API\n- Learn to get user location\n- Work with browser APIs\n\n---\n\n## Additional Resources\n\n- **MDN: IndexedDB**: [developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API](https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API)\n- **MDN: Using IndexedDB**: [developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB](https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB)\n- **JavaScript.info: IndexedDB**: [javascript.info/indexeddb](https://javascript.info/indexeddb)\n\n---\n\n*Lesson completed! You''ve finished Module 16: Browser Storage. Ready for Module 17: Browser APIs!*\n\n', NULL, 2, '2026-01-03 09:54:38', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand IndexedDB basics\n- Create and open databases\n- Create object stores\n- Perform CRUD operations\n- Use indexes for queries\n- Handle transactions\n- Compare IndexedDB with localStorage\n- Build database-driven applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (152, 57, 13, 'Geolocation API', 'geolocation-api', '# Lesson 17.1: Geolocation API\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand the Geolocation API\n- Get user''s current position\n- Watch position changes\n- Handle geolocation errors\n- Calculate distances between coordinates\n- Build location-based applications\n- Respect user privacy\n\n---\n\n## Introduction to Geolocation API\n\nThe Geolocation API allows web applications to access the user''s geographical location.\n\n### Why Geolocation?\n\n- **Location Services**: Find nearby places\n- **Maps Integration**: Show user on map\n- **Navigation**: Provide directions\n- **Location Tracking**: Track movement\n- **Personalization**: Location-based content\n- **Modern Web**: Essential for many apps\n\n### Privacy Considerations\n\n- **User Permission**: Always requires user consent\n- **HTTPS Required**: Must use secure connection (except localhost)\n- **Privacy Policy**: Inform users about location usage\n- **Opt-in**: Users can deny permission\n\n---\n\n## Getting Current Position\n\n### Basic getCurrentPosition()\n\n```javascript\nif (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(\n        function(position) {\n            console.log(''Latitude:'', position.coords.latitude);\n            console.log(''Longitude:'', position.coords.longitude);\n        },\n        function(error) {\n            console.error(''Error:'', error.message);\n        }\n    );\n} else {\n    console.error(''Geolocation not supported'');\n}\n```\n\n### Position Object\n\n```javascript\nnavigator.geolocation.getCurrentPosition(function(position) {\n    // Coordinates\n    console.log(''Latitude:'', position.coords.latitude);\n    console.log(''Longitude:'', position.coords.longitude);\n    console.log(''Altitude:'', position.coords.altitude);\n    console.log(''Accuracy:'', position.coords.accuracy);  // meters\n    console.log(''Altitude Accuracy:'', position.coords.altitudeAccuracy);\n    console.log(''Heading:'', position.coords.heading);  // degrees\n    console.log(''Speed:'', position.coords.speed);  // m/s\n    \n    // Timestamp\n    console.log(''Timestamp:'', new Date(position.timestamp));\n});\n```\n\n### Position Options\n\n```javascript\nlet options = {\n    enableHighAccuracy: true,  // Use GPS if available\n    timeout: 5000,              // Max time to wait (ms)\n    maximumAge: 0               // Max age of cached position (ms)\n};\n\nnavigator.geolocation.getCurrentPosition(\n    successCallback,\n    errorCallback,\n    options\n);\n```\n\n### Options Explained\n\n```javascript\n// enableHighAccuracy\n// true: Use GPS (more accurate, slower, more battery)\n// false: Use network (faster, less accurate)\nenableHighAccuracy: true\n\n// timeout\n// Maximum time to wait for position (milliseconds)\ntimeout: 10000  // 10 seconds\n\n// maximumAge\n// Accept cached position if less than this age (milliseconds)\nmaximumAge: 60000  // 1 minute\n```\n\n---\n\n## Watching Position\n\n### watchPosition()\n\nContinuously watch position changes:\n\n```javascript\nlet watchId = navigator.geolocation.watchPosition(\n    function(position) {\n        console.log(''Position updated:'', position.coords);\n    },\n    function(error) {\n        console.error(''Error:'', error.message);\n    },\n    {\n        enableHighAccuracy: true,\n        timeout: 5000,\n        maximumAge: 0\n    }\n);\n\n// Stop watching\nnavigator.geolocation.clearWatch(watchId);\n```\n\n### watchPosition() vs getCurrentPosition()\n\n```javascript\n// getCurrentPosition: Get position once\nnavigator.geolocation.getCurrentPosition(callback);\n\n// watchPosition: Get position continuously\nlet watchId = navigator.geolocation.watchPosition(callback);\n// Returns watch ID to stop later\n```\n\n---\n\n## Error Handling\n\n### Error Types\n\n```javascript\nnavigator.geolocation.getCurrentPosition(\n    function(position) {\n        // Success\n    },\n    function(error) {\n        switch(error.code) {\n            case error.PERMISSION_DENIED:\n                console.error(''User denied geolocation'');\n                break;\n            case error.POSITION_UNAVAILABLE:\n                console.error(''Position unavailable'');\n                break;\n            case error.TIMEOUT:\n                console.error(''Request timeout'');\n                break;\n            default:\n                console.error(''Unknown error'');\n        }\n    }\n);\n```\n\n### Error Codes\n\n```javascript\n// PERMISSION_DENIED (1)\n// User denied permission\n\n// POSITION_UNAVAILABLE (2)\n// Position could not be determined\n\n// TIMEOUT (3)\n// Request timed out\n```\n\n### Error Messages\n\n```javascript\nfunction handleGeolocationError(error) {\n    let message = '''';\n    \n    switch(error.code) {\n        case error.PERMISSION_DENIED:\n            message = ''User denied the request for geolocation.'';\n            break;\n        case error.POSITION_UNAVAILABLE:\n            message = ''Location information is unavailable.'';\n            break;\n        case error.TIMEOUT:\n            message = ''The request to get user location timed out.'';\n            break;\n        default:\n            message = ''An unknown error occurred.'';\n    }\n    \n    console.error(''Geolocation error:'', message);\n    return message;\n}\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Get Current Location\n\n```javascript\nfunction getCurrentLocation() {\n    return new Promise((resolve, reject) => {\n        if (!navigator.geolocation) {\n            reject(new Error(''Geolocation not supported''));\n            return;\n        }\n        \n        navigator.geolocation.getCurrentPosition(\n            (position) => {\n                resolve({\n                    latitude: position.coords.latitude,\n                    longitude: position.coords.longitude,\n                    accuracy: position.coords.accuracy\n                });\n            },\n            (error) => {\n                reject(error);\n            },\n            {\n                enableHighAccuracy: true,\n                timeout: 10000,\n                maximumAge: 0\n            }\n        );\n    });\n}\n\n// Usage\ngetCurrentLocation()\n    .then(location => {\n        console.log(''Location:'', location);\n    })\n    .catch(error => {\n        console.error(''Error:'', error);\n    });\n```\n\n### Example 2: Location Tracker\n\n```javascript\nclass LocationTracker {\n    constructor() {\n        this.watchId = null;\n        this.callbacks = [];\n    }\n    \n    start(callback) {\n        if (this.watchId !== null) {\n            console.warn(''Already tracking'');\n            return;\n        }\n        \n        if (!navigator.geolocation) {\n            throw new Error(''Geolocation not supported'');\n        }\n        \n        this.watchId = navigator.geolocation.watchPosition(\n            (position) => {\n                let location = {\n                    latitude: position.coords.latitude,\n                    longitude: position.coords.longitude,\n                    accuracy: position.coords.accuracy,\n                    timestamp: position.timestamp\n                };\n                \n                this.callbacks.forEach(cb => cb(location));\n            },\n            (error) => {\n                console.error(''Geolocation error:'', error);\n            },\n            {\n                enableHighAccuracy: true,\n                timeout: 5000,\n                maximumAge: 0\n            }\n        );\n    }\n    \n    stop() {\n        if (this.watchId !== null) {\n            navigator.geolocation.clearWatch(this.watchId);\n            this.watchId = null;\n        }\n    }\n    \n    onUpdate(callback) {\n        this.callbacks.push(callback);\n    }\n}\n\n// Usage\nlet tracker = new LocationTracker();\ntracker.onUpdate((location) => {\n    console.log(''Location updated:'', location);\n});\ntracker.start();\n```\n\n### Example 3: Distance Calculator\n\n```javascript\nfunction calculateDistance(lat1, lon1, lat2, lon2) {\n    const R = 6371; // Earth''s radius in km\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    \n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n              Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *\n              Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    \n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c;\n    \n    return distance;\n}\n\nfunction toRad(degrees) {\n    return degrees * (Math.PI / 180);\n}\n\n// Usage\nlet distance = calculateDistance(40.7128, -74.0060, 34.0522, -118.2437);\nconsole.log(''Distance:'', distance, ''km'');\n```\n\n### Example 4: Location-based App\n\n```javascript\nclass LocationApp {\n    constructor() {\n        this.currentLocation = null;\n        this.nearbyPlaces = [];\n    }\n    \n    async initialize() {\n        try {\n            this.currentLocation = await this.getLocation();\n            this.nearbyPlaces = await this.findNearbyPlaces(this.currentLocation);\n            this.displayLocation();\n            this.displayNearbyPlaces();\n        } catch (error) {\n            this.handleError(error);\n        }\n    }\n    \n    getLocation() {\n        return new Promise((resolve, reject) => {\n            navigator.geolocation.getCurrentPosition(\n                (position) => {\n                    resolve({\n                        lat: position.coords.latitude,\n                        lng: position.coords.longitude\n                    });\n                },\n                reject,\n                { enableHighAccuracy: true, timeout: 10000 }\n            );\n        });\n    }\n    \n    async findNearbyPlaces(location) {\n        // Simulate API call\n        return [\n            { name: ''Place 1'', distance: 0.5 },\n            { name: ''Place 2'', distance: 1.2 }\n        ];\n    }\n    \n    displayLocation() {\n        console.log(''Current location:'', this.currentLocation);\n    }\n    \n    displayNearbyPlaces() {\n        console.log(''Nearby places:'', this.nearbyPlaces);\n    }\n    \n    handleError(error) {\n        console.error(''Location error:'', error.message);\n    }\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Geolocation App\n\n**Objective**: Practice using the Geolocation API to get and track user location.\n\n**Instructions**:\n\n1. Create an HTML file with location display\n2. Create a JavaScript file for geolocation\n3. Practice:\n   - Getting current position\n   - Watching position changes\n   - Handling errors\n   - Calculating distances\n   - Displaying location on map\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Geolocation Practice</title>\n    <style>\n        .container {\n            max-width: 600px;\n            margin: 20px;\n        }\n        button {\n            padding: 10px 20px;\n            margin: 5px;\n        }\n        .location-info {\n            margin-top: 20px;\n            padding: 15px;\n            background-color: #f0f0f0;\n            border-radius: 5px;\n        }\n        .error {\n            color: red;\n        }\n        .success {\n            color: green;\n        }\n    </style>\n</head>\n<body>\n    <div class="container">\n        <h1>Geolocation Practice</h1>\n        \n        <button onclick="getCurrentLocation()">Get Current Location</button>\n        <button onclick="startTracking()">Start Tracking</button>\n        <button onclick="stopTracking()">Stop Tracking</button>\n        \n        <div id="locationInfo" class="location-info"></div>\n        <div id="trackingInfo" class="location-info"></div>\n    </div>\n    \n    <script src="geolocation-practice.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// geolocation-practice.js\nconsole.log("=== Geolocation Practice ===");\n\nlet locationInfo = document.getElementById(''locationInfo'');\nlet trackingInfo = document.getElementById(''trackingInfo'');\nlet watchId = null;\n\nfunction displayLocation(position, element) {\n    let html = `\n        <h3>Location Information</h3>\n        <p><strong>Latitude:</strong> ${position.coords.latitude.toFixed(6)}</p>\n        <p><strong>Longitude:</strong> ${position.coords.longitude.toFixed(6)}</p>\n        <p><strong>Accuracy:</strong> ${position.coords.accuracy.toFixed(2)} meters</p>\n        <p><strong>Altitude:</strong> ${position.coords.altitude ? position.coords.altitude.toFixed(2) + '' meters'' : ''Not available''}</p>\n        <p><strong>Heading:</strong> ${position.coords.heading ? position.coords.heading.toFixed(2) + '' degrees'' : ''Not available''}</p>\n        <p><strong>Speed:</strong> ${position.coords.speed ? position.coords.speed.toFixed(2) + '' m/s'' : ''Not available''}</p>\n        <p><strong>Timestamp:</strong> ${new Date(position.timestamp).toLocaleString()}</p>\n    `;\n    element.innerHTML = html;\n    element.className = ''location-info success'';\n}\n\nfunction displayError(error, element) {\n    let message = '''';\n    switch(error.code) {\n        case error.PERMISSION_DENIED:\n            message = ''User denied geolocation permission'';\n            break;\n        case error.POSITION_UNAVAILABLE:\n            message = ''Position information unavailable'';\n            break;\n        case error.TIMEOUT:\n            message = ''Request timeout'';\n            break;\n        default:\n            message = ''Unknown error occurred'';\n    }\n    \n    element.innerHTML = `<p class="error">Error: ${message}</p>`;\n    element.className = ''location-info error'';\n}\n\nconsole.log("\\n=== Check Geolocation Support ===");\n\nif (navigator.geolocation) {\n    console.log(''Geolocation is supported'');\n} else {\n    console.error(''Geolocation is not supported'');\n    locationInfo.innerHTML = ''<p class="error">Geolocation is not supported in this browser</p>'';\n}\nconsole.log();\n\nconsole.log("=== Get Current Location ===");\n\nfunction getCurrentLocation() {\n    if (!navigator.geolocation) {\n        displayError({ code: -1 }, locationInfo);\n        return;\n    }\n    \n    locationInfo.innerHTML = ''<p>Getting location...</p>'';\n    \n    navigator.geolocation.getCurrentPosition(\n        function(position) {\n            console.log(''Position obtained:'', position);\n            displayLocation(position, locationInfo);\n            \n            // Log coordinates\n            console.log(''Latitude:'', position.coords.latitude);\n            console.log(''Longitude:'', position.coords.longitude);\n            console.log(''Accuracy:'', position.coords.accuracy, ''meters'');\n        },\n        function(error) {\n            console.error(''Error getting position:'', error);\n            displayError(error, locationInfo);\n        },\n        {\n            enableHighAccuracy: true,\n            timeout: 10000,\n            maximumAge: 0\n        }\n    );\n}\nconsole.log();\n\nconsole.log("=== Watch Position ===");\n\nfunction startTracking() {\n    if (!navigator.geolocation) {\n        displayError({ code: -1 }, trackingInfo);\n        return;\n    }\n    \n    if (watchId !== null) {\n        console.warn(''Already tracking'');\n        return;\n    }\n    \n    trackingInfo.innerHTML = ''<p>Starting to track location...</p>'';\n    \n    watchId = navigator.geolocation.watchPosition(\n        function(position) {\n            console.log(''Position updated:'', position);\n            displayLocation(position, trackingInfo);\n            \n            // Calculate distance if previous position exists\n            if (window.lastPosition) {\n                let distance = calculateDistance(\n                    window.lastPosition.coords.latitude,\n                    window.lastPosition.coords.longitude,\n                    position.coords.latitude,\n                    position.coords.longitude\n                );\n                console.log(''Distance moved:'', distance.toFixed(2), ''km'');\n            }\n            window.lastPosition = position;\n        },\n        function(error) {\n            console.error(''Error watching position:'', error);\n            displayError(error, trackingInfo);\n        },\n        {\n            enableHighAccuracy: true,\n            timeout: 5000,\n            maximumAge: 0\n        }\n    );\n    \n    console.log(''Tracking started, watch ID:'', watchId);\n}\n\nfunction stopTracking() {\n    if (watchId !== null) {\n        navigator.geolocation.clearWatch(watchId);\n        watchId = null;\n        trackingInfo.innerHTML = ''<p>Tracking stopped</p>'';\n        console.log(''Tracking stopped'');\n    } else {\n        console.warn(''Not currently tracking'');\n    }\n}\nconsole.log();\n\nconsole.log("=== Distance Calculation ===");\n\nfunction calculateDistance(lat1, lon1, lat2, lon2) {\n    const R = 6371; // Earth''s radius in km\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    \n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n              Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *\n              Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    \n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c;\n    \n    return distance;\n}\n\nfunction toRad(degrees) {\n    return degrees * (Math.PI / 180);\n}\n\n// Test distance calculation\nlet distance = calculateDistance(40.7128, -74.0060, 34.0522, -118.2437);\nconsole.log(''Distance between NYC and LA:'', distance.toFixed(2), ''km'');\nconsole.log();\n\nconsole.log("=== Position Options ===");\n\nfunction getLocationWithOptions() {\n    let options = {\n        enableHighAccuracy: true,  // Use GPS\n        timeout: 10000,            // 10 seconds\n        maximumAge: 0              // No cache\n    };\n    \n    navigator.geolocation.getCurrentPosition(\n        function(position) {\n            console.log(''High accuracy position:'', position);\n        },\n        function(error) {\n            console.error(''Error:'', error);\n        },\n        options\n    );\n}\nconsole.log();\n\nconsole.log("=== Error Handling ===");\n\nfunction handleGeolocationError(error) {\n    let message = '''';\n    let code = '''';\n    \n    switch(error.code) {\n        case error.PERMISSION_DENIED:\n            message = ''User denied the request for geolocation'';\n            code = ''PERMISSION_DENIED (1)'';\n            break;\n        case error.POSITION_UNAVAILABLE:\n            message = ''Location information is unavailable'';\n            code = ''POSITION_UNAVAILABLE (2)'';\n            break;\n        case error.TIMEOUT:\n            message = ''The request to get user location timed out'';\n            code = ''TIMEOUT (3)'';\n            break;\n        default:\n            message = ''An unknown error occurred'';\n            code = ''UNKNOWN'';\n    }\n    \n    console.error(''Error code:'', code);\n    console.error(''Error message:'', message);\n    return { code, message };\n}\nconsole.log();\n\nconsole.log("=== Promise-based Wrapper ===");\n\nfunction getCurrentLocationPromise() {\n    return new Promise((resolve, reject) => {\n        if (!navigator.geolocation) {\n            reject(new Error(''Geolocation not supported''));\n            return;\n        }\n        \n        navigator.geolocation.getCurrentPosition(\n            (position) => {\n                resolve({\n                    latitude: position.coords.latitude,\n                    longitude: position.coords.longitude,\n                    accuracy: position.coords.accuracy,\n                    timestamp: position.timestamp\n                });\n            },\n            (error) => {\n                reject(error);\n            },\n            {\n                enableHighAccuracy: true,\n                timeout: 10000,\n                maximumAge: 0\n            }\n        );\n    });\n}\n\n// Usage example\ngetCurrentLocationPromise()\n    .then(location => {\n        console.log(''Location (promise):'', location);\n    })\n    .catch(error => {\n        console.error(''Error (promise):'', error);\n    });\nconsole.log();\n\nconsole.log("=== Location Tracker Class ===");\n\nclass LocationTracker {\n    constructor() {\n        this.watchId = null;\n        this.callbacks = [];\n        this.positions = [];\n    }\n    \n    start(callback) {\n        if (this.watchId !== null) {\n            console.warn(''Already tracking'');\n            return;\n        }\n        \n        if (!navigator.geolocation) {\n            throw new Error(''Geolocation not supported'');\n        }\n        \n        this.watchId = navigator.geolocation.watchPosition(\n            (position) => {\n                let location = {\n                    latitude: position.coords.latitude,\n                    longitude: position.coords.longitude,\n                    accuracy: position.coords.accuracy,\n                    timestamp: position.timestamp\n                };\n                \n                this.positions.push(location);\n                this.callbacks.forEach(cb => cb(location));\n            },\n            (error) => {\n                console.error(''Geolocation error:'', error);\n            },\n            {\n                enableHighAccuracy: true,\n                timeout: 5000,\n                maximumAge: 0\n            }\n        );\n    }\n    \n    stop() {\n        if (this.watchId !== null) {\n            navigator.geolocation.clearWatch(this.watchId);\n            this.watchId = null;\n        }\n    }\n    \n    onUpdate(callback) {\n        this.callbacks.push(callback);\n    }\n    \n    getPositions() {\n        return this.positions;\n    }\n    \n    clearPositions() {\n        this.positions = [];\n    }\n}\n\n// Demonstrate tracker\nlet tracker = new LocationTracker();\ntracker.onUpdate((location) => {\n    console.log(''Tracker update:'', location);\n});\nconsole.log();\n```\n\n**Expected Output** (in browser console):\n```\n=== Geolocation Practice ===\n\n=== Check Geolocation Support ===\nGeolocation is supported\n\n=== Get Current Location ===\n[On button click]\nPosition obtained: [Position object]\nLatitude: [value]\nLongitude: [value]\nAccuracy: [value] meters\n\n=== Watch Position ===\n[On start tracking]\nTracking started, watch ID: [id]\nPosition updated: [Position object]\n[On movement]\nDistance moved: [value] km\n\n=== Distance Calculation ===\nDistance between NYC and LA: [value] km\n\n=== Promise-based Wrapper ===\nLocation (promise): { latitude: [value], longitude: [value], ... }\n\n=== Location Tracker Class ===\nTracker update: { latitude: [value], longitude: [value], ... }\n```\n\n**Challenge (Optional)**:\n- Build a complete location tracking app\n- Create a distance calculator\n- Build a location history system\n- Integrate with mapping services\n\n---\n\n## Common Mistakes\n\n### 1. Not Checking Support\n\n```javascript\n// ⚠️ Problem: Might not be supported\nnavigator.geolocation.getCurrentPosition(callback);\n\n// ✅ Solution: Check first\nif (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(callback);\n} else {\n    console.error(''Geolocation not supported'');\n}\n```\n\n### 2. Not Handling Errors\n\n```javascript\n// ⚠️ Problem: No error handling\nnavigator.geolocation.getCurrentPosition(success);\n\n// ✅ Solution: Handle errors\nnavigator.geolocation.getCurrentPosition(success, error);\n```\n\n### 3. Not Clearing Watch\n\n```javascript\n// ⚠️ Problem: Watch continues after component unmounts\nlet watchId = navigator.geolocation.watchPosition(callback);\n// Never cleared!\n\n// ✅ Solution: Clear when done\nnavigator.geolocation.clearWatch(watchId);\n```\n\n### 4. Using HTTP Instead of HTTPS\n\n```javascript\n// ⚠️ Problem: Geolocation requires HTTPS (except localhost)\n// Won''t work on HTTP sites\n\n// ✅ Solution: Use HTTPS or localhost\n```\n\n---\n\n## Key Takeaways\n\n1. **Geolocation API**: Access user location\n2. **getCurrentPosition()**: Get position once\n3. **watchPosition()**: Track position continuously\n4. **Error Handling**: Always handle errors\n5. **Privacy**: Requires user permission, HTTPS required\n6. **Options**: enableHighAccuracy, timeout, maximumAge\n7. **Best Practice**: Check support, handle errors, clear watches\n8. **Use Cases**: Maps, navigation, location-based services\n\n---\n\n## Quiz: Geolocation\n\nTest your understanding with these questions:\n\n1. **Geolocation requires:**\n   - A) HTTP\n   - B) HTTPS (or localhost)\n   - C) No connection\n   - D) Nothing\n\n2. **getCurrentPosition() gets:**\n   - A) Position once\n   - B) Position continuously\n   - C) Both\n   - D) Nothing\n\n3. **watchPosition() returns:**\n   - A) Position\n   - B) Watch ID\n   - C) Error\n   - D) Nothing\n\n4. **PERMISSION_DENIED means:**\n   - A) Position unavailable\n   - B) User denied permission\n   - C) Timeout\n   - D) Unknown error\n\n5. **enableHighAccuracy:**\n   - A) Uses GPS\n   - B) Uses network\n   - C) Both\n   - D) Neither\n\n6. **clearWatch() stops:**\n   - A) getCurrentPosition\n   - B) watchPosition\n   - C) Both\n   - D) Nothing\n\n7. **Geolocation is:**\n   - A) Synchronous\n   - B) Asynchronous\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. B) HTTPS (or localhost)\n2. A) Position once\n3. B) Watch ID\n4. B) User denied permission\n5. A) Uses GPS\n6. B) watchPosition\n7. B) Asynchronous\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned the Geolocation API. You now know:\n- How to get user location\n- How to track position changes\n- How to handle errors\n- How to calculate distances\n\n**What''s Next?**\n- Lesson 17.2: Web Storage and File APIs\n- Learn FileReader API\n- Work with file uploads\n- Implement drag and drop\n\n---\n\n## Additional Resources\n\n- **MDN: Geolocation API**: [developer.mozilla.org/en-US/docs/Web/API/Geolocation_API](https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API)\n- **MDN: Using Geolocation**: [developer.mozilla.org/en-US/docs/Web/API/Geolocation_API/Using_the_Geolocation_API](https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API/Using_the_Geolocation_API)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:54:38', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand the Geolocation API\n- Get user''s current position\n- Watch position changes\n- Handle geolocation errors\n- Calculate distances between coordinates\n- Build location-based applications\n- Respect user privacy');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (153, 57, 13, 'Canvas API', 'canvas-api', '# Lesson 17.2: Web Storage and File APIs\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand the FileReader API\n- Read files from user input\n- Handle different file types\n- Implement drag and drop\n- Work with file objects\n- Validate file types and sizes\n- Build file upload interfaces\n\n---\n\n## Introduction to File APIs\n\nFile APIs allow web applications to read files from the user''s device.\n\n### Why File APIs?\n\n- **File Uploads**: Upload files to server\n- **File Processing**: Process files client-side\n- **Image Preview**: Show image before upload\n- **File Validation**: Validate before upload\n- **Drag and Drop**: Better UX for file selection\n- **Modern Web**: Essential for web applications\n\n---\n\n## FileReader API\n\n### Basic File Reading\n\n```javascript\nlet fileInput = document.getElementById(''fileInput'');\n\nfileInput.addEventListener(''change'', function(event) {\n    let file = event.target.files[0];\n    \n    if (file) {\n        let reader = new FileReader();\n        \n        reader.onload = function(e) {\n            console.log(''File content:'', e.target.result);\n        };\n        \n        reader.readAsText(file);\n    }\n});\n```\n\n### FileReader Methods\n\n```javascript\nlet reader = new FileReader();\n\n// Read as text\nreader.readAsText(file);\n\n// Read as data URL (base64)\nreader.readAsDataURL(file);\n\n// Read as array buffer\nreader.readAsArrayBuffer(file);\n\n// Read as binary string\nreader.readAsBinaryString(file);\n```\n\n### FileReader Events\n\n```javascript\nlet reader = new FileReader();\n\nreader.onload = function(event) {\n    console.log(''File loaded:'', event.target.result);\n};\n\nreader.onerror = function(event) {\n    console.error(''Error reading file:'', event.target.error);\n};\n\nreader.onprogress = function(event) {\n    if (event.lengthComputable) {\n        let percentLoaded = (event.loaded / event.total) * 100;\n        console.log(''Progress:'', percentLoaded + ''%'');\n    }\n};\n\nreader.onloadstart = function() {\n    console.log(''Reading started'');\n};\n\nreader.onloadend = function() {\n    console.log(''Reading finished'');\n};\n\nreader.onabort = function() {\n    console.log(''Reading aborted'');\n};\n```\n\n---\n\n## Reading Different File Types\n\n### Reading Text Files\n\n```javascript\nfunction readTextFile(file) {\n    return new Promise((resolve, reject) => {\n        let reader = new FileReader();\n        \n        reader.onload = function(event) {\n            resolve(event.target.result);\n        };\n        \n        reader.onerror = function(event) {\n            reject(event.target.error);\n        };\n        \n        reader.readAsText(file);\n    });\n}\n\n// Usage\nlet fileInput = document.getElementById(''fileInput'');\nfileInput.addEventListener(''change'', async function(event) {\n    let file = event.target.files[0];\n    if (file) {\n        try {\n            let content = await readTextFile(file);\n            console.log(''File content:'', content);\n        } catch (error) {\n            console.error(''Error:'', error);\n        }\n    }\n});\n```\n\n### Reading Images\n\n```javascript\nfunction readImageFile(file) {\n    return new Promise((resolve, reject) => {\n        let reader = new FileReader();\n        \n        reader.onload = function(event) {\n            let img = new Image();\n            img.src = event.target.result;\n            img.onload = function() {\n                resolve({\n                    dataURL: event.target.result,\n                    width: img.width,\n                    height: img.height\n                });\n            };\n        };\n        \n        reader.onerror = function(event) {\n            reject(event.target.error);\n        };\n        \n        reader.readAsDataURL(file);\n    });\n}\n\n// Usage\nlet fileInput = document.getElementById(''imageInput'');\nfileInput.addEventListener(''change'', async function(event) {\n    let file = event.target.files[0];\n    if (file) {\n        try {\n            let imageData = await readImageFile(file);\n            document.getElementById(''preview'').src = imageData.dataURL;\n            console.log(''Image size:'', imageData.width, ''x'', imageData.height);\n        } catch (error) {\n            console.error(''Error:'', error);\n        }\n    }\n});\n```\n\n### Reading JSON Files\n\n```javascript\nfunction readJSONFile(file) {\n    return new Promise((resolve, reject) => {\n        let reader = new FileReader();\n        \n        reader.onload = function(event) {\n            try {\n                let json = JSON.parse(event.target.result);\n                resolve(json);\n            } catch (error) {\n                reject(new Error(''Invalid JSON''));\n            }\n        };\n        \n        reader.onerror = function(event) {\n            reject(event.target.error);\n        };\n        \n        reader.readAsText(file);\n    });\n}\n```\n\n### Reading Binary Files\n\n```javascript\nfunction readBinaryFile(file) {\n    return new Promise((resolve, reject) => {\n        let reader = new FileReader();\n        \n        reader.onload = function(event) {\n            resolve(event.target.result);  // ArrayBuffer\n        };\n        \n        reader.onerror = function(event) {\n            reject(event.target.error);\n        };\n        \n        reader.readAsArrayBuffer(file);\n    });\n}\n```\n\n---\n\n## File Object Properties\n\n### Accessing File Information\n\n```javascript\nlet fileInput = document.getElementById(''fileInput'');\n\nfileInput.addEventListener(''change'', function(event) {\n    let file = event.target.files[0];\n    \n    if (file) {\n        console.log(''File name:'', file.name);\n        console.log(''File size:'', file.size, ''bytes'');\n        console.log(''File type:'', file.type);\n        console.log(''Last modified:'', new Date(file.lastModified));\n    }\n});\n```\n\n### File Validation\n\n```javascript\nfunction validateFile(file, options = {}) {\n    let errors = [];\n    \n    // Check file type\n    if (options.allowedTypes && !options.allowedTypes.includes(file.type)) {\n        errors.push(''File type not allowed'');\n    }\n    \n    // Check file size\n    if (options.maxSize && file.size > options.maxSize) {\n        errors.push(''File too large'');\n    }\n    \n    // Check file name\n    if (options.allowedExtensions) {\n        let extension = file.name.split(''.'').pop().toLowerCase();\n        if (!options.allowedExtensions.includes(extension)) {\n            errors.push(''File extension not allowed'');\n        }\n    }\n    \n    return {\n        valid: errors.length === 0,\n        errors: errors\n    };\n}\n\n// Usage\nlet fileInput = document.getElementById(''fileInput'');\nfileInput.addEventListener(''change'', function(event) {\n    let file = event.target.files[0];\n    if (file) {\n        let validation = validateFile(file, {\n            allowedTypes: [''image/jpeg'', ''image/png''],\n            maxSize: 5 * 1024 * 1024,  // 5MB\n            allowedExtensions: [''jpg'', ''jpeg'', ''png'']\n        });\n        \n        if (!validation.valid) {\n            console.error(''Validation errors:'', validation.errors);\n        }\n    }\n});\n```\n\n---\n\n## Drag and Drop API\n\n### Basic Drag and Drop\n\n```javascript\nlet dropZone = document.getElementById(''dropZone'');\n\n// Prevent default drag behaviors\n[''dragenter'', ''dragover'', ''dragleave'', ''drop''].forEach(eventName => {\n    dropZone.addEventListener(eventName, preventDefaults, false);\n});\n\nfunction preventDefaults(e) {\n    e.preventDefault();\n    e.stopPropagation();\n}\n\n// Highlight drop zone\n[''dragenter'', ''dragover''].forEach(eventName => {\n    dropZone.addEventListener(eventName, highlight, false);\n});\n\n[''dragleave'', ''drop''].forEach(eventName => {\n    dropZone.addEventListener(eventName, unhighlight, false);\n});\n\nfunction highlight(e) {\n    dropZone.classList.add(''drag-over'');\n}\n\nfunction unhighlight(e) {\n    dropZone.classList.remove(''drag-over'');\n}\n\n// Handle drop\ndropZone.addEventListener(''drop'', handleDrop, false);\n\nfunction handleDrop(e) {\n    let dt = e.dataTransfer;\n    let files = dt.files;\n    \n    handleFiles(files);\n}\n```\n\n### Handling Dropped Files\n\n```javascript\nfunction handleFiles(files) {\n    [...files].forEach(file => {\n        processFile(file);\n    });\n}\n\nfunction processFile(file) {\n    if (file.type.startsWith(''image/'')) {\n        readImageFile(file).then(imageData => {\n            displayImage(imageData.dataURL);\n        });\n    } else if (file.type === ''text/plain'') {\n        readTextFile(file).then(content => {\n            displayText(content);\n        });\n    }\n}\n```\n\n### Drag Events\n\n```javascript\nlet dropZone = document.getElementById(''dropZone'');\n\n// dragenter: Item enters drop zone\ndropZone.addEventListener(''dragenter'', function(e) {\n    console.log(''Drag enter'');\n});\n\n// dragover: Item over drop zone\ndropZone.addEventListener(''dragover'', function(e) {\n    console.log(''Drag over'');\n    e.preventDefault();  // Allow drop\n});\n\n// dragleave: Item leaves drop zone\ndropZone.addEventListener(''dragleave'', function(e) {\n    console.log(''Drag leave'');\n});\n\n// drop: Item dropped\ndropZone.addEventListener(''drop'', function(e) {\n    console.log(''Drop'');\n    let files = e.dataTransfer.files;\n    handleFiles(files);\n});\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Image Preview\n\n```javascript\nlet fileInput = document.getElementById(''imageInput'');\nlet preview = document.getElementById(''preview'');\n\nfileInput.addEventListener(''change'', function(event) {\n    let file = event.target.files[0];\n    \n    if (file && file.type.startsWith(''image/'')) {\n        let reader = new FileReader();\n        \n        reader.onload = function(e) {\n            preview.src = e.target.result;\n            preview.style.display = ''block'';\n        };\n        \n        reader.readAsDataURL(file);\n    }\n});\n```\n\n### Example 2: File Upload with Progress\n\n```javascript\nfunction uploadFile(file) {\n    return new Promise((resolve, reject) => {\n        let formData = new FormData();\n        formData.append(''file'', file);\n        \n        let xhr = new XMLHttpRequest();\n        \n        xhr.upload.onprogress = function(e) {\n            if (e.lengthComputable) {\n                let percentComplete = (e.loaded / e.total) * 100;\n                updateProgress(percentComplete);\n            }\n        };\n        \n        xhr.onload = function() {\n            if (xhr.status === 200) {\n                resolve(xhr.response);\n            } else {\n                reject(new Error(''Upload failed''));\n            }\n        };\n        \n        xhr.onerror = function() {\n            reject(new Error(''Upload error''));\n        };\n        \n        xhr.open(''POST'', ''/upload'');\n        xhr.send(formData);\n    });\n}\n\nfunction updateProgress(percent) {\n    document.getElementById(''progress'').style.width = percent + ''%'';\n}\n```\n\n### Example 3: Multiple File Upload\n\n```javascript\nlet fileInput = document.getElementById(''fileInput'');\nfileInput.multiple = true;  // Allow multiple files\n\nfileInput.addEventListener(''change'', function(event) {\n    let files = Array.from(event.target.files);\n    \n    files.forEach((file, index) => {\n        uploadFile(file).then(response => {\n            console.log(`File ${index + 1} uploaded:`, response);\n        }).catch(error => {\n            console.error(`File ${index + 1} error:`, error);\n        });\n    });\n});\n```\n\n### Example 4: Complete File Handler\n\n```javascript\nclass FileHandler {\n    constructor(options = {}) {\n        this.options = {\n            maxSize: options.maxSize || 10 * 1024 * 1024,  // 10MB\n            allowedTypes: options.allowedTypes || [],\n            onProgress: options.onProgress || null,\n            onComplete: options.onComplete || null,\n            onError: options.onError || null\n        };\n    }\n    \n    validate(file) {\n        if (this.options.allowedTypes.length > 0) {\n            if (!this.options.allowedTypes.includes(file.type)) {\n                throw new Error(''File type not allowed'');\n            }\n        }\n        \n        if (file.size > this.options.maxSize) {\n            throw new Error(''File too large'');\n        }\n        \n        return true;\n    }\n    \n    readAsText(file) {\n        return new Promise((resolve, reject) => {\n            this.validate(file);\n            \n            let reader = new FileReader();\n            \n            reader.onprogress = (e) => {\n                if (this.options.onProgress) {\n                    this.options.onProgress(e.loaded / e.total);\n                }\n            };\n            \n            reader.onload = (e) => {\n                if (this.options.onComplete) {\n                    this.options.onComplete(e.target.result);\n                }\n                resolve(e.target.result);\n            };\n            \n            reader.onerror = (e) => {\n                if (this.options.onError) {\n                    this.options.onError(e.target.error);\n                }\n                reject(e.target.error);\n            };\n            \n            reader.readAsText(file);\n        });\n    }\n    \n    readAsDataURL(file) {\n        return new Promise((resolve, reject) => {\n            this.validate(file);\n            \n            let reader = new FileReader();\n            \n            reader.onload = (e) => {\n                resolve(e.target.result);\n            };\n            \n            reader.onerror = (e) => {\n                reject(e.target.error);\n            };\n            \n            reader.readAsDataURL(file);\n        });\n    }\n}\n\n// Usage\nlet handler = new FileHandler({\n    maxSize: 5 * 1024 * 1024,\n    allowedTypes: [''image/jpeg'', ''image/png''],\n    onProgress: (percent) => console.log(''Progress:'', percent),\n    onComplete: (result) => console.log(''Complete:'', result)\n});\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: File Handling\n\n**Objective**: Practice using FileReader API and drag and drop to handle files.\n\n**Instructions**:\n\n1. Create an HTML file with file input and drop zone\n2. Create a JavaScript file for file handling\n3. Practice:\n   - Reading different file types\n   - Image preview\n   - File validation\n   - Drag and drop\n   - Progress tracking\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>File APIs Practice</title>\n    <style>\n        .container {\n            max-width: 800px;\n            margin: 20px;\n        }\n        .drop-zone {\n            border: 2px dashed #ccc;\n            border-radius: 5px;\n            padding: 40px;\n            text-align: center;\n            margin: 20px 0;\n            transition: border-color 0.3s;\n        }\n        .drop-zone.drag-over {\n            border-color: #007bff;\n            background-color: #f0f8ff;\n        }\n        .preview {\n            max-width: 100%;\n            margin-top: 20px;\n        }\n        .file-info {\n            margin-top: 20px;\n            padding: 15px;\n            background-color: #f0f0f0;\n            border-radius: 5px;\n        }\n        .progress {\n            width: 100%;\n            height: 20px;\n            background-color: #f0f0f0;\n            border-radius: 10px;\n            overflow: hidden;\n            margin-top: 10px;\n        }\n        .progress-bar {\n            height: 100%;\n            background-color: #007bff;\n            transition: width 0.3s;\n        }\n    </style>\n</head>\n<body>\n    <div class="container">\n        <h1>File APIs Practice</h1>\n        \n        <h2>File Input</h2>\n        <input type="file" id="fileInput" accept="image/*,text/*">\n        \n        <h2>Drag and Drop Zone</h2>\n        <div id="dropZone" class="drop-zone">\n            <p>Drag and drop files here or click to select</p>\n        </div>\n        \n        <div id="fileInfo" class="file-info"></div>\n        <div id="preview"></div>\n        <div id="progress" class="progress" style="display: none;">\n            <div id="progressBar" class="progress-bar" style="width: 0%"></div>\n        </div>\n        \n        <div id="output"></div>\n    </div>\n    \n    <script src="file-apis-practice.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// file-apis-practice.js\nconsole.log("=== File APIs Practice ===");\n\nlet fileInput = document.getElementById(''fileInput'');\nlet dropZone = document.getElementById(''dropZone'');\nlet fileInfo = document.getElementById(''fileInfo'');\nlet preview = document.getElementById(''preview'');\nlet progress = document.getElementById(''progress'');\nlet progressBar = document.getElementById(''progressBar'');\nlet output = document.getElementById(''output'');\n\nfunction log(message) {\n    console.log(message);\n    output.innerHTML += ''<p>'' + message + ''</p>'';\n}\n\nconsole.log("\\n=== FileReader Basics ===");\n\nfileInput.addEventListener(''change'', function(event) {\n    let file = event.target.files[0];\n    if (file) {\n        handleFile(file);\n    }\n});\n\nfunction handleFile(file) {\n    console.log(''File selected:'', file.name);\n    displayFileInfo(file);\n    \n    if (file.type.startsWith(''image/'')) {\n        readImageFile(file);\n    } else if (file.type === ''text/plain'' || file.type === ''text/csv'') {\n        readTextFile(file);\n    } else {\n        log(''File type not supported for preview'');\n    }\n}\n\nfunction displayFileInfo(file) {\n    let info = `\n        <h3>File Information</h3>\n        <p><strong>Name:</strong> ${file.name}</p>\n        <p><strong>Size:</strong> ${(file.size / 1024).toFixed(2)} KB</p>\n        <p><strong>Type:</strong> ${file.type || ''Unknown''}</p>\n        <p><strong>Last Modified:</strong> ${new Date(file.lastModified).toLocaleString()}</p>\n    `;\n    fileInfo.innerHTML = info;\n}\nconsole.log();\n\nconsole.log("=== Reading Text Files ===");\n\nfunction readTextFile(file) {\n    let reader = new FileReader();\n    \n    reader.onloadstart = function() {\n        log(''Reading text file...'');\n        progress.style.display = ''block'';\n    };\n    \n    reader.onprogress = function(event) {\n        if (event.lengthComputable) {\n            let percent = (event.loaded / event.total) * 100;\n            progressBar.style.width = percent + ''%'';\n            console.log(''Progress:'', percent.toFixed(2) + ''%'');\n        }\n    };\n    \n    reader.onload = function(event) {\n        log(''Text file loaded'');\n        progress.style.display = ''none'';\n        progressBar.style.width = ''0%'';\n        \n        let content = event.target.result;\n        preview.innerHTML = ''<pre>'' + content.substring(0, 1000) + (content.length > 1000 ? ''...'' : '''') + ''</pre>'';\n        console.log(''File content (first 100 chars):'', content.substring(0, 100));\n    };\n    \n    reader.onerror = function(event) {\n        log(''Error reading file: '' + event.target.error);\n        progress.style.display = ''none'';\n    };\n    \n    reader.readAsText(file);\n}\nconsole.log();\n\nconsole.log("=== Reading Image Files ===");\n\nfunction readImageFile(file) {\n    let reader = new FileReader();\n    \n    reader.onload = function(event) {\n        log(''Image file loaded'');\n        let img = document.createElement(''img'');\n        img.src = event.target.result;\n        img.className = ''preview'';\n        preview.innerHTML = '''';\n        preview.appendChild(img);\n        \n        // Get image dimensions\n        let image = new Image();\n        image.src = event.target.result;\n        image.onload = function() {\n            console.log(''Image dimensions:'', image.width, ''x'', image.height);\n            log(''Image dimensions: '' + image.width + '' x '' + image.height);\n        };\n    };\n    \n    reader.onerror = function(event) {\n        log(''Error reading image: '' + event.target.error);\n    };\n    \n    reader.readAsDataURL(file);\n}\nconsole.log();\n\nconsole.log("=== Drag and Drop ===");\n\n// Prevent default drag behaviors\n[''dragenter'', ''dragover'', ''dragleave'', ''drop''].forEach(eventName => {\n    dropZone.addEventListener(eventName, preventDefaults, false);\n    document.body.addEventListener(eventName, preventDefaults, false);\n});\n\nfunction preventDefaults(e) {\n    e.preventDefault();\n    e.stopPropagation();\n}\n\n// Highlight drop zone\n[''dragenter'', ''dragover''].forEach(eventName => {\n    dropZone.addEventListener(eventName, function() {\n        dropZone.classList.add(''drag-over'');\n    }, false);\n});\n\n[''dragleave'', ''drop''].forEach(eventName => {\n    dropZone.addEventListener(eventName, function() {\n        dropZone.classList.remove(''drag-over'');\n    }, false);\n});\n\n// Handle drop\ndropZone.addEventListener(''drop'', function(e) {\n    let dt = e.dataTransfer;\n    let files = dt.files;\n    \n    log(''Files dropped: '' + files.length);\n    \n    handleFiles(files);\n}, false);\n\n// Click to select\ndropZone.addEventListener(''click'', function() {\n    fileInput.click();\n});\n\nfunction handleFiles(files) {\n    [...files].forEach((file, index) => {\n        log(`Processing file ${index + 1}: ${file.name}`);\n        handleFile(file);\n    });\n}\nconsole.log();\n\nconsole.log("=== File Validation ===");\n\nfunction validateFile(file) {\n    let errors = [];\n    \n    // Check file size (max 10MB)\n    const maxSize = 10 * 1024 * 1024;\n    if (file.size > maxSize) {\n        errors.push(''File too large (max 10MB)'');\n    }\n    \n    // Check file type\n    const allowedTypes = [''image/jpeg'', ''image/png'', ''image/gif'', ''text/plain'', ''text/csv''];\n    if (allowedTypes.length > 0 && !allowedTypes.includes(file.type)) {\n        errors.push(''File type not allowed'');\n    }\n    \n    return {\n        valid: errors.length === 0,\n        errors: errors\n    };\n}\n\nfileInput.addEventListener(''change'', function(event) {\n    let file = event.target.files[0];\n    if (file) {\n        let validation = validateFile(file);\n        if (!validation.valid) {\n            log(''Validation errors: '' + validation.errors.join('', ''));\n            fileInput.value = '''';  // Clear input\n        }\n    }\n});\nconsole.log();\n\nconsole.log("=== Reading JSON Files ===");\n\nfunction readJSONFile(file) {\n    return new Promise((resolve, reject) => {\n        let reader = new FileReader();\n        \n        reader.onload = function(event) {\n            try {\n                let json = JSON.parse(event.target.result);\n                resolve(json);\n            } catch (error) {\n                reject(new Error(''Invalid JSON: '' + error.message));\n            }\n        };\n        \n        reader.onerror = function(event) {\n            reject(event.target.error);\n        };\n        \n        reader.readAsText(file);\n    });\n}\n\n// Test with JSON file\nfileInput.accept = ''application/json,text/json'';\nconsole.log();\n\nconsole.log("=== Multiple File Reading ===");\n\nfunction readMultipleFiles(files) {\n    let promises = Array.from(files).map(file => {\n        return new Promise((resolve, reject) => {\n            let reader = new FileReader();\n            \n            reader.onload = function(event) {\n                resolve({\n                    name: file.name,\n                    content: event.target.result,\n                    type: file.type\n                });\n            };\n            \n            reader.onerror = function(event) {\n                reject(event.target.error);\n            };\n            \n            if (file.type.startsWith(''image/'')) {\n                reader.readAsDataURL(file);\n            } else {\n                reader.readAsText(file);\n            }\n        });\n    });\n    \n    return Promise.all(promises);\n}\n\n// Allow multiple files\nfileInput.multiple = true;\nconsole.log();\n\nconsole.log("=== File Handler Class ===");\n\nclass FileHandler {\n    constructor(options = {}) {\n        this.options = {\n            maxSize: options.maxSize || 10 * 1024 * 1024,\n            allowedTypes: options.allowedTypes || [],\n            onProgress: options.onProgress || null\n        };\n    }\n    \n    validate(file) {\n        if (this.options.maxSize && file.size > this.options.maxSize) {\n            throw new Error(''File too large'');\n        }\n        \n        if (this.options.allowedTypes.length > 0) {\n            if (!this.options.allowedTypes.includes(file.type)) {\n                throw new Error(''File type not allowed'');\n            }\n        }\n        \n        return true;\n    }\n    \n    readAsText(file) {\n        return new Promise((resolve, reject) => {\n            try {\n                this.validate(file);\n            } catch (error) {\n                reject(error);\n                return;\n            }\n            \n            let reader = new FileReader();\n            \n            reader.onprogress = (e) => {\n                if (this.options.onProgress && e.lengthComputable) {\n                    this.options.onProgress(e.loaded / e.total);\n                }\n            };\n            \n            reader.onload = (e) => resolve(e.target.result);\n            reader.onerror = (e) => reject(e.target.error);\n            \n            reader.readAsText(file);\n        });\n    }\n    \n    readAsDataURL(file) {\n        return new Promise((resolve, reject) => {\n            try {\n                this.validate(file);\n            } catch (error) {\n                reject(error);\n                return;\n            }\n            \n            let reader = new FileReader();\n            \n            reader.onload = (e) => resolve(e.target.result);\n            reader.onerror = (e) => reject(e.target.error);\n            \n            reader.readAsDataURL(file);\n        });\n    }\n}\n\n// Demonstrate handler\nlet handler = new FileHandler({\n    maxSize: 5 * 1024 * 1024,\n    allowedTypes: [''image/jpeg'', ''image/png''],\n    onProgress: (percent) => {\n        console.log(''Progress:'', (percent * 100).toFixed(2) + ''%'');\n    }\n});\nconsole.log();\n```\n\n**Expected Output** (in browser console):\n```\n=== File APIs Practice ===\n\n=== FileReader Basics ===\n[On file select]\nFile selected: [filename]\nFile Information displayed\n\n=== Reading Text Files ===\nReading text file...\nProgress: [percent]%\nText file loaded\nFile content (first 100 chars): [content]\n\n=== Reading Image Files ===\n[On image select]\nImage file loaded\nImage dimensions: [width] x [height]\n\n=== Drag and Drop ===\n[On drag]\n[On drop]\nFiles dropped: [count]\nProcessing file 1: [filename]\n\n=== File Validation ===\n[On invalid file]\nValidation errors: [errors]\n\n=== File Handler Class ===\n[On use]\nProgress: [percent]%\n```\n\n**Challenge (Optional)**:\n- Build a complete file upload system\n- Create an image editor\n- Build a file manager\n- Create a drag-and-drop interface\n\n---\n\n## Common Mistakes\n\n### 1. Not Checking File Exists\n\n```javascript\n// ⚠️ Problem: File might not exist\nlet file = fileInput.files[0];\nlet reader = new FileReader();\nreader.readAsText(file);  // Error if no file\n\n// ✅ Solution: Check first\nif (fileInput.files.length > 0) {\n    let file = fileInput.files[0];\n    reader.readAsText(file);\n}\n```\n\n### 2. Not Handling Errors\n\n```javascript\n// ⚠️ Problem: No error handling\nreader.readAsText(file);\n\n// ✅ Solution: Handle errors\nreader.onerror = function(event) {\n    console.error(''Error:'', event.target.error);\n};\n```\n\n### 3. Not Preventing Default Drag Behavior\n\n```javascript\n// ⚠️ Problem: Default behavior prevents drop\ndropZone.addEventListener(''drop'', handleDrop);\n\n// ✅ Solution: Prevent default\ndropZone.addEventListener(''dragover'', function(e) {\n    e.preventDefault();\n});\n```\n\n### 4. Not Validating File Type\n\n```javascript\n// ⚠️ Problem: Accepts any file\nreader.readAsDataURL(file);\n\n// ✅ Solution: Validate first\nif (file.type.startsWith(''image/'')) {\n    reader.readAsDataURL(file);\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **FileReader API**: Read files from user input\n2. **Reading Methods**: readAsText, readAsDataURL, readAsArrayBuffer\n3. **File Events**: onload, onerror, onprogress\n4. **Drag and Drop**: Handle drag events, prevent defaults\n5. **File Validation**: Check type, size, extension\n6. **Best Practice**: Always validate, handle errors, show progress\n7. **Use Cases**: File uploads, image preview, file processing\n\n---\n\n## Quiz: File APIs\n\nTest your understanding with these questions:\n\n1. **FileReader is:**\n   - A) Synchronous\n   - B) Asynchronous\n   - C) Both\n   - D) Neither\n\n2. **readAsDataURL returns:**\n   - A) Text\n   - B) Base64 string\n   - C) ArrayBuffer\n   - D) Binary\n\n3. **Drag and drop requires:**\n   - A) preventDefault on dragover\n   - B) preventDefault on drop\n   - C) Both\n   - D) Neither\n\n4. **file.type returns:**\n   - A) File name\n   - B) MIME type\n   - C) File size\n   - D) Nothing\n\n5. **onprogress fires:**\n   - A) Once\n   - B) Multiple times\n   - C) Never\n   - D) On error\n\n6. **Multiple files:**\n   - A) Not supported\n   - B) Use multiple attribute\n   - C) Use array\n   - D) Not possible\n\n7. **File validation should check:**\n   - A) Type only\n   - B) Size only\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. B) Asynchronous\n2. B) Base64 string\n3. C) Both\n4. B) MIME type\n5. B) Multiple times\n6. B) Use multiple attribute\n7. C) Both\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned File APIs. You now know:\n- How to read files\n- How to implement drag and drop\n- How to validate files\n- How to handle different file types\n\n**What''s Next?**\n- Lesson 17.3: Canvas and WebGL\n- Learn Canvas API\n- Draw on canvas\n- Create animations\n\n---\n\n## Additional Resources\n\n- **MDN: FileReader API**: [developer.mozilla.org/en-US/docs/Web/API/FileReader](https://developer.mozilla.org/en-US/docs/Web/API/FileReader)\n- **MDN: Drag and Drop API**: [developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API](https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API)\n- **MDN: File API**: [developer.mozilla.org/en-US/docs/Web/API/File](https://developer.mozilla.org/en-US/docs/Web/API/File)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:54:38', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand the FileReader API\n- Read files from user input\n- Handle different file types\n- Implement drag and drop\n- Work with file objects\n- Validate file types and sizes\n- Build file upload interfaces');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (154, 57, 13, 'Web Audio API', 'web-audio-api', '# Lesson 17.3: Canvas and WebGL\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand the Canvas API\n- Draw shapes and paths on canvas\n- Work with colors and gradients\n- Transform and animate canvas\n- Handle canvas events\n- Understand WebGL basics\n- Build canvas-based applications\n\n---\n\n## Introduction to Canvas\n\nThe Canvas API provides a way to draw graphics using JavaScript and HTML.\n\n### Why Canvas?\n\n- **Graphics**: Draw shapes, images, text\n- **Animations**: Create smooth animations\n- **Games**: Build 2D games\n- **Charts**: Create data visualizations\n- **Image Processing**: Manipulate images\n- **Modern Web**: Essential for graphics\n\n---\n\n## Canvas Basics\n\n### Creating a Canvas\n\n```html\n<canvas id="myCanvas" width="800" height="600"></canvas>\n```\n\n```javascript\nlet canvas = document.getElementById(''myCanvas'');\nlet ctx = canvas.getContext(''2d'');\n```\n\n### Getting Context\n\n```javascript\n// 2D context (most common)\nlet ctx = canvas.getContext(''2d'');\n\n// WebGL context (3D)\nlet gl = canvas.getContext(''webgl'');\n\n// WebGL2 context\nlet gl2 = canvas.getContext(''webgl2'');\n```\n\n### Setting Canvas Size\n\n```javascript\n// Set size via attributes (recommended)\ncanvas.width = 800;\ncanvas.height = 600;\n\n// Or via CSS (scales, doesn''t resize)\ncanvas.style.width = ''800px'';\ncanvas.style.height = ''600px'';\n```\n\n---\n\n## Drawing Shapes\n\n### Drawing Rectangles\n\n```javascript\nlet ctx = canvas.getContext(''2d'');\n\n// Fill rectangle\nctx.fillStyle = ''red'';\nctx.fillRect(10, 10, 100, 50);\n\n// Stroke rectangle\nctx.strokeStyle = ''blue'';\nctx.lineWidth = 2;\nctx.strokeRect(120, 10, 100, 50);\n\n// Clear rectangle\nctx.clearRect(60, 20, 50, 20);\n```\n\n### Drawing Paths\n\n```javascript\nlet ctx = canvas.getContext(''2d'');\n\n// Start path\nctx.beginPath();\n\n// Move to point\nctx.moveTo(50, 50);\n\n// Line to point\nctx.lineTo(150, 50);\nctx.lineTo(100, 150);\n\n// Close path\nctx.closePath();\n\n// Draw\nctx.stroke();\n// or\nctx.fill();\n```\n\n### Drawing Circles and Arcs\n\n```javascript\nlet ctx = canvas.getContext(''2d'');\n\n// Arc (circle)\nctx.beginPath();\nctx.arc(100, 100, 50, 0, 2 * Math.PI);\nctx.fill();\n\n// Partial arc\nctx.beginPath();\nctx.arc(200, 100, 50, 0, Math.PI);\nctx.stroke();\n```\n\n### Drawing Curves\n\n```javascript\nlet ctx = canvas.getContext(''2d'');\n\n// Quadratic curve\nctx.beginPath();\nctx.moveTo(50, 50);\nctx.quadraticCurveTo(100, 100, 150, 50);\nctx.stroke();\n\n// Bezier curve\nctx.beginPath();\nctx.moveTo(50, 150);\nctx.bezierCurveTo(75, 100, 125, 200, 150, 150);\nctx.stroke();\n```\n\n---\n\n## Colors and Styles\n\n### Fill and Stroke Colors\n\n```javascript\nlet ctx = canvas.getContext(''2d'');\n\n// Named colors\nctx.fillStyle = ''red'';\nctx.strokeStyle = ''blue'';\n\n// Hex colors\nctx.fillStyle = ''#FF0000'';\nctx.strokeStyle = ''#0000FF'';\n\n// RGB colors\nctx.fillStyle = ''rgb(255, 0, 0)'';\nctx.strokeStyle = ''rgba(0, 0, 255, 0.5)'';\n```\n\n### Gradients\n\n```javascript\nlet ctx = canvas.getContext(''2d'');\n\n// Linear gradient\nlet gradient = ctx.createLinearGradient(0, 0, 200, 0);\ngradient.addColorStop(0, ''red'');\ngradient.addColorStop(1, ''blue'');\nctx.fillStyle = gradient;\nctx.fillRect(10, 10, 200, 100);\n\n// Radial gradient\nlet radialGradient = ctx.createRadialGradient(100, 100, 0, 100, 100, 50);\nradialGradient.addColorStop(0, ''white'');\nradialGradient.addColorStop(1, ''black'');\nctx.fillStyle = radialGradient;\nctx.fillRect(50, 50, 100, 100);\n```\n\n### Patterns\n\n```javascript\nlet ctx = canvas.getContext(''2d'');\n\n// Create pattern from image\nlet img = new Image();\nimg.onload = function() {\n    let pattern = ctx.createPattern(img, ''repeat'');\n    ctx.fillStyle = pattern;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n};\nimg.src = ''pattern.png'';\n```\n\n---\n\n## Text\n\n### Drawing Text\n\n```javascript\nlet ctx = canvas.getContext(''2d'');\n\n// Font\nctx.font = ''30px Arial'';\n\n// Fill text\nctx.fillStyle = ''black'';\nctx.fillText(''Hello Canvas'', 10, 50);\n\n// Stroke text\nctx.strokeStyle = ''blue'';\nctx.strokeText(''Hello Canvas'', 10, 100);\n```\n\n### Text Properties\n\n```javascript\nlet ctx = canvas.getContext(''2d'');\n\nctx.font = ''bold 30px Arial'';\nctx.textAlign = ''center'';\nctx.textBaseline = ''middle'';\nctx.fillText(''Centered Text'', canvas.width / 2, canvas.height / 2);\n```\n\n---\n\n## Images\n\n### Drawing Images\n\n```javascript\nlet ctx = canvas.getContext(''2d'');\nlet img = new Image();\n\nimg.onload = function() {\n    // Draw image\n    ctx.drawImage(img, 10, 10);\n    \n    // Draw scaled\n    ctx.drawImage(img, 10, 10, 100, 100);\n    \n    // Draw from source rectangle\n    ctx.drawImage(img, 0, 0, 50, 50, 10, 10, 100, 100);\n};\n\nimg.src = ''image.jpg'';\n```\n\n### Image Manipulation\n\n```javascript\n// Get image data\nlet imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\nlet data = imageData.data;\n\n// Manipulate pixels\nfor (let i = 0; i < data.length; i += 4) {\n    // Red\n    data[i] = 255 - data[i];\n    // Green\n    data[i + 1] = 255 - data[i + 1];\n    // Blue\n    data[i + 2] = 255 - data[i + 2];\n    // Alpha (unchanged)\n}\n\n// Put image data back\nctx.putImageData(imageData, 0, 0);\n```\n\n---\n\n## Transformations\n\n### Translate, Rotate, Scale\n\n```javascript\nlet ctx = canvas.getContext(''2d'');\n\n// Save state\nctx.save();\n\n// Translate\nctx.translate(100, 100);\n\n// Rotate\nctx.rotate(Math.PI / 4);\n\n// Scale\nctx.scale(2, 2);\n\n// Draw (will be transformed)\nctx.fillRect(-25, -25, 50, 50);\n\n// Restore state\nctx.restore();\n```\n\n### Transform Matrix\n\n```javascript\nlet ctx = canvas.getContext(''2d'');\n\n// Transform using matrix\nctx.transform(1, 0, 0, 1, 100, 100);  // Translate\nctx.transform(2, 0, 0, 2, 0, 0);      // Scale\n\n// Or set transform\nctx.setTransform(1, 0, 0, 1, 0, 0);  // Reset\n```\n\n---\n\n## Animation\n\n### Basic Animation Loop\n\n```javascript\nfunction animate() {\n    // Clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    // Draw frame\n    draw();\n    \n    // Next frame\n    requestAnimationFrame(animate);\n}\n\n// Start animation\nanimate();\n```\n\n### Animation Example\n\n```javascript\nlet x = 0;\nlet y = 0;\nlet dx = 2;\nlet dy = 2;\n\nfunction animate() {\n    // Clear\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    // Update position\n    x += dx;\n    y += dy;\n    \n    // Bounce\n    if (x < 0 || x > canvas.width - 50) dx = -dx;\n    if (y < 0 || y > canvas.height - 50) dy = -dy;\n    \n    // Draw\n    ctx.fillRect(x, y, 50, 50);\n    \n    requestAnimationFrame(animate);\n}\n\nanimate();\n```\n\n---\n\n## WebGL Basics\n\n### WebGL Context\n\n```javascript\nlet canvas = document.getElementById(''myCanvas'');\nlet gl = canvas.getContext(''webgl'');\n\nif (!gl) {\n    console.error(''WebGL not supported'');\n}\n```\n\n### Basic WebGL Setup\n\n```javascript\n// Clear color\ngl.clearColor(0.0, 0.0, 0.0, 1.0);\ngl.clear(gl.COLOR_BUFFER_BIT);\n\n// Viewport\ngl.viewport(0, 0, canvas.width, canvas.height);\n```\n\n### Shaders\n\n```javascript\n// Vertex shader\nlet vertexShaderSource = `\n    attribute vec4 a_position;\n    void main() {\n        gl_Position = a_position;\n    }\n`;\n\n// Fragment shader\nlet fragmentShaderSource = `\n    precision mediump float;\n    void main() {\n        gl_FragColor = vec4(1, 0, 0, 1);\n    }\n`;\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Drawing App\n\n```javascript\nclass DrawingApp {\n    constructor(canvas) {\n        this.canvas = canvas;\n        this.ctx = canvas.getContext(''2d'');\n        this.isDrawing = false;\n        this.currentPath = [];\n        \n        this.setupEventListeners();\n    }\n    \n    setupEventListeners() {\n        this.canvas.addEventListener(''mousedown'', (e) => {\n            this.isDrawing = true;\n            this.currentPath = [this.getMousePos(e)];\n        });\n        \n        this.canvas.addEventListener(''mousemove'', (e) => {\n            if (this.isDrawing) {\n                this.currentPath.push(this.getMousePos(e));\n                this.draw();\n            }\n        });\n        \n        this.canvas.addEventListener(''mouseup'', () => {\n            this.isDrawing = false;\n        });\n    }\n    \n    getMousePos(e) {\n        let rect = this.canvas.getBoundingClientRect();\n        return {\n            x: e.clientX - rect.left,\n            y: e.clientY - rect.top\n        };\n    }\n    \n    draw() {\n        if (this.currentPath.length < 2) return;\n        \n        this.ctx.beginPath();\n        this.ctx.moveTo(this.currentPath[0].x, this.currentPath[0].y);\n        \n        for (let i = 1; i < this.currentPath.length; i++) {\n            this.ctx.lineTo(this.currentPath[i].x, this.currentPath[i].y);\n        }\n        \n        this.ctx.stroke();\n    }\n}\n\nlet app = new DrawingApp(document.getElementById(''canvas''));\n```\n\n### Example 2: Particle System\n\n```javascript\nclass Particle {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this.vx = (Math.random() - 0.5) * 2;\n        this.vy = (Math.random() - 0.5) * 2;\n        this.life = 1.0;\n    }\n    \n    update() {\n        this.x += this.vx;\n        this.y += this.vy;\n        this.life -= 0.01;\n    }\n    \n    draw(ctx) {\n        ctx.globalAlpha = this.life;\n        ctx.fillRect(this.x, this.y, 2, 2);\n    }\n}\n\nclass ParticleSystem {\n    constructor(canvas) {\n        this.canvas = canvas;\n        this.ctx = canvas.getContext(''2d'');\n        this.particles = [];\n    }\n    \n    addParticle(x, y) {\n        this.particles.push(new Particle(x, y));\n    }\n    \n    update() {\n        this.particles = this.particles.filter(p => {\n            p.update();\n            return p.life > 0;\n        });\n    }\n    \n    draw() {\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.particles.forEach(p => p.draw(this.ctx));\n        this.ctx.globalAlpha = 1.0;\n    }\n    \n    animate() {\n        this.update();\n        this.draw();\n        requestAnimationFrame(() => this.animate());\n    }\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Canvas Drawing\n\n**Objective**: Practice using Canvas API to draw shapes, create animations, and build interactive graphics.\n\n**Instructions**:\n\n1. Create an HTML file with canvas element\n2. Create a JavaScript file for canvas operations\n3. Practice:\n   - Drawing shapes and paths\n   - Using colors and gradients\n   - Creating animations\n   - Handling mouse events\n   - Basic WebGL setup\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Canvas Practice</title>\n    <style>\n        canvas {\n            border: 1px solid #000;\n            display: block;\n            margin: 20px auto;\n        }\n        .controls {\n            text-align: center;\n            margin: 20px;\n        }\n        button {\n            padding: 10px 20px;\n            margin: 5px;\n        }\n    </style>\n</head>\n<body>\n    <div class="controls">\n        <button onclick="drawShapes()">Draw Shapes</button>\n        <button onclick="drawGradients()">Draw Gradients</button>\n        <button onclick="startAnimation()">Start Animation</button>\n        <button onclick="clearCanvas()">Clear</button>\n    </div>\n    <canvas id="myCanvas" width="800" height="600"></canvas>\n    <script src="canvas-practice.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// canvas-practice.js\nconsole.log("=== Canvas Practice ===");\n\nlet canvas = document.getElementById(''myCanvas'');\nlet ctx = canvas.getContext(''2d'');\n\nconsole.log("\\n=== Canvas Setup ===");\n\nconsole.log(''Canvas width:'', canvas.width);\nconsole.log(''Canvas height:'', canvas.height);\nconsole.log(''Context:'', ctx);\nconsole.log();\n\nconsole.log("=== Drawing Shapes ===");\n\nfunction drawShapes() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    // Rectangles\n    ctx.fillStyle = ''red'';\n    ctx.fillRect(10, 10, 100, 50);\n    \n    ctx.strokeStyle = ''blue'';\n    ctx.lineWidth = 3;\n    ctx.strokeRect(120, 10, 100, 50);\n    \n    // Circles\n    ctx.fillStyle = ''green'';\n    ctx.beginPath();\n    ctx.arc(200, 200, 50, 0, 2 * Math.PI);\n    ctx.fill();\n    \n    ctx.strokeStyle = ''purple'';\n    ctx.lineWidth = 2;\n    ctx.beginPath();\n    ctx.arc(350, 200, 50, 0, 2 * Math.PI);\n    ctx.stroke();\n    \n    // Paths\n    ctx.strokeStyle = ''orange'';\n    ctx.lineWidth = 2;\n    ctx.beginPath();\n    ctx.moveTo(50, 300);\n    ctx.lineTo(150, 300);\n    ctx.lineTo(100, 400);\n    ctx.closePath();\n    ctx.stroke();\n    \n    // Curves\n    ctx.strokeStyle = ''brown'';\n    ctx.beginPath();\n    ctx.moveTo(200, 300);\n    ctx.quadraticCurveTo(250, 250, 300, 300);\n    ctx.stroke();\n    \n    ctx.beginPath();\n    ctx.moveTo(350, 300);\n    ctx.bezierCurveTo(375, 250, 425, 350, 450, 300);\n    ctx.stroke();\n    \n    console.log(''Shapes drawn'');\n}\n\nconsole.log();\n\nconsole.log("=== Drawing Gradients ===");\n\nfunction drawGradients() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    // Linear gradient\n    let linearGradient = ctx.createLinearGradient(0, 0, 200, 0);\n    linearGradient.addColorStop(0, ''red'');\n    linearGradient.addColorStop(0.5, ''yellow'');\n    linearGradient.addColorStop(1, ''green'');\n    ctx.fillStyle = linearGradient;\n    ctx.fillRect(10, 10, 200, 100);\n    \n    // Radial gradient\n    let radialGradient = ctx.createRadialGradient(350, 150, 0, 350, 150, 100);\n    radialGradient.addColorStop(0, ''white'');\n    radialGradient.addColorStop(1, ''black'');\n    ctx.fillStyle = radialGradient;\n    ctx.fillRect(250, 50, 200, 200);\n    \n    console.log(''Gradients drawn'');\n}\n\nconsole.log();\n\nconsole.log("=== Drawing Text ===");\n\nfunction drawText() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    ctx.font = ''30px Arial'';\n    ctx.fillStyle = ''black'';\n    ctx.fillText(''Hello Canvas'', 10, 50);\n    \n    ctx.font = ''bold 40px Arial'';\n    ctx.strokeStyle = ''blue'';\n    ctx.strokeText(''Stroked Text'', 10, 100);\n    \n    ctx.font = ''20px Arial'';\n    ctx.textAlign = ''center'';\n    ctx.textBaseline = ''middle'';\n    ctx.fillText(''Centered Text'', canvas.width / 2, canvas.height / 2);\n    \n    // Reset alignment\n    ctx.textAlign = ''left'';\n    ctx.textBaseline = ''alphabetic'';\n    \n    console.log(''Text drawn'');\n}\n\nconsole.log();\n\nconsole.log("=== Animation ===");\n\nlet animationId = null;\nlet ball = {\n    x: 100,\n    y: 100,\n    vx: 2,\n    vy: 2,\n    radius: 20\n};\n\nfunction startAnimation() {\n    if (animationId) {\n        cancelAnimationFrame(animationId);\n    }\n    \n    function animate() {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        \n        // Update position\n        ball.x += ball.vx;\n        ball.y += ball.vy;\n        \n        // Bounce\n        if (ball.x - ball.radius < 0 || ball.x + ball.radius > canvas.width) {\n            ball.vx = -ball.vx;\n        }\n        if (ball.y - ball.radius < 0 || ball.y + ball.radius > canvas.height) {\n            ball.vy = -ball.vy;\n        }\n        \n        // Draw ball\n        ctx.fillStyle = ''red'';\n        ctx.beginPath();\n        ctx.arc(ball.x, ball.y, ball.radius, 0, 2 * Math.PI);\n        ctx.fill();\n        \n        animationId = requestAnimationFrame(animate);\n    }\n    \n    animate();\n    console.log(''Animation started'');\n}\n\nfunction clearCanvas() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    if (animationId) {\n        cancelAnimationFrame(animationId);\n        animationId = null;\n    }\n    console.log(''Canvas cleared'');\n}\n\nconsole.log();\n\nconsole.log("=== Transformations ===");\n\nfunction drawTransformed() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    // Original\n    ctx.fillStyle = ''blue'';\n    ctx.fillRect(50, 50, 50, 50);\n    \n    // Translated\n    ctx.save();\n    ctx.translate(150, 0);\n    ctx.fillStyle = ''red'';\n    ctx.fillRect(50, 50, 50, 50);\n    ctx.restore();\n    \n    // Rotated\n    ctx.save();\n    ctx.translate(250, 100);\n    ctx.rotate(Math.PI / 4);\n    ctx.fillStyle = ''green'';\n    ctx.fillRect(-25, -25, 50, 50);\n    ctx.restore();\n    \n    // Scaled\n    ctx.save();\n    ctx.translate(350, 100);\n    ctx.scale(1.5, 1.5);\n    ctx.fillStyle = ''purple'';\n    ctx.fillRect(-25, -25, 50, 50);\n    ctx.restore();\n    \n    console.log(''Transformed shapes drawn'');\n}\n\nconsole.log();\n\nconsole.log("=== Mouse Interaction ===");\n\nlet isDrawing = false;\nlet lastX = 0;\nlet lastY = 0;\n\ncanvas.addEventListener(''mousedown'', function(e) {\n    isDrawing = true;\n    let rect = canvas.getBoundingClientRect();\n    lastX = e.clientX - rect.left;\n    lastY = e.clientY - rect.top;\n});\n\ncanvas.addEventListener(''mousemove'', function(e) {\n    if (isDrawing) {\n        let rect = canvas.getBoundingClientRect();\n        let x = e.clientX - rect.left;\n        let y = e.clientY - rect.top;\n        \n        ctx.beginPath();\n        ctx.moveTo(lastX, lastY);\n        ctx.lineTo(x, y);\n        ctx.strokeStyle = ''black'';\n        ctx.lineWidth = 2;\n        ctx.stroke();\n        \n        lastX = x;\n        lastY = y;\n    }\n});\n\ncanvas.addEventListener(''mouseup'', function() {\n    isDrawing = false;\n});\n\ncanvas.addEventListener(''mouseleave'', function() {\n    isDrawing = false;\n});\n\nconsole.log(''Mouse interaction enabled'');\nconsole.log();\n\nconsole.log("=== WebGL Basics ===");\n\nfunction initWebGL() {\n    let gl = canvas.getContext(''webgl'');\n    \n    if (!gl) {\n        console.error(''WebGL not supported'');\n        return null;\n    }\n    \n    console.log(''WebGL context created'');\n    \n    // Clear color\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    \n    // Viewport\n    gl.viewport(0, 0, canvas.width, canvas.height);\n    \n    return gl;\n}\n\n// Uncomment to test WebGL\n// let gl = initWebGL();\nconsole.log();\n\nconsole.log("=== Image Drawing ===");\n\nfunction drawImage() {\n    let img = new Image();\n    \n    img.onload = function() {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.drawImage(img, 10, 10);\n        ctx.drawImage(img, 200, 10, 100, 100);\n        console.log(''Image drawn'');\n    };\n    \n    img.onerror = function() {\n        console.error(''Error loading image'');\n    };\n    \n    // Use a placeholder or actual image URL\n    img.src = ''data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0icmVkIi8+PC9zdmc+'';\n}\n\nconsole.log();\n\nconsole.log("=== Particle System ===");\n\nclass Particle {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n        this.vx = (Math.random() - 0.5) * 4;\n        this.vy = (Math.random() - 0.5) * 4;\n        this.life = 1.0;\n        this.size = Math.random() * 3 + 1;\n    }\n    \n    update() {\n        this.x += this.vx;\n        this.y += this.vy;\n        this.life -= 0.01;\n    }\n    \n    draw() {\n        ctx.globalAlpha = this.life;\n        ctx.fillStyle = ''blue'';\n        ctx.fillRect(this.x, this.y, this.size, this.size);\n    }\n}\n\nlet particles = [];\n\nfunction createParticles(x, y, count = 50) {\n    for (let i = 0; i < count; i++) {\n        particles.push(new Particle(x, y));\n    }\n}\n\nfunction updateParticles() {\n    particles = particles.filter(p => {\n        p.update();\n        return p.life > 0;\n    });\n}\n\nfunction drawParticles() {\n    particles.forEach(p => p.draw());\n    ctx.globalAlpha = 1.0;\n}\n\ncanvas.addEventListener(''click'', function(e) {\n    let rect = canvas.getBoundingClientRect();\n    let x = e.clientX - rect.left;\n    let y = e.clientY - rect.top;\n    createParticles(x, y);\n});\n\n// Animate particles\nfunction animateParticles() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    updateParticles();\n    drawParticles();\n    requestAnimationFrame(animateParticles);\n}\n\nanimateParticles();\nconsole.log(''Particle system active - click to create particles'');\n```\n\n**Expected Output** (in browser):\n- Canvas with various shapes\n- Gradients\n- Animated ball\n- Drawing with mouse\n- Particles on click\n\n**Challenge (Optional)**:\n- Build a complete drawing app\n- Create a game\n- Build a chart library\n- Create an image editor\n\n---\n\n## Common Mistakes\n\n### 1. Not Getting Context\n\n```javascript\n// ⚠️ Problem: No context\ncanvas.fillRect(10, 10, 50, 50);\n\n// ✅ Solution: Get context first\nlet ctx = canvas.getContext(''2d'');\nctx.fillRect(10, 10, 50, 50);\n```\n\n### 2. Not Clearing Canvas\n\n```javascript\n// ⚠️ Problem: Draws over previous frames\nfunction animate() {\n    draw();\n    requestAnimationFrame(animate);\n}\n\n// ✅ Solution: Clear first\nfunction animate() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    draw();\n    requestAnimationFrame(animate);\n}\n```\n\n### 3. Not Saving/Restoring State\n\n```javascript\n// ⚠️ Problem: Transformations persist\nctx.translate(100, 100);\ndraw();\n// Translation still active\n\n// ✅ Solution: Save and restore\nctx.save();\nctx.translate(100, 100);\ndraw();\nctx.restore();\n```\n\n---\n\n## Key Takeaways\n\n1. **Canvas API**: Draw graphics with JavaScript\n2. **Context**: Get 2D or WebGL context\n3. **Shapes**: Rectangles, paths, arcs, curves\n4. **Colors**: Fill, stroke, gradients, patterns\n5. **Animation**: Use requestAnimationFrame\n6. **Transformations**: Translate, rotate, scale\n7. **WebGL**: 3D graphics (advanced)\n8. **Best Practice**: Clear canvas, save/restore state, use requestAnimationFrame\n\n---\n\n## Quiz: Canvas\n\nTest your understanding with these questions:\n\n1. **Canvas context is:**\n   - A) Synchronous\n   - B) Asynchronous\n   - C) Both\n   - D) Neither\n\n2. **fillRect() draws:**\n   - A) Outlined rectangle\n   - B) Filled rectangle\n   - C) Both\n   - D) Nothing\n\n3. **beginPath() is:**\n   - A) Required for paths\n   - B) Optional\n   - C) Not needed\n   - D) Error\n\n4. **requestAnimationFrame is:**\n   - A) Synchronous\n   - B) Asynchronous\n   - C) Both\n   - D) Neither\n\n5. **save() and restore() are:**\n   - A) For transformations\n   - B) For colors\n   - C) For state\n   - D) Nothing\n\n6. **WebGL is for:**\n   - A) 2D graphics\n   - B) 3D graphics\n   - C) Both\n   - D) Neither\n\n7. **clearRect() clears:**\n   - A) Entire canvas\n   - B) Rectangle area\n   - C) Both\n   - D) Nothing\n\n**Answers**:\n1. A) Synchronous (drawing operations)\n2. B) Filled rectangle\n3. A) Required for paths\n4. B) Asynchronous\n5. C) For state\n6. B) 3D graphics\n7. B) Rectangle area\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 17: Browser APIs. You now know:\n- Geolocation API\n- File APIs\n- Canvas API\n- WebGL basics\n\n**What''s Next?**\n- Course 5: Advanced JavaScript\n- Module 18: Functional Programming\n- Learn functional programming concepts\n- Work with higher-order functions\n\n---\n\n## Additional Resources\n\n- **MDN: Canvas API**: [developer.mozilla.org/en-US/docs/Web/API/Canvas_API](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API)\n- **MDN: WebGL**: [developer.mozilla.org/en-US/docs/Web/API/WebGL_API](https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API)\n- **Canvas Tutorial**: [developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial)\n\n---\n\n*Lesson completed! You''ve finished Module 17: Browser APIs. Ready for Course 5: Advanced JavaScript!*\n\n', NULL, 3, '2026-01-03 09:54:38', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand the Canvas API\n- Draw shapes and paths on canvas\n- Work with colors and gradients\n- Transform and animate canvas\n- Handle canvas events\n- Understand WebGL basics\n- Build canvas-based applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (155, 58, 14, 'Functional Programming Concepts', 'functional-programming-concepts', '# Lesson 18.1: Functional Programming Concepts\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand functional programming principles\n- Write pure functions\n- Work with immutability\n- Identify and avoid side effects\n- Understand first-class functions\n- Apply functional programming concepts\n- Write more predictable code\n\n---\n\n## Introduction to Functional Programming\n\nFunctional Programming (FP) is a programming paradigm that treats computation as the evaluation of mathematical functions and avoids changing state and mutable data.\n\n### Why Functional Programming?\n\n- **Predictability**: Same input always produces same output\n- **Testability**: Easier to test pure functions\n- **Maintainability**: Code is easier to understand and modify\n- **Concurrency**: Easier to reason about parallel code\n- **Debugging**: Fewer bugs due to immutability\n- **Modern JavaScript**: Many features support FP\n\n### Core Principles\n\n1. **Pure Functions**: No side effects\n2. **Immutability**: Don''t modify data\n3. **First-Class Functions**: Functions as values\n4. **Higher-Order Functions**: Functions that operate on functions\n5. **Function Composition**: Combine functions\n\n---\n\n## Pure Functions\n\n### What are Pure Functions?\n\nA pure function:\n- Always returns the same output for the same input\n- Has no side effects\n- Doesn''t depend on external state\n\n### Pure Function Example\n\n```javascript\n// Pure function\nfunction add(a, b) {\n    return a + b;\n}\n\n// Always returns same output for same input\nconsole.log(add(2, 3));  // 5\nconsole.log(add(2, 3));  // 5 (always)\n```\n\n### Impure Function Example\n\n```javascript\n// Impure function (depends on external state)\nlet counter = 0;\n\nfunction increment() {\n    counter++;  // Side effect: modifies external state\n    return counter;\n}\n\nconsole.log(increment());  // 1\nconsole.log(increment());  // 2 (different output)\n```\n\n### More Pure Function Examples\n\n```javascript\n// Pure: No side effects\nfunction multiply(x, y) {\n    return x * y;\n}\n\n// Pure: Doesn''t modify input\nfunction square(x) {\n    return x * x;\n}\n\n// Pure: Returns new array\nfunction addItem(arr, item) {\n    return [...arr, item];  // New array, doesn''t modify original\n}\n\n// Impure: Modifies input\nfunction addItemImpure(arr, item) {\n    arr.push(item);  // Modifies original array\n    return arr;\n}\n```\n\n### Benefits of Pure Functions\n\n```javascript\n// Easy to test\nfunction calculateTotal(items) {\n    return items.reduce((sum, item) => sum + item.price, 0);\n}\n\n// Easy to reason about\nlet items = [{ price: 10 }, { price: 20 }];\nlet total = calculateTotal(items);  // Always 30 for this input\n\n// Can be memoized\n// Can be parallelized\n// Easier to debug\n```\n\n---\n\n## Immutability\n\n### What is Immutability?\n\nImmutability means data cannot be changed after creation. Instead, create new data.\n\n### Mutable vs Immutable\n\n```javascript\n// Mutable (bad)\nlet user = { name: ''Alice'', age: 30 };\nuser.age = 31;  // Modifies original\n\n// Immutable (good)\nlet user = { name: ''Alice'', age: 30 };\nlet updatedUser = { ...user, age: 31 };  // New object\n```\n\n### Immutable Arrays\n\n```javascript\n// Mutable (bad)\nlet numbers = [1, 2, 3];\nnumbers.push(4);  // Modifies original\n\n// Immutable (good)\nlet numbers = [1, 2, 3];\nlet newNumbers = [...numbers, 4];  // New array\n```\n\n### Immutable Objects\n\n```javascript\n// Mutable (bad)\nlet user = { name: ''Alice'', age: 30 };\nuser.age = 31;\n\n// Immutable (good)\nlet user = { name: ''Alice'', age: 30 };\nlet updatedUser = { ...user, age: 31 };\n\n// Nested objects\nlet user = {\n    name: ''Alice'',\n    address: { city: ''NYC'', zip: ''10001'' }\n};\n\n// Immutable update\nlet updatedUser = {\n    ...user,\n    address: {\n        ...user.address,\n        zip: ''10002''\n    }\n};\n```\n\n### Benefits of Immutability\n\n```javascript\n// Predictable\nlet original = [1, 2, 3];\nlet doubled = original.map(x => x * 2);\n// original is still [1, 2, 3]\n\n// Easier debugging\n// Can track changes\n// Better for React/Redux\n```\n\n---\n\n## Side Effects\n\n### What are Side Effects?\n\nSide effects are changes to state outside the function:\n- Modifying variables\n- Console logging\n- Network requests\n- DOM manipulation\n- File I/O\n\n### Functions with Side Effects\n\n```javascript\n// Side effect: Modifies external variable\nlet count = 0;\nfunction increment() {\n    count++;  // Side effect\n}\n\n// Side effect: Console log\nfunction logMessage(msg) {\n    console.log(msg);  // Side effect\n}\n\n// Side effect: DOM manipulation\nfunction updateDOM(element, text) {\n    element.textContent = text;  // Side effect\n}\n\n// Side effect: Network request\nasync function fetchData() {\n    let data = await fetch(''/api/data'');  // Side effect\n    return data.json();\n}\n```\n\n### Minimizing Side Effects\n\n```javascript\n// Separate pure logic from side effects\nfunction calculateTotal(items) {\n    // Pure function\n    return items.reduce((sum, item) => sum + item.price, 0);\n}\n\nfunction displayTotal(total) {\n    // Side effect isolated\n    document.getElementById(''total'').textContent = total;\n}\n\n// Use together\nlet total = calculateTotal(items);\ndisplayTotal(total);\n```\n\n### When Side Effects are Necessary\n\n```javascript\n// Side effects are sometimes necessary\n// But isolate them and make them explicit\n\n// Good: Isolated side effect\nfunction saveUser(user) {\n    // Side effect: Network request\n    return fetch(''/api/users'', {\n        method: ''POST'',\n        body: JSON.stringify(user)\n    });\n}\n\n// Bad: Hidden side effects\nfunction processUser(user) {\n    user.id = generateId();  // Side effect: modifies input\n    saveToDatabase(user);     // Side effect: hidden\n    updateUI(user);           // Side effect: hidden\n    return user;\n}\n```\n\n---\n\n## First-Class Functions\n\n### What are First-Class Functions?\n\nIn JavaScript, functions are first-class citizens:\n- Can be assigned to variables\n- Can be passed as arguments\n- Can be returned from functions\n- Can be stored in data structures\n\n### Functions as Values\n\n```javascript\n// Assign to variable\nlet greet = function(name) {\n    return `Hello, ${name}!`;\n};\n\n// Arrow function\nlet greet = (name) => `Hello, ${name}!`);\n\n// Use function\nconsole.log(greet(''Alice''));\n```\n\n### Functions as Arguments\n\n```javascript\n// Pass function as argument\nfunction applyOperation(x, y, operation) {\n    return operation(x, y);\n}\n\nlet add = (a, b) => a + b;\nlet multiply = (a, b) => a * b;\n\nconsole.log(applyOperation(5, 3, add));      // 8\nconsole.log(applyOperation(5, 3, multiply)); // 15\n```\n\n### Functions as Return Values\n\n```javascript\n// Return function from function\nfunction createMultiplier(factor) {\n    return function(number) {\n        return number * factor;\n    };\n}\n\nlet double = createMultiplier(2);\nlet triple = createMultiplier(3);\n\nconsole.log(double(5));  // 10\nconsole.log(triple(5));  // 15\n```\n\n### Functions in Data Structures\n\n```javascript\n// Store functions in array\nlet operations = [\n    (x) => x * 2,\n    (x) => x + 1,\n    (x) => x * x\n];\n\nlet result = 5;\noperations.forEach(op => {\n    result = op(result);\n});\nconsole.log(result);  // 121\n```\n\n---\n\n## Higher-Order Functions\n\n### What are Higher-Order Functions?\n\nHigher-order functions are functions that:\n- Take functions as arguments, or\n- Return functions\n\n### Examples\n\n```javascript\n// Higher-order function: takes function as argument\nfunction map(array, fn) {\n    let result = [];\n    for (let item of array) {\n        result.push(fn(item));\n    }\n    return result;\n}\n\nlet numbers = [1, 2, 3];\nlet doubled = map(numbers, x => x * 2);\nconsole.log(doubled);  // [2, 4, 6]\n\n// Higher-order function: returns function\nfunction createValidator(rule) {\n    return function(value) {\n        return rule(value);\n    };\n}\n\nlet isPositive = createValidator(x => x > 0);\nconsole.log(isPositive(5));   // true\nconsole.log(isPositive(-5));  // false\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Pure Data Transformation\n\n```javascript\n// Pure function: Transform data\nfunction formatUsers(users) {\n    return users.map(user => ({\n        name: user.name.toUpperCase(),\n        age: user.age,\n        isAdult: user.age >= 18\n    }));\n}\n\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 15 }\n];\n\nlet formatted = formatUsers(users);\n// Original users unchanged\n// formatted is new array\n```\n\n### Example 2: Immutable Updates\n\n```javascript\n// Immutable update function\nfunction updateUser(users, userId, updates) {\n    return users.map(user =>\n        user.id === userId\n            ? { ...user, ...updates }\n            : user\n    );\n}\n\nlet users = [\n    { id: 1, name: ''Alice'', age: 30 },\n    { id: 2, name: ''Bob'', age: 25 }\n];\n\nlet updated = updateUser(users, 1, { age: 31 });\n// users unchanged\n// updated has new user object\n```\n\n### Example 3: Function Composition\n\n```javascript\n// Compose functions\nfunction compose(...fns) {\n    return function(value) {\n        return fns.reduceRight((acc, fn) => fn(acc), value);\n    };\n}\n\nlet addOne = x => x + 1;\nlet double = x => x * 2;\nlet square = x => x * x;\n\nlet transform = compose(square, double, addOne);\nconsole.log(transform(5));  // ((5 + 1) * 2) ^ 2 = 144\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Functional Programming\n\n**Objective**: Practice writing pure functions, working with immutability, and avoiding side effects.\n\n**Instructions**:\n\n1. Create a JavaScript file\n2. Practice:\n   - Writing pure functions\n   - Working with immutability\n   - Identifying side effects\n   - Using first-class functions\n\n**Example Solution**:\n\n```javascript\n// functional-programming-practice.js\nconsole.log("=== Functional Programming Practice ===");\n\nconsole.log("\\n=== Pure Functions ===");\n\n// Pure function: Always same output for same input\nfunction add(a, b) {\n    return a + b;\n}\n\nconsole.log(''add(2, 3):'', add(2, 3));  // 5\nconsole.log(''add(2, 3):'', add(2, 3));  // 5 (always same)\n\n// Pure function: No side effects\nfunction multiply(x, y) {\n    return x * y;\n}\n\nconsole.log(''multiply(4, 5):'', multiply(4, 5));  // 20\n\n// Pure function: Returns new array\nfunction addItem(arr, item) {\n    return [...arr, item];\n}\n\nlet numbers = [1, 2, 3];\nlet newNumbers = addItem(numbers, 4);\nconsole.log(''Original:'', numbers);      // [1, 2, 3]\nconsole.log(''New:'', newNumbers);        // [1, 2, 3, 4]\nconsole.log();\n\nconsole.log("=== Impure Functions (for comparison) ===");\n\n// Impure: Depends on external state\nlet counter = 0;\nfunction increment() {\n    counter++;\n    return counter;\n}\n\nconsole.log(''increment():'', increment());  // 1\nconsole.log(''increment():'', increment());  // 2 (different)\n\n// Impure: Modifies input\nfunction addItemImpure(arr, item) {\n    arr.push(item);\n    return arr;\n}\n\nlet arr1 = [1, 2, 3];\nlet arr2 = addItemImpure(arr1, 4);\nconsole.log(''arr1:'', arr1);  // [1, 2, 3, 4] (modified!)\nconsole.log(''arr2:'', arr2);  // [1, 2, 3, 4]\nconsole.log();\n\nconsole.log("=== Immutability ===");\n\n// Immutable: Create new objects\nlet user = { name: ''Alice'', age: 30 };\nlet updatedUser = { ...user, age: 31 };\n\nconsole.log(''Original user:'', user);         // { name: ''Alice'', age: 30 }\nconsole.log(''Updated user:'', updatedUser);  // { name: ''Alice'', age: 31 }\n\n// Immutable: Create new arrays\nlet items = [1, 2, 3];\nlet newItems = [...items, 4];\n\nconsole.log(''Original items:'', items);    // [1, 2, 3]\nconsole.log(''New items:'', newItems);      // [1, 2, 3, 4]\n\n// Immutable: Nested objects\nlet person = {\n    name: ''Alice'',\n    address: { city: ''NYC'', zip: ''10001'' }\n};\n\nlet updatedPerson = {\n    ...person,\n    address: {\n        ...person.address,\n        zip: ''10002''\n    }\n};\n\nconsole.log(''Original person:'', person);\nconsole.log(''Updated person:'', updatedPerson);\nconsole.log();\n\nconsole.log("=== Side Effects ===");\n\n// Function with side effect\nfunction logMessage(msg) {\n    console.log(''Logging:'', msg);  // Side effect: console.log\n}\n\nlogMessage(''Hello'');\n\n// Function with side effect: DOM manipulation\nfunction updateDOM(elementId, text) {\n    // Side effect: DOM manipulation\n    // (commented out for this example)\n    // document.getElementById(elementId).textContent = text;\n    console.log(''Would update DOM:'', elementId, text);\n}\n\nupdateDOM(''output'', ''Hello World'');\n\n// Isolate side effects\nfunction calculateTotal(items) {\n    // Pure function\n    return items.reduce((sum, item) => sum + item.price, 0);\n}\n\nfunction displayTotal(total) {\n    // Side effect isolated\n    console.log(''Total:'', total);\n}\n\nlet cart = [\n    { name: ''Apple'', price: 1.00 },\n    { name: ''Banana'', price: 0.50 }\n];\n\nlet total = calculateTotal(cart);\ndisplayTotal(total);\nconsole.log();\n\nconsole.log("=== First-Class Functions ===");\n\n// Functions as values\nlet greet = function(name) {\n    return `Hello, ${name}!`;\n};\n\nconsole.log(''greet("Alice"):'', greet(''Alice''));\n\n// Arrow function\nlet add = (a, b) => a + b;\nconsole.log(''add(2, 3):'', add(2, 3));\n\n// Functions as arguments\nfunction applyOperation(x, y, operation) {\n    return operation(x, y);\n}\n\nlet multiply = (a, b) => a * b;\nconsole.log(''applyOperation(5, 3, multiply):'', applyOperation(5, 3, multiply));\n\n// Functions as return values\nfunction createMultiplier(factor) {\n    return function(number) {\n        return number * factor;\n    };\n}\n\nlet double = createMultiplier(2);\nlet triple = createMultiplier(3);\n\nconsole.log(''double(5):'', double(5));   // 10\nconsole.log(''triple(5):'', triple(5));  // 15\n\n// Functions in data structures\nlet operations = [\n    x => x * 2,\n    x => x + 1,\n    x => x * x\n];\n\nlet result = 5;\noperations.forEach(op => {\n    result = op(result);\n});\nconsole.log(''Result after operations:'', result);\nconsole.log();\n\nconsole.log("=== Higher-Order Functions ===");\n\n// Higher-order function: takes function as argument\nfunction map(array, fn) {\n    let result = [];\n    for (let item of array) {\n        result.push(fn(item));\n    }\n    return result;\n}\n\nlet numbers = [1, 2, 3, 4, 5];\nlet doubled = map(numbers, x => x * 2);\nconsole.log(''Doubled:'', doubled);  // [2, 4, 6, 8, 10]\n\n// Higher-order function: returns function\nfunction createValidator(rule) {\n    return function(value) {\n        return rule(value);\n    };\n}\n\nlet isPositive = createValidator(x => x > 0);\nlet isEven = createValidator(x => x % 2 === 0);\n\nconsole.log(''isPositive(5):'', isPositive(5));   // true\nconsole.log(''isPositive(-5):'', isPositive(-5)); // false\nconsole.log(''isEven(4):'', isEven(4));            // true\nconsole.log(''isEven(5):'', isEven(5));            // false\nconsole.log();\n\nconsole.log("=== Practical Examples ===");\n\n// Pure data transformation\nfunction formatUsers(users) {\n    return users.map(user => ({\n        name: user.name.toUpperCase(),\n        age: user.age,\n        isAdult: user.age >= 18\n    }));\n}\n\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 15 },\n    { name: ''Charlie'', age: 25 }\n];\n\nlet formatted = formatUsers(users);\nconsole.log(''Formatted users:'', formatted);\n\n// Immutable update\nfunction updateUser(users, userId, updates) {\n    return users.map(user =>\n        user.id === userId\n            ? { ...user, ...updates }\n            : user\n    );\n}\n\nlet usersWithId = [\n    { id: 1, name: ''Alice'', age: 30 },\n    { id: 2, name: ''Bob'', age: 25 }\n];\n\nlet updated = updateUser(usersWithId, 1, { age: 31 });\nconsole.log(''Original users:'', usersWithId);\nconsole.log(''Updated users:'', updated);\n\n// Function composition\nfunction compose(...fns) {\n    return function(value) {\n        return fns.reduceRight((acc, fn) => fn(acc), value);\n    };\n}\n\nlet addOne = x => x + 1;\nlet double = x => x * 2;\nlet square = x => x * x;\n\nlet transform = compose(square, double, addOne);\nconsole.log(''transform(5):'', transform(5));  // ((5 + 1) * 2) ^ 2 = 144\nconsole.log();\n\nconsole.log("=== Benefits of Functional Programming ===");\n\n// Easy to test\nfunction calculateTotal(items) {\n    return items.reduce((sum, item) => sum + item.price, 0);\n}\n\nlet testItems = [\n    { price: 10 },\n    { price: 20 },\n    { price: 30 }\n];\n\nlet total = calculateTotal(testItems);\nconsole.log(''Total:'', total);  // Always 60 for this input\n\n// Predictable\nlet numbers2 = [1, 2, 3];\nlet doubled2 = numbers2.map(x => x * 2);\nconsole.log(''Original:'', numbers2);  // [1, 2, 3] (unchanged)\nconsole.log(''Doubled:'', doubled2);   // [2, 4, 6]\n```\n\n**Expected Output**:\n```\n=== Functional Programming Practice ===\n\n=== Pure Functions ===\nadd(2, 3): 5\nadd(2, 3): 5\nmultiply(4, 5): 20\nOriginal: [1, 2, 3]\nNew: [1, 2, 3, 4]\n\n=== Impure Functions (for comparison) ===\nincrement(): 1\nincrement(): 2\narr1: [1, 2, 3, 4]\narr2: [1, 2, 3, 4]\n\n=== Immutability ===\nOriginal user: { name: ''Alice'', age: 30 }\nUpdated user: { name: ''Alice'', age: 31 }\nOriginal items: [1, 2, 3]\nNew items: [1, 2, 3, 4]\n\n=== Side Effects ===\nLogging: Hello\nWould update DOM: output Hello World\nTotal: 1.5\n\n=== First-Class Functions ===\ngreet("Alice"): Hello, Alice!\nadd(2, 3): 5\napplyOperation(5, 3, multiply): 15\ndouble(5): 10\ntriple(5): 15\nResult after operations: 121\n\n=== Higher-Order Functions ===\nDoubled: [2, 4, 6, 8, 10]\nisPositive(5): true\nisPositive(-5): false\nisEven(4): true\nisEven(5): false\n\n=== Practical Examples ===\nFormatted users: [array]\nOriginal users: [array]\nUpdated users: [array]\ntransform(5): 144\n\n=== Benefits of Functional Programming ===\nTotal: 60\nOriginal: [1, 2, 3]\nDoubled: [2, 4, 6]\n```\n\n**Challenge (Optional)**:\n- Refactor existing code to be more functional\n- Build a functional programming library\n- Create immutable data structures\n- Practice function composition\n\n---\n\n## Common Mistakes\n\n### 1. Modifying Input Parameters\n\n```javascript\n// ⚠️ Problem: Modifies input\nfunction addItem(arr, item) {\n    arr.push(item);\n    return arr;\n}\n\n// ✅ Solution: Return new array\nfunction addItem(arr, item) {\n    return [...arr, item];\n}\n```\n\n### 2. Using External State\n\n```javascript\n// ⚠️ Problem: Depends on external state\nlet multiplier = 2;\nfunction multiply(x) {\n    return x * multiplier;  // Depends on external state\n}\n\n// ✅ Solution: Pass as parameter\nfunction multiply(x, multiplier) {\n    return x * multiplier;\n}\n```\n\n### 3. Mixing Side Effects with Logic\n\n```javascript\n// ⚠️ Problem: Side effects mixed with logic\nfunction processUser(user) {\n    user.id = generateId();  // Side effect\n    saveToDB(user);           // Side effect\n    return user;\n}\n\n// ✅ Solution: Separate concerns\nfunction processUser(user) {\n    return { ...user, id: generateId() };\n}\n\nlet processed = processUser(user);\nsaveToDB(processed);\n```\n\n---\n\n## Key Takeaways\n\n1. **Pure Functions**: Same input → same output, no side effects\n2. **Immutability**: Don''t modify data, create new data\n3. **Side Effects**: Isolate and minimize\n4. **First-Class Functions**: Functions are values\n5. **Higher-Order Functions**: Functions that work with functions\n6. **Benefits**: Predictable, testable, maintainable code\n7. **Best Practice**: Prefer pure functions, use immutability, isolate side effects\n\n---\n\n## Quiz: Functional Programming Basics\n\nTest your understanding with these questions:\n\n1. **Pure function:**\n   - A) Always same output\n   - B) Can have side effects\n   - C) Modifies input\n   - D) Uses global variables\n\n2. **Immutability means:**\n   - A) Can modify data\n   - B) Create new data\n   - C) Delete data\n   - D) Nothing\n\n3. **Side effects include:**\n   - A) Return values\n   - B) Console.log, DOM, network\n   - C) Calculations\n   - D) Nothing\n\n4. **First-class functions:**\n   - A) Can be values\n   - B) Can be arguments\n   - C) Can be returned\n   - D) All of the above\n\n5. **Higher-order function:**\n   - A) Takes function as argument\n   - B) Returns function\n   - C) Both\n   - D) Neither\n\n6. **Pure function benefits:**\n   - A) Testable\n   - B) Predictable\n   - C) Both\n   - D) Neither\n\n7. **Immutability helps:**\n   - A) Debugging\n   - B) Predictability\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Always same output\n2. B) Create new data\n3. B) Console.log, DOM, network\n4. D) All of the above\n5. C) Both\n6. C) Both\n7. C) Both\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned functional programming concepts. You now know:\n- What pure functions are\n- How to work with immutability\n- How to identify side effects\n- How to use first-class functions\n\n**What''s Next?**\n- Lesson 18.2: Array Methods for Functional Programming\n- Learn map, filter, reduce\n- Work with functional array methods\n- Build functional data pipelines\n\n---\n\n## Additional Resources\n\n- **MDN: Functional Programming**: [developer.mozilla.org/en-US/docs/Glossary/Functional_programming](https://developer.mozilla.org/en-US/docs/Glossary/Functional_programming)\n- **JavaScript.info: Functional Programming**: [javascript.info/functional-programming](https://javascript.info/functional-programming)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:59:25', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand functional programming principles\n- Write pure functions\n- Work with immutability\n- Identify and avoid side effects\n- Understand first-class functions\n- Apply functional programming concepts\n- Write more predictable code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (156, 58, 14, 'Higher-Order Functions', 'higher-order-functions', '# Lesson 18.2: Array Methods for Functional Programming\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use map() to transform arrays\n- Use filter() to select elements\n- Use reduce() to accumulate values\n- Use find() and findIndex() to search\n- Use some() and every() to test conditions\n- Chain array methods\n- Build functional data pipelines\n- Write more declarative code\n\n---\n\n## Introduction to Functional Array Methods\n\nJavaScript provides powerful array methods that support functional programming. These methods are pure, immutable, and chainable.\n\n### Why Functional Array Methods?\n\n- **Declarative**: Say what you want, not how\n- **Immutable**: Don''t modify original arrays\n- **Chainable**: Can combine multiple operations\n- **Readable**: Code is easier to understand\n- **Testable**: Easier to test pure functions\n- **Modern JavaScript**: Standard approach\n\n---\n\n## map()\n\n### What is map()?\n\n`map()` creates a new array by transforming each element.\n\n### Basic Syntax\n\n```javascript\nlet newArray = array.map(function(element, index, array) {\n    // Return transformed element\n    return transformedElement;\n});\n```\n\n### Basic Examples\n\n```javascript\n// Double each number\nlet numbers = [1, 2, 3, 4, 5];\nlet doubled = numbers.map(x => x * 2);\nconsole.log(doubled);  // [2, 4, 6, 8, 10]\n\n// Convert to strings\nlet numbers = [1, 2, 3];\nlet strings = numbers.map(x => x.toString());\nconsole.log(strings);  // [''1'', ''2'', ''3'']\n\n// Extract property\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 25 }\n];\nlet names = users.map(user => user.name);\nconsole.log(names);  // [''Alice'', ''Bob'']\n```\n\n### More map() Examples\n\n```javascript\n// Transform objects\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 25 }\n];\n\nlet formatted = users.map(user => ({\n    name: user.name.toUpperCase(),\n    age: user.age,\n    isAdult: user.age >= 18\n}));\nconsole.log(formatted);\n// [{ name: ''ALICE'', age: 30, isAdult: true }, ...]\n\n// With index\nlet numbers = [10, 20, 30];\nlet indexed = numbers.map((x, i) => x + i);\nconsole.log(indexed);  // [10, 21, 32]\n```\n\n---\n\n## filter()\n\n### What is filter()?\n\n`filter()` creates a new array with elements that pass a test.\n\n### Basic Syntax\n\n```javascript\nlet newArray = array.filter(function(element, index, array) {\n    // Return true to keep, false to remove\n    return condition;\n});\n```\n\n### Basic Examples\n\n```javascript\n// Filter even numbers\nlet numbers = [1, 2, 3, 4, 5, 6];\nlet evens = numbers.filter(x => x % 2 === 0);\nconsole.log(evens);  // [2, 4, 6]\n\n// Filter by property\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 15 },\n    { name: ''Charlie'', age: 25 }\n];\nlet adults = users.filter(user => user.age >= 18);\nconsole.log(adults);  // [{ name: ''Alice'', age: 30 }, { name: ''Charlie'', age: 25 }]\n\n// Filter by condition\nlet words = [''apple'', ''banana'', ''cherry'', ''date''];\nlet longWords = words.filter(word => word.length > 5);\nconsole.log(longWords);  // [''banana'', ''cherry'']\n```\n\n### More filter() Examples\n\n```javascript\n// Filter truthy values\nlet values = [0, 1, '''', ''hello'', null, undefined, 42];\nlet truthy = values.filter(Boolean);\nconsole.log(truthy);  // [1, ''hello'', 42]\n\n// Filter unique values\nlet numbers = [1, 2, 2, 3, 3, 3, 4];\nlet unique = numbers.filter((value, index, self) => {\n    return self.indexOf(value) === index;\n});\nconsole.log(unique);  // [1, 2, 3, 4]\n```\n\n---\n\n## reduce()\n\n### What is reduce()?\n\n`reduce()` reduces an array to a single value by applying a function.\n\n### Basic Syntax\n\n```javascript\nlet result = array.reduce(function(accumulator, currentValue, index, array) {\n    // Return new accumulator\n    return newAccumulator;\n}, initialValue);\n```\n\n### Basic Examples\n\n```javascript\n// Sum numbers\nlet numbers = [1, 2, 3, 4, 5];\nlet sum = numbers.reduce((acc, x) => acc + x, 0);\nconsole.log(sum);  // 15\n\n// Product\nlet numbers = [2, 3, 4];\nlet product = numbers.reduce((acc, x) => acc * x, 1);\nconsole.log(product);  // 24\n\n// Count occurrences\nlet words = [''apple'', ''banana'', ''apple'', ''cherry'', ''banana''];\nlet counts = words.reduce((acc, word) => {\n    acc[word] = (acc[word] || 0) + 1;\n    return acc;\n}, {});\nconsole.log(counts);  // { apple: 2, banana: 2, cherry: 1 }\n```\n\n### More reduce() Examples\n\n```javascript\n// Flatten array\nlet nested = [[1, 2], [3, 4], [5, 6]];\nlet flat = nested.reduce((acc, arr) => acc.concat(arr), []);\nconsole.log(flat);  // [1, 2, 3, 4, 5, 6]\n\n// Group by property\nlet users = [\n    { name: ''Alice'', age: 30, city: ''NYC'' },\n    { name: ''Bob'', age: 25, city: ''LA'' },\n    { name: ''Charlie'', age: 30, city: ''NYC'' }\n];\nlet grouped = users.reduce((acc, user) => {\n    if (!acc[user.city]) {\n        acc[user.city] = [];\n    }\n    acc[user.city].push(user);\n    return acc;\n}, {});\nconsole.log(grouped);\n// { NYC: [...], LA: [...] }\n\n// Find max\nlet numbers = [5, 2, 8, 1, 9];\nlet max = numbers.reduce((acc, x) => x > acc ? x : acc, numbers[0]);\nconsole.log(max);  // 9\n```\n\n---\n\n## find() and findIndex()\n\n### find()\n\n`find()` returns the first element that passes a test.\n\n```javascript\n// Find first even number\nlet numbers = [1, 3, 4, 5, 6];\nlet firstEven = numbers.find(x => x % 2 === 0);\nconsole.log(firstEven);  // 4\n\n// Find user by name\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 25 },\n    { name: ''Charlie'', age: 35 }\n];\nlet user = users.find(u => u.name === ''Bob'');\nconsole.log(user);  // { name: ''Bob'', age: 25 }\n\n// Returns undefined if not found\nlet notFound = users.find(u => u.name === ''David'');\nconsole.log(notFound);  // undefined\n```\n\n### findIndex()\n\n`findIndex()` returns the index of the first element that passes a test.\n\n```javascript\n// Find index of first even number\nlet numbers = [1, 3, 4, 5, 6];\nlet index = numbers.findIndex(x => x % 2 === 0);\nconsole.log(index);  // 2\n\n// Find index of user\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 25 }\n];\nlet index = users.findIndex(u => u.name === ''Bob'');\nconsole.log(index);  // 1\n\n// Returns -1 if not found\nlet notFound = users.findIndex(u => u.name === ''David'');\nconsole.log(notFound);  // -1\n```\n\n---\n\n## some() and every()\n\n### some()\n\n`some()` returns true if at least one element passes a test.\n\n```javascript\n// Check if any number is even\nlet numbers = [1, 3, 5, 6, 7];\nlet hasEven = numbers.some(x => x % 2 === 0);\nconsole.log(hasEven);  // true\n\n// Check if any user is adult\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 15 }\n];\nlet hasAdult = users.some(u => u.age >= 18);\nconsole.log(hasAdult);  // true\n```\n\n### every()\n\n`every()` returns true if all elements pass a test.\n\n```javascript\n// Check if all numbers are positive\nlet numbers = [1, 2, 3, 4, 5];\nlet allPositive = numbers.every(x => x > 0);\nconsole.log(allPositive);  // true\n\n// Check if all users are adults\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 25 }\n];\nlet allAdults = users.every(u => u.age >= 18);\nconsole.log(allAdults);  // true\n\nlet mixed = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 15 }\n];\nlet allAdults2 = mixed.every(u => u.age >= 18);\nconsole.log(allAdults2);  // false\n```\n\n---\n\n## Chaining Methods\n\n### Method Chaining\n\nYou can chain array methods together:\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n\nlet result = numbers\n    .filter(x => x % 2 === 0)  // [2, 4, 6, 8, 10]\n    .map(x => x * 2)            // [4, 8, 12, 16, 20]\n    .reduce((acc, x) => acc + x, 0);  // 60\n\nconsole.log(result);  // 60\n```\n\n### Complex Chaining Example\n\n```javascript\nlet users = [\n    { name: ''Alice'', age: 30, score: 85 },\n    { name: ''Bob'', age: 25, score: 92 },\n    { name: ''Charlie'', age: 35, score: 78 },\n    { name: ''David'', age: 20, score: 95 }\n];\n\nlet result = users\n    .filter(user => user.age >= 25)        // Adults only\n    .map(user => ({                        // Transform\n        name: user.name.toUpperCase(),\n        score: user.score\n    }))\n    .filter(user => user.score >= 80)      // High scores\n    .reduce((acc, user) => {               // Group by score range\n        let range = user.score >= 90 ? ''A'' : ''B'';\n        if (!acc[range]) acc[range] = [];\n        acc[range].push(user);\n        return acc;\n    }, {});\n\nconsole.log(result);\n// { B: [{ name: ''ALICE'', score: 85 }] }\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Data Processing Pipeline\n\n```javascript\nlet products = [\n    { name: ''Laptop'', price: 1000, category: ''Electronics'' },\n    { name: ''Book'', price: 20, category: ''Education'' },\n    { name: ''Phone'', price: 800, category: ''Electronics'' },\n    { name: ''Pen'', price: 2, category: ''Education'' }\n];\n\n// Get expensive electronics\nlet expensiveElectronics = products\n    .filter(p => p.category === ''Electronics'')\n    .filter(p => p.price > 500)\n    .map(p => ({\n        name: p.name,\n        price: p.price,\n        discountedPrice: p.price * 0.9\n    }));\n\nconsole.log(expensiveElectronics);\n```\n\n### Example 2: Statistics\n\n```javascript\nlet scores = [85, 92, 78, 95, 88, 90, 82];\n\n// Calculate statistics\nlet stats = {\n    count: scores.length,\n    sum: scores.reduce((a, b) => a + b, 0),\n    average: scores.reduce((a, b) => a + b, 0) / scores.length,\n    max: scores.reduce((a, b) => Math.max(a, b)),\n    min: scores.reduce((a, b) => Math.min(a, b)),\n    passed: scores.filter(s => s >= 80).length\n};\n\nconsole.log(stats);\n```\n\n### Example 3: Data Transformation\n\n```javascript\nlet orders = [\n    { id: 1, items: [{ name: ''Apple'', price: 1 }, { name: ''Banana'', price: 0.5 }] },\n    { id: 2, items: [{ name: ''Orange'', price: 1.5 }] },\n    { id: 3, items: [{ name: ''Apple'', price: 1 }, { name: ''Orange'', price: 1.5 }] }\n];\n\n// Get all items with order info\nlet allItems = orders.flatMap(order =>\n    order.items.map(item => ({\n        orderId: order.id,\n        ...item\n    }))\n);\n\n// Calculate total per order\nlet orderTotals = orders.map(order => ({\n    id: order.id,\n    total: order.items.reduce((sum, item) => sum + item.price, 0)\n}));\n\nconsole.log(allItems);\nconsole.log(orderTotals);\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Functional Array Methods\n\n**Objective**: Practice using map, filter, reduce, find, findIndex, some, and every to process data.\n\n**Instructions**:\n\n1. Create a JavaScript file\n2. Practice:\n   - Transforming arrays with map\n   - Filtering arrays\n   - Reducing arrays\n   - Finding elements\n   - Testing conditions\n   - Chaining methods\n\n**Example Solution**:\n\n```javascript\n// functional-array-methods-practice.js\nconsole.log("=== Functional Array Methods Practice ===");\n\nlet numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nlet users = [\n    { id: 1, name: ''Alice'', age: 30, score: 85, active: true },\n    { id: 2, name: ''Bob'', age: 25, score: 92, active: true },\n    { id: 3, name: ''Charlie'', age: 35, score: 78, active: false },\n    { id: 4, name: ''David'', age: 20, score: 95, active: true },\n    { id: 5, name: ''Eve'', age: 28, score: 88, active: true }\n];\n\nconsole.log("\\n=== map() ===");\n\n// Double each number\nlet doubled = numbers.map(x => x * 2);\nconsole.log(''Doubled:'', doubled);  // [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]\n\n// Get user names\nlet names = users.map(user => user.name);\nconsole.log(''Names:'', names);  // [''Alice'', ''Bob'', ''Charlie'', ''David'', ''Eve'']\n\n// Transform users\nlet formatted = users.map(user => ({\n    name: user.name.toUpperCase(),\n    age: user.age,\n    isAdult: user.age >= 18\n}));\nconsole.log(''Formatted users:'', formatted);\n\n// With index\nlet indexed = numbers.map((x, i) => x + i);\nconsole.log(''Indexed:'', indexed);\nconsole.log();\n\nconsole.log("=== filter() ===");\n\n// Filter even numbers\nlet evens = numbers.filter(x => x % 2 === 0);\nconsole.log(''Even numbers:'', evens);  // [2, 4, 6, 8, 10]\n\n// Filter adults\nlet adults = users.filter(user => user.age >= 18);\nconsole.log(''Adults:'', adults.length, ''users'');\n\n// Filter active users\nlet activeUsers = users.filter(user => user.active);\nconsole.log(''Active users:'', activeUsers.length, ''users'');\n\n// Filter high scores\nlet highScores = users.filter(user => user.score >= 85);\nconsole.log(''High scores:'', highScores.length, ''users'');\n\n// Filter truthy values\nlet values = [0, 1, '''', ''hello'', null, undefined, 42, false];\nlet truthy = values.filter(Boolean);\nconsole.log(''Truthy values:'', truthy);\nconsole.log();\n\nconsole.log("=== reduce() ===");\n\n// Sum numbers\nlet sum = numbers.reduce((acc, x) => acc + x, 0);\nconsole.log(''Sum:'', sum);  // 55\n\n// Product\nlet product = numbers.slice(0, 5).reduce((acc, x) => acc * x, 1);\nconsole.log(''Product of first 5:'', product);  // 120\n\n// Count occurrences\nlet words = [''apple'', ''banana'', ''apple'', ''cherry'', ''banana'', ''apple''];\nlet counts = words.reduce((acc, word) => {\n    acc[word] = (acc[word] || 0) + 1;\n    return acc;\n}, {});\nconsole.log(''Word counts:'', counts);\n\n// Group by age range\nlet grouped = users.reduce((acc, user) => {\n    let range = user.age < 25 ? ''young'' : user.age < 30 ? ''adult'' : ''senior'';\n    if (!acc[range]) acc[range] = [];\n    acc[range].push(user);\n    return acc;\n}, {});\nconsole.log(''Grouped by age:'', grouped);\n\n// Find max score\nlet maxScore = users.reduce((max, user) => \n    user.score > max ? user.score : max, 0\n);\nconsole.log(''Max score:'', maxScore);\n\n// Flatten array\nlet nested = [[1, 2], [3, 4], [5, 6]];\nlet flat = nested.reduce((acc, arr) => acc.concat(arr), []);\nconsole.log(''Flattened:'', flat);\nconsole.log();\n\nconsole.log("=== find() and findIndex() ===");\n\n// Find first even number\nlet firstEven = numbers.find(x => x % 2 === 0);\nconsole.log(''First even:'', firstEven);  // 2\n\n// Find user by name\nlet alice = users.find(user => user.name === ''Alice'');\nconsole.log(''Found Alice:'', alice);\n\n// Find user by score\nlet highScorer = users.find(user => user.score >= 90);\nconsole.log(''High scorer:'', highScorer);\n\n// Find index\nlet index = users.findIndex(user => user.name === ''Charlie'');\nconsole.log(''Charlie index:'', index);  // 2\n\n// Not found\nlet notFound = users.find(user => user.name === ''Frank'');\nconsole.log(''Not found:'', notFound);  // undefined\nconsole.log();\n\nconsole.log("=== some() and every() ===");\n\n// Check if any number is even\nlet hasEven = numbers.some(x => x % 2 === 0);\nconsole.log(''Has even:'', hasEven);  // true\n\n// Check if any user is inactive\nlet hasInactive = users.some(user => !user.active);\nconsole.log(''Has inactive:'', hasInactive);  // true\n\n// Check if all numbers are positive\nlet allPositive = numbers.every(x => x > 0);\nconsole.log(''All positive:'', allPositive);  // true\n\n// Check if all users are adults\nlet allAdults = users.every(user => user.age >= 18);\nconsole.log(''All adults:'', allAdults);  // true\n\n// Check if all users are active\nlet allActive = users.every(user => user.active);\nconsole.log(''All active:'', allActive);  // false\nconsole.log();\n\nconsole.log("=== Method Chaining ===");\n\n// Chain: filter -> map -> reduce\nlet result = numbers\n    .filter(x => x % 2 === 0)      // [2, 4, 6, 8, 10]\n    .map(x => x * 2)                // [4, 8, 12, 16, 20]\n    .reduce((acc, x) => acc + x, 0); // 60\nconsole.log(''Chained result:'', result);  // 60\n\n// Complex chain\nlet complexResult = users\n    .filter(user => user.active)           // Active users\n    .filter(user => user.age >= 25)        // Age >= 25\n    .map(user => ({                        // Transform\n        name: user.name.toUpperCase(),\n        score: user.score\n    }))\n    .filter(user => user.score >= 85)      // High scores\n    .reduce((acc, user) => {               // Group by score\n        let grade = user.score >= 90 ? ''A'' : ''B'';\n        if (!acc[grade]) acc[grade] = [];\n        acc[grade].push(user);\n        return acc;\n    }, {});\nconsole.log(''Complex chain result:'', complexResult);\n\n// Calculate average score of active adults\nlet avgScore = users\n    .filter(user => user.active)\n    .filter(user => user.age >= 25)\n    .map(user => user.score)\n    .reduce((acc, score, index, array) => {\n        acc += score;\n        if (index === array.length - 1) {\n            return acc / array.length;\n        }\n        return acc;\n    }, 0);\nconsole.log(''Average score:'', avgScore.toFixed(2));\nconsole.log();\n\nconsole.log("=== Practical Examples ===");\n\n// Example 1: Data Processing Pipeline\nlet products = [\n    { name: ''Laptop'', price: 1000, category: ''Electronics'', inStock: true },\n    { name: ''Book'', price: 20, category: ''Education'', inStock: true },\n    { name: ''Phone'', price: 800, category: ''Electronics'', inStock: false },\n    { name: ''Pen'', price: 2, category: ''Education'', inStock: true }\n];\n\nlet expensiveElectronics = products\n    .filter(p => p.category === ''Electronics'')\n    .filter(p => p.price > 500)\n    .filter(p => p.inStock)\n    .map(p => ({\n        name: p.name,\n        price: p.price,\n        discountedPrice: p.price * 0.9\n    }));\nconsole.log(''Expensive electronics:'', expensiveElectronics);\n\n// Example 2: Statistics\nlet scores = users.map(u => u.score);\nlet stats = {\n    count: scores.length,\n    sum: scores.reduce((a, b) => a + b, 0),\n    average: scores.reduce((a, b) => a + b, 0) / scores.length,\n    max: scores.reduce((a, b) => Math.max(a, b)),\n    min: scores.reduce((a, b) => Math.min(a, b)),\n    passed: scores.filter(s => s >= 80).length\n};\nconsole.log(''Score statistics:'', stats);\n\n// Example 3: Data Transformation\nlet orders = [\n    { id: 1, items: [{ name: ''Apple'', price: 1 }, { name: ''Banana'', price: 0.5 }] },\n    { id: 2, items: [{ name: ''Orange'', price: 1.5 }] },\n    { id: 3, items: [{ name: ''Apple'', price: 1 }, { name: ''Orange'', price: 1.5 }] }\n];\n\nlet allItems = orders.flatMap(order =>\n    order.items.map(item => ({\n        orderId: order.id,\n        ...item\n    }))\n);\nconsole.log(''All items:'', allItems);\n\nlet orderTotals = orders.map(order => ({\n    id: order.id,\n    total: order.items.reduce((sum, item) => sum + item.price, 0)\n}));\nconsole.log(''Order totals:'', orderTotals);\n```\n\n**Expected Output**:\n```\n=== Functional Array Methods Practice ===\n\n=== map() ===\nDoubled: [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]\nNames: [''Alice'', ''Bob'', ''Charlie'', ''David'', ''Eve'']\nFormatted users: [array]\nIndexed: [1, 3, 5, 7, 9, 11, 13, 15, 17, 19]\n\n=== filter() ===\nEven numbers: [2, 4, 6, 8, 10]\nAdults: 5 users\nActive users: 4 users\nHigh scores: 4 users\nTruthy values: [1, ''hello'', 42]\n\n=== reduce() ===\nSum: 55\nProduct of first 5: 120\nWord counts: { apple: 3, banana: 2, cherry: 1 }\nGrouped by age: { object }\nMax score: 95\nFlattened: [1, 2, 3, 4, 5, 6]\n\n=== find() and findIndex() ===\nFirst even: 2\nFound Alice: { id: 1, name: ''Alice'', ... }\nHigh scorer: { id: 2, name: ''Bob'', ... }\nCharlie index: 2\nNot found: undefined\n\n=== some() and every() ===\nHas even: true\nHas inactive: true\nAll positive: true\nAll adults: true\nAll active: false\n\n=== Method Chaining ===\nChained result: 60\nComplex chain result: { object }\nAverage score: [value]\n\n=== Practical Examples ===\nExpensive electronics: [array]\nScore statistics: { object }\nAll items: [array]\nOrder totals: [array]\n```\n\n**Challenge (Optional)**:\n- Build a complete data processing pipeline\n- Create reusable transformation functions\n- Build a query builder\n- Practice complex method chaining\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting Return in map()\n\n```javascript\n// ⚠️ Problem: Returns undefined\nlet doubled = numbers.map(x => {\n    x * 2;  // Missing return\n});\n\n// ✅ Solution: Return value\nlet doubled = numbers.map(x => x * 2);\n```\n\n### 2. Modifying Original Array\n\n```javascript\n// ⚠️ Problem: Modifies original\nlet filtered = numbers.filter(x => {\n    numbers.push(x * 2);  // Modifies original\n    return x > 5;\n});\n\n// ✅ Solution: Don''t modify in callbacks\nlet filtered = numbers.filter(x => x > 5);\n```\n\n### 3. Not Providing Initial Value in reduce()\n\n```javascript\n// ⚠️ Problem: Might fail with empty array\nlet sum = numbers.reduce((acc, x) => acc + x);\n\n// ✅ Solution: Provide initial value\nlet sum = numbers.reduce((acc, x) => acc + x, 0);\n```\n\n---\n\n## Key Takeaways\n\n1. **map()**: Transform each element\n2. **filter()**: Select elements that pass test\n3. **reduce()**: Accumulate to single value\n4. **find()**: Find first matching element\n5. **findIndex()**: Find index of first match\n6. **some()**: Test if any element passes\n7. **every()**: Test if all elements pass\n8. **Chaining**: Combine methods for powerful pipelines\n\n---\n\n## Quiz: Functional Array Methods\n\nTest your understanding with these questions:\n\n1. **map() returns:**\n   - A) Modified original array\n   - B) New array\n   - C) Single value\n   - D) Nothing\n\n2. **filter() keeps elements where:**\n   - A) Condition is false\n   - B) Condition is true\n   - C) Always\n   - D) Never\n\n3. **reduce() needs:**\n   - A) Accumulator\n   - B) Current value\n   - C) Initial value (optional)\n   - D) All of the above\n\n4. **find() returns:**\n   - A) First match\n   - B) All matches\n   - C) Index\n   - D) Nothing\n\n5. **some() returns:**\n   - A) true if any pass\n   - B) true if all pass\n   - C) false always\n   - D) undefined\n\n6. **every() returns:**\n   - A) true if any pass\n   - B) true if all pass\n   - C) false always\n   - D) undefined\n\n7. **Methods can be:**\n   - A) Chained\n   - B) Used separately\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. B) New array\n2. B) Condition is true\n3. D) All of the above\n4. A) First match\n5. A) true if any pass\n6. B) true if all pass\n7. C) Both\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned functional array methods. You now know:\n- How to transform arrays with map\n- How to filter arrays\n- How to reduce arrays\n- How to find elements\n- How to test conditions\n- How to chain methods\n\n**What''s Next?**\n- Lesson 18.3: Advanced Functional Patterns\n- Learn function composition\n- Understand currying\n- Work with memoization\n- Build higher-order functions\n\n---\n\n## Additional Resources\n\n- **MDN: Array Methods**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)\n- **JavaScript.info: Array Methods**: [javascript.info/array-methods](https://javascript.info/array-methods)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:59:25', '2026-01-03 09:59:25', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use map() to transform arrays\n- Use filter() to select elements\n- Use reduce() to accumulate values\n- Use find() and findIndex() to search\n- Use some() and every() to test conditions\n- Chain array methods\n- Build functional data pipelines\n- Write more declarative code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (160, 58, 14, 'Array Methods for Functional Programming', 'array-methods-for-functional-programming', '# Lesson 18.2: Array Methods for Functional Programming\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use map() to transform arrays\n- Use filter() to select elements\n- Use reduce() to accumulate values\n- Use find() and findIndex() to search\n- Use some() and every() to test conditions\n- Chain array methods\n- Build functional data pipelines\n- Write more declarative code\n\n---\n\n## Introduction to Functional Array Methods\n\nJavaScript provides powerful array methods that support functional programming. These methods are pure, immutable, and chainable.\n\n### Why Functional Array Methods?\n\n- **Declarative**: Say what you want, not how\n- **Immutable**: Don''t modify original arrays\n- **Chainable**: Can combine multiple operations\n- **Readable**: Code is easier to understand\n- **Testable**: Easier to test pure functions\n- **Modern JavaScript**: Standard approach\n\n---\n\n## map()\n\n### What is map()?\n\n`map()` creates a new array by transforming each element.\n\n### Basic Syntax\n\n```javascript\nlet newArray = array.map(function(element, index, array) {\n    // Return transformed element\n    return transformedElement;\n});\n```\n\n### Basic Examples\n\n```javascript\n// Double each number\nlet numbers = [1, 2, 3, 4, 5];\nlet doubled = numbers.map(x => x * 2);\nconsole.log(doubled);  // [2, 4, 6, 8, 10]\n\n// Convert to strings\nlet numbers = [1, 2, 3];\nlet strings = numbers.map(x => x.toString());\nconsole.log(strings);  // [''1'', ''2'', ''3'']\n\n// Extract property\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 25 }\n];\nlet names = users.map(user => user.name);\nconsole.log(names);  // [''Alice'', ''Bob'']\n```\n\n### More map() Examples\n\n```javascript\n// Transform objects\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 25 }\n];\n\nlet formatted = users.map(user => ({\n    name: user.name.toUpperCase(),\n    age: user.age,\n    isAdult: user.age >= 18\n}));\nconsole.log(formatted);\n// [{ name: ''ALICE'', age: 30, isAdult: true }, ...]\n\n// With index\nlet numbers = [10, 20, 30];\nlet indexed = numbers.map((x, i) => x + i);\nconsole.log(indexed);  // [10, 21, 32]\n```\n\n---\n\n## filter()\n\n### What is filter()?\n\n`filter()` creates a new array with elements that pass a test.\n\n### Basic Syntax\n\n```javascript\nlet newArray = array.filter(function(element, index, array) {\n    // Return true to keep, false to remove\n    return condition;\n});\n```\n\n### Basic Examples\n\n```javascript\n// Filter even numbers\nlet numbers = [1, 2, 3, 4, 5, 6];\nlet evens = numbers.filter(x => x % 2 === 0);\nconsole.log(evens);  // [2, 4, 6]\n\n// Filter by property\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 15 },\n    { name: ''Charlie'', age: 25 }\n];\nlet adults = users.filter(user => user.age >= 18);\nconsole.log(adults);  // [{ name: ''Alice'', age: 30 }, { name: ''Charlie'', age: 25 }]\n\n// Filter by condition\nlet words = [''apple'', ''banana'', ''cherry'', ''date''];\nlet longWords = words.filter(word => word.length > 5);\nconsole.log(longWords);  // [''banana'', ''cherry'']\n```\n\n### More filter() Examples\n\n```javascript\n// Filter truthy values\nlet values = [0, 1, '''', ''hello'', null, undefined, 42];\nlet truthy = values.filter(Boolean);\nconsole.log(truthy);  // [1, ''hello'', 42]\n\n// Filter unique values\nlet numbers = [1, 2, 2, 3, 3, 3, 4];\nlet unique = numbers.filter((value, index, self) => {\n    return self.indexOf(value) === index;\n});\nconsole.log(unique);  // [1, 2, 3, 4]\n```\n\n---\n\n## reduce()\n\n### What is reduce()?\n\n`reduce()` reduces an array to a single value by applying a function.\n\n### Basic Syntax\n\n```javascript\nlet result = array.reduce(function(accumulator, currentValue, index, array) {\n    // Return new accumulator\n    return newAccumulator;\n}, initialValue);\n```\n\n### Basic Examples\n\n```javascript\n// Sum numbers\nlet numbers = [1, 2, 3, 4, 5];\nlet sum = numbers.reduce((acc, x) => acc + x, 0);\nconsole.log(sum);  // 15\n\n// Product\nlet numbers = [2, 3, 4];\nlet product = numbers.reduce((acc, x) => acc * x, 1);\nconsole.log(product);  // 24\n\n// Count occurrences\nlet words = [''apple'', ''banana'', ''apple'', ''cherry'', ''banana''];\nlet counts = words.reduce((acc, word) => {\n    acc[word] = (acc[word] || 0) + 1;\n    return acc;\n}, {});\nconsole.log(counts);  // { apple: 2, banana: 2, cherry: 1 }\n```\n\n### More reduce() Examples\n\n```javascript\n// Flatten array\nlet nested = [[1, 2], [3, 4], [5, 6]];\nlet flat = nested.reduce((acc, arr) => acc.concat(arr), []);\nconsole.log(flat);  // [1, 2, 3, 4, 5, 6]\n\n// Group by property\nlet users = [\n    { name: ''Alice'', age: 30, city: ''NYC'' },\n    { name: ''Bob'', age: 25, city: ''LA'' },\n    { name: ''Charlie'', age: 30, city: ''NYC'' }\n];\nlet grouped = users.reduce((acc, user) => {\n    if (!acc[user.city]) {\n        acc[user.city] = [];\n    }\n    acc[user.city].push(user);\n    return acc;\n}, {});\nconsole.log(grouped);\n// { NYC: [...], LA: [...] }\n\n// Find max\nlet numbers = [5, 2, 8, 1, 9];\nlet max = numbers.reduce((acc, x) => x > acc ? x : acc, numbers[0]);\nconsole.log(max);  // 9\n```\n\n---\n\n## find() and findIndex()\n\n### find()\n\n`find()` returns the first element that passes a test.\n\n```javascript\n// Find first even number\nlet numbers = [1, 3, 4, 5, 6];\nlet firstEven = numbers.find(x => x % 2 === 0);\nconsole.log(firstEven);  // 4\n\n// Find user by name\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 25 },\n    { name: ''Charlie'', age: 35 }\n];\nlet user = users.find(u => u.name === ''Bob'');\nconsole.log(user);  // { name: ''Bob'', age: 25 }\n\n// Returns undefined if not found\nlet notFound = users.find(u => u.name === ''David'');\nconsole.log(notFound);  // undefined\n```\n\n### findIndex()\n\n`findIndex()` returns the index of the first element that passes a test.\n\n```javascript\n// Find index of first even number\nlet numbers = [1, 3, 4, 5, 6];\nlet index = numbers.findIndex(x => x % 2 === 0);\nconsole.log(index);  // 2\n\n// Find index of user\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 25 }\n];\nlet index = users.findIndex(u => u.name === ''Bob'');\nconsole.log(index);  // 1\n\n// Returns -1 if not found\nlet notFound = users.findIndex(u => u.name === ''David'');\nconsole.log(notFound);  // -1\n```\n\n---\n\n## some() and every()\n\n### some()\n\n`some()` returns true if at least one element passes a test.\n\n```javascript\n// Check if any number is even\nlet numbers = [1, 3, 5, 6, 7];\nlet hasEven = numbers.some(x => x % 2 === 0);\nconsole.log(hasEven);  // true\n\n// Check if any user is adult\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 15 }\n];\nlet hasAdult = users.some(u => u.age >= 18);\nconsole.log(hasAdult);  // true\n```\n\n### every()\n\n`every()` returns true if all elements pass a test.\n\n```javascript\n// Check if all numbers are positive\nlet numbers = [1, 2, 3, 4, 5];\nlet allPositive = numbers.every(x => x > 0);\nconsole.log(allPositive);  // true\n\n// Check if all users are adults\nlet users = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 25 }\n];\nlet allAdults = users.every(u => u.age >= 18);\nconsole.log(allAdults);  // true\n\nlet mixed = [\n    { name: ''Alice'', age: 30 },\n    { name: ''Bob'', age: 15 }\n];\nlet allAdults2 = mixed.every(u => u.age >= 18);\nconsole.log(allAdults2);  // false\n```\n\n---\n\n## Chaining Methods\n\n### Method Chaining\n\nYou can chain array methods together:\n\n```javascript\nlet numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n\nlet result = numbers\n    .filter(x => x % 2 === 0)  // [2, 4, 6, 8, 10]\n    .map(x => x * 2)            // [4, 8, 12, 16, 20]\n    .reduce((acc, x) => acc + x, 0);  // 60\n\nconsole.log(result);  // 60\n```\n\n### Complex Chaining Example\n\n```javascript\nlet users = [\n    { name: ''Alice'', age: 30, score: 85 },\n    { name: ''Bob'', age: 25, score: 92 },\n    { name: ''Charlie'', age: 35, score: 78 },\n    { name: ''David'', age: 20, score: 95 }\n];\n\nlet result = users\n    .filter(user => user.age >= 25)        // Adults only\n    .map(user => ({                        // Transform\n        name: user.name.toUpperCase(),\n        score: user.score\n    }))\n    .filter(user => user.score >= 80)      // High scores\n    .reduce((acc, user) => {               // Group by score range\n        let range = user.score >= 90 ? ''A'' : ''B'';\n        if (!acc[range]) acc[range] = [];\n        acc[range].push(user);\n        return acc;\n    }, {});\n\nconsole.log(result);\n// { B: [{ name: ''ALICE'', score: 85 }] }\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Data Processing Pipeline\n\n```javascript\nlet products = [\n    { name: ''Laptop'', price: 1000, category: ''Electronics'' },\n    { name: ''Book'', price: 20, category: ''Education'' },\n    { name: ''Phone'', price: 800, category: ''Electronics'' },\n    { name: ''Pen'', price: 2, category: ''Education'' }\n];\n\n// Get expensive electronics\nlet expensiveElectronics = products\n    .filter(p => p.category === ''Electronics'')\n    .filter(p => p.price > 500)\n    .map(p => ({\n        name: p.name,\n        price: p.price,\n        discountedPrice: p.price * 0.9\n    }));\n\nconsole.log(expensiveElectronics);\n```\n\n### Example 2: Statistics\n\n```javascript\nlet scores = [85, 92, 78, 95, 88, 90, 82];\n\n// Calculate statistics\nlet stats = {\n    count: scores.length,\n    sum: scores.reduce((a, b) => a + b, 0),\n    average: scores.reduce((a, b) => a + b, 0) / scores.length,\n    max: scores.reduce((a, b) => Math.max(a, b)),\n    min: scores.reduce((a, b) => Math.min(a, b)),\n    passed: scores.filter(s => s >= 80).length\n};\n\nconsole.log(stats);\n```\n\n### Example 3: Data Transformation\n\n```javascript\nlet orders = [\n    { id: 1, items: [{ name: ''Apple'', price: 1 }, { name: ''Banana'', price: 0.5 }] },\n    { id: 2, items: [{ name: ''Orange'', price: 1.5 }] },\n    { id: 3, items: [{ name: ''Apple'', price: 1 }, { name: ''Orange'', price: 1.5 }] }\n];\n\n// Get all items with order info\nlet allItems = orders.flatMap(order =>\n    order.items.map(item => ({\n        orderId: order.id,\n        ...item\n    }))\n);\n\n// Calculate total per order\nlet orderTotals = orders.map(order => ({\n    id: order.id,\n    total: order.items.reduce((sum, item) => sum + item.price, 0)\n}));\n\nconsole.log(allItems);\nconsole.log(orderTotals);\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Functional Array Methods\n\n**Objective**: Practice using map, filter, reduce, find, findIndex, some, and every to process data.\n\n**Instructions**:\n\n1. Create a JavaScript file\n2. Practice:\n   - Transforming arrays with map\n   - Filtering arrays\n   - Reducing arrays\n   - Finding elements\n   - Testing conditions\n   - Chaining methods\n\n**Example Solution**:\n\n```javascript\n// functional-array-methods-practice.js\nconsole.log("=== Functional Array Methods Practice ===");\n\nlet numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nlet users = [\n    { id: 1, name: ''Alice'', age: 30, score: 85, active: true },\n    { id: 2, name: ''Bob'', age: 25, score: 92, active: true },\n    { id: 3, name: ''Charlie'', age: 35, score: 78, active: false },\n    { id: 4, name: ''David'', age: 20, score: 95, active: true },\n    { id: 5, name: ''Eve'', age: 28, score: 88, active: true }\n];\n\nconsole.log("\\n=== map() ===");\n\n// Double each number\nlet doubled = numbers.map(x => x * 2);\nconsole.log(''Doubled:'', doubled);  // [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]\n\n// Get user names\nlet names = users.map(user => user.name);\nconsole.log(''Names:'', names);  // [''Alice'', ''Bob'', ''Charlie'', ''David'', ''Eve'']\n\n// Transform users\nlet formatted = users.map(user => ({\n    name: user.name.toUpperCase(),\n    age: user.age,\n    isAdult: user.age >= 18\n}));\nconsole.log(''Formatted users:'', formatted);\n\n// With index\nlet indexed = numbers.map((x, i) => x + i);\nconsole.log(''Indexed:'', indexed);\nconsole.log();\n\nconsole.log("=== filter() ===");\n\n// Filter even numbers\nlet evens = numbers.filter(x => x % 2 === 0);\nconsole.log(''Even numbers:'', evens);  // [2, 4, 6, 8, 10]\n\n// Filter adults\nlet adults = users.filter(user => user.age >= 18);\nconsole.log(''Adults:'', adults.length, ''users'');\n\n// Filter active users\nlet activeUsers = users.filter(user => user.active);\nconsole.log(''Active users:'', activeUsers.length, ''users'');\n\n// Filter high scores\nlet highScores = users.filter(user => user.score >= 85);\nconsole.log(''High scores:'', highScores.length, ''users'');\n\n// Filter truthy values\nlet values = [0, 1, '''', ''hello'', null, undefined, 42, false];\nlet truthy = values.filter(Boolean);\nconsole.log(''Truthy values:'', truthy);\nconsole.log();\n\nconsole.log("=== reduce() ===");\n\n// Sum numbers\nlet sum = numbers.reduce((acc, x) => acc + x, 0);\nconsole.log(''Sum:'', sum);  // 55\n\n// Product\nlet product = numbers.slice(0, 5).reduce((acc, x) => acc * x, 1);\nconsole.log(''Product of first 5:'', product);  // 120\n\n// Count occurrences\nlet words = [''apple'', ''banana'', ''apple'', ''cherry'', ''banana'', ''apple''];\nlet counts = words.reduce((acc, word) => {\n    acc[word] = (acc[word] || 0) + 1;\n    return acc;\n}, {});\nconsole.log(''Word counts:'', counts);\n\n// Group by age range\nlet grouped = users.reduce((acc, user) => {\n    let range = user.age < 25 ? ''young'' : user.age < 30 ? ''adult'' : ''senior'';\n    if (!acc[range]) acc[range] = [];\n    acc[range].push(user);\n    return acc;\n}, {});\nconsole.log(''Grouped by age:'', grouped);\n\n// Find max score\nlet maxScore = users.reduce((max, user) => \n    user.score > max ? user.score : max, 0\n);\nconsole.log(''Max score:'', maxScore);\n\n// Flatten array\nlet nested = [[1, 2], [3, 4], [5, 6]];\nlet flat = nested.reduce((acc, arr) => acc.concat(arr), []);\nconsole.log(''Flattened:'', flat);\nconsole.log();\n\nconsole.log("=== find() and findIndex() ===");\n\n// Find first even number\nlet firstEven = numbers.find(x => x % 2 === 0);\nconsole.log(''First even:'', firstEven);  // 2\n\n// Find user by name\nlet alice = users.find(user => user.name === ''Alice'');\nconsole.log(''Found Alice:'', alice);\n\n// Find user by score\nlet highScorer = users.find(user => user.score >= 90);\nconsole.log(''High scorer:'', highScorer);\n\n// Find index\nlet index = users.findIndex(user => user.name === ''Charlie'');\nconsole.log(''Charlie index:'', index);  // 2\n\n// Not found\nlet notFound = users.find(user => user.name === ''Frank'');\nconsole.log(''Not found:'', notFound);  // undefined\nconsole.log();\n\nconsole.log("=== some() and every() ===");\n\n// Check if any number is even\nlet hasEven = numbers.some(x => x % 2 === 0);\nconsole.log(''Has even:'', hasEven);  // true\n\n// Check if any user is inactive\nlet hasInactive = users.some(user => !user.active);\nconsole.log(''Has inactive:'', hasInactive);  // true\n\n// Check if all numbers are positive\nlet allPositive = numbers.every(x => x > 0);\nconsole.log(''All positive:'', allPositive);  // true\n\n// Check if all users are adults\nlet allAdults = users.every(user => user.age >= 18);\nconsole.log(''All adults:'', allAdults);  // true\n\n// Check if all users are active\nlet allActive = users.every(user => user.active);\nconsole.log(''All active:'', allActive);  // false\nconsole.log();\n\nconsole.log("=== Method Chaining ===");\n\n// Chain: filter -> map -> reduce\nlet result = numbers\n    .filter(x => x % 2 === 0)      // [2, 4, 6, 8, 10]\n    .map(x => x * 2)                // [4, 8, 12, 16, 20]\n    .reduce((acc, x) => acc + x, 0); // 60\nconsole.log(''Chained result:'', result);  // 60\n\n// Complex chain\nlet complexResult = users\n    .filter(user => user.active)           // Active users\n    .filter(user => user.age >= 25)        // Age >= 25\n    .map(user => ({                        // Transform\n        name: user.name.toUpperCase(),\n        score: user.score\n    }))\n    .filter(user => user.score >= 85)      // High scores\n    .reduce((acc, user) => {               // Group by score\n        let grade = user.score >= 90 ? ''A'' : ''B'';\n        if (!acc[grade]) acc[grade] = [];\n        acc[grade].push(user);\n        return acc;\n    }, {});\nconsole.log(''Complex chain result:'', complexResult);\n\n// Calculate average score of active adults\nlet avgScore = users\n    .filter(user => user.active)\n    .filter(user => user.age >= 25)\n    .map(user => user.score)\n    .reduce((acc, score, index, array) => {\n        acc += score;\n        if (index === array.length - 1) {\n            return acc / array.length;\n        }\n        return acc;\n    }, 0);\nconsole.log(''Average score:'', avgScore.toFixed(2));\nconsole.log();\n\nconsole.log("=== Practical Examples ===");\n\n// Example 1: Data Processing Pipeline\nlet products = [\n    { name: ''Laptop'', price: 1000, category: ''Electronics'', inStock: true },\n    { name: ''Book'', price: 20, category: ''Education'', inStock: true },\n    { name: ''Phone'', price: 800, category: ''Electronics'', inStock: false },\n    { name: ''Pen'', price: 2, category: ''Education'', inStock: true }\n];\n\nlet expensiveElectronics = products\n    .filter(p => p.category === ''Electronics'')\n    .filter(p => p.price > 500)\n    .filter(p => p.inStock)\n    .map(p => ({\n        name: p.name,\n        price: p.price,\n        discountedPrice: p.price * 0.9\n    }));\nconsole.log(''Expensive electronics:'', expensiveElectronics);\n\n// Example 2: Statistics\nlet scores = users.map(u => u.score);\nlet stats = {\n    count: scores.length,\n    sum: scores.reduce((a, b) => a + b, 0),\n    average: scores.reduce((a, b) => a + b, 0) / scores.length,\n    max: scores.reduce((a, b) => Math.max(a, b)),\n    min: scores.reduce((a, b) => Math.min(a, b)),\n    passed: scores.filter(s => s >= 80).length\n};\nconsole.log(''Score statistics:'', stats);\n\n// Example 3: Data Transformation\nlet orders = [\n    { id: 1, items: [{ name: ''Apple'', price: 1 }, { name: ''Banana'', price: 0.5 }] },\n    { id: 2, items: [{ name: ''Orange'', price: 1.5 }] },\n    { id: 3, items: [{ name: ''Apple'', price: 1 }, { name: ''Orange'', price: 1.5 }] }\n];\n\nlet allItems = orders.flatMap(order =>\n    order.items.map(item => ({\n        orderId: order.id,\n        ...item\n    }))\n);\nconsole.log(''All items:'', allItems);\n\nlet orderTotals = orders.map(order => ({\n    id: order.id,\n    total: order.items.reduce((sum, item) => sum + item.price, 0)\n}));\nconsole.log(''Order totals:'', orderTotals);\n```\n\n**Expected Output**:\n```\n=== Functional Array Methods Practice ===\n\n=== map() ===\nDoubled: [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]\nNames: [''Alice'', ''Bob'', ''Charlie'', ''David'', ''Eve'']\nFormatted users: [array]\nIndexed: [1, 3, 5, 7, 9, 11, 13, 15, 17, 19]\n\n=== filter() ===\nEven numbers: [2, 4, 6, 8, 10]\nAdults: 5 users\nActive users: 4 users\nHigh scores: 4 users\nTruthy values: [1, ''hello'', 42]\n\n=== reduce() ===\nSum: 55\nProduct of first 5: 120\nWord counts: { apple: 3, banana: 2, cherry: 1 }\nGrouped by age: { object }\nMax score: 95\nFlattened: [1, 2, 3, 4, 5, 6]\n\n=== find() and findIndex() ===\nFirst even: 2\nFound Alice: { id: 1, name: ''Alice'', ... }\nHigh scorer: { id: 2, name: ''Bob'', ... }\nCharlie index: 2\nNot found: undefined\n\n=== some() and every() ===\nHas even: true\nHas inactive: true\nAll positive: true\nAll adults: true\nAll active: false\n\n=== Method Chaining ===\nChained result: 60\nComplex chain result: { object }\nAverage score: [value]\n\n=== Practical Examples ===\nExpensive electronics: [array]\nScore statistics: { object }\nAll items: [array]\nOrder totals: [array]\n```\n\n**Challenge (Optional)**:\n- Build a complete data processing pipeline\n- Create reusable transformation functions\n- Build a query builder\n- Practice complex method chaining\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting Return in map()\n\n```javascript\n// ⚠️ Problem: Returns undefined\nlet doubled = numbers.map(x => {\n    x * 2;  // Missing return\n});\n\n// ✅ Solution: Return value\nlet doubled = numbers.map(x => x * 2);\n```\n\n### 2. Modifying Original Array\n\n```javascript\n// ⚠️ Problem: Modifies original\nlet filtered = numbers.filter(x => {\n    numbers.push(x * 2);  // Modifies original\n    return x > 5;\n});\n\n// ✅ Solution: Don''t modify in callbacks\nlet filtered = numbers.filter(x => x > 5);\n```\n\n### 3. Not Providing Initial Value in reduce()\n\n```javascript\n// ⚠️ Problem: Might fail with empty array\nlet sum = numbers.reduce((acc, x) => acc + x);\n\n// ✅ Solution: Provide initial value\nlet sum = numbers.reduce((acc, x) => acc + x, 0);\n```\n\n---\n\n## Key Takeaways\n\n1. **map()**: Transform each element\n2. **filter()**: Select elements that pass test\n3. **reduce()**: Accumulate to single value\n4. **find()**: Find first matching element\n5. **findIndex()**: Find index of first match\n6. **some()**: Test if any element passes\n7. **every()**: Test if all elements pass\n8. **Chaining**: Combine methods for powerful pipelines\n\n---\n\n## Quiz: Functional Array Methods\n\nTest your understanding with these questions:\n\n1. **map() returns:**\n   - A) Modified original array\n   - B) New array\n   - C) Single value\n   - D) Nothing\n\n2. **filter() keeps elements where:**\n   - A) Condition is false\n   - B) Condition is true\n   - C) Always\n   - D) Never\n\n3. **reduce() needs:**\n   - A) Accumulator\n   - B) Current value\n   - C) Initial value (optional)\n   - D) All of the above\n\n4. **find() returns:**\n   - A) First match\n   - B) All matches\n   - C) Index\n   - D) Nothing\n\n5. **some() returns:**\n   - A) true if any pass\n   - B) true if all pass\n   - C) false always\n   - D) undefined\n\n6. **every() returns:**\n   - A) true if any pass\n   - B) true if all pass\n   - C) false always\n   - D) undefined\n\n7. **Methods can be:**\n   - A) Chained\n   - B) Used separately\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. B) New array\n2. B) Condition is true\n3. D) All of the above\n4. A) First match\n5. A) true if any pass\n6. B) true if all pass\n7. C) Both\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned functional array methods. You now know:\n- How to transform arrays with map\n- How to filter arrays\n- How to reduce arrays\n- How to find elements\n- How to test conditions\n- How to chain methods\n\n**What''s Next?**\n- Lesson 18.3: Advanced Functional Patterns\n- Learn function composition\n- Understand currying\n- Work with memoization\n- Build higher-order functions\n\n---\n\n## Additional Resources\n\n- **MDN: Array Methods**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)\n- **JavaScript.info: Array Methods**: [javascript.info/array-methods](https://javascript.info/array-methods)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:59:58', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use map() to transform arrays\n- Use filter() to select elements\n- Use reduce() to accumulate values\n- Use find() and findIndex() to search\n- Use some() and every() to test conditions\n- Chain array methods\n- Build functional data pipelines\n- Write more declarative code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (161, 58, 14, 'Advanced Functional Patterns', 'advanced-functional-patterns', '# Lesson 18.3: Advanced Functional Patterns\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand function composition\n- Implement currying\n- Use memoization for performance\n- Build higher-order functions\n- Combine functional patterns\n- Write more reusable code\n- Optimize function performance\n\n---\n\n## Introduction to Advanced Functional Patterns\n\nAdvanced functional patterns help you write more elegant, reusable, and performant code.\n\n### Why Advanced Patterns?\n\n- **Reusability**: Write functions that work in many contexts\n- **Composability**: Combine small functions into larger ones\n- **Performance**: Optimize with memoization\n- **Readability**: More declarative code\n- **Maintainability**: Easier to modify and extend\n- **Modern JavaScript**: Common in modern codebases\n\n---\n\n## Function Composition\n\n### What is Function Composition?\n\nFunction composition combines multiple functions into a single function.\n\n### Basic Composition\n\n```javascript\n// Compose functions: f(g(x))\nfunction compose(f, g) {\n    return function(x) {\n        return f(g(x));\n    };\n}\n\n// Example\nlet addOne = x => x + 1;\nlet double = x => x * 2;\n\nlet addOneThenDouble = compose(double, addOne);\nconsole.log(addOneThenDouble(5));  // (5 + 1) * 2 = 12\n```\n\n### Multiple Functions\n\n```javascript\n// Compose multiple functions\nfunction compose(...fns) {\n    return function(value) {\n        return fns.reduceRight((acc, fn) => fn(acc), value);\n    };\n}\n\n// Example\nlet addOne = x => x + 1;\nlet double = x => x * 2;\nlet square = x => x * x;\n\nlet transform = compose(square, double, addOne);\nconsole.log(transform(5));  // ((5 + 1) * 2) ^ 2 = 144\n```\n\n### Pipe (Left to Right)\n\n```javascript\n// Pipe: Apply functions left to right\nfunction pipe(...fns) {\n    return function(value) {\n        return fns.reduce((acc, fn) => fn(acc), value);\n    };\n}\n\n// Example\nlet addOne = x => x + 1;\nlet double = x => x * 2;\nlet square = x => x * x;\n\nlet transform = pipe(addOne, double, square);\nconsole.log(transform(5));  // ((5 + 1) * 2) ^ 2 = 144\n```\n\n### Practical Composition Example\n\n```javascript\n// Helper functions\nlet trim = str => str.trim();\nlet toLowerCase = str => str.toLowerCase();\nlet capitalize = str => str.charAt(0).toUpperCase() + str.slice(1);\n\n// Compose\nlet normalizeName = pipe(trim, toLowerCase, capitalize);\n\nconsole.log(normalizeName(''  ALICE  ''));  // ''Alice''\n```\n\n---\n\n## Currying\n\n### What is Currying?\n\nCurrying transforms a function with multiple arguments into a sequence of functions, each taking one argument.\n\n### Basic Currying\n\n```javascript\n// Regular function\nfunction add(a, b) {\n    return a + b;\n}\n\n// Curried function\nfunction addCurried(a) {\n    return function(b) {\n        return a + b;\n    };\n}\n\n// Usage\nlet add5 = addCurried(5);\nconsole.log(add5(3));  // 8\n```\n\n### Arrow Function Currying\n\n```javascript\n// Curried with arrow functions\nlet add = a => b => a + b;\n\n// Usage\nlet add5 = add(5);\nconsole.log(add5(3));  // 8\n\n// Or call directly\nconsole.log(add(5)(3));  // 8\n```\n\n### Multiple Arguments\n\n```javascript\n// Curry function with multiple arguments\nfunction curry(fn) {\n    return function curried(...args) {\n        if (args.length >= fn.length) {\n            return fn.apply(this, args);\n        } else {\n            return function(...nextArgs) {\n                return curried.apply(this, args.concat(nextArgs));\n            };\n        }\n    };\n}\n\n// Example\nfunction multiply(a, b, c) {\n    return a * b * c;\n}\n\nlet curriedMultiply = curry(multiply);\n\nconsole.log(curriedMultiply(2)(3)(4));     // 24\nconsole.log(curriedMultiply(2, 3)(4));     // 24\nconsole.log(curriedMultiply(2)(3, 4));     // 24\nconsole.log(curriedMultiply(2, 3, 4));     // 24\n```\n\n### Practical Currying Example\n\n```javascript\n// Curried filter\nlet filter = predicate => array => array.filter(predicate);\n\nlet isEven = x => x % 2 === 0;\nlet filterEven = filter(isEven);\n\nlet numbers = [1, 2, 3, 4, 5, 6];\nconsole.log(filterEven(numbers));  // [2, 4, 6]\n\n// Curried map\nlet map = fn => array => array.map(fn);\n\nlet double = x => x * 2;\nlet mapDouble = map(double);\n\nconsole.log(mapDouble(numbers));  // [2, 4, 6, 8, 10, 12]\n```\n\n---\n\n## Memoization\n\n### What is Memoization?\n\nMemoization caches function results to avoid recomputation.\n\n### Basic Memoization\n\n```javascript\n// Simple memoization\nfunction memoize(fn) {\n    let cache = {};\n    return function(...args) {\n        let key = JSON.stringify(args);\n        if (cache[key]) {\n            return cache[key];\n        }\n        let result = fn.apply(this, args);\n        cache[key] = result;\n        return result;\n    };\n}\n\n// Example: Fibonacci\nfunction fibonacci(n) {\n    if (n <= 1) return n;\n    return fibonacci(n - 1) + fibonacci(n - 2);\n}\n\nlet memoizedFibonacci = memoize(fibonacci);\nconsole.log(memoizedFibonacci(40));  // Fast!\n```\n\n### Memoization with Map\n\n```javascript\n// Memoization with Map (better for object keys)\nfunction memoize(fn) {\n    let cache = new Map();\n    return function(...args) {\n        let key = JSON.stringify(args);\n        if (cache.has(key)) {\n            return cache.get(key);\n        }\n        let result = fn.apply(this, args);\n        cache.set(key, result);\n        return result;\n    };\n}\n```\n\n### Memoization Example\n\n```javascript\n// Expensive calculation\nfunction expensiveOperation(n) {\n    console.log(''Calculating...'', n);\n    // Simulate expensive operation\n    let result = 0;\n    for (let i = 0; i < n * 1000000; i++) {\n        result += i;\n    }\n    return result;\n}\n\nlet memoized = memoize(expensiveOperation);\n\nconsole.log(memoized(10));  // Calculates\nconsole.log(memoized(10));  // Uses cache (fast!)\n```\n\n---\n\n## Higher-Order Functions\n\n### What are Higher-Order Functions?\n\nHigher-order functions are functions that operate on other functions.\n\n### Function that Takes Function\n\n```javascript\n// Higher-order function: takes function as argument\nfunction withLogging(fn) {\n    return function(...args) {\n        console.log(''Calling function with:'', args);\n        let result = fn.apply(this, args);\n        console.log(''Result:'', result);\n        return result;\n    };\n}\n\n// Usage\nlet add = (a, b) => a + b;\nlet loggedAdd = withLogging(add);\n\nloggedAdd(2, 3);\n// Calling function with: [2, 3]\n// Result: 5\n```\n\n### Function that Returns Function\n\n```javascript\n// Higher-order function: returns function\nfunction createMultiplier(factor) {\n    return function(number) {\n        return number * factor;\n    };\n}\n\nlet double = createMultiplier(2);\nlet triple = createMultiplier(3);\n\nconsole.log(double(5));   // 10\nconsole.log(triple(5));   // 15\n```\n\n### Advanced Higher-Order Functions\n\n```javascript\n// Retry function\nfunction retry(fn, times = 3) {\n    return async function(...args) {\n        for (let i = 0; i < times; i++) {\n            try {\n                return await fn.apply(this, args);\n            } catch (error) {\n                if (i === times - 1) throw error;\n                console.log(`Retry ${i + 1}/${times}`);\n            }\n        }\n    };\n}\n\n// Debounce\nfunction debounce(fn, delay) {\n    let timeoutId;\n    return function(...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => {\n            fn.apply(this, args);\n        }, delay);\n    };\n}\n\n// Throttle\nfunction throttle(fn, limit) {\n    let inThrottle;\n    return function(...args) {\n        if (!inThrottle) {\n            fn.apply(this, args);\n            inThrottle = true;\n            setTimeout(() => inThrottle = false, limit);\n        }\n    };\n}\n```\n\n---\n\n## Combining Patterns\n\n### Composition + Currying\n\n```javascript\n// Curried functions\nlet add = a => b => a + b;\nlet multiply = a => b => a * b;\n\n// Compose curried functions\nlet addThenMultiply = pipe(\n    add(5),\n    multiply(2)\n);\n\nconsole.log(addThenMultiply(3));  // (3 + 5) * 2 = 16\n```\n\n### Memoization + Composition\n\n```javascript\n// Compose functions\nlet addOne = x => x + 1;\nlet double = x => x * 2;\nlet square = x => x * x;\n\nlet transform = pipe(addOne, double, square);\n\n// Memoize the composition\nlet memoizedTransform = memoize(transform);\n\nconsole.log(memoizedTransform(5));  // Calculates\nconsole.log(memoizedTransform(5));  // Uses cache\n```\n\n### Higher-Order + Currying\n\n```javascript\n// Curried higher-order function\nlet map = fn => array => array.map(fn);\nlet filter = predicate => array => array.filter(predicate);\n\n// Compose curried functions\nlet process = pipe(\n    filter(x => x > 5),\n    map(x => x * 2)\n);\n\nlet numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nconsole.log(process(numbers));  // [12, 14, 16, 18, 20]\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Data Processing Pipeline\n\n```javascript\n// Helper functions\nlet trim = str => str.trim();\nlet toLowerCase = str => str.toLowerCase();\nlet capitalize = str => str.charAt(0).toUpperCase() + str.slice(1);\nlet removeSpecial = str => str.replace(/[^a-z0-9\\s]/gi, '''');\n\n// Compose\nlet normalize = pipe(trim, toLowerCase, removeSpecial, capitalize);\n\nlet names = [''  ALICE!  '', ''  bob@example  '', ''  Charlie123  ''];\nlet normalized = names.map(normalize);\nconsole.log(normalized);  // [''Alice'', ''Bobexample'', ''Charlie123'']\n```\n\n### Example 2: API Request Builder\n\n```javascript\n// Curried API builder\nlet apiRequest = method => url => data => {\n    return fetch(url, {\n        method: method,\n        headers: { ''Content-Type'': ''application/json'' },\n        body: JSON.stringify(data)\n    });\n};\n\n// Create specific request functions\nlet get = apiRequest(''GET'');\nlet post = apiRequest(''POST'');\nlet put = apiRequest(''PUT'');\n\n// Use\nlet getUser = get(''/api/users'');\nlet createUser = post(''/api/users'');\n```\n\n### Example 3: Validation Pipeline\n\n```javascript\n// Validators\nlet isRequired = value => value !== null && value !== undefined && value !== '''';\nlet minLength = length => value => value.length >= length;\nlet isEmail = value => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value);\n\n// Combine validators\nfunction validate(...validators) {\n    return function(value) {\n        return validators.every(validator => validator(value));\n    };\n}\n\n// Create validators\nlet validateEmail = validate(isRequired, isEmail);\nlet validatePassword = validate(isRequired, minLength(8));\n\nconsole.log(validateEmail(''alice@example.com''));  // true\nconsole.log(validatePassword(''password123''));     // true\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Advanced Functional Patterns\n\n**Objective**: Practice function composition, currying, memoization, and higher-order functions.\n\n**Instructions**:\n\n1. Create a JavaScript file\n2. Practice:\n   - Composing functions\n   - Creating curried functions\n   - Implementing memoization\n   - Building higher-order functions\n   - Combining patterns\n\n**Example Solution**:\n\n```javascript\n// advanced-functional-patterns-practice.js\nconsole.log("=== Advanced Functional Patterns Practice ===");\n\nconsole.log("\\n=== Function Composition ===");\n\n// Basic composition\nfunction compose(f, g) {\n    return function(x) {\n        return f(g(x));\n    };\n}\n\nlet addOne = x => x + 1;\nlet double = x => x * 2;\n\nlet addOneThenDouble = compose(double, addOne);\nconsole.log(''addOneThenDouble(5):'', addOneThenDouble(5));  // 12\n\n// Multiple functions\nfunction compose(...fns) {\n    return function(value) {\n        return fns.reduceRight((acc, fn) => fn(acc), value);\n    };\n}\n\nlet addOne = x => x + 1;\nlet double = x => x * 2;\nlet square = x => x * x;\n\nlet transform = compose(square, double, addOne);\nconsole.log(''transform(5):'', transform(5));  // 144\n\n// Pipe (left to right)\nfunction pipe(...fns) {\n    return function(value) {\n        return fns.reduce((acc, fn) => fn(acc), value);\n    };\n}\n\nlet transform2 = pipe(addOne, double, square);\nconsole.log(''transform2(5):'', transform2(5));  // 144\n\n// Practical: String normalization\nlet trim = str => str.trim();\nlet toLowerCase = str => str.toLowerCase();\nlet capitalize = str => str.charAt(0).toUpperCase() + str.slice(1);\n\nlet normalizeName = pipe(trim, toLowerCase, capitalize);\nconsole.log(''normalizeName("  ALICE  "):'', normalizeName(''  ALICE  ''));  // ''Alice''\nconsole.log();\n\nconsole.log("=== Currying ===");\n\n// Basic currying\nfunction addCurried(a) {\n    return function(b) {\n        return a + b;\n    };\n}\n\nlet add5 = addCurried(5);\nconsole.log(''add5(3):'', add5(3));  // 8\n\n// Arrow function currying\nlet add = a => b => a + b;\nlet add10 = add(10);\nconsole.log(''add10(5):'', add10(5));  // 15\n\n// Generic curry function\nfunction curry(fn) {\n    return function curried(...args) {\n        if (args.length >= fn.length) {\n            return fn.apply(this, args);\n        } else {\n            return function(...nextArgs) {\n                return curried.apply(this, args.concat(nextArgs));\n            };\n        }\n    };\n}\n\nfunction multiply(a, b, c) {\n    return a * b * c;\n}\n\nlet curriedMultiply = curry(multiply);\nconsole.log(''curriedMultiply(2)(3)(4):'', curriedMultiply(2)(3)(4));     // 24\nconsole.log(''curriedMultiply(2, 3)(4):'', curriedMultiply(2, 3)(4));     // 24\nconsole.log(''curriedMultiply(2)(3, 4):'', curriedMultiply(2)(3, 4));     // 24\n\n// Practical: Curried array methods\nlet filter = predicate => array => array.filter(predicate);\nlet map = fn => array => array.map(fn);\n\nlet isEven = x => x % 2 === 0;\nlet filterEven = filter(isEven);\nlet double = x => x * 2;\nlet mapDouble = map(double);\n\nlet numbers = [1, 2, 3, 4, 5, 6];\nconsole.log(''filterEven(numbers):'', filterEven(numbers));  // [2, 4, 6]\nconsole.log(''mapDouble(numbers):'', mapDouble(numbers));    // [2, 4, 6, 8, 10, 12]\nconsole.log();\n\nconsole.log("=== Memoization ===");\n\n// Basic memoization\nfunction memoize(fn) {\n    let cache = {};\n    return function(...args) {\n        let key = JSON.stringify(args);\n        if (cache[key]) {\n            console.log(''Cache hit for:'', key);\n            return cache[key];\n        }\n        console.log(''Cache miss, calculating...'');\n        let result = fn.apply(this, args);\n        cache[key] = result;\n        return result;\n    };\n}\n\n// Expensive function\nfunction expensiveOperation(n) {\n    let result = 0;\n    for (let i = 0; i < n * 1000000; i++) {\n        result += i;\n    }\n    return result;\n}\n\nlet memoized = memoize(expensiveOperation);\nconsole.log(''memoized(10):'', memoized(10));  // Calculates\nconsole.log(''memoized(10):'', memoized(10));  // Uses cache\n\n// Fibonacci with memoization\nfunction fibonacci(n) {\n    if (n <= 1) return n;\n    return fibonacci(n - 1) + fibonacci(n - 2);\n}\n\nlet memoizedFib = memoize(fibonacci);\nconsole.log(''memoizedFib(40):'', memoizedFib(40));  // Fast with memoization\nconsole.log();\n\nconsole.log("=== Higher-Order Functions ===");\n\n// Function that takes function\nfunction withLogging(fn) {\n    return function(...args) {\n        console.log(''Calling function with:'', args);\n        let result = fn.apply(this, args);\n        console.log(''Result:'', result);\n        return result;\n    };\n}\n\nlet add = (a, b) => a + b;\nlet loggedAdd = withLogging(add);\nloggedAdd(2, 3);\n\n// Function that returns function\nfunction createMultiplier(factor) {\n    return function(number) {\n        return number * factor;\n    };\n}\n\nlet double = createMultiplier(2);\nlet triple = createMultiplier(3);\nconsole.log(''double(5):'', double(5));   // 10\nconsole.log(''triple(5):'', triple(5));   // 15\n\n// Retry function\nfunction retry(fn, times = 3) {\n    return async function(...args) {\n        for (let i = 0; i < times; i++) {\n            try {\n                return await fn.apply(this, args);\n            } catch (error) {\n                if (i === times - 1) throw error;\n                console.log(`Retry ${i + 1}/${times}`);\n            }\n        }\n    };\n}\n\n// Debounce\nfunction debounce(fn, delay) {\n    let timeoutId;\n    return function(...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => {\n            fn.apply(this, args);\n        }, delay);\n    };\n}\n\n// Throttle\nfunction throttle(fn, limit) {\n    let inThrottle;\n    return function(...args) {\n        if (!inThrottle) {\n            fn.apply(this, args);\n            inThrottle = true;\n            setTimeout(() => inThrottle = false, limit);\n        }\n    };\n}\nconsole.log();\n\nconsole.log("=== Combining Patterns ===");\n\n// Composition + Currying\nlet add = a => b => a + b;\nlet multiply = a => b => a * b;\n\nlet addThenMultiply = pipe(\n    add(5),\n    multiply(2)\n);\nconsole.log(''addThenMultiply(3):'', addThenMultiply(3));  // 16\n\n// Memoization + Composition\nlet addOne = x => x + 1;\nlet double = x => x * 2;\nlet square = x => x * x;\n\nlet transform = pipe(addOne, double, square);\nlet memoizedTransform = memoize(transform);\n\nconsole.log(''memoizedTransform(5):'', memoizedTransform(5));  // Calculates\nconsole.log(''memoizedTransform(5):'', memoizedTransform(5));  // Uses cache\n\n// Higher-Order + Currying\nlet map = fn => array => array.map(fn);\nlet filter = predicate => array => array.filter(predicate);\n\nlet process = pipe(\n    filter(x => x > 5),\n    map(x => x * 2)\n);\n\nlet numbers2 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nconsole.log(''process(numbers2):'', process(numbers2));  // [12, 14, 16, 18, 20]\nconsole.log();\n\nconsole.log("=== Practical Examples ===");\n\n// Example 1: Data Processing Pipeline\nlet trim = str => str.trim();\nlet toLowerCase = str => str.toLowerCase();\nlet capitalize = str => str.charAt(0).toUpperCase() + str.slice(1);\nlet removeSpecial = str => str.replace(/[^a-z0-9\\s]/gi, '''');\n\nlet normalize = pipe(trim, toLowerCase, removeSpecial, capitalize);\n\nlet names = [''  ALICE!  '', ''  bob@example  '', ''  Charlie123  ''];\nlet normalized = names.map(normalize);\nconsole.log(''Normalized names:'', normalized);\n\n// Example 2: Validation Pipeline\nlet isRequired = value => value !== null && value !== undefined && value !== '''';\nlet minLength = length => value => value.length >= length;\nlet isEmail = value => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value);\n\nfunction validate(...validators) {\n    return function(value) {\n        return validators.every(validator => validator(value));\n    };\n}\n\nlet validateEmail = validate(isRequired, isEmail);\nlet validatePassword = validate(isRequired, minLength(8));\n\nconsole.log(''validateEmail("alice@example.com"):'', validateEmail(''alice@example.com''));  // true\nconsole.log(''validatePassword("password123"):'', validatePassword(''password123''));          // true\n```\n\n**Expected Output**:\n```\n=== Advanced Functional Patterns Practice ===\n\n=== Function Composition ===\naddOneThenDouble(5): 12\ntransform(5): 144\ntransform2(5): 144\nnormalizeName("  ALICE  "): Alice\n\n=== Currying ===\nadd5(3): 8\nadd10(5): 15\ncurriedMultiply(2)(3)(4): 24\ncurriedMultiply(2, 3)(4): 24\ncurriedMultiply(2)(3, 4): 24\nfilterEven(numbers): [2, 4, 6]\nmapDouble(numbers): [2, 4, 6, 8, 10, 12]\n\n=== Memoization ===\nCache miss, calculating...\nmemoized(10): [result]\nCache hit for: [10]\nmemoized(10): [result]\nmemoizedFib(40): [result]\n\n=== Higher-Order Functions ===\nCalling function with: [2, 3]\nResult: 5\ndouble(5): 10\ntriple(5): 15\n\n=== Combining Patterns ===\naddThenMultiply(3): 16\nmemoizedTransform(5): [result]\nmemoizedTransform(5): [result]\nprocess(numbers2): [12, 14, 16, 18, 20]\n\n=== Practical Examples ===\nNormalized names: [''Alice'', ''Bobexample'', ''Charlie123'']\nvalidateEmail("alice@example.com"): true\nvalidatePassword("password123"): true\n```\n\n**Challenge (Optional)**:\n- Build a complete functional programming library\n- Create reusable composition utilities\n- Build a validation framework\n- Practice combining all patterns\n\n---\n\n## Common Mistakes\n\n### 1. Wrong Composition Order\n\n```javascript\n// ⚠️ Problem: Wrong order\nlet result = compose(addOne, double)(5);  // (5 * 2) + 1 = 11\n\n// ✅ Solution: Understand order\nlet result = compose(double, addOne)(5);  // (5 + 1) * 2 = 12\n```\n\n### 2. Not Handling Arguments in Curry\n\n```javascript\n// ⚠️ Problem: Doesn''t handle partial application\nfunction curry(fn) {\n    return function(a) {\n        return function(b) {\n            return fn(a, b);\n        };\n    };\n}\n\n// ✅ Solution: Handle any number of arguments\nfunction curry(fn) {\n    return function curried(...args) {\n        if (args.length >= fn.length) {\n            return fn.apply(this, args);\n        } else {\n            return function(...nextArgs) {\n                return curried.apply(this, args.concat(nextArgs));\n            };\n        }\n    };\n}\n```\n\n### 3. Memoization with Non-Serializable Keys\n\n```javascript\n// ⚠️ Problem: Objects can''t be stringified properly\nfunction memoize(fn) {\n    let cache = {};\n    return function(...args) {\n        let key = JSON.stringify(args);  // Might fail with functions\n        // ...\n    };\n}\n\n// ✅ Solution: Use Map or better key generation\nfunction memoize(fn) {\n    let cache = new Map();\n    return function(...args) {\n        let key = JSON.stringify(args);\n        // Or use a better key generation strategy\n    };\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **Function Composition**: Combine functions into pipelines\n2. **Currying**: Transform multi-argument functions\n3. **Memoization**: Cache results for performance\n4. **Higher-Order Functions**: Functions that work with functions\n5. **Combining Patterns**: Use patterns together for power\n6. **Best Practice**: Start simple, compose for complexity\n7. **Performance**: Memoization can significantly improve performance\n\n---\n\n## Quiz: Advanced Functional Programming\n\nTest your understanding with these questions:\n\n1. **Function composition:**\n   - A) Combines functions\n   - B) Separates functions\n   - C) Deletes functions\n   - D) Nothing\n\n2. **Currying transforms:**\n   - A) One argument to many\n   - B) Many arguments to one\n   - C) Functions to values\n   - D) Nothing\n\n3. **Memoization:**\n   - A) Caches results\n   - B) Deletes results\n   - C) Modifies results\n   - D) Nothing\n\n4. **Higher-order function:**\n   - A) Takes function as argument\n   - B) Returns function\n   - C) Both\n   - D) Neither\n\n5. **compose applies functions:**\n   - A) Left to right\n   - B) Right to left\n   - C) Random\n   - D) Never\n\n6. **pipe applies functions:**\n   - A) Left to right\n   - B) Right to left\n   - C) Random\n   - D) Never\n\n7. **Memoization helps:**\n   - A) Performance\n   - B) Readability\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Combines functions\n2. B) Many arguments to one\n3. A) Caches results\n4. C) Both\n5. B) Right to left\n6. A) Left to right\n7. A) Performance\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 18: Functional Programming. You now know:\n- Functional programming concepts\n- Array methods for FP\n- Advanced functional patterns\n- Function composition, currying, memoization\n\n**What''s Next?**\n- Module 19: Design Patterns\n- Lesson 19.1: Creational Patterns\n- Learn design patterns\n- Build reusable solutions\n\n---\n\n## Additional Resources\n\n- **MDN: Functions**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions)\n- **JavaScript.info: Advanced Functions**: [javascript.info/advanced-functions](https://javascript.info/advanced-functions)\n\n---\n\n*Lesson completed! You''ve finished Module 18: Functional Programming. Ready for Module 19: Design Patterns!*\n\n', NULL, 3, '2026-01-03 09:59:58', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand function composition\n- Implement currying\n- Use memoization for performance\n- Build higher-order functions\n- Combine functional patterns\n- Write more reusable code\n- Optimize function performance');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (157, 59, 14, 'Creational Patterns', 'creational-patterns', '# Lesson 19.1: Creational Patterns\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand creational design patterns\n- Implement the Singleton pattern\n- Implement the Factory pattern\n- Implement the Builder pattern\n- Choose appropriate patterns\n- Apply patterns to solve problems\n- Build reusable object creation solutions\n\n---\n\n## Introduction to Creational Patterns\n\nCreational patterns provide ways to create objects while hiding the creation logic.\n\n### Why Creational Patterns?\n\n- **Flexibility**: Control how objects are created\n- **Reusability**: Reuse object creation logic\n- **Maintainability**: Centralize creation logic\n- **Testability**: Easier to test and mock\n- **Best Practices**: Proven solutions to common problems\n- **Code Quality**: Better organized code\n\n### Common Creational Patterns\n\n1. **Singleton**: Single instance\n2. **Factory**: Create objects without specifying exact class\n3. **Builder**: Construct complex objects step by step\n\n---\n\n## Singleton Pattern\n\n### What is Singleton?\n\nSingleton ensures a class has only one instance and provides global access.\n\n### Basic Singleton\n\n```javascript\nclass Singleton {\n    constructor() {\n        if (Singleton.instance) {\n            return Singleton.instance;\n        }\n        Singleton.instance = this;\n        return this;\n    }\n}\n\nlet instance1 = new Singleton();\nlet instance2 = new Singleton();\nconsole.log(instance1 === instance2);  // true\n```\n\n### Singleton with Private Constructor\n\n```javascript\nclass Singleton {\n    static instance = null;\n    \n    constructor() {\n        if (Singleton.instance) {\n            return Singleton.instance;\n        }\n        Singleton.instance = this;\n    }\n    \n    static getInstance() {\n        if (!Singleton.instance) {\n            Singleton.instance = new Singleton();\n        }\n        return Singleton.instance;\n    }\n}\n\nlet instance1 = Singleton.getInstance();\nlet instance2 = Singleton.getInstance();\nconsole.log(instance1 === instance2);  // true\n```\n\n### Singleton with Module Pattern\n\n```javascript\nconst Singleton = (function() {\n    let instance;\n    \n    function createInstance() {\n        return {\n            data: ''Singleton data'',\n            getData: function() {\n                return this.data;\n            }\n        };\n    }\n    \n    return {\n        getInstance: function() {\n            if (!instance) {\n                instance = createInstance();\n            }\n            return instance;\n        }\n    };\n})();\n\nlet instance1 = Singleton.getInstance();\nlet instance2 = Singleton.getInstance();\nconsole.log(instance1 === instance2);  // true\n```\n\n### Practical Singleton Example\n\n```javascript\nclass DatabaseConnection {\n    static instance = null;\n    \n    constructor() {\n        if (DatabaseConnection.instance) {\n            return DatabaseConnection.instance;\n        }\n        \n        this.connection = this.connect();\n        DatabaseConnection.instance = this;\n    }\n    \n    connect() {\n        console.log(''Connecting to database...'');\n        // Simulate connection\n        return { connected: true };\n    }\n    \n    query(sql) {\n        console.log(''Executing query:'', sql);\n        return { results: [] };\n    }\n    \n    static getInstance() {\n        if (!DatabaseConnection.instance) {\n            DatabaseConnection.instance = new DatabaseConnection();\n        }\n        return DatabaseConnection.instance;\n    }\n}\n\n// Usage\nlet db1 = DatabaseConnection.getInstance();\nlet db2 = DatabaseConnection.getInstance();\nconsole.log(db1 === db2);  // true\n```\n\n---\n\n## Factory Pattern\n\n### What is Factory?\n\nFactory creates objects without specifying the exact class.\n\n### Basic Factory\n\n```javascript\nclass Car {\n    constructor(type) {\n        this.type = type;\n    }\n}\n\nclass Truck {\n    constructor(type) {\n        this.type = type;\n    }\n}\n\nclass VehicleFactory {\n    createVehicle(type) {\n        switch(type) {\n            case ''car'':\n                return new Car(''car'');\n            case ''truck'':\n                return new Truck(''truck'');\n            default:\n                throw new Error(''Unknown vehicle type'');\n        }\n    }\n}\n\nlet factory = new VehicleFactory();\nlet car = factory.createVehicle(''car'');\nlet truck = factory.createVehicle(''truck'');\n```\n\n### Factory with Classes\n\n```javascript\nclass Shape {\n    draw() {\n        throw new Error(''Method must be implemented'');\n    }\n}\n\nclass Circle extends Shape {\n    draw() {\n        console.log(''Drawing circle'');\n    }\n}\n\nclass Rectangle extends Shape {\n    draw() {\n        console.log(''Drawing rectangle'');\n    }\n}\n\nclass ShapeFactory {\n    createShape(type) {\n        switch(type) {\n            case ''circle'':\n                return new Circle();\n            case ''rectangle'':\n                return new Rectangle();\n            default:\n                throw new Error(''Unknown shape type'');\n        }\n    }\n}\n\nlet factory = new ShapeFactory();\nlet circle = factory.createShape(''circle'');\nlet rectangle = factory.createShape(''rectangle'');\ncircle.draw();      // Drawing circle\nrectangle.draw();  // Drawing rectangle\n```\n\n### Factory Function\n\n```javascript\nfunction createUser(type, name) {\n    switch(type) {\n        case ''admin'':\n            return {\n                name: name,\n                role: ''admin'',\n                permissions: [''read'', ''write'', ''delete'']\n            };\n        case ''user'':\n            return {\n                name: name,\n                role: ''user'',\n                permissions: [''read'']\n            };\n        default:\n            throw new Error(''Unknown user type'');\n    }\n}\n\nlet admin = createUser(''admin'', ''Alice'');\nlet user = createUser(''user'', ''Bob'');\n```\n\n### Practical Factory Example\n\n```javascript\nclass NotificationFactory {\n    createNotification(type, message) {\n        switch(type) {\n            case ''email'':\n                return new EmailNotification(message);\n            case ''sms'':\n                return new SMSNotification(message);\n            case ''push'':\n                return new PushNotification(message);\n            default:\n                throw new Error(''Unknown notification type'');\n        }\n    }\n}\n\nclass EmailNotification {\n    constructor(message) {\n        this.message = message;\n        this.type = ''email'';\n    }\n    \n    send() {\n        console.log(''Sending email:'', this.message);\n    }\n}\n\nclass SMSNotification {\n    constructor(message) {\n        this.message = message;\n        this.type = ''sms'';\n    }\n    \n    send() {\n        console.log(''Sending SMS:'', this.message);\n    }\n}\n\nclass PushNotification {\n    constructor(message) {\n        this.message = message;\n        this.type = ''push'';\n    }\n    \n    send() {\n        console.log(''Sending push notification:'', this.message);\n    }\n}\n\n// Usage\nlet factory = new NotificationFactory();\nlet email = factory.createNotification(''email'', ''Hello'');\nlet sms = factory.createNotification(''sms'', ''Hello'');\nemail.send();\nsms.send();\n```\n\n---\n\n## Builder Pattern\n\n### What is Builder?\n\nBuilder constructs complex objects step by step.\n\n### Basic Builder\n\n```javascript\nclass PizzaBuilder {\n    constructor() {\n        this.pizza = {};\n    }\n    \n    setSize(size) {\n        this.pizza.size = size;\n        return this;\n    }\n    \n    setCrust(crust) {\n        this.pizza.crust = crust;\n        return this;\n    }\n    \n    addTopping(topping) {\n        if (!this.pizza.toppings) {\n            this.pizza.toppings = [];\n        }\n        this.pizza.toppings.push(topping);\n        return this;\n    }\n    \n    build() {\n        return this.pizza;\n    }\n}\n\n// Usage\nlet pizza = new PizzaBuilder()\n    .setSize(''large'')\n    .setCrust(''thin'')\n    .addTopping(''pepperoni'')\n    .addTopping(''cheese'')\n    .build();\n```\n\n### Builder with Validation\n\n```javascript\nclass UserBuilder {\n    constructor() {\n        this.user = {};\n    }\n    \n    setName(name) {\n        if (!name || name.trim() === '''') {\n            throw new Error(''Name is required'');\n        }\n        this.user.name = name;\n        return this;\n    }\n    \n    setEmail(email) {\n        if (!email || !email.includes(''@'')) {\n            throw new Error(''Valid email is required'');\n        }\n        this.user.email = email;\n        return this;\n    }\n    \n    setAge(age) {\n        if (age < 0 || age > 150) {\n            throw new Error(''Invalid age'');\n        }\n        this.user.age = age;\n        return this;\n    }\n    \n    build() {\n        if (!this.user.name || !this.user.email) {\n            throw new Error(''Name and email are required'');\n        }\n        return this.user;\n    }\n}\n\n// Usage\nlet user = new UserBuilder()\n    .setName(''Alice'')\n    .setEmail(''alice@example.com'')\n    .setAge(30)\n    .build();\n```\n\n### Builder with Director\n\n```javascript\nclass QueryBuilder {\n    constructor() {\n        this.query = {\n            select: [],\n            from: '''',\n            where: [],\n            orderBy: []\n        };\n    }\n    \n    select(fields) {\n        this.query.select = Array.isArray(fields) ? fields : [fields];\n        return this;\n    }\n    \n    from(table) {\n        this.query.from = table;\n        return this;\n    }\n    \n    where(condition) {\n        this.query.where.push(condition);\n        return this;\n    }\n    \n    orderBy(field, direction = ''ASC'') {\n        this.query.orderBy.push({ field, direction });\n        return this;\n    }\n    \n    build() {\n        let sql = ''SELECT '' + this.query.select.join('', '');\n        sql += '' FROM '' + this.query.from;\n        \n        if (this.query.where.length > 0) {\n            sql += '' WHERE '' + this.query.where.join('' AND '');\n        }\n        \n        if (this.query.orderBy.length > 0) {\n            let order = this.query.orderBy.map(o => `${o.field} ${o.direction}`).join('', '');\n            sql += '' ORDER BY '' + order;\n        }\n        \n        return sql;\n    }\n}\n\n// Usage\nlet query = new QueryBuilder()\n    .select([''name'', ''email''])\n    .from(''users'')\n    .where(''age > 18'')\n    .where(''active = true'')\n    .orderBy(''name'', ''ASC'')\n    .build();\n\nconsole.log(query);\n// SELECT name, email FROM users WHERE age > 18 AND active = true ORDER BY name ASC\n```\n\n### Practical Builder Example\n\n```javascript\nclass HTTPRequestBuilder {\n    constructor() {\n        this.request = {\n            method: ''GET'',\n            url: '''',\n            headers: {},\n            body: null\n        };\n    }\n    \n    method(method) {\n        this.request.method = method.toUpperCase();\n        return this;\n    }\n    \n    url(url) {\n        this.request.url = url;\n        return this;\n    }\n    \n    header(key, value) {\n        this.request.headers[key] = value;\n        return this;\n    }\n    \n    body(data) {\n        this.request.body = JSON.stringify(data);\n        this.header(''Content-Type'', ''application/json'');\n        return this;\n    }\n    \n    build() {\n        return this.request;\n    }\n    \n    async execute() {\n        return fetch(this.request.url, {\n            method: this.request.method,\n            headers: this.request.headers,\n            body: this.request.body\n        });\n    }\n}\n\n// Usage\nlet request = new HTTPRequestBuilder()\n    .method(''POST'')\n    .url(''/api/users'')\n    .header(''Authorization'', ''Bearer token'')\n    .body({ name: ''Alice'', email: ''alice@example.com'' })\n    .build();\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Creational Patterns\n\n**Objective**: Practice implementing Singleton, Factory, and Builder patterns.\n\n**Instructions**:\n\n1. Create a JavaScript file\n2. Practice:\n   - Implementing Singleton pattern\n   - Creating Factory pattern\n   - Building Builder pattern\n   - Applying patterns to real problems\n\n**Example Solution**:\n\n```javascript\n// creational-patterns-practice.js\nconsole.log("=== Creational Patterns Practice ===");\n\nconsole.log("\\n=== Singleton Pattern ===");\n\n// Basic Singleton\nclass Singleton {\n    static instance = null;\n    \n    constructor() {\n        if (Singleton.instance) {\n            return Singleton.instance;\n        }\n        Singleton.instance = this;\n        this.data = ''Singleton data'';\n    }\n    \n    static getInstance() {\n        if (!Singleton.instance) {\n            Singleton.instance = new Singleton();\n        }\n        return Singleton.instance;\n    }\n    \n    getData() {\n        return this.data;\n    }\n}\n\nlet instance1 = Singleton.getInstance();\nlet instance2 = Singleton.getInstance();\nconsole.log(''instance1 === instance2:'', instance1 === instance2);  // true\nconsole.log(''instance1.getData():'', instance1.getData());\n\n// Singleton with Module Pattern\nconst Config = (function() {\n    let instance;\n    \n    function createInstance() {\n        return {\n            apiUrl: ''https://api.example.com'',\n            timeout: 5000,\n            getConfig: function() {\n                return {\n                    apiUrl: this.apiUrl,\n                    timeout: this.timeout\n                };\n            }\n        };\n    }\n    \n    return {\n        getInstance: function() {\n            if (!instance) {\n                instance = createInstance();\n            }\n            return instance;\n        }\n    };\n})();\n\nlet config1 = Config.getInstance();\nlet config2 = Config.getInstance();\nconsole.log(''config1 === config2:'', config1 === config2);  // true\nconsole.log();\n\nconsole.log("=== Factory Pattern ===");\n\n// Basic Factory\nclass VehicleFactory {\n    createVehicle(type, brand) {\n        switch(type) {\n            case ''car'':\n                return new Car(brand);\n            case ''truck'':\n                return new Truck(brand);\n            case ''motorcycle'':\n                return new Motorcycle(brand);\n            default:\n                throw new Error(''Unknown vehicle type'');\n        }\n    }\n}\n\nclass Car {\n    constructor(brand) {\n        this.type = ''car'';\n        this.brand = brand;\n    }\n    \n    drive() {\n        console.log(`Driving ${this.brand} car`);\n    }\n}\n\nclass Truck {\n    constructor(brand) {\n        this.type = ''truck'';\n        this.brand = brand;\n    }\n    \n    drive() {\n        console.log(`Driving ${this.brand} truck`);\n    }\n}\n\nclass Motorcycle {\n    constructor(brand) {\n        this.type = ''motorcycle'';\n        this.brand = brand;\n    }\n    \n    drive() {\n        console.log(`Riding ${this.brand} motorcycle`);\n    }\n}\n\nlet factory = new VehicleFactory();\nlet car = factory.createVehicle(''car'', ''Toyota'');\nlet truck = factory.createVehicle(''truck'', ''Ford'');\ncar.drive();\ntruck.drive();\n\n// Factory Function\nfunction createUser(type, name, email) {\n    const userTypes = {\n        admin: {\n            role: ''admin'',\n            permissions: [''read'', ''write'', ''delete'', ''manage'']\n        },\n        editor: {\n            role: ''editor'',\n            permissions: [''read'', ''write'']\n        },\n        viewer: {\n            role: ''viewer'',\n            permissions: [''read'']\n        }\n    };\n    \n    const userType = userTypes[type];\n    if (!userType) {\n        throw new Error(''Unknown user type'');\n    }\n    \n    return {\n        name: name,\n        email: email,\n        role: userType.role,\n        permissions: userType.permissions,\n        hasPermission: function(permission) {\n            return this.permissions.includes(permission);\n        }\n    };\n}\n\nlet admin = createUser(''admin'', ''Alice'', ''alice@example.com'');\nlet viewer = createUser(''viewer'', ''Bob'', ''bob@example.com'');\nconsole.log(''Admin permissions:'', admin.permissions);\nconsole.log(''Viewer can write:'', viewer.hasPermission(''write''));  // false\nconsole.log();\n\nconsole.log("=== Builder Pattern ===");\n\n// Basic Builder\nclass PizzaBuilder {\n    constructor() {\n        this.pizza = {\n            size: ''medium'',\n            crust: ''regular'',\n            toppings: []\n        };\n    }\n    \n    setSize(size) {\n        this.pizza.size = size;\n        return this;\n    }\n    \n    setCrust(crust) {\n        this.pizza.crust = crust;\n        return this;\n    }\n    \n    addTopping(topping) {\n        this.pizza.toppings.push(topping);\n        return this;\n    }\n    \n    build() {\n        return this.pizza;\n    }\n}\n\nlet pizza = new PizzaBuilder()\n    .setSize(''large'')\n    .setCrust(''thin'')\n    .addTopping(''pepperoni'')\n    .addTopping(''cheese'')\n    .addTopping(''mushrooms'')\n    .build();\n\nconsole.log(''Pizza:'', pizza);\n\n// Builder with Validation\nclass UserBuilder {\n    constructor() {\n        this.user = {};\n    }\n    \n    setName(name) {\n        if (!name || name.trim() === '''') {\n            throw new Error(''Name is required'');\n        }\n        this.user.name = name;\n        return this;\n    }\n    \n    setEmail(email) {\n        if (!email || !email.includes(''@'')) {\n            throw new Error(''Valid email is required'');\n        }\n        this.user.email = email;\n        return this;\n    }\n    \n    setAge(age) {\n        if (age < 0 || age > 150) {\n            throw new Error(''Invalid age'');\n        }\n        this.user.age = age;\n        return this;\n    }\n    \n    setAddress(address) {\n        this.user.address = address;\n        return this;\n    }\n    \n    build() {\n        if (!this.user.name || !this.user.email) {\n            throw new Error(''Name and email are required'');\n        }\n        return this.user;\n    }\n}\n\nlet user = new UserBuilder()\n    .setName(''Alice'')\n    .setEmail(''alice@example.com'')\n    .setAge(30)\n    .setAddress(''123 Main St'')\n    .build();\n\nconsole.log(''User:'', user);\n\n// Query Builder\nclass QueryBuilder {\n    constructor() {\n        this.query = {\n            select: [],\n            from: '''',\n            where: [],\n            orderBy: []\n        };\n    }\n    \n    select(fields) {\n        this.query.select = Array.isArray(fields) ? fields : [fields];\n        return this;\n    }\n    \n    from(table) {\n        this.query.from = table;\n        return this;\n    }\n    \n    where(condition) {\n        this.query.where.push(condition);\n        return this;\n    }\n    \n    orderBy(field, direction = ''ASC'') {\n        this.query.orderBy.push({ field, direction });\n        return this;\n    }\n    \n    build() {\n        let sql = ''SELECT '' + (this.query.select.length > 0 ? this.query.select.join('', '') : ''*'');\n        sql += '' FROM '' + this.query.from;\n        \n        if (this.query.where.length > 0) {\n            sql += '' WHERE '' + this.query.where.join('' AND '');\n        }\n        \n        if (this.query.orderBy.length > 0) {\n            let order = this.query.orderBy.map(o => `${o.field} ${o.direction}`).join('', '');\n            sql += '' ORDER BY '' + order;\n        }\n        \n        return sql;\n    }\n}\n\nlet query = new QueryBuilder()\n    .select([''name'', ''email'', ''age''])\n    .from(''users'')\n    .where(''age >= 18'')\n    .where(''active = true'')\n    .orderBy(''name'', ''ASC'')\n    .build();\n\nconsole.log(''SQL Query:'', query);\nconsole.log();\n\nconsole.log("=== Practical Examples ===");\n\n// Example 1: Logger Singleton\nclass Logger {\n    static instance = null;\n    logs = [];\n    \n    constructor() {\n        if (Logger.instance) {\n            return Logger.instance;\n        }\n        Logger.instance = this;\n    }\n    \n    log(message) {\n        let logEntry = {\n            timestamp: new Date().toISOString(),\n            message: message\n        };\n        this.logs.push(logEntry);\n        console.log(`[${logEntry.timestamp}] ${message}`);\n    }\n    \n    getLogs() {\n        return this.logs;\n    }\n    \n    static getInstance() {\n        if (!Logger.instance) {\n            Logger.instance = new Logger();\n        }\n        return Logger.instance;\n    }\n}\n\nlet logger1 = Logger.getInstance();\nlet logger2 = Logger.getInstance();\nlogger1.log(''First log'');\nlogger2.log(''Second log'');\nconsole.log(''Logs:'', logger1.getLogs());\n\n// Example 2: Notification Factory\nclass NotificationFactory {\n    createNotification(type, message, recipient) {\n        switch(type) {\n            case ''email'':\n                return new EmailNotification(message, recipient);\n            case ''sms'':\n                return new SMSNotification(message, recipient);\n            case ''push'':\n                return new PushNotification(message, recipient);\n            default:\n                throw new Error(''Unknown notification type'');\n        }\n    }\n}\n\nclass EmailNotification {\n    constructor(message, recipient) {\n        this.type = ''email'';\n        this.message = message;\n        this.recipient = recipient;\n    }\n    \n    send() {\n        console.log(`Sending email to ${this.recipient}: ${this.message}`);\n    }\n}\n\nclass SMSNotification {\n    constructor(message, recipient) {\n        this.type = ''sms'';\n        this.message = message;\n        this.recipient = recipient;\n    }\n    \n    send() {\n        console.log(`Sending SMS to ${this.recipient}: ${this.message}`);\n    }\n}\n\nclass PushNotification {\n    constructor(message, recipient) {\n        this.type = ''push'';\n        this.message = message;\n        this.recipient = recipient;\n    }\n    \n    send() {\n        console.log(`Sending push to ${this.recipient}: ${this.message}`);\n    }\n}\n\nlet notificationFactory = new NotificationFactory();\nlet email = notificationFactory.createNotification(''email'', ''Hello'', ''alice@example.com'');\nlet sms = notificationFactory.createNotification(''sms'', ''Hello'', ''1234567890'');\nemail.send();\nsms.send();\n```\n\n**Expected Output**:\n```\n=== Creational Patterns Practice ===\n\n=== Singleton Pattern ===\ninstance1 === instance2: true\ninstance1.getData(): Singleton data\nconfig1 === config2: true\n\n=== Factory Pattern ===\nDriving Toyota car\nDriving Ford truck\nAdmin permissions: [''read'', ''write'', ''delete'', ''manage'']\nViewer can write: false\n\n=== Builder Pattern ===\nPizza: { size: ''large'', crust: ''thin'', toppings: [...] }\nUser: { name: ''Alice'', email: ''alice@example.com'', ... }\nSQL Query: SELECT name, email, age FROM users WHERE age >= 18 AND active = true ORDER BY name ASC\n\n=== Practical Examples ===\n[timestamp] First log\n[timestamp] Second log\nLogs: [array]\nSending email to alice@example.com: Hello\nSending SMS to 1234567890: Hello\n```\n\n**Challenge (Optional)**:\n- Build a complete application using all three patterns\n- Create a configuration management system\n- Build a form builder\n- Practice combining patterns\n\n---\n\n## Common Mistakes\n\n### 1. Not Preventing Multiple Instances in Singleton\n\n```javascript\n// ⚠️ Problem: Can create multiple instances\nclass Singleton {\n    constructor() {\n        // No check\n    }\n}\n\n// ✅ Solution: Check for existing instance\nclass Singleton {\n    static instance = null;\n    constructor() {\n        if (Singleton.instance) {\n            return Singleton.instance;\n        }\n        Singleton.instance = this;\n    }\n}\n```\n\n### 2. Factory Without Error Handling\n\n```javascript\n// ⚠️ Problem: No error handling\nclass Factory {\n    create(type) {\n        switch(type) {\n            case ''type1'':\n                return new Type1();\n            // Missing default\n        }\n    }\n}\n\n// ✅ Solution: Handle unknown types\nclass Factory {\n    create(type) {\n        switch(type) {\n            case ''type1'':\n                return new Type1();\n            default:\n                throw new Error(''Unknown type'');\n        }\n    }\n}\n```\n\n### 3. Builder Not Returning this\n\n```javascript\n// ⚠️ Problem: Can''t chain\nclass Builder {\n    setValue(value) {\n        this.value = value;\n        // Missing return this\n    }\n}\n\n// ✅ Solution: Return this for chaining\nclass Builder {\n    setValue(value) {\n        this.value = value;\n        return this;\n    }\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **Singleton**: Ensures single instance, global access\n2. **Factory**: Creates objects without specifying exact class\n3. **Builder**: Constructs complex objects step by step\n4. **When to Use**: Choose based on problem requirements\n5. **Best Practice**: Keep patterns simple, add validation\n6. **Chaining**: Builders should return this for method chaining\n7. **Error Handling**: Always handle edge cases\n\n---\n\n## Quiz: Creational Patterns\n\nTest your understanding with these questions:\n\n1. **Singleton ensures:**\n   - A) Multiple instances\n   - B) Single instance\n   - C) No instances\n   - D) Random instances\n\n2. **Factory pattern:**\n   - A) Creates objects\n   - B) Destroys objects\n   - C) Modifies objects\n   - D) Nothing\n\n3. **Builder pattern:**\n   - A) Builds step by step\n   - B) Builds all at once\n   - C) Doesn''t build\n   - D) Random\n\n4. **Singleton getInstance():**\n   - A) Creates new instance always\n   - B) Returns existing instance\n   - C) Deletes instance\n   - D) Nothing\n\n5. **Factory is useful for:**\n   - A) Single object\n   - B) Multiple object types\n   - C) No objects\n   - D) Random\n\n6. **Builder methods should:**\n   - A) Return this\n   - B) Return void\n   - C) Return null\n   - D) Nothing\n\n7. **Creational patterns help:**\n   - A) Object creation\n   - B) Object destruction\n   - C) Object modification\n   - D) Nothing\n\n**Answers**:\n1. B) Single instance\n2. A) Creates objects\n3. A) Builds step by step\n4. B) Returns existing instance\n5. B) Multiple object types\n6. A) Return this\n7. A) Object creation\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned creational patterns. You now know:\n- How to implement Singleton\n- How to create Factory pattern\n- How to build Builder pattern\n- When to use each pattern\n\n**What''s Next?**\n- Lesson 19.2: Structural Patterns\n- Learn Module pattern\n- Understand Facade pattern\n- Work with Decorator pattern\n\n---\n\n## Additional Resources\n\n- **MDN: Classes**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes)\n- **Design Patterns**: [refactoring.guru/design-patterns](https://refactoring.guru/design-patterns)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 09:59:25', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand creational design patterns\n- Implement the Singleton pattern\n- Implement the Factory pattern\n- Implement the Builder pattern\n- Choose appropriate patterns\n- Apply patterns to solve problems\n- Build reusable object creation solutions');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (158, 59, 14, 'Structural Patterns', 'structural-patterns', '# Lesson 19.2: Structural Patterns\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand structural design patterns\n- Implement the Module pattern\n- Implement the Facade pattern\n- Implement the Decorator pattern\n- Choose appropriate patterns\n- Apply patterns to organize code\n- Build maintainable code structures\n\n---\n\n## Introduction to Structural Patterns\n\nStructural patterns focus on how classes and objects are composed to form larger structures.\n\n### Why Structural Patterns?\n\n- **Organization**: Better code organization\n- **Reusability**: Reuse existing code\n- **Flexibility**: Easier to modify and extend\n- **Maintainability**: Clearer code structure\n- **Separation of Concerns**: Better code separation\n- **Best Practices**: Proven structural solutions\n\n### Common Structural Patterns\n\n1. **Module**: Encapsulate code\n2. **Facade**: Simplify complex interfaces\n3. **Decorator**: Add behavior dynamically\n\n---\n\n## Module Pattern\n\n### What is Module Pattern?\n\nModule pattern provides a way to create private and public members.\n\n### Basic Module Pattern\n\n```javascript\nconst Module = (function() {\n    // Private variables\n    let privateVar = ''private'';\n    \n    // Private functions\n    function privateFunction() {\n        return ''private function'';\n    }\n    \n    // Public API\n    return {\n        publicVar: ''public'',\n        publicFunction: function() {\n            return ''public function'';\n        },\n        getPrivateVar: function() {\n            return privateVar;\n        }\n    };\n})();\n\nconsole.log(Module.publicVar);           // ''public''\nconsole.log(Module.publicFunction());     // ''public function''\nconsole.log(Module.getPrivateVar());      // ''private''\n// console.log(Module.privateVar);        // undefined\n```\n\n### Module with Revealing Pattern\n\n```javascript\nconst Calculator = (function() {\n    // Private\n    function add(a, b) {\n        return a + b;\n    }\n    \n    function subtract(a, b) {\n        return a - b;\n    }\n    \n    function multiply(a, b) {\n        return a * b;\n    }\n    \n    function divide(a, b) {\n        if (b === 0) {\n            throw new Error(''Division by zero'');\n        }\n        return a / b;\n    }\n    \n    // Public API\n    return {\n        add: add,\n        subtract: subtract,\n        multiply: multiply,\n        divide: divide\n    };\n})();\n\nconsole.log(Calculator.add(5, 3));        // 8\nconsole.log(Calculator.multiply(4, 2));   // 8\n```\n\n### ES6 Module Pattern\n\n```javascript\n// Using ES6 classes with private fields\nclass Calculator {\n    #history = [];\n    \n    add(a, b) {\n        let result = a + b;\n        this.#history.push(`add(${a}, ${b}) = ${result}`);\n        return result;\n    }\n    \n    subtract(a, b) {\n        let result = a - b;\n        this.#history.push(`subtract(${a}, ${b}) = ${result}`);\n        return result;\n    }\n    \n    getHistory() {\n        return [...this.#history];\n    }\n    \n    clearHistory() {\n        this.#history = [];\n    }\n}\n\nlet calc = new Calculator();\ncalc.add(5, 3);\ncalc.subtract(10, 4);\nconsole.log(calc.getHistory());\n```\n\n### Practical Module Example\n\n```javascript\nconst UserModule = (function() {\n    let users = [];\n    let nextId = 1;\n    \n    function findUser(id) {\n        return users.find(u => u.id === id);\n    }\n    \n    return {\n        create: function(name, email) {\n            let user = {\n                id: nextId++,\n                name: name,\n                email: email,\n                createdAt: new Date()\n            };\n            users.push(user);\n            return user;\n        },\n        \n        findById: function(id) {\n            return findUser(id);\n        },\n        \n        findAll: function() {\n            return [...users];\n        },\n        \n        update: function(id, updates) {\n            let user = findUser(id);\n            if (user) {\n                Object.assign(user, updates);\n                return user;\n            }\n            return null;\n        },\n        \n        delete: function(id) {\n            let index = users.findIndex(u => u.id === id);\n            if (index !== -1) {\n                return users.splice(index, 1)[0];\n            }\n            return null;\n        }\n    };\n})();\n\n// Usage\nlet user1 = UserModule.create(''Alice'', ''alice@example.com'');\nlet user2 = UserModule.create(''Bob'', ''bob@example.com'');\nconsole.log(UserModule.findAll());\n```\n\n---\n\n## Facade Pattern\n\n### What is Facade?\n\nFacade provides a simplified interface to a complex subsystem.\n\n### Basic Facade\n\n```javascript\n// Complex subsystem\nclass CPU {\n    start() {\n        console.log(''CPU starting...'');\n    }\n}\n\nclass Memory {\n    load() {\n        console.log(''Memory loading...'');\n    }\n}\n\nclass HardDrive {\n    read() {\n        console.log(''Hard drive reading...'');\n    }\n}\n\n// Facade\nclass ComputerFacade {\n    constructor() {\n        this.cpu = new CPU();\n        this.memory = new Memory();\n        this.hardDrive = new HardDrive();\n    }\n    \n    start() {\n        this.cpu.start();\n        this.memory.load();\n        this.hardDrive.read();\n        console.log(''Computer started'');\n    }\n}\n\n// Usage\nlet computer = new ComputerFacade();\ncomputer.start();\n// Simple interface instead of calling each component\n```\n\n### Facade for API\n\n```javascript\n// Complex API calls\nclass UserAPI {\n    async getUser(id) {\n        return fetch(`/api/users/${id}`).then(r => r.json());\n    }\n    \n    async updateUser(id, data) {\n        return fetch(`/api/users/${id}`, {\n            method: ''PUT'',\n            body: JSON.stringify(data)\n        }).then(r => r.json());\n    }\n}\n\nclass PostAPI {\n    async getPosts(userId) {\n        return fetch(`/api/users/${userId}/posts`).then(r => r.json());\n    }\n}\n\nclass CommentAPI {\n    async getComments(postId) {\n        return fetch(`/api/posts/${postId}/comments`).then(r => r.json());\n    }\n}\n\n// Facade\nclass SocialMediaFacade {\n    constructor() {\n        this.userAPI = new UserAPI();\n        this.postAPI = new PostAPI();\n        this.commentAPI = new CommentAPI();\n    }\n    \n    async getUserProfile(userId) {\n        let user = await this.userAPI.getUser(userId);\n        let posts = await this.postAPI.getPosts(userId);\n        \n        for (let post of posts) {\n            post.comments = await this.commentAPI.getComments(post.id);\n        }\n        \n        return {\n            user: user,\n            posts: posts\n        };\n    }\n}\n\n// Usage\nlet facade = new SocialMediaFacade();\nfacade.getUserProfile(1).then(profile => {\n    console.log(profile);\n});\n```\n\n### Facade for DOM\n\n```javascript\n// Facade for DOM manipulation\nclass DOMFacade {\n    static createElement(tag, attributes = {}, children = []) {\n        let element = document.createElement(tag);\n        \n        Object.keys(attributes).forEach(key => {\n            if (key === ''className'') {\n                element.className = attributes[key];\n            } else if (key === ''textContent'') {\n                element.textContent = attributes[key];\n            } else {\n                element.setAttribute(key, attributes[key]);\n            }\n        });\n        \n        children.forEach(child => {\n            if (typeof child === ''string'') {\n                element.appendChild(document.createTextNode(child));\n            } else {\n                element.appendChild(child);\n            }\n        });\n        \n        return element;\n    }\n    \n    static append(parent, child) {\n        if (typeof child === ''string'') {\n            parent.appendChild(document.createTextNode(child));\n        } else {\n            parent.appendChild(child);\n        }\n    }\n    \n    static remove(element) {\n        element.parentNode.removeChild(element);\n    }\n}\n\n// Usage\nlet div = DOMFacade.createElement(''div'', {\n    className: ''container'',\n    id: ''main''\n}, [\n    DOMFacade.createElement(''h1'', { textContent: ''Hello'' }),\n    DOMFacade.createElement(''p'', { textContent: ''World'' })\n]);\n```\n\n---\n\n## Decorator Pattern\n\n### What is Decorator?\n\nDecorator adds behavior to objects dynamically without modifying their structure.\n\n### Basic Decorator\n\n```javascript\n// Base class\nclass Coffee {\n    getCost() {\n        return 5;\n    }\n    \n    getDescription() {\n        return ''Coffee'';\n    }\n}\n\n// Decorator\nclass CoffeeDecorator {\n    constructor(coffee) {\n        this.coffee = coffee;\n    }\n    \n    getCost() {\n        return this.coffee.getCost();\n    }\n    \n    getDescription() {\n        return this.coffee.getDescription();\n    }\n}\n\n// Concrete decorators\nclass MilkDecorator extends CoffeeDecorator {\n    getCost() {\n        return this.coffee.getCost() + 1;\n    }\n    \n    getDescription() {\n        return this.coffee.getDescription() + '', Milk'';\n    }\n}\n\nclass SugarDecorator extends CoffeeDecorator {\n    getCost() {\n        return this.coffee.getCost() + 0.5;\n    }\n    \n    getDescription() {\n        return this.coffee.getDescription() + '', Sugar'';\n    }\n}\n\n// Usage\nlet coffee = new Coffee();\ncoffee = new MilkDecorator(coffee);\ncoffee = new SugarDecorator(coffee);\n\nconsole.log(coffee.getDescription());  // ''Coffee, Milk, Sugar''\nconsole.log(coffee.getCost());         // 6.5\n```\n\n### Function Decorator\n\n```javascript\n// Function decorator\nfunction withLogging(fn) {\n    return function(...args) {\n        console.log(`Calling ${fn.name} with:`, args);\n        let result = fn.apply(this, args);\n        console.log(`Result:`, result);\n        return result;\n    };\n}\n\nfunction add(a, b) {\n    return a + b;\n}\n\nlet loggedAdd = withLogging(add);\nloggedAdd(2, 3);\n// Calling add with: [2, 3]\n// Result: 5\n```\n\n### Multiple Decorators\n\n```javascript\n// Timing decorator\nfunction withTiming(fn) {\n    return function(...args) {\n        let start = performance.now();\n        let result = fn.apply(this, args);\n        let end = performance.now();\n        console.log(`${fn.name} took ${end - start}ms`);\n        return result;\n    };\n}\n\n// Caching decorator\nfunction withCache(fn) {\n    let cache = new Map();\n    return function(...args) {\n        let key = JSON.stringify(args);\n        if (cache.has(key)) {\n            console.log(''Cache hit'');\n            return cache.get(key);\n        }\n        let result = fn.apply(this, args);\n        cache.set(key, result);\n        return result;\n    };\n}\n\n// Combine decorators\nfunction expensiveOperation(n) {\n    let result = 0;\n    for (let i = 0; i < n * 1000000; i++) {\n        result += i;\n    }\n    return result;\n}\n\nlet decorated = withTiming(withCache(expensiveOperation));\ndecorated(10);  // Calculates and times\ndecorated(10);  // Uses cache and times\n```\n\n### Class Decorator\n\n```javascript\n// Class decorator\nfunction withValidation(target) {\n    return class extends target {\n        constructor(...args) {\n            super(...args);\n            this.validate();\n        }\n        \n        validate() {\n            if (!this.name || this.name.trim() === '''') {\n                throw new Error(''Name is required'');\n            }\n        }\n    };\n}\n\n@withValidation\nclass User {\n    constructor(name, email) {\n        this.name = name;\n        this.email = email;\n    }\n}\n\n// Usage (requires decorator support)\nlet user = new User(''Alice'', ''alice@example.com'');\n```\n\n### Practical Decorator Example\n\n```javascript\n// HTTP Request decorator\nfunction withRetry(fn, maxRetries = 3) {\n    return async function(...args) {\n        for (let i = 0; i < maxRetries; i++) {\n            try {\n                return await fn.apply(this, args);\n            } catch (error) {\n                if (i === maxRetries - 1) throw error;\n                console.log(`Retry ${i + 1}/${maxRetries}`);\n            }\n        }\n    };\n}\n\nfunction withTimeout(fn, timeout = 5000) {\n    return function(...args) {\n        return Promise.race([\n            fn.apply(this, args),\n            new Promise((_, reject) =>\n                setTimeout(() => reject(new Error(''Timeout'')), timeout)\n            )\n        ]);\n    };\n}\n\nasync function fetchData(url) {\n    let response = await fetch(url);\n    return response.json();\n}\n\nlet decoratedFetch = withRetry(withTimeout(fetchData, 5000), 3);\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Structural Patterns\n\n**Objective**: Practice implementing Module, Facade, and Decorator patterns.\n\n**Instructions**:\n\n1. Create a JavaScript file\n2. Practice:\n   - Creating modules\n   - Building facades\n   - Implementing decorators\n   - Applying patterns to real problems\n\n**Example Solution**:\n\n```javascript\n// structural-patterns-practice.js\nconsole.log("=== Structural Patterns Practice ===");\n\nconsole.log("\\n=== Module Pattern ===");\n\n// Basic Module\nconst Calculator = (function() {\n    let history = [];\n    \n    function add(a, b) {\n        return a + b;\n    }\n    \n    function subtract(a, b) {\n        return a - b;\n    }\n    \n    function multiply(a, b) {\n        return a * b;\n    }\n    \n    function divide(a, b) {\n        if (b === 0) {\n            throw new Error(''Division by zero'');\n        }\n        return a / b;\n    }\n    \n    return {\n        add: function(a, b) {\n            let result = add(a, b);\n            history.push(`add(${a}, ${b}) = ${result}`);\n            return result;\n        },\n        subtract: function(a, b) {\n            let result = subtract(a, b);\n            history.push(`subtract(${a}, ${b}) = ${result}`);\n            return result;\n        },\n        multiply: function(a, b) {\n            let result = multiply(a, b);\n            history.push(`multiply(${a}, ${b}) = ${result}`);\n            return result;\n        },\n        divide: function(a, b) {\n            let result = divide(a, b);\n            history.push(`divide(${a}, ${b}) = ${result}`);\n            return result;\n        },\n        getHistory: function() {\n            return [...history];\n        },\n        clearHistory: function() {\n            history = [];\n        }\n    };\n})();\n\nCalculator.add(5, 3);\nCalculator.multiply(4, 2);\nconsole.log(''Calculator history:'', Calculator.getHistory());\n\n// ES6 Module with private fields\nclass UserModule {\n    #users = [];\n    #nextId = 1;\n    \n    #findUser(id) {\n        return this.#users.find(u => u.id === id);\n    }\n    \n    create(name, email) {\n        let user = {\n            id: this.#nextId++,\n            name: name,\n            email: email,\n            createdAt: new Date()\n        };\n        this.#users.push(user);\n        return user;\n    }\n    \n    findById(id) {\n        return this.#findUser(id);\n    }\n    \n    findAll() {\n        return [...this.#users];\n    }\n    \n    update(id, updates) {\n        let user = this.#findUser(id);\n        if (user) {\n            Object.assign(user, updates);\n            return user;\n        }\n        return null;\n    }\n    \n    delete(id) {\n        let index = this.#users.findIndex(u => u.id === id);\n        if (index !== -1) {\n            return this.#users.splice(index, 1)[0];\n        }\n        return null;\n    }\n}\n\nlet userModule = new UserModule();\nuserModule.create(''Alice'', ''alice@example.com'');\nuserModule.create(''Bob'', ''bob@example.com'');\nconsole.log(''Users:'', userModule.findAll());\nconsole.log();\n\nconsole.log("=== Facade Pattern ===");\n\n// Complex subsystem\nclass CPU {\n    start() {\n        console.log(''CPU starting...'');\n    }\n}\n\nclass Memory {\n    load() {\n        console.log(''Memory loading...'');\n    }\n}\n\nclass HardDrive {\n    read() {\n        console.log(''Hard drive reading...'');\n    }\n}\n\n// Facade\nclass ComputerFacade {\n    constructor() {\n        this.cpu = new CPU();\n        this.memory = new Memory();\n        this.hardDrive = new HardDrive();\n    }\n    \n    start() {\n        this.cpu.start();\n        this.memory.load();\n        this.hardDrive.read();\n        console.log(''Computer started'');\n    }\n}\n\nlet computer = new ComputerFacade();\ncomputer.start();\n\n// API Facade\nclass API {\n    async get(url) {\n        return fetch(url).then(r => r.json());\n    }\n    \n    async post(url, data) {\n        return fetch(url, {\n            method: ''POST'',\n            headers: { ''Content-Type'': ''application/json'' },\n            body: JSON.stringify(data)\n        }).then(r => r.json());\n    }\n}\n\nclass UserService {\n    constructor() {\n        this.api = new API();\n    }\n    \n    async getUser(id) {\n        return this.api.get(`/api/users/${id}`);\n    }\n    \n    async createUser(data) {\n        return this.api.post(''/api/users'', data);\n    }\n}\n\nclass PostService {\n    constructor() {\n        this.api = new API();\n    }\n    \n    async getPosts(userId) {\n        return this.api.get(`/api/users/${userId}/posts`);\n    }\n}\n\n// Facade\nclass SocialMediaFacade {\n    constructor() {\n        this.userService = new UserService();\n        this.postService = new PostService();\n    }\n    \n    async getUserProfile(userId) {\n        let user = await this.userService.getUser(userId);\n        let posts = await this.postService.getPosts(userId);\n        return { user, posts };\n    }\n}\n\nlet facade = new SocialMediaFacade();\n// facade.getUserProfile(1).then(profile => console.log(profile));\nconsole.log();\n\nconsole.log("=== Decorator Pattern ===");\n\n// Base class\nclass Coffee {\n    getCost() {\n        return 5;\n    }\n    \n    getDescription() {\n        return ''Coffee'';\n    }\n}\n\n// Decorator base\nclass CoffeeDecorator {\n    constructor(coffee) {\n        this.coffee = coffee;\n    }\n    \n    getCost() {\n        return this.coffee.getCost();\n    }\n    \n    getDescription() {\n        return this.coffee.getDescription();\n    }\n}\n\n// Concrete decorators\nclass MilkDecorator extends CoffeeDecorator {\n    getCost() {\n        return this.coffee.getCost() + 1;\n    }\n    \n    getDescription() {\n        return this.coffee.getDescription() + '', Milk'';\n    }\n}\n\nclass SugarDecorator extends CoffeeDecorator {\n    getCost() {\n        return this.coffee.getCost() + 0.5;\n    }\n    \n    getDescription() {\n        return this.coffee.getDescription() + '', Sugar'';\n    }\n}\n\nlet coffee = new Coffee();\ncoffee = new MilkDecorator(coffee);\ncoffee = new SugarDecorator(coffee);\n\nconsole.log(''Coffee description:'', coffee.getDescription());\nconsole.log(''Coffee cost:'', coffee.getCost());\n\n// Function decorators\nfunction withLogging(fn) {\n    return function(...args) {\n        console.log(`Calling ${fn.name} with:`, args);\n        let result = fn.apply(this, args);\n        console.log(`Result:`, result);\n        return result;\n    };\n}\n\nfunction withTiming(fn) {\n    return function(...args) {\n        let start = performance.now();\n        let result = fn.apply(this, args);\n        let end = performance.now();\n        console.log(`${fn.name} took ${(end - start).toFixed(2)}ms`);\n        return result;\n    };\n}\n\nfunction add(a, b) {\n    return a + b;\n}\n\nlet loggedAdd = withLogging(add);\nlet timedLoggedAdd = withTiming(loggedAdd);\ntimedLoggedAdd(2, 3);\n\n// Caching decorator\nfunction withCache(fn) {\n    let cache = new Map();\n    return function(...args) {\n        let key = JSON.stringify(args);\n        if (cache.has(key)) {\n            console.log(''Cache hit'');\n            return cache.get(key);\n        }\n        console.log(''Cache miss'');\n        let result = fn.apply(this, args);\n        cache.set(key, result);\n        return result;\n    };\n}\n\nfunction expensiveOperation(n) {\n    let result = 0;\n    for (let i = 0; i < n * 100000; i++) {\n        result += i;\n    }\n    return result;\n}\n\nlet cachedOperation = withCache(expensiveOperation);\ncachedOperation(10);\ncachedOperation(10);  // Uses cache\n```\n\n**Expected Output**:\n```\n=== Structural Patterns Practice ===\n\n=== Module Pattern ===\nCalculator history: [array]\nUsers: [array]\n\n=== Facade Pattern ===\nCPU starting...\nMemory loading...\nHard drive reading...\nComputer started\n\n=== Decorator Pattern ===\nCoffee description: Coffee, Milk, Sugar\nCoffee cost: 6.5\nCalling add with: [2, 3]\nResult: 5\nadd took [time]ms\nCache miss\nCache hit\n```\n\n**Challenge (Optional)**:\n- Build a complete application using all three patterns\n- Create a plugin system\n- Build a middleware system\n- Practice combining patterns\n\n---\n\n## Common Mistakes\n\n### 1. Exposing Private Members\n\n```javascript\n// ⚠️ Problem: Private members exposed\nconst Module = (function() {\n    let private = ''secret'';\n    return {\n        private: private  // Exposed!\n    };\n})();\n\n// ✅ Solution: Keep private\nconst Module = (function() {\n    let private = ''secret'';\n    return {\n        getPrivate: function() {\n            return private;  // Controlled access\n        }\n    };\n})();\n```\n\n### 2. Facade Too Complex\n\n```javascript\n// ⚠️ Problem: Facade is too complex\nclass Facade {\n    // Too many responsibilities\n}\n\n// ✅ Solution: Keep facade simple\nclass Facade {\n    // Simple interface to complex system\n}\n```\n\n### 3. Decorator Not Preserving Interface\n\n```javascript\n// ⚠️ Problem: Changes interface\nclass Decorator {\n    newMethod() { }  // Adds new method\n}\n\n// ✅ Solution: Preserve interface\nclass Decorator {\n    // Same interface as decorated object\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **Module**: Encapsulate private and public members\n2. **Facade**: Simplify complex interfaces\n3. **Decorator**: Add behavior dynamically\n4. **When to Use**: Choose based on organization needs\n5. **Best Practice**: Keep patterns simple and focused\n6. **Privacy**: Use closures or private fields for privacy\n7. **Interface**: Decorators should preserve interface\n\n---\n\n## Quiz: Structural Patterns\n\nTest your understanding with these questions:\n\n1. **Module pattern provides:**\n   - A) Public members only\n   - B) Private and public members\n   - C) No members\n   - D) Random\n\n2. **Facade pattern:**\n   - A) Simplifies interface\n   - B) Complicates interface\n   - C) Removes interface\n   - D) Nothing\n\n3. **Decorator pattern:**\n   - A) Adds behavior\n   - B) Removes behavior\n   - C) Modifies structure\n   - D) Nothing\n\n4. **Module uses:**\n   - A) Closures\n   - B) Classes only\n   - C) Functions only\n   - D) Nothing\n\n5. **Facade hides:**\n   - A) Complexity\n   - B) Simplicity\n   - C) Nothing\n   - D) Everything\n\n6. **Decorator preserves:**\n   - A) Interface\n   - B) Implementation\n   - C) Both\n   - D) Neither\n\n7. **Structural patterns help:**\n   - A) Code organization\n   - B) Code destruction\n   - C) Code modification\n   - D) Nothing\n\n**Answers**:\n1. B) Private and public members\n2. A) Simplifies interface\n3. A) Adds behavior\n4. A) Closures\n5. A) Complexity\n6. A) Interface\n7. A) Code organization\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned structural patterns. You now know:\n- How to create modules\n- How to build facades\n- How to implement decorators\n- When to use each pattern\n\n**What''s Next?**\n- Lesson 19.3: Behavioral Patterns\n- Learn Observer pattern\n- Understand Strategy pattern\n- Work with Command pattern\n\n---\n\n## Additional Resources\n\n- **MDN: Closures**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Closures](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures)\n- **Design Patterns**: [refactoring.guru/design-patterns](https://refactoring.guru/design-patterns)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 09:59:25', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand structural design patterns\n- Implement the Module pattern\n- Implement the Facade pattern\n- Implement the Decorator pattern\n- Choose appropriate patterns\n- Apply patterns to organize code\n- Build maintainable code structures');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (159, 59, 14, 'Behavioral Patterns', 'behavioral-patterns', '# Lesson 19.3: Behavioral Patterns\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand behavioral design patterns\n- Implement the Observer pattern\n- Implement the Strategy pattern\n- Implement the Command pattern\n- Choose appropriate patterns\n- Apply patterns to solve problems\n- Build flexible communication systems\n\n---\n\n## Introduction to Behavioral Patterns\n\nBehavioral patterns focus on communication between objects and how responsibilities are distributed.\n\n### Why Behavioral Patterns?\n\n- **Communication**: Better object communication\n- **Flexibility**: Easier to change behavior\n- **Reusability**: Reuse communication patterns\n- **Maintainability**: Clearer responsibilities\n- **Decoupling**: Reduce dependencies\n- **Best Practices**: Proven communication solutions\n\n### Common Behavioral Patterns\n\n1. **Observer**: Notify multiple objects of changes\n2. **Strategy**: Encapsulate algorithms\n3. **Command**: Encapsulate requests\n\n---\n\n## Observer Pattern\n\n### What is Observer?\n\nObserver defines a one-to-many dependency between objects so when one changes, all dependents are notified.\n\n### Basic Observer\n\n```javascript\nclass Subject {\n    constructor() {\n        this.observers = [];\n    }\n    \n    subscribe(observer) {\n        this.observers.push(observer);\n    }\n    \n    unsubscribe(observer) {\n        this.observers = this.observers.filter(obs => obs !== observer);\n    }\n    \n    notify(data) {\n        this.observers.forEach(observer => observer.update(data));\n    }\n}\n\nclass Observer {\n    constructor(name) {\n        this.name = name;\n    }\n    \n    update(data) {\n        console.log(`${this.name} received:`, data);\n    }\n}\n\n// Usage\nlet subject = new Subject();\nlet observer1 = new Observer(''Observer 1'');\nlet observer2 = new Observer(''Observer 2'');\n\nsubject.subscribe(observer1);\nsubject.subscribe(observer2);\n\nsubject.notify(''Hello'');\n// Observer 1 received: Hello\n// Observer 2 received: Hello\n```\n\n### Observer with Events\n\n```javascript\nclass EventEmitter {\n    constructor() {\n        this.events = {};\n    }\n    \n    on(event, callback) {\n        if (!this.events[event]) {\n            this.events[event] = [];\n        }\n        this.events[event].push(callback);\n    }\n    \n    off(event, callback) {\n        if (this.events[event]) {\n            this.events[event] = this.events[event].filter(cb => cb !== callback);\n        }\n    }\n    \n    emit(event, data) {\n        if (this.events[event]) {\n            this.events[event].forEach(callback => callback(data));\n        }\n    }\n}\n\n// Usage\nlet emitter = new EventEmitter();\n\nemitter.on(''userLogin'', (user) => {\n    console.log(''User logged in:'', user);\n});\n\nemitter.on(''userLogin'', (user) => {\n    console.log(''Sending welcome email to:'', user.email);\n});\n\nemitter.emit(''userLogin'', { name: ''Alice'', email: ''alice@example.com'' });\n```\n\n### Practical Observer Example\n\n```javascript\nclass Stock {\n    constructor(symbol, price) {\n        this.symbol = symbol;\n        this.price = price;\n        this.observers = [];\n    }\n    \n    subscribe(observer) {\n        this.observers.push(observer);\n    }\n    \n    unsubscribe(observer) {\n        this.observers = this.observers.filter(obs => obs !== observer);\n    }\n    \n    setPrice(price) {\n        if (this.price !== price) {\n            this.price = price;\n            this.notify();\n        }\n    }\n    \n    notify() {\n        this.observers.forEach(observer => {\n            observer.update(this.symbol, this.price);\n        });\n    }\n}\n\nclass PriceDisplay {\n    constructor() {\n        this.prices = {};\n    }\n    \n    update(symbol, price) {\n        this.prices[symbol] = price;\n        console.log(`${symbol}: $${price}`);\n    }\n    \n    getPrice(symbol) {\n        return this.prices[symbol];\n    }\n}\n\n// Usage\nlet stock = new Stock(''AAPL'', 150);\nlet display = new PriceDisplay();\n\nstock.subscribe(display);\nstock.setPrice(155);  // AAPL: $155\nstock.setPrice(160);  // AAPL: $160\n```\n\n---\n\n## Strategy Pattern\n\n### What is Strategy?\n\nStrategy defines a family of algorithms, encapsulates each, and makes them interchangeable.\n\n### Basic Strategy\n\n```javascript\n// Strategy interface\nclass PaymentStrategy {\n    pay(amount) {\n        throw new Error(''Method must be implemented'');\n    }\n}\n\n// Concrete strategies\nclass CreditCardStrategy extends PaymentStrategy {\n    constructor(cardNumber, cvv) {\n        super();\n        this.cardNumber = cardNumber;\n        this.cvv = cvv;\n    }\n    \n    pay(amount) {\n        console.log(`Paid $${amount} using credit card ${this.cardNumber}`);\n    }\n}\n\nclass PayPalStrategy extends PaymentStrategy {\n    constructor(email) {\n        super();\n        this.email = email;\n    }\n    \n    pay(amount) {\n        console.log(`Paid $${amount} using PayPal ${this.email}`);\n    }\n}\n\nclass BitcoinStrategy extends PaymentStrategy {\n    constructor(walletAddress) {\n        super();\n        this.walletAddress = walletAddress;\n    }\n    \n    pay(amount) {\n        console.log(`Paid $${amount} using Bitcoin ${this.walletAddress}`);\n    }\n}\n\n// Context\nclass PaymentProcessor {\n    constructor(strategy) {\n        this.strategy = strategy;\n    }\n    \n    setStrategy(strategy) {\n        this.strategy = strategy;\n    }\n    \n    processPayment(amount) {\n        this.strategy.pay(amount);\n    }\n}\n\n// Usage\nlet processor = new PaymentProcessor(new CreditCardStrategy(''1234-5678'', ''123''));\nprocessor.processPayment(100);\n\nprocessor.setStrategy(new PayPalStrategy(''alice@example.com''));\nprocessor.processPayment(200);\n```\n\n### Strategy with Functions\n\n```javascript\n// Strategy as functions\nlet strategies = {\n    add: (a, b) => a + b,\n    subtract: (a, b) => a - b,\n    multiply: (a, b) => a * b,\n    divide: (a, b) => {\n        if (b === 0) throw new Error(''Division by zero'');\n        return a / b;\n    }\n};\n\nclass Calculator {\n    constructor() {\n        this.strategy = strategies.add;\n    }\n    \n    setStrategy(operation) {\n        if (strategies[operation]) {\n            this.strategy = strategies[operation];\n        } else {\n            throw new Error(''Unknown operation'');\n        }\n    }\n    \n    calculate(a, b) {\n        return this.strategy(a, b);\n    }\n}\n\n// Usage\nlet calc = new Calculator();\nconsole.log(calc.calculate(10, 5));  // 15\n\ncalc.setStrategy(''multiply'');\nconsole.log(calc.calculate(10, 5));  // 50\n```\n\n### Practical Strategy Example\n\n```javascript\n// Sorting strategies\nclass SortStrategy {\n    sort(array) {\n        throw new Error(''Method must be implemented'');\n    }\n}\n\nclass BubbleSort extends SortStrategy {\n    sort(array) {\n        let arr = [...array];\n        for (let i = 0; i < arr.length; i++) {\n            for (let j = 0; j < arr.length - i - 1; j++) {\n                if (arr[j] > arr[j + 1]) {\n                    [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];\n                }\n            }\n        }\n        return arr;\n    }\n}\n\nclass QuickSort extends SortStrategy {\n    sort(array) {\n        if (array.length <= 1) return array;\n        let pivot = array[Math.floor(array.length / 2)];\n        let left = array.filter(x => x < pivot);\n        let middle = array.filter(x => x === pivot);\n        let right = array.filter(x => x > pivot);\n        return [...this.sort(left), ...middle, ...this.sort(right)];\n    }\n}\n\nclass Sorter {\n    constructor(strategy) {\n        this.strategy = strategy;\n    }\n    \n    setStrategy(strategy) {\n        this.strategy = strategy;\n    }\n    \n    sort(array) {\n        return this.strategy.sort(array);\n    }\n}\n\n// Usage\nlet numbers = [64, 34, 25, 12, 22, 11, 90];\nlet sorter = new Sorter(new BubbleSort());\nconsole.log(''Bubble sort:'', sorter.sort(numbers));\n\nsorter.setStrategy(new QuickSort());\nconsole.log(''Quick sort:'', sorter.sort(numbers));\n```\n\n---\n\n## Command Pattern\n\n### What is Command?\n\nCommand encapsulates a request as an object, allowing parameterization and queuing of requests.\n\n### Basic Command\n\n```javascript\n// Command interface\nclass Command {\n    execute() {\n        throw new Error(''Method must be implemented'');\n    }\n    \n    undo() {\n        throw new Error(''Method must be implemented'');\n    }\n}\n\n// Concrete commands\nclass LightOnCommand extends Command {\n    constructor(light) {\n        super();\n        this.light = light;\n    }\n    \n    execute() {\n        this.light.turnOn();\n    }\n    \n    undo() {\n        this.light.turnOff();\n    }\n}\n\nclass LightOffCommand extends Command {\n    constructor(light) {\n        super();\n        this.light = light;\n    }\n    \n    execute() {\n        this.light.turnOff();\n    }\n    \n    undo() {\n        this.light.turnOn();\n    }\n}\n\n// Receiver\nclass Light {\n    turnOn() {\n        console.log(''Light is ON'');\n    }\n    \n    turnOff() {\n        console.log(''Light is OFF'');\n    }\n}\n\n// Invoker\nclass RemoteControl {\n    constructor() {\n        this.command = null;\n        this.history = [];\n    }\n    \n    setCommand(command) {\n        this.command = command;\n    }\n    \n    pressButton() {\n        if (this.command) {\n            this.command.execute();\n            this.history.push(this.command);\n        }\n    }\n    \n    undo() {\n        if (this.history.length > 0) {\n            let lastCommand = this.history.pop();\n            lastCommand.undo();\n        }\n    }\n}\n\n// Usage\nlet light = new Light();\nlet lightOn = new LightOnCommand(light);\nlet lightOff = new LightOffCommand(light);\n\nlet remote = new RemoteControl();\nremote.setCommand(lightOn);\nremote.pressButton();  // Light is ON\n\nremote.setCommand(lightOff);\nremote.pressButton();  // Light is OFF\n\nremote.undo();  // Light is ON\n```\n\n### Command with Queue\n\n```javascript\nclass CommandQueue {\n    constructor() {\n        this.queue = [];\n        this.executing = false;\n    }\n    \n    add(command) {\n        this.queue.push(command);\n        if (!this.executing) {\n            this.executeNext();\n        }\n    }\n    \n    async executeNext() {\n        if (this.queue.length === 0) {\n            this.executing = false;\n            return;\n        }\n        \n        this.executing = true;\n        let command = this.queue.shift();\n        await command.execute();\n        this.executeNext();\n    }\n}\n\n// Usage\nclass DelayCommand {\n    constructor(delay, message) {\n        this.delay = delay;\n        this.message = message;\n    }\n    \n    async execute() {\n        return new Promise(resolve => {\n            setTimeout(() => {\n                console.log(this.message);\n                resolve();\n            }, this.delay);\n        });\n    }\n}\n\nlet queue = new CommandQueue();\nqueue.add(new DelayCommand(1000, ''First''));\nqueue.add(new DelayCommand(500, ''Second''));\nqueue.add(new DelayCommand(200, ''Third''));\n// Executes in order\n```\n\n### Practical Command Example\n\n```javascript\n// Text editor commands\nclass TextEditor {\n    constructor() {\n        this.content = '''';\n        this.history = [];\n    }\n    \n    write(text) {\n        this.content += text;\n    }\n    \n    delete(length) {\n        this.content = this.content.slice(0, -length);\n    }\n    \n    getContent() {\n        return this.content;\n    }\n}\n\nclass WriteCommand {\n    constructor(editor, text) {\n        this.editor = editor;\n        this.text = text;\n    }\n    \n    execute() {\n        this.editor.write(this.text);\n        this.editor.history.push(this);\n    }\n    \n    undo() {\n        this.editor.delete(this.text.length);\n    }\n}\n\nclass DeleteCommand {\n    constructor(editor, length) {\n        this.editor = editor;\n        this.length = length;\n        this.deletedText = '''';\n    }\n    \n    execute() {\n        this.deletedText = this.editor.content.slice(-this.length);\n        this.editor.delete(this.length);\n        this.editor.history.push(this);\n    }\n    \n    undo() {\n        this.editor.write(this.deletedText);\n    }\n}\n\n// Usage\nlet editor = new TextEditor();\nlet writeHello = new WriteCommand(editor, ''Hello'');\nlet writeWorld = new WriteCommand(editor, '' World'');\n\nwriteHello.execute();\nwriteWorld.execute();\nconsole.log(editor.getContent());  // ''Hello World''\n\nlet lastCommand = editor.history.pop();\nlastCommand.undo();\nconsole.log(editor.getContent());  // ''Hello''\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Behavioral Patterns\n\n**Objective**: Practice implementing Observer, Strategy, and Command patterns.\n\n**Instructions**:\n\n1. Create a JavaScript file\n2. Practice:\n   - Creating observers\n   - Implementing strategies\n   - Building commands\n   - Applying patterns to real problems\n\n**Example Solution**:\n\n```javascript\n// behavioral-patterns-practice.js\nconsole.log("=== Behavioral Patterns Practice ===");\n\nconsole.log("\\n=== Observer Pattern ===");\n\n// Basic Observer\nclass Subject {\n    constructor() {\n        this.observers = [];\n    }\n    \n    subscribe(observer) {\n        this.observers.push(observer);\n    }\n    \n    unsubscribe(observer) {\n        this.observers = this.observers.filter(obs => obs !== observer);\n    }\n    \n    notify(data) {\n        this.observers.forEach(observer => observer.update(data));\n    }\n}\n\nclass Observer {\n    constructor(name) {\n        this.name = name;\n    }\n    \n    update(data) {\n        console.log(`${this.name} received:`, data);\n    }\n}\n\nlet subject = new Subject();\nlet observer1 = new Observer(''Observer 1'');\nlet observer2 = new Observer(''Observer 2'');\n\nsubject.subscribe(observer1);\nsubject.subscribe(observer2);\n\nsubject.notify(''Hello'');\nsubject.unsubscribe(observer1);\nsubject.notify(''World'');\n\n// Event Emitter\nclass EventEmitter {\n    constructor() {\n        this.events = {};\n    }\n    \n    on(event, callback) {\n        if (!this.events[event]) {\n            this.events[event] = [];\n        }\n        this.events[event].push(callback);\n    }\n    \n    off(event, callback) {\n        if (this.events[event]) {\n            this.events[event] = this.events[event].filter(cb => cb !== callback);\n        }\n    }\n    \n    emit(event, data) {\n        if (this.events[event]) {\n            this.events[event].forEach(callback => callback(data));\n        }\n    }\n}\n\nlet emitter = new EventEmitter();\n\nemitter.on(''userLogin'', (user) => {\n    console.log(''User logged in:'', user.name);\n});\n\nemitter.on(''userLogin'', (user) => {\n    console.log(''Sending email to:'', user.email);\n});\n\nemitter.emit(''userLogin'', { name: ''Alice'', email: ''alice@example.com'' });\nconsole.log();\n\nconsole.log("=== Strategy Pattern ===");\n\n// Payment strategies\nclass PaymentStrategy {\n    pay(amount) {\n        throw new Error(''Method must be implemented'');\n    }\n}\n\nclass CreditCardStrategy extends PaymentStrategy {\n    constructor(cardNumber) {\n        super();\n        this.cardNumber = cardNumber;\n    }\n    \n    pay(amount) {\n        console.log(`Paid $${amount} using credit card ${this.cardNumber}`);\n    }\n}\n\nclass PayPalStrategy extends PaymentStrategy {\n    constructor(email) {\n        super();\n        this.email = email;\n    }\n    \n    pay(amount) {\n        console.log(`Paid $${amount} using PayPal ${this.email}`);\n    }\n}\n\nclass PaymentProcessor {\n    constructor(strategy) {\n        this.strategy = strategy;\n    }\n    \n    setStrategy(strategy) {\n        this.strategy = strategy;\n    }\n    \n    processPayment(amount) {\n        this.strategy.pay(amount);\n    }\n}\n\nlet processor = new PaymentProcessor(new CreditCardStrategy(''1234-5678''));\nprocessor.processPayment(100);\n\nprocessor.setStrategy(new PayPalStrategy(''alice@example.com''));\nprocessor.processPayment(200);\n\n// Function strategies\nlet strategies = {\n    add: (a, b) => a + b,\n    subtract: (a, b) => a - b,\n    multiply: (a, b) => a * b,\n    divide: (a, b) => {\n        if (b === 0) throw new Error(''Division by zero'');\n        return a / b;\n    }\n};\n\nclass Calculator {\n    constructor() {\n        this.strategy = strategies.add;\n    }\n    \n    setStrategy(operation) {\n        if (strategies[operation]) {\n            this.strategy = strategies[operation];\n        } else {\n            throw new Error(''Unknown operation'');\n        }\n    }\n    \n    calculate(a, b) {\n        return this.strategy(a, b);\n    }\n}\n\nlet calc = new Calculator();\nconsole.log(''10 + 5 ='', calc.calculate(10, 5));\n\ncalc.setStrategy(''multiply'');\nconsole.log(''10 * 5 ='', calc.calculate(10, 5));\nconsole.log();\n\nconsole.log("=== Command Pattern ===");\n\n// Basic Command\nclass Command {\n    execute() {\n        throw new Error(''Method must be implemented'');\n    }\n    \n    undo() {\n        throw new Error(''Method must be implemented'');\n    }\n}\n\nclass LightOnCommand extends Command {\n    constructor(light) {\n        super();\n        this.light = light;\n    }\n    \n    execute() {\n        this.light.turnOn();\n    }\n    \n    undo() {\n        this.light.turnOff();\n    }\n}\n\nclass LightOffCommand extends Command {\n    constructor(light) {\n        super();\n        this.light = light;\n    }\n    \n    execute() {\n        this.light.turnOff();\n    }\n    \n    undo() {\n        this.light.turnOn();\n    }\n}\n\nclass Light {\n    turnOn() {\n        console.log(''Light is ON'');\n    }\n    \n    turnOff() {\n        console.log(''Light is OFF'');\n    }\n}\n\nclass RemoteControl {\n    constructor() {\n        this.history = [];\n    }\n    \n    executeCommand(command) {\n        command.execute();\n        this.history.push(command);\n    }\n    \n    undo() {\n        if (this.history.length > 0) {\n            let lastCommand = this.history.pop();\n            lastCommand.undo();\n        }\n    }\n}\n\nlet light = new Light();\nlet remote = new RemoteControl();\n\nremote.executeCommand(new LightOnCommand(light));\nremote.executeCommand(new LightOffCommand(light));\nremote.undo();\n\n// Text Editor Commands\nclass TextEditor {\n    constructor() {\n        this.content = '''';\n        this.history = [];\n    }\n    \n    write(text) {\n        this.content += text;\n    }\n    \n    delete(length) {\n        this.content = this.content.slice(0, -length);\n    }\n    \n    getContent() {\n        return this.content;\n    }\n}\n\nclass WriteCommand {\n    constructor(editor, text) {\n        this.editor = editor;\n        this.text = text;\n    }\n    \n    execute() {\n        this.editor.write(this.text);\n        this.editor.history.push(this);\n    }\n    \n    undo() {\n        this.editor.delete(this.text.length);\n    }\n}\n\nlet editor = new TextEditor();\nlet writeHello = new WriteCommand(editor, ''Hello'');\nlet writeWorld = new WriteCommand(editor, '' World'');\n\nwriteHello.execute();\nwriteWorld.execute();\nconsole.log(''Content:'', editor.getContent());\n\nlet lastCommand = editor.history.pop();\nlastCommand.undo();\nconsole.log(''After undo:'', editor.getContent());\n```\n\n**Expected Output**:\n```\n=== Behavioral Patterns Practice ===\n\n=== Observer Pattern ===\nObserver 1 received: Hello\nObserver 2 received: Hello\nObserver 2 received: World\nUser logged in: Alice\nSending email to: alice@example.com\n\n=== Strategy Pattern ===\nPaid $100 using credit card 1234-5678\nPaid $200 using PayPal alice@example.com\n10 + 5 = 15\n10 * 5 = 50\n\n=== Command Pattern ===\nLight is ON\nLight is OFF\nLight is ON\nContent: Hello World\nAfter undo: Hello\n```\n\n**Challenge (Optional)**:\n- Build a complete application using all three patterns\n- Create an event system\n- Build a plugin system\n- Practice combining patterns\n\n---\n\n## Common Mistakes\n\n### 1. Observer Memory Leaks\n\n```javascript\n// ⚠️ Problem: Observers not removed\nsubject.subscribe(observer);\n// Observer never unsubscribed\n\n// ✅ Solution: Always unsubscribe\nsubject.subscribe(observer);\n// Later...\nsubject.unsubscribe(observer);\n```\n\n### 2. Strategy Not Swappable\n\n```javascript\n// ⚠️ Problem: Strategy hardcoded\nclass Processor {\n    process() {\n        // Hardcoded strategy\n    }\n}\n\n// ✅ Solution: Make strategy swappable\nclass Processor {\n    constructor(strategy) {\n        this.strategy = strategy;\n    }\n    \n    setStrategy(strategy) {\n        this.strategy = strategy;\n    }\n}\n```\n\n### 3. Command Without Undo\n\n```javascript\n// ⚠️ Problem: No undo capability\nclass Command {\n    execute() { }\n    // Missing undo\n}\n\n// ✅ Solution: Implement undo\nclass Command {\n    execute() { }\n    undo() { }\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **Observer**: Notify multiple objects of changes\n2. **Strategy**: Encapsulate interchangeable algorithms\n3. **Command**: Encapsulate requests as objects\n4. **When to Use**: Choose based on communication needs\n5. **Best Practice**: Keep patterns simple and focused\n6. **Memory**: Unsubscribe observers to prevent leaks\n7. **Flexibility**: Patterns enable runtime behavior changes\n\n---\n\n## Quiz: Behavioral Patterns\n\nTest your understanding with these questions:\n\n1. **Observer pattern:**\n   - A) One-to-many dependency\n   - B) Many-to-one dependency\n   - C) One-to-one\n   - D) None\n\n2. **Strategy pattern:**\n   - A) Encapsulates algorithms\n   - B) Encapsulates data\n   - C) Encapsulates nothing\n   - D) Random\n\n3. **Command pattern:**\n   - A) Encapsulates requests\n   - B) Encapsulates responses\n   - C) Encapsulates nothing\n   - D) Random\n\n4. **Observer subscribe:**\n   - A) Adds observer\n   - B) Removes observer\n   - C) Notifies observer\n   - D) Nothing\n\n5. **Strategy is:**\n   - A) Swappable\n   - B) Fixed\n   - C) Random\n   - D) None\n\n6. **Command can:**\n   - A) Execute\n   - B) Undo\n   - C) Both\n   - D) Neither\n\n7. **Behavioral patterns focus on:**\n   - A) Communication\n   - B) Creation\n   - C) Structure\n   - D) Nothing\n\n**Answers**:\n1. A) One-to-many dependency\n2. A) Encapsulates algorithms\n3. A) Encapsulates requests\n4. A) Adds observer\n5. A) Swappable\n6. C) Both\n7. A) Communication\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 19: Design Patterns. You now know:\n- Creational patterns (Singleton, Factory, Builder)\n- Structural patterns (Module, Facade, Decorator)\n- Behavioral patterns (Observer, Strategy, Command)\n- When to use each pattern\n\n**What''s Next?**\n- Module 20: Error Handling and Debugging\n- Lesson 20.1: Advanced Error Handling\n- Learn error types and handling strategies\n- Build robust error handling\n\n---\n\n## Additional Resources\n\n- **MDN: Error Handling**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Control_flow_and_error_handling](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Control_flow_and_error_handling)\n- **Design Patterns**: [refactoring.guru/design-patterns](https://refactoring.guru/design-patterns)\n\n---\n\n*Lesson completed! You''ve finished Module 19: Design Patterns. Ready for Module 20: Error Handling and Debugging!*\n\n', NULL, 3, '2026-01-03 09:59:25', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand behavioral design patterns\n- Implement the Observer pattern\n- Implement the Strategy pattern\n- Implement the Command pattern\n- Choose appropriate patterns\n- Apply patterns to solve problems\n- Build flexible communication systems');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (162, 60, 14, 'Advanced Error Handling', 'advanced-error-handling', '# Lesson 20.1: Advanced Error Handling\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand different error types\n- Create custom error classes\n- Implement error handling strategies\n- Set up global error handling\n- Handle errors in async code\n- Build robust error handling systems\n- Write more reliable code\n\n---\n\n## Introduction to Error Handling\n\nError handling is crucial for building robust applications. Proper error handling improves user experience and makes debugging easier.\n\n### Why Error Handling?\n\n- **User Experience**: Graceful error messages\n- **Debugging**: Easier to find and fix issues\n- **Reliability**: Applications don''t crash unexpectedly\n- **Maintainability**: Clear error information\n- **Best Practices**: Professional code quality\n- **Production Ready**: Handle edge cases\n\n---\n\n## Error Types\n\n### Built-in Error Types\n\n```javascript\n// Error (base class)\ntry {\n    throw new Error(''Something went wrong'');\n} catch (error) {\n    console.log(error.name);      // ''Error''\n    console.log(error.message);    // ''Something went wrong''\n    console.log(error.stack);      // Stack trace\n}\n\n// TypeError\ntry {\n    null.someProperty;\n} catch (error) {\n    console.log(error.name);      // ''TypeError''\n}\n\n// ReferenceError\ntry {\n    console.log(undefinedVariable);\n} catch (error) {\n    console.log(error.name);      // ''ReferenceError''\n}\n\n// SyntaxError\ntry {\n    eval(''invalid syntax {'');\n} catch (error) {\n    console.log(error.name);      // ''SyntaxError''\n}\n\n// RangeError\ntry {\n    let arr = new Array(-1);\n} catch (error) {\n    console.log(error.name);      // ''RangeError''\n}\n```\n\n### Common Error Types\n\n```javascript\n// TypeError: Wrong type\nlet num = ''hello'';\nnum.toUpperCase();  // Works\nnum.toFixed();      // TypeError: num.toFixed is not a function\n\n// ReferenceError: Variable doesn''t exist\nconsole.log(undefinedVar);  // ReferenceError\n\n// SyntaxError: Invalid syntax\n// let x = {;  // SyntaxError\n\n// RangeError: Out of range\nlet arr = new Array(-1);  // RangeError\n\n// URIError: Invalid URI\ndecodeURIComponent(''%'');  // URIError\n```\n\n---\n\n## Custom Errors\n\n### Basic Custom Error\n\n```javascript\nclass CustomError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = ''CustomError'';\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\n\ntry {\n    throw new CustomError(''Custom error message'');\n} catch (error) {\n    console.log(error.name);      // ''CustomError''\n    console.log(error.message);    // ''Custom error message''\n}\n```\n\n### Custom Error with Additional Properties\n\n```javascript\nclass ValidationError extends Error {\n    constructor(message, field, value) {\n        super(message);\n        this.name = ''ValidationError'';\n        this.field = field;\n        this.value = value;\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\n\ntry {\n    throw new ValidationError(''Invalid email'', ''email'', ''invalid'');\n} catch (error) {\n    if (error instanceof ValidationError) {\n        console.log(`Field: ${error.field}`);\n        console.log(`Value: ${error.value}`);\n        console.log(`Message: ${error.message}`);\n    }\n}\n```\n\n### Multiple Custom Error Types\n\n```javascript\nclass NetworkError extends Error {\n    constructor(message, statusCode) {\n        super(message);\n        this.name = ''NetworkError'';\n        this.statusCode = statusCode;\n    }\n}\n\nclass AuthenticationError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = ''AuthenticationError'';\n    }\n}\n\nclass NotFoundError extends Error {\n    constructor(resource) {\n        super(`${resource} not found`);\n        this.name = ''NotFoundError'';\n        this.resource = resource;\n    }\n}\n\n// Usage\ntry {\n    throw new NetworkError(''Connection failed'', 500);\n} catch (error) {\n    if (error instanceof NetworkError) {\n        console.log(`Network error: ${error.message} (${error.statusCode})`);\n    } else if (error instanceof AuthenticationError) {\n        console.log(''Authentication failed'');\n    } else if (error instanceof NotFoundError) {\n        console.log(`${error.resource} not found`);\n    }\n}\n```\n\n---\n\n## Error Handling Strategies\n\n### Try-Catch-Finally\n\n```javascript\nfunction riskyOperation() {\n    try {\n        // Code that might throw\n        let result = someFunction();\n        return result;\n    } catch (error) {\n        // Handle error\n        console.error(''Error occurred:'', error.message);\n        throw error;  // Re-throw if needed\n    } finally {\n        // Always executes\n        console.log(''Cleanup code'');\n    }\n}\n```\n\n### Error Handling in Functions\n\n```javascript\nfunction divide(a, b) {\n    if (b === 0) {\n        throw new Error(''Division by zero'');\n    }\n    return a / b;\n}\n\nfunction safeDivide(a, b) {\n    try {\n        return divide(a, b);\n    } catch (error) {\n        console.error(''Division error:'', error.message);\n        return null;  // Or return default value\n    }\n}\n\nconsole.log(safeDivide(10, 2));   // 5\nconsole.log(safeDivide(10, 0));  // null (error handled)\n```\n\n### Error Handling in Async Code\n\n```javascript\n// Async function with try-catch\nasync function fetchData(url) {\n    try {\n        let response = await fetch(url);\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return await response.json();\n    } catch (error) {\n        console.error(''Fetch error:'', error.message);\n        throw error;\n    }\n}\n\n// Promise with catch\nfetchData(''/api/data'')\n    .then(data => {\n        console.log(''Data:'', data);\n    })\n    .catch(error => {\n        console.error(''Error:'', error.message);\n    });\n```\n\n### Error Handling Patterns\n\n```javascript\n// Pattern 1: Return error object\nfunction safeOperation() {\n    try {\n        let result = riskyOperation();\n        return { success: true, data: result };\n    } catch (error) {\n        return { success: false, error: error.message };\n    }\n}\n\n// Pattern 2: Throw and handle\nfunction operation() {\n    try {\n        return riskyOperation();\n    } catch (error) {\n        // Log error\n        console.error(error);\n        // Re-throw or handle\n        throw error;\n    }\n}\n\n// Pattern 3: Default values\nfunction getValue(key) {\n    try {\n        return getValueFromSource(key);\n    } catch (error) {\n        return defaultValue;  // Return default\n    }\n}\n```\n\n---\n\n## Global Error Handling\n\n### Window Error Handler\n\n```javascript\n// Global error handler\nwindow.addEventListener(''error'', function(event) {\n    console.error(''Global error:'', event.error);\n    console.error(''Message:'', event.message);\n    console.error(''Source:'', event.filename);\n    console.error(''Line:'', event.lineno);\n    console.error(''Column:'', event.colno);\n    \n    // Send to error tracking service\n    // sendToErrorTracking(event.error);\n    \n    // Prevent default error handling\n    // event.preventDefault();\n});\n\n// Unhandled promise rejection\nwindow.addEventListener(''unhandledrejection'', function(event) {\n    console.error(''Unhandled promise rejection:'', event.reason);\n    \n    // Send to error tracking\n    // sendToErrorTracking(event.reason);\n    \n    // Prevent default handling\n    // event.preventDefault();\n});\n```\n\n### Node.js Error Handling\n\n```javascript\n// Node.js global handlers\nprocess.on(''uncaughtException'', (error) => {\n    console.error(''Uncaught exception:'', error);\n    // Cleanup and exit\n    process.exit(1);\n});\n\nprocess.on(''unhandledRejection'', (reason, promise) => {\n    console.error(''Unhandled rejection:'', reason);\n    // Handle or exit\n});\n```\n\n### Error Boundary (React)\n\n```javascript\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { hasError: false, error: null };\n    }\n    \n    static getDerivedStateFromError(error) {\n        return { hasError: true, error };\n    }\n    \n    componentDidCatch(error, errorInfo) {\n        console.error(''Error caught:'', error, errorInfo);\n        // Log to error tracking service\n    }\n    \n    render() {\n        if (this.state.hasError) {\n            return <h1>Something went wrong.</h1>;\n        }\n        return this.props.children;\n    }\n}\n```\n\n---\n\n## Error Handling Best Practices\n\n### 1. Be Specific\n\n```javascript\n// ❌ Bad: Generic error\nthrow new Error(''Error'');\n\n// ✅ Good: Specific error\nthrow new ValidationError(''Email is required'', ''email'');\n```\n\n### 2. Don''t Swallow Errors\n\n```javascript\n// ❌ Bad: Swallowing error\ntry {\n    riskyOperation();\n} catch (error) {\n    // Silent failure\n}\n\n// ✅ Good: Handle or log\ntry {\n    riskyOperation();\n} catch (error) {\n    console.error(''Error:'', error);\n    // Handle appropriately\n}\n```\n\n### 3. Use Appropriate Error Types\n\n```javascript\n// ❌ Bad: Wrong error type\nthrow new Error(''Network error'');\n\n// ✅ Good: Specific error type\nthrow new NetworkError(''Connection failed'', 500);\n```\n\n### 4. Provide Context\n\n```javascript\n// ❌ Bad: No context\nthrow new Error(''Failed'');\n\n// ✅ Good: With context\nthrow new Error(`Failed to fetch user ${userId}: ${error.message}`);\n```\n\n### 5. Handle Errors at Appropriate Level\n\n```javascript\n// Handle at the right level\nasync function processUser(userId) {\n    try {\n        let user = await fetchUser(userId);\n        return processUserData(user);\n    } catch (error) {\n        // Handle at this level\n        if (error instanceof NotFoundError) {\n            return null;  // User not found\n        }\n        throw error;  // Re-throw other errors\n    }\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Error Handling\n\n**Objective**: Practice creating custom errors, implementing error handling strategies, and setting up global error handling.\n\n**Instructions**:\n\n1. Create a JavaScript file\n2. Practice:\n   - Creating custom error classes\n   - Implementing error handling\n   - Setting up global handlers\n   - Handling async errors\n\n**Example Solution**:\n\n```javascript\n// error-handling-practice.js\nconsole.log("=== Error Handling Practice ===");\n\nconsole.log("\\n=== Built-in Error Types ===");\n\n// Error\ntry {\n    throw new Error(''Something went wrong'');\n} catch (error) {\n    console.log(''Error:'', error.name, error.message);\n}\n\n// TypeError\ntry {\n    let num = ''hello'';\n    num.toFixed();\n} catch (error) {\n    console.log(''TypeError:'', error.name);\n}\n\n// ReferenceError\ntry {\n    console.log(undefinedVar);\n} catch (error) {\n    console.log(''ReferenceError:'', error.name);\n}\nconsole.log();\n\nconsole.log("=== Custom Errors ===");\n\n// Basic custom error\nclass CustomError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = ''CustomError'';\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\n\ntry {\n    throw new CustomError(''Custom error message'');\n} catch (error) {\n    console.log(''Custom error:'', error.name, error.message);\n}\n\n// Validation error\nclass ValidationError extends Error {\n    constructor(message, field, value) {\n        super(message);\n        this.name = ''ValidationError'';\n        this.field = field;\n        this.value = value;\n    }\n}\n\ntry {\n    throw new ValidationError(''Invalid email'', ''email'', ''invalid'');\n} catch (error) {\n    if (error instanceof ValidationError) {\n        console.log(`Validation error: ${error.field} = ${error.value}`);\n    }\n}\n\n// Network error\nclass NetworkError extends Error {\n    constructor(message, statusCode) {\n        super(message);\n        this.name = ''NetworkError'';\n        this.statusCode = statusCode;\n    }\n}\n\n// Authentication error\nclass AuthenticationError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = ''AuthenticationError'';\n    }\n}\n\n// Not found error\nclass NotFoundError extends Error {\n    constructor(resource) {\n        super(`${resource} not found`);\n        this.name = ''NotFoundError'';\n        this.resource = resource;\n    }\n}\n\n// Error handler\nfunction handleError(error) {\n    if (error instanceof ValidationError) {\n        console.log(`Validation error in ${error.field}: ${error.message}`);\n    } else if (error instanceof NetworkError) {\n        console.log(`Network error (${error.statusCode}): ${error.message}`);\n    } else if (error instanceof AuthenticationError) {\n        console.log(''Authentication failed:'', error.message);\n    } else if (error instanceof NotFoundError) {\n        console.log(`${error.resource} not found`);\n    } else {\n        console.log(''Unknown error:'', error.message);\n    }\n}\n\ntry {\n    throw new NetworkError(''Connection failed'', 500);\n} catch (error) {\n    handleError(error);\n}\nconsole.log();\n\nconsole.log("=== Error Handling Strategies ===");\n\n// Try-catch-finally\nfunction riskyOperation() {\n    try {\n        console.log(''Performing risky operation'');\n        // Simulate error\n        throw new Error(''Operation failed'');\n    } catch (error) {\n        console.error(''Error caught:'', error.message);\n        throw error;\n    } finally {\n        console.log(''Cleanup code executed'');\n    }\n}\n\ntry {\n    riskyOperation();\n} catch (error) {\n    console.log(''Error re-thrown and caught'');\n}\n\n// Safe operation with default\nfunction safeDivide(a, b) {\n    try {\n        if (b === 0) {\n            throw new Error(''Division by zero'');\n        }\n        return a / b;\n    } catch (error) {\n        console.error(''Division error:'', error.message);\n        return null;\n    }\n}\n\nconsole.log(''safeDivide(10, 2):'', safeDivide(10, 2));\nconsole.log(''safeDivide(10, 0):'', safeDivide(10, 0));\n\n// Return error object pattern\nfunction safeOperation() {\n    try {\n        let result = 10 / 2;\n        return { success: true, data: result };\n    } catch (error) {\n        return { success: false, error: error.message };\n    }\n}\n\nlet result = safeOperation();\nconsole.log(''Safe operation result:'', result);\nconsole.log();\n\nconsole.log("=== Async Error Handling ===");\n\n// Async function\nasync function fetchData(url) {\n    try {\n        // Simulate fetch\n        if (url === ''error'') {\n            throw new NetworkError(''Connection failed'', 500);\n        }\n        return { data: ''success'' };\n    } catch (error) {\n        console.error(''Fetch error:'', error.message);\n        throw error;\n    }\n}\n\n// Handle async errors\nasync function handleAsync() {\n    try {\n        let data = await fetchData(''error'');\n        console.log(''Data:'', data);\n    } catch (error) {\n        handleError(error);\n    }\n}\n\nhandleAsync();\n\n// Promise error handling\nfetchData(''error'')\n    .then(data => {\n        console.log(''Data:'', data);\n    })\n    .catch(error => {\n        handleError(error);\n    });\nconsole.log();\n\nconsole.log("=== Global Error Handling ===");\n\n// Window error handler\nwindow.addEventListener(''error'', function(event) {\n    console.error(''Global error:'', event.error);\n    console.error(''Message:'', event.message);\n    console.error(''Source:'', event.filename);\n    console.error(''Line:'', event.lineno);\n    \n    // In production, send to error tracking\n    // sendToErrorTracking({\n    //     message: event.message,\n    //     source: event.filename,\n    //     line: event.lineno,\n    //     error: event.error\n    // });\n});\n\n// Unhandled promise rejection\nwindow.addEventListener(''unhandledrejection'', function(event) {\n    console.error(''Unhandled promise rejection:'', event.reason);\n    \n    // In production, send to error tracking\n    // sendToErrorTracking({\n    //     type: ''unhandledRejection'',\n    //     reason: event.reason\n    // });\n});\nconsole.log();\n\nconsole.log("=== Error Handling Utilities ===");\n\n// Error wrapper\nfunction withErrorHandling(fn) {\n    return function(...args) {\n        try {\n            return fn.apply(this, args);\n        } catch (error) {\n            console.error(`Error in ${fn.name}:`, error.message);\n            throw error;\n        }\n    };\n}\n\nfunction divide(a, b) {\n    if (b === 0) {\n        throw new Error(''Division by zero'');\n    }\n    return a / b;\n}\n\nlet safeDivide2 = withErrorHandling(divide);\ntry {\n    safeDivide2(10, 0);\n} catch (error) {\n    console.log(''Error handled by wrapper'');\n}\n\n// Retry with error handling\nasync function retryWithErrorHandling(fn, maxRetries = 3) {\n    for (let i = 0; i < maxRetries; i++) {\n        try {\n            return await fn();\n        } catch (error) {\n            if (i === maxRetries - 1) {\n                throw error;\n            }\n            console.log(`Retry ${i + 1}/${maxRetries}`);\n        }\n    }\n}\n\n// Error logger\nclass ErrorLogger {\n    static log(error, context = {}) {\n        let errorInfo = {\n            name: error.name,\n            message: error.message,\n            stack: error.stack,\n            context: context,\n            timestamp: new Date().toISOString()\n        };\n        \n        console.error(''Error logged:'', errorInfo);\n        \n        // In production, send to error tracking service\n        // sendToErrorTracking(errorInfo);\n    }\n}\n\ntry {\n    throw new ValidationError(''Invalid input'', ''email'', ''test'');\n} catch (error) {\n    ErrorLogger.log(error, { userId: 123, action: ''login'' });\n}\n```\n\n**Expected Output**:\n```\n=== Error Handling Practice ===\n\n=== Built-in Error Types ===\nError: Something went wrong\nTypeError: TypeError\nReferenceError: ReferenceError\n\n=== Custom Errors ===\nCustom error: CustomError Custom error message\nValidation error: email = invalid\nNetwork error (500): Connection failed\n\n=== Error Handling Strategies ===\nPerforming risky operation\nError caught: Operation failed\nCleanup code executed\nError re-thrown and caught\nDivision error: Division by zero\nsafeDivide(10, 2): 5\nsafeDivide(10, 0): null\nSafe operation result: { success: true, data: 5 }\n\n=== Async Error Handling ===\nFetch error: Connection failed\nNetwork error (500): Connection failed\nNetwork error (500): Connection failed\n\n=== Global Error Handling ===\n[Global handlers registered]\n\n=== Error Handling Utilities ===\nError in divide: Division by zero\nError handled by wrapper\nError logged: { object }\n```\n\n**Challenge (Optional)**:\n- Build a complete error handling system\n- Create an error tracking service\n- Build error recovery mechanisms\n- Practice error handling in real applications\n\n---\n\n## Common Mistakes\n\n### 1. Swallowing Errors\n\n```javascript\n// ❌ Bad: Error swallowed\ntry {\n    riskyOperation();\n} catch (error) {\n    // Silent failure\n}\n\n// ✅ Good: Handle or log\ntry {\n    riskyOperation();\n} catch (error) {\n    console.error(''Error:'', error);\n    // Handle appropriately\n}\n```\n\n### 2. Generic Error Messages\n\n```javascript\n// ❌ Bad: Generic\nthrow new Error(''Error'');\n\n// ✅ Good: Specific\nthrow new ValidationError(''Email is required'', ''email'');\n```\n\n### 3. Not Handling Async Errors\n\n```javascript\n// ❌ Bad: Unhandled promise rejection\nasync function fetchData() {\n    let response = await fetch(url);\n    return response.json();\n}\nfetchData();  // Error not handled\n\n// ✅ Good: Handle errors\nasync function fetchData() {\n    try {\n        let response = await fetch(url);\n        return response.json();\n    } catch (error) {\n        console.error(''Error:'', error);\n        throw error;\n    }\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **Error Types**: Use appropriate built-in or custom error types\n2. **Custom Errors**: Create specific error classes for better handling\n3. **Try-Catch**: Use try-catch-finally for error handling\n4. **Async Errors**: Handle errors in async/await and promises\n5. **Global Handlers**: Set up global error handlers\n6. **Best Practices**: Be specific, provide context, handle appropriately\n7. **Error Tracking**: Log errors for debugging and monitoring\n\n---\n\n## Quiz: Error Handling\n\nTest your understanding with these questions:\n\n1. **Error base class:**\n   - A) TypeError\n   - B) Error\n   - C) ReferenceError\n   - D) None\n\n2. **Custom errors should:**\n   - A) Extend Error\n   - B) Not extend anything\n   - C) Extend Object\n   - D) Nothing\n\n3. **Finally block:**\n   - A) Always executes\n   - B) Sometimes executes\n   - C) Never executes\n   - D) Random\n\n4. **Async errors handled with:**\n   - A) try-catch\n   - B) .catch()\n   - C) Both\n   - D) Neither\n\n5. **Global error handler:**\n   - A) window.addEventListener(''error'')\n   - B) window.onerror\n   - C) Both\n   - D) Neither\n\n6. **Error handling should:**\n   - A) Be specific\n   - B) Provide context\n   - C) Both\n   - D) Neither\n\n7. **Swallowing errors:**\n   - A) Good practice\n   - B) Bad practice\n   - C) Sometimes OK\n   - D) Always OK\n\n**Answers**:\n1. B) Error\n2. A) Extend Error\n3. A) Always executes\n4. C) Both\n5. C) Both\n6. C) Both\n7. B) Bad practice\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned advanced error handling. You now know:\n- Different error types\n- How to create custom errors\n- Error handling strategies\n- Global error handling\n\n**What''s Next?**\n- Lesson 20.2: Debugging Techniques\n- Learn browser DevTools\n- Understand debugging tools\n- Master breakpoints and console methods\n\n---\n\n## Additional Resources\n\n- **MDN: Error Handling**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Control_flow_and_error_handling](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Control_flow_and_error_handling)\n- **MDN: Error**: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 10:03:01', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand different error types\n- Create custom error classes\n- Implement error handling strategies\n- Set up global error handling\n- Handle errors in async code\n- Build robust error handling systems\n- Write more reliable code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (163, 60, 14, 'Debugging Techniques', 'debugging-techniques', '# Lesson 20.2: Debugging Techniques\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use browser DevTools effectively\n- Set and use breakpoints\n- Use console methods for debugging\n- Understand source maps\n- Debug JavaScript code efficiently\n- Use debugging tools and techniques\n- Find and fix bugs faster\n\n---\n\n## Introduction to Debugging\n\nDebugging is the process of finding and fixing bugs in code. Effective debugging skills are essential for every developer.\n\n### Why Debugging Skills Matter?\n\n- **Faster Development**: Find bugs quickly\n- **Better Code**: Understand code behavior\n- **Problem Solving**: Systematic approach to issues\n- **Learning**: Understand how code works\n- **Professional**: Essential skill for developers\n- **Productivity**: Save time and effort\n\n---\n\n## Browser DevTools\n\n### Opening DevTools\n\n```javascript\n// Keyboard shortcuts\n// Chrome/Edge: F12 or Ctrl+Shift+I (Windows) / Cmd+Option+I (Mac)\n// Firefox: F12 or Ctrl+Shift+I (Windows) / Cmd+Option+I (Mac)\n// Safari: Cmd+Option+I (Mac)\n\n// Or right-click → Inspect\n```\n\n### DevTools Panels\n\n1. **Elements/Inspector**: HTML and CSS\n2. **Console**: JavaScript console\n3. **Sources/Debugger**: JavaScript debugging\n4. **Network**: Network requests\n5. **Application/Storage**: Storage and data\n6. **Performance**: Performance profiling\n7. **Memory**: Memory profiling\n\n### Console Panel\n\n```javascript\n// Open console: Ctrl+Shift+J (Windows) / Cmd+Option+J (Mac)\n// Or: F12 → Console tab\n\n// Basic console usage\nconsole.log(''Hello'');\nconsole.error(''Error message'');\nconsole.warn(''Warning message'');\n```\n\n---\n\n## Console Methods\n\n### Basic Console Methods\n\n```javascript\n// console.log() - General logging\nconsole.log(''Hello'', ''World'', 123);\nconsole.log({ name: ''Alice'', age: 30 });\nconsole.log([1, 2, 3]);\n\n// console.error() - Error messages\nconsole.error(''Error occurred'');\nconsole.error(new Error(''Something went wrong''));\n\n// console.warn() - Warnings\nconsole.warn(''This is a warning'');\n\n// console.info() - Informational messages\nconsole.info(''Information message'');\n\n// console.debug() - Debug messages\nconsole.debug(''Debug information'');\n```\n\n### Advanced Console Methods\n\n```javascript\n// console.table() - Display data as table\nlet users = [\n    { name: ''Alice'', age: 30, city: ''NYC'' },\n    { name: ''Bob'', age: 25, city: ''LA'' },\n    { name: ''Charlie'', age: 35, city: ''Chicago'' }\n];\nconsole.table(users);\n\n// console.group() - Group related logs\nconsole.group(''User Data'');\nconsole.log(''Name: Alice'');\nconsole.log(''Age: 30'');\nconsole.groupEnd();\n\n// console.groupCollapsed() - Collapsed group\nconsole.groupCollapsed(''Details'');\nconsole.log(''Hidden by default'');\nconsole.groupEnd();\n\n// console.time() - Measure execution time\nconsole.time(''operation'');\n// ... code ...\nconsole.timeEnd(''operation'');\n\n// console.count() - Count occurrences\nconsole.count(''counter'');\nconsole.count(''counter'');\nconsole.count(''counter'');  // counter: 3\n\n// console.trace() - Stack trace\nfunction a() {\n    b();\n}\nfunction b() {\n    c();\n}\nfunction c() {\n    console.trace(''Trace'');\n}\na();\n```\n\n### Console Formatting\n\n```javascript\n// String formatting\nconsole.log(''%s is %d years old'', ''Alice'', 30);\nconsole.log(''%cStyled text'', ''color: red; font-size: 20px'');\n\n// Object formatting\nconsole.log(''%O'', { name: ''Alice'' });  // Full object\nconsole.log(''%o'', { name: ''Alice'' });  // Compact object\n\n// Multiple styles\nconsole.log(\n    ''%cRed %cGreen %cBlue'',\n    ''color: red'',\n    ''color: green'',\n    ''color: blue''\n);\n```\n\n### Console Assertions\n\n```javascript\n// console.assert() - Assert conditions\nconsole.assert(1 === 1, ''This will not log'');\nconsole.assert(1 === 2, ''This will log'');  // Assertion failed\n\n// Useful for debugging\nfunction divide(a, b) {\n    console.assert(b !== 0, ''Division by zero'');\n    return a / b;\n}\n```\n\n---\n\n## Breakpoints\n\n### Setting Breakpoints\n\n```javascript\n// Method 1: In DevTools Sources panel\n// 1. Open Sources panel\n// 2. Find your file\n// 3. Click line number to set breakpoint\n\n// Method 2: Using debugger statement\nfunction myFunction() {\n    let x = 10;\n    debugger;  // Execution pauses here\n    let y = x * 2;\n    return y;\n}\n\n// Method 3: Conditional breakpoints\n// Right-click line number → Add conditional breakpoint\n// Enter condition: x > 10\n```\n\n### Breakpoint Types\n\n```javascript\n// 1. Line breakpoints\n// Click line number in Sources panel\n\n// 2. Conditional breakpoints\n// Right-click → Add conditional breakpoint\n// Condition: variable > value\n\n// 3. Logpoints\n// Right-click → Add logpoint\n// Log: Variable value without pausing\n\n// 4. DOM breakpoints\n// Elements panel → Right-click element → Break on\n// - Subtree modifications\n// - Attribute modifications\n// - Node removal\n\n// 5. Event listener breakpoints\n// Sources panel → Event Listener Breakpoints\n// Select events to break on\n```\n\n### Using Breakpoints\n\n```javascript\n// When breakpoint hits:\n// 1. Execution pauses\n// 2. Inspect variables in Scope panel\n// 3. Step through code\n// 4. Evaluate expressions in Console\n\nfunction calculateTotal(items) {\n    let total = 0;\n    for (let item of items) {\n        total += item.price;  // Set breakpoint here\n    }\n    return total;\n}\n\n// Step controls:\n// F8: Continue (resume execution)\n// F10: Step over (next line)\n// F11: Step into (enter function)\n// Shift+F11: Step out (exit function)\n```\n\n---\n\n## Debugging Techniques\n\n### 1. Step Through Code\n\n```javascript\nfunction processData(data) {\n    let processed = [];\n    for (let item of data) {\n        let result = transform(item);  // Step into here\n        processed.push(result);\n    }\n    return processed;\n}\n\n// Use F10 to step over\n// Use F11 to step into transform()\n```\n\n### 2. Inspect Variables\n\n```javascript\nfunction calculate(a, b, c) {\n    let sum = a + b;      // Inspect: sum = 5\n    let product = sum * c; // Inspect: product = 15\n    return product;\n}\n\n// In DevTools:\n// - Watch panel: Add variables to watch\n// - Scope panel: See all variables in scope\n// - Console: Evaluate expressions\n```\n\n### 3. Call Stack\n\n```javascript\nfunction a() {\n    b();  // Call stack: a → b\n}\n\nfunction b() {\n    c();  // Call stack: a → b → c\n}\n\nfunction c() {\n    debugger;  // Inspect call stack\n}\n\n// Call stack shows:\n// - Function call order\n// - Where each function was called from\n// - Click to navigate to source\n```\n\n### 4. Watch Expressions\n\n```javascript\n// In DevTools Watch panel:\n// Add expressions to watch:\n// - variable\n// - object.property\n// - array[index]\n// - function calls\n\nfunction process(items) {\n    let total = 0;\n    // Watch: total, items.length, items[0]\n    for (let item of items) {\n        total += item.value;\n    }\n    return total;\n}\n```\n\n---\n\n## Source Maps\n\n### What are Source Maps?\n\nSource maps map minified/transpiled code back to original source code.\n\n### Using Source Maps\n\n```javascript\n// In build tools (webpack, babel, etc.)\n// Generate source maps:\n// webpack.config.js\nmodule.exports = {\n    devtool: ''source-map'',  // Generate source maps\n    // ...\n};\n\n// Source maps allow:\n// - Debug original source code\n// - See original variable names\n// - Set breakpoints in original code\n// - See original line numbers\n```\n\n### Source Map Types\n\n```javascript\n// 1. source-map: Full source map file\n// 2. inline-source-map: Inline in bundle\n// 3. eval-source-map: Fastest, less accurate\n// 4. cheap-source-map: Faster, no column info\n// 5. cheap-module-source-map: For loader source maps\n```\n\n---\n\n## Network Debugging\n\n### Network Panel\n\n```javascript\n// Network panel shows:\n// - All network requests\n// - Request/response headers\n// - Response data\n// - Timing information\n// - Request/response preview\n\n// Filter requests:\n// - By type (XHR, JS, CSS, etc.)\n// - By domain\n// - By status code\n// - By search term\n\n// Inspect request:\n// - Click request to see details\n// - Headers tab: Request/response headers\n// - Preview tab: Formatted response\n// - Response tab: Raw response\n// - Timing tab: Request timing\n```\n\n### Network Debugging Tips\n\n```javascript\n// 1. Filter by XHR to see API calls\n// 2. Check status codes (200, 404, 500, etc.)\n// 3. Inspect request payload\n// 4. Check response data\n// 5. Look at timing (slow requests)\n// 6. Check for CORS errors\n// 7. Verify headers (Content-Type, Authorization, etc.)\n```\n\n---\n\n## Performance Debugging\n\n### Performance Panel\n\n```javascript\n// Performance panel:\n// 1. Click Record\n// 2. Perform actions\n// 3. Stop recording\n// 4. Analyze timeline\n\n// Shows:\n// - FPS (frames per second)\n// - CPU usage\n// - Memory usage\n// - Function call stack\n// - Long tasks\n// - Layout shifts\n```\n\n### Memory Debugging\n\n```javascript\n// Memory panel:\n// - Take heap snapshot\n// - Compare snapshots\n// - Find memory leaks\n// - See object sizes\n// - Find retained objects\n\n// Common issues:\n// - Memory leaks (objects not garbage collected)\n// - Large objects\n// - Circular references\n// - Event listeners not removed\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Debugging Practice\n\n**Objective**: Practice using DevTools, breakpoints, console methods, and debugging techniques.\n\n**Instructions**:\n\n1. Create an HTML file with JavaScript\n2. Open DevTools\n3. Practice:\n   - Using console methods\n   - Setting breakpoints\n   - Stepping through code\n   - Inspecting variables\n   - Using network panel\n   - Debugging issues\n\n**Example Solution**:\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Debugging Practice</title>\n</head>\n<body>\n    <h1>Debugging Practice</h1>\n    <button onclick="processData()">Process Data</button>\n    <button onclick="fetchData()">Fetch Data</button>\n    <div id="output"></div>\n    \n    <script src="debugging-practice.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// debugging-practice.js\nconsole.log("=== Debugging Practice ===");\n\nconsole.log("\\n=== Console Methods ===");\n\n// Basic logging\nconsole.log(''Hello World'');\nconsole.log(''Number:'', 123);\nconsole.log(''Object:'', { name: ''Alice'', age: 30 });\nconsole.log(''Array:'', [1, 2, 3]);\n\n// Error and warnings\nconsole.error(''This is an error'');\nconsole.warn(''This is a warning'');\nconsole.info(''This is info'');\nconsole.debug(''This is debug'');\n\n// Table\nlet users = [\n    { name: ''Alice'', age: 30, city: ''NYC'' },\n    { name: ''Bob'', age: 25, city: ''LA'' },\n    { name: ''Charlie'', age: 35, city: ''Chicago'' }\n];\nconsole.table(users);\n\n// Grouping\nconsole.group(''User Details'');\nconsole.log(''Name: Alice'');\nconsole.log(''Age: 30'');\nconsole.log(''City: NYC'');\nconsole.groupEnd();\n\nconsole.groupCollapsed(''Hidden Details'');\nconsole.log(''This is hidden by default'');\nconsole.groupEnd();\n\n// Timing\nconsole.time(''loop'');\nfor (let i = 0; i < 1000000; i++) {\n    // Some operation\n}\nconsole.timeEnd(''loop'');\n\n// Counting\nconsole.count(''counter'');\nconsole.count(''counter'');\nconsole.count(''counter'');\nconsole.countReset(''counter'');\nconsole.count(''counter'');\n\n// Trace\nfunction functionA() {\n    functionB();\n}\n\nfunction functionB() {\n    functionC();\n}\n\nfunction functionC() {\n    console.trace(''Call stack trace'');\n}\n\nfunctionA();\n\n// Assertions\nconsole.assert(1 === 1, ''This will not log'');\nconsole.assert(1 === 2, ''Assertion failed: 1 !== 2'');\n\n// Styling\nconsole.log(''%cRed text'', ''color: red; font-size: 20px'');\nconsole.log(''%cRed %cGreen %cBlue'', ''color: red'', ''color: green'', ''color: blue'');\nconsole.log();\n\nconsole.log("=== Breakpoints ===");\n\nfunction processData() {\n    let data = [1, 2, 3, 4, 5];\n    let result = [];\n    \n    // Set breakpoint here (line number in DevTools)\n    for (let i = 0; i < data.length; i++) {\n        let value = data[i];\n        let doubled = value * 2;  // Set breakpoint here\n        result.push(doubled);\n    }\n    \n    // Or use debugger statement\n    debugger;\n    \n    console.log(''Result:'', result);\n    document.getElementById(''output'').textContent = result.join('', '');\n}\n\n// Conditional breakpoint example\nfunction findMax(numbers) {\n    let max = numbers[0];\n    \n    for (let i = 1; i < numbers.length; i++) {\n        // Set conditional breakpoint: numbers[i] > 10\n        if (numbers[i] > max) {\n            max = numbers[i];\n        }\n    }\n    \n    return max;\n}\n\nlet numbers = [5, 12, 3, 8, 15, 7];\nconsole.log(''Max:'', findMax(numbers));\nconsole.log();\n\nconsole.log("=== Variable Inspection ===");\n\nfunction calculateTotal(items) {\n    let total = 0;\n    let tax = 0.1;\n    \n    // Watch these variables in DevTools:\n    // - total\n    // - tax\n    // - items.length\n    // - items[0].price\n    \n    for (let item of items) {\n        total += item.price;\n    }\n    \n    let totalWithTax = total * (1 + tax);\n    \n    return {\n        subtotal: total,\n        tax: total * tax,\n        total: totalWithTax\n    };\n}\n\nlet items = [\n    { name: ''Apple'', price: 1.00 },\n    { name: ''Banana'', price: 0.50 },\n    { name: ''Orange'', price: 1.50 }\n];\n\nlet result = calculateTotal(items);\nconsole.log(''Total:'', result);\nconsole.log();\n\nconsole.log("=== Call Stack ===");\n\nfunction level1() {\n    console.log(''Level 1'');\n    level2();\n}\n\nfunction level2() {\n    console.log(''Level 2'');\n    level3();\n}\n\nfunction level3() {\n    console.log(''Level 3'');\n    debugger;  // Inspect call stack here\n    console.trace(''Call stack'');\n}\n\nlevel1();\nconsole.log();\n\nconsole.log("=== Network Debugging ===");\n\nasync function fetchData() {\n    try {\n        // Open Network panel to see this request\n        let response = await fetch(''https://jsonplaceholder.typicode.com/posts/1'');\n        let data = await response.json();\n        console.log(''Fetched data:'', data);\n        document.getElementById(''output'').textContent = JSON.stringify(data, null, 2);\n    } catch (error) {\n        console.error(''Fetch error:'', error);\n    }\n}\n\n// Uncomment to test network debugging\n// fetchData();\nconsole.log();\n\nconsole.log("=== Error Debugging ===");\n\nfunction buggyFunction() {\n    let x = 10;\n    let y = 0;\n    \n    // This will cause an error\n    try {\n        let result = x / y;  // Division by zero\n        return result;\n    } catch (error) {\n        console.error(''Error in buggyFunction:'', error);\n        console.error(''Stack trace:'', error.stack);\n        throw error;\n    }\n}\n\n// Set breakpoint in catch block to inspect error\ntry {\n    buggyFunction();\n} catch (error) {\n    console.error(''Caught error:'', error);\n}\nconsole.log();\n\nconsole.log("=== Performance Debugging ===");\n\nfunction slowOperation() {\n    console.time(''slowOperation'');\n    \n    let result = 0;\n    for (let i = 0; i < 10000000; i++) {\n        result += i;\n    }\n    \n    console.timeEnd(''slowOperation'');\n    return result;\n}\n\n// Use Performance panel to profile this\nslowOperation();\nconsole.log();\n\nconsole.log("=== Memory Debugging ===");\n\n// Memory leak example (don''t do this in production)\nlet memoryLeak = [];\n\nfunction addToMemoryLeak() {\n    for (let i = 0; i < 1000; i++) {\n        memoryLeak.push({\n            data: new Array(1000).fill(0),\n            timestamp: Date.now()\n        });\n    }\n}\n\n// Use Memory panel to take snapshots\n// Call addToMemoryLeak() multiple times\n// Compare snapshots to find memory leak\nconsole.log(''Memory debugging: Use Memory panel to take snapshots'');\nconsole.log();\n\nconsole.log("=== Debugging Tips ===");\nconsole.log(''1. Use console.log() strategically'');\nconsole.log(''2. Set breakpoints at key points'');\nconsole.log(''3. Step through code line by line'');\nconsole.log(''4. Inspect variables in Scope panel'');\nconsole.log(''5. Use Watch panel for expressions'');\nconsole.log(''6. Check Call Stack for function flow'');\nconsole.log(''7. Use Network panel for API debugging'');\nconsole.log(''8. Use Performance panel for bottlenecks'');\nconsole.log(''9. Use Memory panel for leaks'');\nconsole.log(''10. Read error messages carefully'');\n```\n\n**Expected Output** (in browser console):\n```\n=== Debugging Practice ===\n\n=== Console Methods ===\nHello World\nNumber: 123\nObject: { name: ''Alice'', age: 30 }\nArray: [1, 2, 3]\n[Error, warning, info, debug messages]\n[Table output]\n[Grouped output]\nloop: [time]ms\ncounter: 1\ncounter: 2\ncounter: 3\ncounter: 1\n[Call stack trace]\n[Assertion messages]\n[Styled text]\n\n=== Breakpoints ===\n[When breakpoint hits, execution pauses]\n\n=== Variable Inspection ===\nTotal: { subtotal: 3, tax: 0.3, total: 3.3 }\n\n=== Call Stack ===\nLevel 1\nLevel 2\nLevel 3\n[Call stack trace]\n\n=== Network Debugging ===\n[Network request visible in Network panel]\n\n=== Error Debugging ===\nError in buggyFunction: [error]\nStack trace: [stack]\n\n=== Performance Debugging ===\nslowOperation: [time]ms\n\n=== Memory Debugging ===\n[Use Memory panel]\n\n=== Debugging Tips ===\n[Tips listed]\n```\n\n**Challenge (Optional)**:\n- Debug a real application\n- Find and fix bugs\n- Profile performance\n- Identify memory leaks\n- Practice all debugging techniques\n\n---\n\n## Common Mistakes\n\n### 1. Too Many console.log()\n\n```javascript\n// ❌ Bad: Too many logs\nconsole.log(''Step 1'');\nconsole.log(''Step 2'');\nconsole.log(''Step 3'');\n// ... many more\n\n// ✅ Good: Strategic logging\nconsole.log(''Processing started'');\n// Use breakpoints instead\nconsole.log(''Processing completed'');\n```\n\n### 2. Not Using Breakpoints\n\n```javascript\n// ❌ Bad: Only console.log\nconsole.log(''Value:'', value);\n\n// ✅ Good: Use breakpoints\n// Set breakpoint and inspect in DevTools\n```\n\n### 3. Ignoring Error Messages\n\n```javascript\n// ❌ Bad: Ignore errors\ntry {\n    riskyOperation();\n} catch (error) {\n    // Silent\n}\n\n// ✅ Good: Read and understand errors\ntry {\n    riskyOperation();\n} catch (error) {\n    console.error(''Error:'', error.message);\n    console.error(''Stack:'', error.stack);\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **DevTools**: Essential debugging tool\n2. **Console Methods**: Use appropriate methods for logging\n3. **Breakpoints**: Set breakpoints to pause execution\n4. **Step Through**: Use step controls to debug\n5. **Inspect Variables**: Use Scope and Watch panels\n6. **Network Panel**: Debug API calls\n7. **Performance Panel**: Find bottlenecks\n8. **Memory Panel**: Find memory leaks\n9. **Source Maps**: Debug original source code\n10. **Best Practice**: Systematic debugging approach\n\n---\n\n## Quiz: Debugging\n\nTest your understanding with these questions:\n\n1. **DevTools opens with:**\n   - A) F12\n   - B) Ctrl+Shift+I\n   - C) Both\n   - D) Neither\n\n2. **console.table() displays:**\n   - A) Text\n   - B) Table\n   - C) Error\n   - D) Nothing\n\n3. **Breakpoint pauses:**\n   - A) Execution\n   - B) Nothing\n   - C) Compilation\n   - D) Loading\n\n4. **F10 key:**\n   - A) Step over\n   - B) Step into\n   - C) Step out\n   - D) Continue\n\n5. **Source maps:**\n   - A) Map to original source\n   - B) Map to minified code\n   - C) Both\n   - D) Neither\n\n6. **Network panel shows:**\n   - A) Requests\n   - B) Responses\n   - C) Both\n   - D) Neither\n\n7. **Memory panel helps find:**\n   - A) Memory leaks\n   - B) Performance issues\n   - C) Network issues\n   - D) Nothing\n\n**Answers**:\n1. C) Both\n2. B) Table\n3. A) Execution\n4. A) Step over\n5. A) Map to original source\n6. C) Both\n7. A) Memory leaks\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 20: Error Handling and Debugging. You now know:\n- Advanced error handling\n- Custom error classes\n- Error handling strategies\n- Global error handling\n- Debugging techniques\n- DevTools usage\n- Breakpoints and console methods\n\n**What''s Next?**\n- Module 21: Performance Optimization\n- Lesson 21.1: Performance Basics\n- Learn performance metrics\n- Understand profiling tools\n\n---\n\n## Additional Resources\n\n- **Chrome DevTools**: [developer.chrome.com/docs/devtools](https://developer.chrome.com/docs/devtools)\n- **Firefox DevTools**: [developer.mozilla.org/en-US/docs/Tools](https://developer.mozilla.org/en-US/docs/Tools)\n- **MDN: Console API**: [developer.mozilla.org/en-US/docs/Web/API/Console](https://developer.mozilla.org/en-US/docs/Web/API/Console)\n\n---\n\n*Lesson completed! You''ve finished Module 20: Error Handling and Debugging. Ready for Module 21: Performance Optimization!*\n\n', NULL, 2, '2026-01-03 10:03:01', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use browser DevTools effectively\n- Set and use breakpoints\n- Use console methods for debugging\n- Understand source maps\n- Debug JavaScript code efficiently\n- Use debugging tools and techniques\n- Find and fix bugs faster');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (164, 61, 14, 'Performance Optimization Basics', 'performance-optimization-basics', '# Lesson 21.1: Performance Basics\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand performance concepts\n- Measure performance metrics\n- Use profiling tools\n- Identify performance bottlenecks\n- Analyze performance data\n- Optimize based on metrics\n- Build faster applications\n\n---\n\n## Introduction to Performance\n\nPerformance optimization is crucial for creating fast, responsive applications that provide a great user experience.\n\n### Why Performance Matters?\n\n- **User Experience**: Faster applications feel better\n- **SEO**: Search engines favor fast sites\n- **Conversion**: Faster sites convert better\n- **Mobile**: Important for mobile users\n- **Competitive**: Better than competitors\n- **Professional**: Shows attention to detail\n\n---\n\n## Understanding Performance\n\n### What is Performance?\n\nPerformance refers to how quickly and efficiently an application runs.\n\n### Key Performance Areas\n\n1. **Load Time**: How fast page loads\n2. **Runtime Performance**: How fast code executes\n3. **Memory Usage**: How much memory is used\n4. **Network**: How fast data transfers\n5. **Rendering**: How fast UI updates\n\n### Performance Goals\n\n```javascript\n// Target metrics:\n// - First Contentful Paint (FCP): < 1.8s\n// - Largest Contentful Paint (LCP): < 2.5s\n// - Time to Interactive (TTI): < 3.8s\n// - Total Blocking Time (TBT): < 200ms\n// - Cumulative Layout Shift (CLS): < 0.1\n```\n\n---\n\n## Performance Metrics\n\n### Web Vitals\n\n```javascript\n// Core Web Vitals\n// 1. Largest Contentful Paint (LCP)\n//    - Measures loading performance\n//    - Target: < 2.5s\n\n// 2. First Input Delay (FID)\n//    - Measures interactivity\n//    - Target: < 100ms\n\n// 3. Cumulative Layout Shift (CLS)\n//    - Measures visual stability\n//    - Target: < 0.1\n```\n\n### Measuring Performance\n\n```javascript\n// Performance API\nlet startTime = performance.now();\n\n// ... code to measure ...\n\nlet endTime = performance.now();\nlet duration = endTime - startTime;\nconsole.log(`Execution took ${duration}ms`);\n\n// Performance marks\nperformance.mark(''start'');\n// ... code ...\nperformance.mark(''end'');\nperformance.measure(''duration'', ''start'', ''end'');\nlet measure = performance.getEntriesByName(''duration'')[0];\nconsole.log(`Duration: ${measure.duration}ms`);\n```\n\n### Navigation Timing\n\n```javascript\n// Navigation timing\nlet timing = performance.timing;\n\nlet metrics = {\n    // DNS lookup\n    dns: timing.domainLookupEnd - timing.domainLookupStart,\n    \n    // Connection\n    connection: timing.connectEnd - timing.connectStart,\n    \n    // Request\n    request: timing.responseStart - timing.requestStart,\n    \n    // Response\n    response: timing.responseEnd - timing.responseStart,\n    \n    // DOM processing\n    domProcessing: timing.domComplete - timing.domLoading,\n    \n    // Page load\n    pageLoad: timing.loadEventEnd - timing.navigationStart\n};\n\nconsole.log(''Performance metrics:'', metrics);\n```\n\n### Resource Timing\n\n```javascript\n// Resource timing\nlet resources = performance.getEntriesByType(''resource'');\n\nresources.forEach(resource => {\n    console.log(`${resource.name}:`);\n    console.log(`  Duration: ${resource.duration}ms`);\n    console.log(`  Size: ${resource.transferSize} bytes`);\n    console.log(`  Type: ${resource.initiatorType}`);\n});\n```\n\n---\n\n## Profiling Tools\n\n### Chrome DevTools Performance Panel\n\n```javascript\n// Using Performance panel:\n// 1. Open DevTools → Performance\n// 2. Click Record\n// 3. Perform actions\n// 4. Stop recording\n// 5. Analyze timeline\n\n// Shows:\n// - FPS (frames per second)\n// - CPU usage\n// - Memory usage\n// - Function call stack\n// - Long tasks\n// - Layout shifts\n```\n\n### Chrome DevTools Memory Panel\n\n```javascript\n// Using Memory panel:\n// 1. Open DevTools → Memory\n// 2. Take heap snapshot\n// 3. Perform actions\n// 4. Take another snapshot\n// 5. Compare snapshots\n\n// Helps find:\n// - Memory leaks\n// - Large objects\n// - Retained objects\n// - Object sizes\n```\n\n### Lighthouse\n\n```javascript\n// Lighthouse (built into Chrome):\n// 1. Open DevTools → Lighthouse\n// 2. Select categories\n// 3. Click Analyze\n// 4. View report\n\n// Measures:\n// - Performance score\n// - Accessibility\n// - Best practices\n// - SEO\n// - PWA\n\n// Provides:\n// - Metrics\n// - Opportunities\n// - Diagnostics\n// - Recommendations\n```\n\n### Performance Observer API\n\n```javascript\n// Performance Observer\nlet observer = new PerformanceObserver((list) => {\n    for (let entry of list.getEntries()) {\n        console.log(''Performance entry:'', entry);\n    }\n});\n\n// Observe different types\nobserver.observe({ entryTypes: [''measure'', ''navigation'', ''resource''] });\n\n// Measure custom performance\nperformance.mark(''custom-start'');\n// ... code ...\nperformance.mark(''custom-end'');\nperformance.measure(''custom'', ''custom-start'', ''custom-end'');\n```\n\n---\n\n## Performance Bottlenecks\n\n### Common Bottlenecks\n\n```javascript\n// 1. Inefficient loops\n// ❌ Bad: O(n²)\nfunction findDuplicates(arr) {\n    let duplicates = [];\n    for (let i = 0; i < arr.length; i++) {\n        for (let j = i + 1; j < arr.length; j++) {\n            if (arr[i] === arr[j]) {\n                duplicates.push(arr[i]);\n            }\n        }\n    }\n    return duplicates;\n}\n\n// ✅ Good: O(n)\nfunction findDuplicates(arr) {\n    let seen = new Set();\n    let duplicates = [];\n    for (let item of arr) {\n        if (seen.has(item)) {\n            duplicates.push(item);\n        } else {\n            seen.add(item);\n        }\n    }\n    return duplicates;\n}\n```\n\n### DOM Manipulation\n\n```javascript\n// ❌ Bad: Multiple DOM updates\nfor (let i = 0; i < 1000; i++) {\n    document.body.appendChild(document.createElement(''div''));\n}\n\n// ✅ Good: Batch DOM updates\nlet fragment = document.createDocumentFragment();\nfor (let i = 0; i < 1000; i++) {\n    fragment.appendChild(document.createElement(''div''));\n}\ndocument.body.appendChild(fragment);\n```\n\n### Memory Leaks\n\n```javascript\n// ❌ Bad: Memory leak\nlet data = [];\nfunction addData() {\n    for (let i = 0; i < 10000; i++) {\n        data.push(new Array(1000).fill(0));\n    }\n}\n// data never cleared\n\n// ✅ Good: Clean up\nlet data = [];\nfunction addData() {\n    for (let i = 0; i < 10000; i++) {\n        data.push(new Array(1000).fill(0));\n    }\n}\nfunction clearData() {\n    data = [];\n}\n```\n\n### Unnecessary Re-renders\n\n```javascript\n// ❌ Bad: Re-render on every change\nfunction updateUI(data) {\n    document.getElementById(''output'').innerHTML = '''';\n    data.forEach(item => {\n        let div = document.createElement(''div'');\n        div.textContent = item;\n        document.getElementById(''output'').appendChild(div);\n    });\n}\n\n// ✅ Good: Update only changed items\nfunction updateUI(data, previousData = []) {\n    let output = document.getElementById(''output'');\n    data.forEach((item, index) => {\n        if (item !== previousData[index]) {\n            if (output.children[index]) {\n                output.children[index].textContent = item;\n            } else {\n                let div = document.createElement(''div'');\n                div.textContent = item;\n                output.appendChild(div);\n            }\n        }\n    });\n}\n```\n\n---\n\n## Analyzing Performance\n\n### Identifying Slow Code\n\n```javascript\n// Use console.time() to measure\nconsole.time(''operation'');\n// ... code ...\nconsole.timeEnd(''operation'');\n\n// Use performance.now()\nlet start = performance.now();\n// ... code ...\nlet end = performance.now();\nconsole.log(`Took ${end - start}ms`);\n\n// Use performance marks\nperformance.mark(''start'');\n// ... code ...\nperformance.mark(''end'');\nperformance.measure(''duration'', ''start'', ''end'');\nlet measure = performance.getEntriesByName(''duration'')[0];\nconsole.log(`Duration: ${measure.duration}ms`);\n```\n\n### Profiling Functions\n\n```javascript\n// Profile function calls\nfunction profileFunction(fn, ...args) {\n    let start = performance.now();\n    let result = fn(...args);\n    let end = performance.now();\n    console.log(`${fn.name} took ${end - start}ms`);\n    return result;\n}\n\nfunction slowFunction(n) {\n    let sum = 0;\n    for (let i = 0; i < n * 1000000; i++) {\n        sum += i;\n    }\n    return sum;\n}\n\nprofileFunction(slowFunction, 10);\n```\n\n### Memory Profiling\n\n```javascript\n// Check memory usage\nfunction getMemoryUsage() {\n    if (performance.memory) {\n        return {\n            used: (performance.memory.usedJSHeapSize / 1048576).toFixed(2) + '' MB'',\n            total: (performance.memory.totalJSHeapSize / 1048576).toFixed(2) + '' MB'',\n            limit: (performance.memory.jsHeapSizeLimit / 1048576).toFixed(2) + '' MB''\n        };\n    }\n    return null;\n}\n\nconsole.log(''Memory usage:'', getMemoryUsage());\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Performance Analysis\n\n**Objective**: Practice measuring performance, using profiling tools, and identifying bottlenecks.\n\n**Instructions**:\n\n1. Create a JavaScript file with various operations\n2. Use performance measurement tools\n3. Practice:\n   - Measuring execution time\n   - Using performance marks\n   - Analyzing bottlenecks\n   - Profiling code\n\n**Example Solution**:\n\n```javascript\n// performance-analysis-practice.js\nconsole.log("=== Performance Analysis Practice ===");\n\nconsole.log("\\n=== Performance Measurement ===");\n\n// Basic timing\nconsole.time(''basic-operation'');\nlet sum = 0;\nfor (let i = 0; i < 1000000; i++) {\n    sum += i;\n}\nconsole.timeEnd(''basic-operation'');\n\n// Performance.now()\nlet start = performance.now();\nlet result = 0;\nfor (let i = 0; i < 1000000; i++) {\n    result += Math.sqrt(i);\n}\nlet end = performance.now();\nconsole.log(`Math.sqrt loop took ${(end - start).toFixed(2)}ms`);\n\n// Performance marks\nperformance.mark(''mark-start'');\nlet data = [];\nfor (let i = 0; i < 10000; i++) {\n    data.push(i * 2);\n}\nperformance.mark(''mark-end'');\nperformance.measure(''data-creation'', ''mark-start'', ''mark-end'');\nlet measure = performance.getEntriesByName(''data-creation'')[0];\nconsole.log(`Data creation took ${measure.duration.toFixed(2)}ms`);\nconsole.log();\n\nconsole.log("=== Navigation Timing ===");\n\nfunction getNavigationTiming() {\n    let timing = performance.timing;\n    \n    return {\n        dns: timing.domainLookupEnd - timing.domainLookupStart,\n        connection: timing.connectEnd - timing.connectStart,\n        request: timing.responseStart - timing.requestStart,\n        response: timing.responseEnd - timing.responseStart,\n        domProcessing: timing.domComplete - timing.domLoading,\n        pageLoad: timing.loadEventEnd - timing.navigationStart\n    };\n}\n\nconsole.log(''Navigation timing:'', getNavigationTiming());\nconsole.log();\n\nconsole.log("=== Resource Timing ===");\n\nfunction getResourceTiming() {\n    let resources = performance.getEntriesByType(''resource'');\n    \n    return resources.map(resource => ({\n        name: resource.name,\n        duration: resource.duration.toFixed(2) + ''ms'',\n        size: resource.transferSize + '' bytes'',\n        type: resource.initiatorType\n    }));\n}\n\nconsole.log(''Resource timing:'', getResourceTiming());\nconsole.log();\n\nconsole.log("=== Performance Bottlenecks ===");\n\n// Inefficient loop\nconsole.time(''inefficient-loop'');\nfunction inefficientFind(arr, target) {\n    for (let i = 0; i < arr.length; i++) {\n        for (let j = 0; j < arr.length; j++) {\n            if (arr[i] + arr[j] === target) {\n                return [i, j];\n            }\n        }\n    }\n    return null;\n}\nlet arr1 = Array.from({ length: 100 }, (_, i) => i);\ninefficientFind(arr1, 50);\nconsole.timeEnd(''inefficient-loop'');\n\n// Efficient loop\nconsole.time(''efficient-loop'');\nfunction efficientFind(arr, target) {\n    let map = new Map();\n    for (let i = 0; i < arr.length; i++) {\n        let complement = target - arr[i];\n        if (map.has(complement)) {\n            return [map.get(complement), i];\n        }\n        map.set(arr[i], i);\n    }\n    return null;\n}\nlet arr2 = Array.from({ length: 100 }, (_, i) => i);\nefficientFind(arr2, 50);\nconsole.timeEnd(''efficient-loop'');\nconsole.log();\n\nconsole.log("=== DOM Performance ===");\n\n// Slow DOM manipulation\nconsole.time(''slow-dom'');\nlet container1 = document.createElement(''div'');\nfor (let i = 0; i < 1000; i++) {\n    let div = document.createElement(''div'');\n    div.textContent = `Item ${i}`;\n    container1.appendChild(div);\n}\nconsole.timeEnd(''slow-dom'');\n\n// Fast DOM manipulation\nconsole.time(''fast-dom'');\nlet container2 = document.createElement(''div'');\nlet fragment = document.createDocumentFragment();\nfor (let i = 0; i < 1000; i++) {\n    let div = document.createElement(''div'');\n    div.textContent = `Item ${i}`;\n    fragment.appendChild(div);\n}\ncontainer2.appendChild(fragment);\nconsole.timeEnd(''fast-dom'');\nconsole.log();\n\nconsole.log("=== Memory Usage ===");\n\nfunction getMemoryUsage() {\n    if (performance.memory) {\n        return {\n            used: (performance.memory.usedJSHeapSize / 1048576).toFixed(2) + '' MB'',\n            total: (performance.memory.totalJSHeapSize / 1048576).toFixed(2) + '' MB'',\n            limit: (performance.memory.jsHeapSizeLimit / 1048576).toFixed(2) + '' MB''\n        };\n    }\n    return ''Memory API not available'';\n}\n\nconsole.log(''Memory usage:'', getMemoryUsage());\n\n// Memory leak example\nlet memoryLeak = [];\nfunction addToMemoryLeak() {\n    for (let i = 0; i < 1000; i++) {\n        memoryLeak.push(new Array(1000).fill(0));\n    }\n}\n\nlet memoryBefore = getMemoryUsage();\naddToMemoryLeak();\nlet memoryAfter = getMemoryUsage();\nconsole.log(''Memory before:'', memoryBefore);\nconsole.log(''Memory after:'', memoryAfter);\nconsole.log();\n\nconsole.log("=== Function Profiling ===");\n\nfunction profileFunction(fn, ...args) {\n    let start = performance.now();\n    let result = fn(...args);\n    let end = performance.now();\n    console.log(`${fn.name}(${args.join('', '')}) took ${(end - start).toFixed(2)}ms`);\n    return result;\n}\n\nfunction slowCalculation(n) {\n    let sum = 0;\n    for (let i = 0; i < n * 100000; i++) {\n        sum += Math.sqrt(i);\n    }\n    return sum;\n}\n\nfunction fastCalculation(n) {\n    return n * (n + 1) / 2;\n}\n\nprofileFunction(slowCalculation, 10);\nprofileFunction(fastCalculation, 10);\nconsole.log();\n\nconsole.log("=== Performance Observer ===");\n\nlet observer = new PerformanceObserver((list) => {\n    for (let entry of list.getEntries()) {\n        console.log(''Performance entry:'', {\n            name: entry.name,\n            type: entry.entryType,\n            duration: entry.duration ? entry.duration.toFixed(2) + ''ms'' : ''N/A''\n        });\n    }\n});\n\nobserver.observe({ entryTypes: [''measure'', ''mark''] });\n\n// Create some performance entries\nperformance.mark(''observer-start'');\nlet sum = 0;\nfor (let i = 0; i < 100000; i++) {\n    sum += i;\n}\nperformance.mark(''observer-end'');\nperformance.measure(''observer-duration'', ''observer-start'', ''observer-end'');\nconsole.log();\n\nconsole.log("=== Web Vitals (Conceptual) ===");\nconsole.log(''Core Web Vitals:'');\nconsole.log(''  - LCP (Largest Contentful Paint): < 2.5s'');\nconsole.log(''  - FID (First Input Delay): < 100ms'');\nconsole.log(''  - CLS (Cumulative Layout Shift): < 0.1'');\nconsole.log();\nconsole.log(''Use Lighthouse in Chrome DevTools to measure Web Vitals'');\nconsole.log(''Open DevTools → Lighthouse → Analyze'');\n```\n\n**Expected Output**:\n```\n=== Performance Analysis Practice ===\n\n=== Performance Measurement ===\nbasic-operation: [time]ms\nMath.sqrt loop took [time]ms\nData creation took [time]ms\n\n=== Navigation Timing ===\nNavigation timing: { object }\n\n=== Resource Timing ===\nResource timing: [array]\n\n=== Performance Bottlenecks ===\ninefficient-loop: [time]ms\nefficient-loop: [time]ms\n\n=== DOM Performance ===\nslow-dom: [time]ms\nfast-dom: [time]ms\n\n=== Memory Usage ===\nMemory usage: { object }\nMemory before: { object }\nMemory after: { object }\n\n=== Function Profiling ===\nslowCalculation(10) took [time]ms\nfastCalculation(10) took [time]ms\n\n=== Performance Observer ===\nPerformance entry: { object }\n\n=== Web Vitals (Conceptual) ===\n[Web Vitals info]\n```\n\n**Challenge (Optional)**:\n- Profile a real application\n- Identify and fix bottlenecks\n- Measure before and after optimizations\n- Use Lighthouse to analyze performance\n- Practice all profiling techniques\n\n---\n\n## Common Mistakes\n\n### 1. Not Measuring Before Optimizing\n\n```javascript\n// ❌ Bad: Optimize without measuring\nfunction optimize() {\n    // Optimize blindly\n}\n\n// ✅ Good: Measure first\nlet before = performance.now();\n// ... code ...\nlet after = performance.now();\nconsole.log(`Took ${after - before}ms`);\n// Then optimize based on data\n```\n\n### 2. Premature Optimization\n\n```javascript\n// ❌ Bad: Optimize too early\n// Complex optimization for simple code\n\n// ✅ Good: Optimize when needed\n// Measure first, optimize bottlenecks\n```\n\n### 3. Ignoring Memory\n\n```javascript\n// ❌ Bad: Only measure speed\nconsole.time(''operation'');\n// ... code ...\nconsole.timeEnd(''operation'');\n\n// ✅ Good: Measure speed and memory\nconsole.time(''operation'');\nlet memoryBefore = performance.memory.usedJSHeapSize;\n// ... code ...\nlet memoryAfter = performance.memory.usedJSHeapSize;\nconsole.timeEnd(''operation'');\nconsole.log(`Memory used: ${(memoryAfter - memoryBefore) / 1048576}MB`);\n```\n\n---\n\n## Key Takeaways\n\n1. **Performance Metrics**: Measure load time, runtime, memory\n2. **Web Vitals**: LCP, FID, CLS are key metrics\n3. **Profiling Tools**: DevTools, Lighthouse, Performance API\n4. **Bottlenecks**: Identify slow code, DOM operations, memory leaks\n5. **Measurement**: Always measure before optimizing\n6. **Analysis**: Use profiling data to guide optimization\n7. **Best Practice**: Measure, identify, optimize, measure again\n\n---\n\n## Quiz: Performance Basics\n\nTest your understanding with these questions:\n\n1. **LCP target is:**\n   - A) < 1.8s\n   - B) < 2.5s\n   - C) < 3.8s\n   - D) < 5s\n\n2. **performance.now() returns:**\n   - A) Date\n   - B) High-resolution timestamp\n   - C) String\n   - D) Nothing\n\n3. **Lighthouse measures:**\n   - A) Performance only\n   - B) Multiple categories\n   - C) Memory only\n   - D) Nothing\n\n4. **DocumentFragment helps:**\n   - A) DOM performance\n   - B) Memory\n   - C) Network\n   - D) Nothing\n\n5. **Memory leaks:**\n   - A) Objects not garbage collected\n   - B) Fast code\n   - C) Small objects\n   - D) Nothing\n\n6. **Performance Observer:**\n   - A) Observes performance entries\n   - B) Observes errors\n   - C) Observes network\n   - D) Nothing\n\n7. **Measure before:**\n   - A) Optimizing\n   - B) Coding\n   - C) Testing\n   - D) Nothing\n\n**Answers**:\n1. B) < 2.5s\n2. B) High-resolution timestamp\n3. B) Multiple categories\n4. A) DOM performance\n5. A) Objects not garbage collected\n6. A) Observes performance entries\n7. A) Optimizing\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned performance basics. You now know:\n- How to measure performance\n- Performance metrics and Web Vitals\n- Profiling tools\n- How to identify bottlenecks\n\n**What''s Next?**\n- Lesson 21.2: Optimization Techniques\n- Learn debouncing and throttling\n- Understand lazy loading\n- Work with code splitting\n\n---\n\n## Additional Resources\n\n- **Web Vitals**: [web.dev/vitals](https://web.dev/vitals)\n- **Chrome DevTools Performance**: [developer.chrome.com/docs/devtools/performance](https://developer.chrome.com/docs/devtools/performance)\n- **MDN: Performance API**: [developer.mozilla.org/en-US/docs/Web/API/Performance](https://developer.mozilla.org/en-US/docs/Web/API/Performance)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 10:03:01', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand performance concepts\n- Measure performance metrics\n- Use profiling tools\n- Identify performance bottlenecks\n- Analyze performance data\n- Optimize based on metrics\n- Build faster applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (165, 61, 14, 'Memory Management', 'memory-management', '# Lesson 21.2: Optimization Techniques\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Implement debouncing and throttling\n- Use lazy loading for images and code\n- Implement code splitting\n- Manage memory effectively\n- Optimize code performance\n- Apply optimization techniques\n- Build faster applications\n\n---\n\n## Introduction to Optimization Techniques\n\nOptimization techniques help improve application performance by reducing unnecessary work and improving resource usage.\n\n### Why Optimization?\n\n- **Faster Load Times**: Load only what''s needed\n- **Better Runtime**: Reduce unnecessary operations\n- **Lower Memory**: Efficient memory usage\n- **Better UX**: Smoother interactions\n- **Mobile Friendly**: Important for mobile devices\n- **Cost Effective**: Lower server costs\n\n---\n\n## Debouncing and Throttling\n\n### Debouncing\n\nDebouncing delays function execution until after a pause in calls.\n\n```javascript\n// Basic debounce\nfunction debounce(func, delay) {\n    let timeoutId;\n    return function(...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => {\n            func.apply(this, args);\n        }, delay);\n    };\n}\n\n// Usage: Search input\nlet searchInput = document.getElementById(''search'');\nlet debouncedSearch = debounce(function(query) {\n    console.log(''Searching for:'', query);\n    // Perform search\n}, 300);\n\nsearchInput.addEventListener(''input'', function(e) {\n    debouncedSearch(e.target.value);\n});\n```\n\n### Throttling\n\nThrottling limits function execution to at most once per time period.\n\n```javascript\n// Basic throttle\nfunction throttle(func, limit) {\n    let inThrottle;\n    return function(...args) {\n        if (!inThrottle) {\n            func.apply(this, args);\n            inThrottle = true;\n            setTimeout(() => {\n                inThrottle = false;\n            }, limit);\n        }\n    };\n}\n\n// Usage: Scroll event\nlet throttledScroll = throttle(function() {\n    console.log(''Scrolled'');\n    // Handle scroll\n}, 100);\n\nwindow.addEventListener(''scroll'', throttledScroll);\n```\n\n### Debounce vs Throttle\n\n```javascript\n// Debounce: Wait for pause\n// - Search input\n// - Resize events\n// - Form validation\n\n// Throttle: Limit execution rate\n// - Scroll events\n// - Mouse move\n// - Window resize (sometimes)\n```\n\n---\n\n## Lazy Loading\n\n### Image Lazy Loading\n\n```javascript\n// Native lazy loading\n<img src="image.jpg" loading="lazy" alt="Image">\n\n// JavaScript lazy loading\nfunction lazyLoadImages() {\n    let images = document.querySelectorAll(''img[data-src]'');\n    \n    let imageObserver = new IntersectionObserver((entries, observer) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                let img = entry.target;\n                img.src = img.dataset.src;\n                img.removeAttribute(''data-src'');\n                observer.unobserve(img);\n            }\n        });\n    });\n    \n    images.forEach(img => imageObserver.observe(img));\n}\n\n// Usage\n<img data-src="image.jpg" alt="Image">\nlazyLoadImages();\n```\n\n### Code Lazy Loading\n\n```javascript\n// Dynamic import (lazy load modules)\nasync function loadModule() {\n    let module = await import(''./heavy-module.js'');\n    module.doSomething();\n}\n\n// Lazy load on demand\nbutton.addEventListener(''click'', async () => {\n    let { heavyFunction } = await import(''./heavy-module.js'');\n    heavyFunction();\n});\n\n// React lazy loading\nconst LazyComponent = React.lazy(() => import(''./LazyComponent''));\n```\n\n### Component Lazy Loading\n\n```javascript\n// Lazy load components\nfunction lazyLoadComponent(componentName) {\n    return import(`./components/${componentName}.js`)\n        .then(module => module.default)\n        .catch(error => {\n            console.error(''Failed to load component:'', error);\n        });\n}\n\n// Usage\nbutton.addEventListener(''click'', () => {\n    lazyLoadComponent(''HeavyComponent'').then(Component => {\n        // Render component\n    });\n});\n```\n\n---\n\n## Code Splitting\n\n### Dynamic Imports\n\n```javascript\n// Split code into chunks\n// webpack.config.js\nmodule.exports = {\n    optimization: {\n        splitChunks: {\n            chunks: ''all'',\n            cacheGroups: {\n                vendor: {\n                    test: /[\\\\/]node_modules[\\\\/]/,\n                    name: ''vendors'',\n                    chunks: ''all''\n                }\n            }\n        }\n    }\n};\n\n// Dynamic import\nasync function loadFeature() {\n    let feature = await import(''./feature.js'');\n    feature.init();\n}\n```\n\n### Route-Based Splitting\n\n```javascript\n// Split by routes\nconst routes = {\n    ''/'': () => import(''./pages/Home.js''),\n    ''/about'': () => import(''./pages/About.js''),\n    ''/contact'': () => import(''./pages/Contact.js'')\n};\n\nasync function navigate(path) {\n    let pageLoader = routes[path];\n    if (pageLoader) {\n        let Page = await pageLoader();\n        render(Page);\n    }\n}\n```\n\n### Component-Based Splitting\n\n```javascript\n// Split by components\nasync function loadModal() {\n    let Modal = await import(''./Modal.js'');\n    return Modal.default;\n}\n\n// Load on demand\nbutton.addEventListener(''click'', async () => {\n    let Modal = await loadModal();\n    showModal(Modal);\n});\n```\n\n---\n\n## Memory Management\n\n### Avoiding Memory Leaks\n\n```javascript\n// ❌ Bad: Memory leak\nlet listeners = [];\nfunction addListener() {\n    let listener = () => console.log(''clicked'');\n    document.addEventListener(''click'', listener);\n    listeners.push(listener);\n    // Never removed!\n}\n\n// ✅ Good: Clean up\nlet listeners = [];\nfunction addListener() {\n    let listener = () => console.log(''clicked'');\n    document.addEventListener(''click'', listener);\n    listeners.push(listener);\n}\n\nfunction removeListeners() {\n    listeners.forEach(listener => {\n        document.removeEventListener(''click'', listener);\n    });\n    listeners = [];\n}\n```\n\n### WeakMap and WeakSet\n\n```javascript\n// WeakMap: Doesn''t prevent garbage collection\nlet weakMap = new WeakMap();\nlet obj = { data: ''test'' };\nweakMap.set(obj, ''value'');\n\n// When obj is garbage collected, weakMap entry is removed\nobj = null;\n\n// WeakSet: Similar to WeakMap\nlet weakSet = new WeakSet();\nweakSet.add(obj);\n```\n\n### Clearing References\n\n```javascript\n// Clear large objects\nlet largeData = new Array(1000000).fill(0);\n\n// When done, clear reference\nlargeData = null;\n\n// Clear intervals/timeouts\nlet intervalId = setInterval(() => {\n    // ...\n}, 1000);\n\n// Clear when done\nclearInterval(intervalId);\n```\n\n### Object Pooling\n\n```javascript\n// Reuse objects instead of creating new ones\nclass ObjectPool {\n    constructor(createFn, resetFn) {\n        this.createFn = createFn;\n        this.resetFn = resetFn;\n        this.pool = [];\n    }\n    \n    acquire() {\n        if (this.pool.length > 0) {\n            return this.pool.pop();\n        }\n        return this.createFn();\n    }\n    \n    release(obj) {\n        this.resetFn(obj);\n        this.pool.push(obj);\n    }\n}\n\n// Usage\nlet pool = new ObjectPool(\n    () => ({ x: 0, y: 0 }),\n    obj => { obj.x = 0; obj.y = 0; }\n);\n\nlet obj = pool.acquire();\n// Use obj\npool.release(obj);\n```\n\n---\n\n## Additional Optimization Techniques\n\n### Caching\n\n```javascript\n// Function result caching\nfunction memoize(fn) {\n    let cache = new Map();\n    return function(...args) {\n        let key = JSON.stringify(args);\n        if (cache.has(key)) {\n            return cache.get(key);\n        }\n        let result = fn.apply(this, args);\n        cache.set(key, result);\n        return result;\n    };\n}\n\n// Usage\nlet expensiveFunction = memoize(function(n) {\n    // Expensive calculation\n    let result = 0;\n    for (let i = 0; i < n * 1000000; i++) {\n        result += i;\n    }\n    return result;\n});\n```\n\n### Virtual Scrolling\n\n```javascript\n// Only render visible items\nfunction virtualScroll(items, containerHeight, itemHeight) {\n    let visibleCount = Math.ceil(containerHeight / itemHeight);\n    let scrollTop = container.scrollTop;\n    let startIndex = Math.floor(scrollTop / itemHeight);\n    let endIndex = startIndex + visibleCount;\n    \n    return items.slice(startIndex, endIndex);\n}\n```\n\n### Request Batching\n\n```javascript\n// Batch multiple requests\nclass RequestBatcher {\n    constructor(batchSize, delay) {\n        this.batchSize = batchSize;\n        this.delay = delay;\n        this.queue = [];\n        this.timeoutId = null;\n    }\n    \n    add(request) {\n        this.queue.push(request);\n        \n        if (this.queue.length >= this.batchSize) {\n            this.flush();\n        } else {\n            this.scheduleFlush();\n        }\n    }\n    \n    scheduleFlush() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n        this.timeoutId = setTimeout(() => {\n            this.flush();\n        }, this.delay);\n    }\n    \n    flush() {\n        if (this.queue.length === 0) return;\n        \n        let batch = this.queue.splice(0, this.batchSize);\n        // Send batch request\n        sendBatchRequest(batch);\n        \n        if (this.queue.length > 0) {\n            this.scheduleFlush();\n        }\n    }\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Optimization\n\n**Objective**: Practice implementing debouncing, throttling, lazy loading, and memory management.\n\n**Instructions**:\n\n1. Create a JavaScript file\n2. Practice:\n   - Implementing debounce and throttle\n   - Lazy loading images\n   - Code splitting\n   - Memory management\n   - Other optimization techniques\n\n**Example Solution**:\n\n```javascript\n// optimization-practice.js\nconsole.log("=== Optimization Techniques Practice ===");\n\nconsole.log("\\n=== Debouncing ===");\n\nfunction debounce(func, delay) {\n    let timeoutId;\n    return function(...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => {\n            func.apply(this, args);\n        }, delay);\n    };\n}\n\n// Search example\nlet searchCount = 0;\nfunction performSearch(query) {\n    searchCount++;\n    console.log(`Search ${searchCount} for: "${query}"`);\n}\n\nlet debouncedSearch = debounce(performSearch, 300);\n\n// Simulate typing\ndebouncedSearch(''h'');\ndebouncedSearch(''he'');\ndebouncedSearch(''hel'');\ndebouncedSearch(''hell'');\ndebouncedSearch(''hello'');\n// Only one search executed after 300ms pause\n\n// Resize example\nlet resizeCount = 0;\nfunction handleResize() {\n    resizeCount++;\n    console.log(`Resize ${resizeCount}: ${window.innerWidth}x${window.innerHeight}`);\n}\n\nlet debouncedResize = debounce(handleResize, 250);\n// window.addEventListener(''resize'', debouncedResize);\nconsole.log();\n\nconsole.log("=== Throttling ===");\n\nfunction throttle(func, limit) {\n    let inThrottle;\n    return function(...args) {\n        if (!inThrottle) {\n            func.apply(this, args);\n            inThrottle = true;\n            setTimeout(() => {\n                inThrottle = false;\n            }, limit);\n        }\n    };\n}\n\n// Scroll example\nlet scrollCount = 0;\nfunction handleScroll() {\n    scrollCount++;\n    console.log(`Scroll ${scrollCount}: ${window.scrollY}`);\n}\n\nlet throttledScroll = throttle(handleScroll, 100);\n// window.addEventListener(''scroll'', throttledScroll);\n\n// Mouse move example\nlet moveCount = 0;\nfunction handleMouseMove(event) {\n    moveCount++;\n    console.log(`Mouse move ${moveCount}: (${event.clientX}, ${event.clientY})`);\n}\n\nlet throttledMouseMove = throttle(handleMouseMove, 200);\n// element.addEventListener(''mousemove'', throttledMouseMove);\nconsole.log();\n\nconsole.log("=== Lazy Loading ===");\n\n// Image lazy loading\nfunction lazyLoadImages() {\n    let images = document.querySelectorAll(''img[data-src]'');\n    \n    if (''IntersectionObserver'' in window) {\n        let imageObserver = new IntersectionObserver((entries, observer) => {\n            entries.forEach(entry => {\n                if (entry.isIntersecting) {\n                    let img = entry.target;\n                    img.src = img.dataset.src;\n                    img.removeAttribute(''data-src'');\n                    observer.unobserve(img);\n                    console.log(''Image loaded:'', img.src);\n                }\n            });\n        });\n        \n        images.forEach(img => imageObserver.observe(img));\n    } else {\n        // Fallback for older browsers\n        images.forEach(img => {\n            img.src = img.dataset.src;\n        });\n    }\n}\n\n// Code lazy loading\nasync function lazyLoadModule(modulePath) {\n    try {\n        let module = await import(modulePath);\n        console.log(''Module loaded:'', modulePath);\n        return module;\n    } catch (error) {\n        console.error(''Failed to load module:'', error);\n        return null;\n    }\n}\n\n// Usage example\n// lazyLoadModule(''./heavy-module.js'').then(module => {\n//     if (module) {\n//         module.init();\n//     }\n// });\nconsole.log();\n\nconsole.log("=== Code Splitting ===");\n\n// Dynamic import\nasync function loadFeature(featureName) {\n    try {\n        let feature = await import(`./features/${featureName}.js`);\n        console.log(`Feature ${featureName} loaded`);\n        return feature;\n    } catch (error) {\n        console.error(`Failed to load feature ${featureName}:`, error);\n        return null;\n    }\n}\n\n// Route-based splitting\nconst routes = {\n    ''/'': () => import(''./pages/Home.js''),\n    ''/about'': () => import(''./pages/About.js''),\n    ''/contact'': () => import(''./pages/Contact.js'')\n};\n\nasync function navigate(path) {\n    let pageLoader = routes[path];\n    if (pageLoader) {\n        try {\n            let Page = await pageLoader();\n            console.log(`Page ${path} loaded`);\n            return Page;\n        } catch (error) {\n            console.error(`Failed to load page ${path}:`, error);\n            return null;\n        }\n    }\n    return null;\n}\nconsole.log();\n\nconsole.log("=== Memory Management ===");\n\n// Avoiding memory leaks\nclass EventManager {\n    constructor() {\n        this.listeners = new Map();\n    }\n    \n    add(element, event, handler) {\n        if (!this.listeners.has(element)) {\n            this.listeners.set(element, []);\n        }\n        element.addEventListener(event, handler);\n        this.listeners.get(element).push({ event, handler });\n    }\n    \n    remove(element, event, handler) {\n        if (this.listeners.has(element)) {\n            let handlers = this.listeners.get(element);\n            let index = handlers.findIndex(h => h.event === event && h.handler === handler);\n            if (index !== -1) {\n                element.removeEventListener(event, handler);\n                handlers.splice(index, 1);\n            }\n        }\n    }\n    \n    removeAll(element) {\n        if (this.listeners.has(element)) {\n            let handlers = this.listeners.get(element);\n            handlers.forEach(({ event, handler }) => {\n                element.removeEventListener(event, handler);\n            });\n            this.listeners.delete(element);\n        }\n    }\n}\n\nlet eventManager = new EventManager();\n// Use eventManager to track and clean up listeners\n\n// WeakMap for memory-efficient storage\nlet weakMap = new WeakMap();\nfunction storeData(obj, data) {\n    weakMap.set(obj, data);\n}\n\nlet tempObj = { id: 1 };\nstoreData(tempObj, ''some data'');\ntempObj = null;  // Can be garbage collected\n\n// Clearing large objects\nfunction clearLargeData() {\n    let largeArray = new Array(1000000).fill(0);\n    // Use largeArray\n    largeArray = null;  // Clear reference\n    console.log(''Large data cleared'');\n}\n\nclearLargeData();\nconsole.log();\n\nconsole.log("=== Caching ===");\n\n// Memoization\nfunction memoize(fn) {\n    let cache = new Map();\n    return function(...args) {\n        let key = JSON.stringify(args);\n        if (cache.has(key)) {\n            console.log(''Cache hit'');\n            return cache.get(key);\n        }\n        console.log(''Cache miss, calculating...'');\n        let result = fn.apply(this, args);\n        cache.set(key, result);\n        return result;\n    };\n}\n\nfunction expensiveCalculation(n) {\n    let result = 0;\n    for (let i = 0; i < n * 100000; i++) {\n        result += i;\n    }\n    return result;\n}\n\nlet memoizedCalc = memoize(expensiveCalculation);\nmemoizedCalc(10);  // Calculates\nmemoizedCalc(10);  // Uses cache\nconsole.log();\n\nconsole.log("=== Object Pooling ===");\n\nclass ObjectPool {\n    constructor(createFn, resetFn, maxSize = 10) {\n        this.createFn = createFn;\n        this.resetFn = resetFn;\n        this.maxSize = maxSize;\n        this.pool = [];\n    }\n    \n    acquire() {\n        if (this.pool.length > 0) {\n            return this.pool.pop();\n        }\n        return this.createFn();\n    }\n    \n    release(obj) {\n        if (this.pool.length < this.maxSize) {\n            this.resetFn(obj);\n            this.pool.push(obj);\n        }\n    }\n}\n\nlet pool = new ObjectPool(\n    () => ({ x: 0, y: 0, active: false }),\n    obj => {\n        obj.x = 0;\n        obj.y = 0;\n        obj.active = false;\n    }\n);\n\nlet obj1 = pool.acquire();\nobj1.x = 10;\nobj1.y = 20;\npool.release(obj1);\n\nlet obj2 = pool.acquire();\nconsole.log(''Reused object:'', obj2);  // Same object, reset\nconsole.log();\n\nconsole.log("=== Request Batching ===");\n\nclass RequestBatcher {\n    constructor(batchSize = 5, delay = 100) {\n        this.batchSize = batchSize;\n        this.delay = delay;\n        this.queue = [];\n        this.timeoutId = null;\n    }\n    \n    add(request) {\n        this.queue.push(request);\n        \n        if (this.queue.length >= this.batchSize) {\n            this.flush();\n        } else {\n            this.scheduleFlush();\n        }\n    }\n    \n    scheduleFlush() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n        this.timeoutId = setTimeout(() => {\n            this.flush();\n        }, this.delay);\n    }\n    \n    flush() {\n        if (this.queue.length === 0) return;\n        \n        let batch = this.queue.splice(0, this.batchSize);\n        console.log(`Sending batch of ${batch.length} requests:`, batch);\n        // sendBatchRequest(batch);\n        \n        if (this.queue.length > 0) {\n            this.scheduleFlush();\n        }\n    }\n}\n\nlet batcher = new RequestBatcher(3, 200);\nfor (let i = 0; i < 10; i++) {\n    batcher.add({ id: i, data: `request ${i}` });\n}\nconsole.log();\n\nconsole.log("=== Virtual Scrolling (Concept) ===");\n\nfunction virtualScroll(items, containerHeight, itemHeight, scrollTop) {\n    let visibleCount = Math.ceil(containerHeight / itemHeight);\n    let startIndex = Math.floor(scrollTop / itemHeight);\n    let endIndex = Math.min(startIndex + visibleCount, items.length);\n    \n    return {\n        visibleItems: items.slice(startIndex, endIndex),\n        startIndex: startIndex,\n        endIndex: endIndex,\n        totalHeight: items.length * itemHeight\n    };\n}\n\nlet items = Array.from({ length: 1000 }, (_, i) => `Item ${i}`);\nlet result = virtualScroll(items, 400, 50, 0);\nconsole.log(`Showing items ${result.startIndex}-${result.endIndex} of ${items.length}`);\nconsole.log(`Visible items: ${result.visibleItems.length}`);\n```\n\n**Expected Output**:\n```\n=== Optimization Techniques Practice ===\n\n=== Debouncing ===\n[After 300ms pause]\nSearch 1 for: "hello"\n\n=== Throttling ===\n[Throttled events logged]\n\n=== Lazy Loading ===\n[Lazy loading functions defined]\n\n=== Code Splitting ===\n[Code splitting functions defined]\n\n=== Memory Management ===\nLarge data cleared\n\n=== Caching ===\nCache miss, calculating...\nCache hit\n\n=== Object Pooling ===\nReused object: { x: 0, y: 0, active: false }\n\n=== Request Batching ===\nSending batch of 3 requests: [array]\nSending batch of 3 requests: [array]\n...\n\n=== Virtual Scrolling (Concept) ===\nShowing items 0-8 of 1000\nVisible items: 8\n```\n\n**Challenge (Optional)**:\n- Optimize a real application\n- Implement all optimization techniques\n- Measure performance improvements\n- Build a performance-optimized app\n\n---\n\n## Common Mistakes\n\n### 1. Over-Optimization\n\n```javascript\n// ❌ Bad: Optimize too early\n// Complex optimization for simple code\n\n// ✅ Good: Optimize when needed\n// Measure first, optimize bottlenecks\n```\n\n### 2. Not Cleaning Up\n\n```javascript\n// ❌ Bad: Memory leak\nlet intervalId = setInterval(() => {\n    // ...\n}, 1000);\n// Never cleared\n\n// ✅ Good: Clean up\nlet intervalId = setInterval(() => {\n    // ...\n}, 1000);\n// Later...\nclearInterval(intervalId);\n```\n\n### 3. Wrong Debounce/Throttle\n\n```javascript\n// ❌ Bad: Wrong choice\n// Using throttle for search input\n\n// ✅ Good: Right choice\n// Debounce for search, throttle for scroll\n```\n\n---\n\n## Key Takeaways\n\n1. **Debouncing**: Delay execution until pause\n2. **Throttling**: Limit execution rate\n3. **Lazy Loading**: Load on demand\n4. **Code Splitting**: Split code into chunks\n5. **Memory Management**: Avoid leaks, clean up\n6. **Caching**: Cache expensive operations\n7. **Best Practice**: Measure, optimize, measure again\n\n---\n\n## Quiz: Optimization\n\nTest your understanding with these questions:\n\n1. **Debouncing:**\n   - A) Limits rate\n   - B) Waits for pause\n   - C) Both\n   - D) Neither\n\n2. **Throttling:**\n   - A) Limits rate\n   - B) Waits for pause\n   - C) Both\n   - D) Neither\n\n3. **Lazy loading:**\n   - A) Loads immediately\n   - B) Loads on demand\n   - C) Never loads\n   - D) Random\n\n4. **Code splitting:**\n   - A) Splits into chunks\n   - B) Combines code\n   - C) Deletes code\n   - D) Nothing\n\n5. **WeakMap:**\n   - A) Prevents GC\n   - B) Allows GC\n   - C) Both\n   - D) Neither\n\n6. **Memoization:**\n   - A) Caches results\n   - B) Deletes results\n   - C) Modifies results\n   - D) Nothing\n\n7. **Object pooling:**\n   - A) Reuses objects\n   - B) Creates new objects\n   - C) Deletes objects\n   - D) Nothing\n\n**Answers**:\n1. B) Waits for pause\n2. A) Limits rate\n3. B) Loads on demand\n4. A) Splits into chunks\n5. B) Allows GC\n6. A) Caches results\n7. A) Reuses objects\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 21: Performance Optimization. You now know:\n- Performance basics and metrics\n- Profiling tools\n- Optimization techniques\n- Debouncing and throttling\n- Lazy loading and code splitting\n- Memory management\n\n**What''s Next?**\n- Course 6: Testing and Tools\n- Module 22: Testing\n- Lesson 22.1: Testing Basics\n- Learn why testing matters\n- Understand test types\n\n---\n\n## Additional Resources\n\n- **Web.dev Performance**: [web.dev/performance](https://web.dev/performance)\n- **MDN: Performance**: [developer.mozilla.org/en-US/docs/Web/API/Performance](https://developer.mozilla.org/en-US/docs/Web/API/Performance)\n- **Lazy Loading**: [web.dev/lazy-loading](https://web.dev/lazy-loading)\n\n---\n\n*Lesson completed! You''ve finished Module 21: Performance Optimization. Ready for Course 6: Testing and Tools!*\n\n', NULL, 2, '2026-01-03 10:03:01', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Implement debouncing and throttling\n- Use lazy loading for images and code\n- Implement code splitting\n- Manage memory effectively\n- Optimize code performance\n- Apply optimization techniques\n- Build faster applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (166, 62, 15, 'Testing Basics', 'testing-basics', '# Lesson 22.1: Testing Basics\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand why testing is important\n- Know different types of testing\n- Understand test-driven development (TDD)\n- Write basic tests\n- Structure test files\n- Run tests\n- Build confidence in your code\n\n---\n\n## Introduction to Testing\n\nTesting is the process of verifying that code works as expected. It''s essential for building reliable applications.\n\n### Why Test?\n\n- **Confidence**: Know your code works\n- **Documentation**: Tests document how code should work\n- **Refactoring**: Safe to change code with tests\n- **Bug Prevention**: Catch bugs early\n- **Quality**: Ensures code quality\n- **Professional**: Industry standard practice\n\n### Benefits of Testing\n\n```javascript\n// Without tests: Unsure if code works\nfunction add(a, b) {\n    return a + b;\n}\n// Does it work? Maybe?\n\n// With tests: Confident code works\nfunction add(a, b) {\n    return a + b;\n}\n// Test: add(2, 3) === 5 ✓\n```\n\n---\n\n## Types of Testing\n\n### Unit Testing\n\nTests individual units (functions, classes) in isolation.\n\n```javascript\n// Unit test example\nfunction multiply(a, b) {\n    return a * b;\n}\n\n// Test\ntest(''multiply should return product'', () => {\n    expect(multiply(2, 3)).toBe(6);\n    expect(multiply(0, 5)).toBe(0);\n    expect(multiply(-1, 5)).toBe(-5);\n});\n```\n\n### Integration Testing\n\nTests how multiple units work together.\n\n```javascript\n// Integration test example\nclass UserService {\n    constructor(userRepository) {\n        this.userRepository = userRepository;\n    }\n    \n    async createUser(userData) {\n        // Validate\n        if (!userData.email) {\n            throw new Error(''Email required'');\n        }\n        // Save\n        return await this.userRepository.save(userData);\n    }\n}\n\n// Test: UserService + UserRepository work together\ntest(''createUser should save user'', async () => {\n    let userRepository = new UserRepository();\n    let userService = new UserService(userRepository);\n    \n    let user = await userService.createUser({\n        email: ''test@example.com'',\n        name: ''Test User''\n    });\n    \n    expect(user.email).toBe(''test@example.com'');\n});\n```\n\n### End-to-End (E2E) Testing\n\nTests the entire application from user''s perspective.\n\n```javascript\n// E2E test example (conceptual)\ntest(''user can login and view dashboard'', async () => {\n    // 1. Open browser\n    await page.goto(''http://localhost:3000'');\n    \n    // 2. Login\n    await page.fill(''#email'', ''user@example.com'');\n    await page.fill(''#password'', ''password'');\n    await page.click(''#login-button'');\n    \n    // 3. Verify dashboard\n    await expect(page.locator(''#dashboard'')).toBeVisible();\n});\n```\n\n### Test Pyramid\n\n```\n        /\\\n       /E2E\\        Few, slow, expensive\n      /------\\\n     /Integration\\  Some, medium speed\n    /------------\\\n   /   Unit Tests  \\  Many, fast, cheap\n  /----------------\\\n```\n\n- **Many Unit Tests**: Fast, test individual functions\n- **Some Integration Tests**: Test components together\n- **Few E2E Tests**: Test critical user flows\n\n---\n\n## Test-Driven Development (TDD)\n\n### What is TDD?\n\nTDD is a development approach where you write tests before writing code.\n\n### TDD Cycle\n\n```\n1. Red: Write failing test\n2. Green: Write minimal code to pass\n3. Refactor: Improve code while keeping tests green\n```\n\n### TDD Example\n\n```javascript\n// Step 1: Red - Write failing test\ntest(''calculateTotal should sum prices'', () => {\n    let items = [\n        { price: 10 },\n        { price: 20 },\n        { price: 30 }\n    ];\n    expect(calculateTotal(items)).toBe(60);\n});\n// Test fails: calculateTotal is not defined\n\n// Step 2: Green - Write minimal code\nfunction calculateTotal(items) {\n    return 60;  // Hardcoded to pass test\n}\n// Test passes\n\n// Step 3: Refactor - Write real implementation\nfunction calculateTotal(items) {\n    return items.reduce((sum, item) => sum + item.price, 0);\n}\n// Test still passes, code is correct\n```\n\n### Benefits of TDD\n\n- **Better Design**: Forces you to think about interface first\n- **Confidence**: Know code works from start\n- **Documentation**: Tests document expected behavior\n- **Refactoring**: Safe to refactor with tests\n\n---\n\n## Writing Basic Tests\n\n### Test Structure\n\n```javascript\n// Basic test structure\ntest(''test description'', () => {\n    // Arrange: Set up test data\n    let input = 5;\n    \n    // Act: Execute code being tested\n    let result = double(input);\n    \n    // Assert: Verify result\n    expect(result).toBe(10);\n});\n```\n\n### Arrange-Act-Assert Pattern\n\n```javascript\n// Arrange: Set up\nlet numbers = [1, 2, 3, 4, 5];\n\n// Act: Execute\nlet sum = numbers.reduce((a, b) => a + b, 0);\n\n// Assert: Verify\nexpect(sum).toBe(15);\n```\n\n### Test Cases\n\n```javascript\n// Test different cases\ntest(''add handles positive numbers'', () => {\n    expect(add(2, 3)).toBe(5);\n});\n\ntest(''add handles zero'', () => {\n    expect(add(5, 0)).toBe(5);\n});\n\ntest(''add handles negative numbers'', () => {\n    expect(add(-2, 3)).toBe(1);\n});\n\ntest(''add handles decimals'', () => {\n    expect(add(1.5, 2.5)).toBe(4);\n});\n```\n\n### Edge Cases\n\n```javascript\n// Test edge cases\ntest(''divide handles division by zero'', () => {\n    expect(() => divide(10, 0)).toThrow(''Division by zero'');\n});\n\ntest(''findUser handles empty array'', () => {\n    expect(findUser([], 1)).toBeNull();\n});\n\ntest(''validateEmail handles null'', () => {\n    expect(validateEmail(null)).toBe(false);\n});\n```\n\n---\n\n## Test Organization\n\n### Test Files\n\n```javascript\n// math.test.js\n// Tests for math.js\n\nimport { add, subtract, multiply, divide } from ''./math.js'';\n\ndescribe(''Math functions'', () => {\n    test(''add should sum numbers'', () => {\n        expect(add(2, 3)).toBe(5);\n    });\n    \n    test(''subtract should subtract numbers'', () => {\n        expect(subtract(5, 3)).toBe(2);\n    });\n    \n    test(''multiply should multiply numbers'', () => {\n        expect(multiply(2, 3)).toBe(6);\n    });\n    \n    test(''divide should divide numbers'', () => {\n        expect(divide(10, 2)).toBe(5);\n    });\n});\n```\n\n### Test Suites\n\n```javascript\n// Group related tests\ndescribe(''UserService'', () => {\n    describe(''createUser'', () => {\n        test(''should create user with valid data'', () => {\n            // Test\n        });\n        \n        test(''should throw error with invalid email'', () => {\n            // Test\n        });\n    });\n    \n    describe(''getUser'', () => {\n        test(''should return user by id'', () => {\n            // Test\n        });\n        \n        test(''should return null if not found'', () => {\n            // Test\n        });\n    });\n});\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Writing Basic Tests\n\n**Objective**: Practice writing basic tests, understanding test structure, and TDD.\n\n**Instructions**:\n\n1. Create a JavaScript file with functions to test\n2. Create a test file\n3. Practice:\n   - Writing unit tests\n   - Testing different cases\n   - Testing edge cases\n   - Using TDD approach\n\n**Example Solution**:\n\n```javascript\n// calculator.js\nfunction add(a, b) {\n    return a + b;\n}\n\nfunction subtract(a, b) {\n    return a - b;\n}\n\nfunction multiply(a, b) {\n    return a * b;\n}\n\nfunction divide(a, b) {\n    if (b === 0) {\n        throw new Error(''Division by zero'');\n    }\n    return a / b;\n}\n\nfunction calculateTotal(items) {\n    return items.reduce((sum, item) => sum + item.price, 0);\n}\n\nfunction validateEmail(email) {\n    if (!email) return false;\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n}\n\nfunction findUser(users, id) {\n    return users.find(user => user.id === id) || null;\n}\n\nmodule.exports = {\n    add,\n    subtract,\n    multiply,\n    divide,\n    calculateTotal,\n    validateEmail,\n    findUser\n};\n```\n\n```javascript\n// calculator.test.js\nconst {\n    add,\n    subtract,\n    multiply,\n    divide,\n    calculateTotal,\n    validateEmail,\n    findUser\n} = require(''./calculator'');\n\nconsole.log("=== Testing Basics Practice ===");\n\nconsole.log("\\n=== Basic Tests ===");\n\n// Test add\nfunction testAdd() {\n    console.log(''Testing add...'');\n    \n    // Positive numbers\n    if (add(2, 3) !== 5) {\n        console.error(''FAIL: add(2, 3) should be 5'');\n        return false;\n    }\n    \n    // Zero\n    if (add(5, 0) !== 5) {\n        console.error(''FAIL: add(5, 0) should be 5'');\n        return false;\n    }\n    \n    // Negative numbers\n    if (add(-2, 3) !== 1) {\n        console.error(''FAIL: add(-2, 3) should be 1'');\n        return false;\n    }\n    \n    // Decimals\n    if (add(1.5, 2.5) !== 4) {\n        console.error(''FAIL: add(1.5, 2.5) should be 4'');\n        return false;\n    }\n    \n    console.log(''✓ add tests passed'');\n    return true;\n}\n\n// Test subtract\nfunction testSubtract() {\n    console.log(''Testing subtract...'');\n    \n    if (subtract(5, 3) !== 2) {\n        console.error(''FAIL: subtract(5, 3) should be 2'');\n        return false;\n    }\n    \n    if (subtract(0, 5) !== -5) {\n        console.error(''FAIL: subtract(0, 5) should be -5'');\n        return false;\n    }\n    \n    console.log(''✓ subtract tests passed'');\n    return true;\n}\n\n// Test multiply\nfunction testMultiply() {\n    console.log(''Testing multiply...'');\n    \n    if (multiply(2, 3) !== 6) {\n        console.error(''FAIL: multiply(2, 3) should be 6'');\n        return false;\n    }\n    \n    if (multiply(0, 5) !== 0) {\n        console.error(''FAIL: multiply(0, 5) should be 0'');\n        return false;\n    }\n    \n    if (multiply(-2, 3) !== -6) {\n        console.error(''FAIL: multiply(-2, 3) should be -6'');\n        return false;\n    }\n    \n    console.log(''✓ multiply tests passed'');\n    return true;\n}\n\n// Test divide\nfunction testDivide() {\n    console.log(''Testing divide...'');\n    \n    if (divide(10, 2) !== 5) {\n        console.error(''FAIL: divide(10, 2) should be 5'');\n        return false;\n    }\n    \n    // Test division by zero\n    try {\n        divide(10, 0);\n        console.error(''FAIL: divide(10, 0) should throw error'');\n        return false;\n    } catch (error) {\n        if (error.message !== ''Division by zero'') {\n            console.error(''FAIL: Error message should be "Division by zero"'');\n            return false;\n        }\n    }\n    \n    console.log(''✓ divide tests passed'');\n    return true;\n}\n\nconsole.log();\n\nconsole.log("=== Edge Cases ===");\n\n// Test calculateTotal\nfunction testCalculateTotal() {\n    console.log(''Testing calculateTotal...'');\n    \n    // Normal case\n    let items1 = [\n        { price: 10 },\n        { price: 20 },\n        { price: 30 }\n    ];\n    if (calculateTotal(items1) !== 60) {\n        console.error(''FAIL: calculateTotal should be 60'');\n        return false;\n    }\n    \n    // Empty array\n    if (calculateTotal([]) !== 0) {\n        console.error(''FAIL: calculateTotal([]) should be 0'');\n        return false;\n    }\n    \n    // Single item\n    if (calculateTotal([{ price: 5 }]) !== 5) {\n        console.error(''FAIL: calculateTotal with single item should be 5'');\n        return false;\n    }\n    \n    console.log(''✓ calculateTotal tests passed'');\n    return true;\n}\n\n// Test validateEmail\nfunction testValidateEmail() {\n    console.log(''Testing validateEmail...'');\n    \n    // Valid emails\n    if (!validateEmail(''test@example.com'')) {\n        console.error(''FAIL: "test@example.com" should be valid'');\n        return false;\n    }\n    \n    if (!validateEmail(''user.name@example.co.uk'')) {\n        console.error(''FAIL: "user.name@example.co.uk" should be valid'');\n        return false;\n    }\n    \n    // Invalid emails\n    if (validateEmail(''invalid'')) {\n        console.error(''FAIL: "invalid" should be invalid'');\n        return false;\n    }\n    \n    if (validateEmail(''invalid@'')) {\n        console.error(''FAIL: "invalid@" should be invalid'');\n        return false;\n    }\n    \n    if (validateEmail(''@example.com'')) {\n        console.error(''FAIL: "@example.com" should be invalid'');\n        return false;\n    }\n    \n    // Edge cases\n    if (validateEmail(null)) {\n        console.error(''FAIL: null should be invalid'');\n        return false;\n    }\n    \n    if (validateEmail('''')) {\n        console.error(''FAIL: empty string should be invalid'');\n        return false;\n    }\n    \n    console.log(''✓ validateEmail tests passed'');\n    return true;\n}\n\n// Test findUser\nfunction testFindUser() {\n    console.log(''Testing findUser...'');\n    \n    let users = [\n        { id: 1, name: ''Alice'' },\n        { id: 2, name: ''Bob'' },\n        { id: 3, name: ''Charlie'' }\n    ];\n    \n    // Found\n    let user = findUser(users, 2);\n    if (!user || user.name !== ''Bob'') {\n        console.error(''FAIL: findUser should find user with id 2'');\n        return false;\n    }\n    \n    // Not found\n    if (findUser(users, 99) !== null) {\n        console.error(''FAIL: findUser should return null for non-existent id'');\n        return false;\n    }\n    \n    // Empty array\n    if (findUser([], 1) !== null) {\n        console.error(''FAIL: findUser should return null for empty array'');\n        return false;\n    }\n    \n    console.log(''✓ findUser tests passed'');\n    return true;\n}\n\nconsole.log();\n\nconsole.log("=== TDD Example ===");\n\n// TDD: Test first, then implement\nfunction testReverseString() {\n    console.log(''Testing reverseString (TDD example)...'');\n    \n    // Step 1: Red - Write failing test\n    // We expect reverseString to exist and work\n    try {\n        if (reverseString(''hello'') !== ''olleh'') {\n            console.error(''FAIL: reverseString("hello") should be "olleh"'');\n            return false;\n        }\n    } catch (error) {\n        console.log(''Function not implemented yet (expected in TDD)'');\n        return false;\n    }\n    \n    console.log(''✓ reverseString test passed'');\n    return true;\n}\n\n// Step 2: Green - Implement function\nfunction reverseString(str) {\n    return str.split('''').reverse().join('''');\n}\n\n// Step 3: Refactor - Already good, but could optimize\n// Current implementation is fine\n\nconsole.log();\n\nconsole.log("=== Running All Tests ===");\n\nlet allTestsPassed = true;\n\nallTestsPassed = testAdd() && allTestsPassed;\nallTestsPassed = testSubtract() && allTestsPassed;\nallTestsPassed = testMultiply() && allTestsPassed;\nallTestsPassed = testDivide() && allTestsPassed;\nallTestsPassed = testCalculateTotal() && allTestsPassed;\nallTestsPassed = testValidateEmail() && allTestsPassed;\nallTestsPassed = testFindUser() && allTestsPassed;\nallTestsPassed = testReverseString() && allTestsPassed;\n\nconsole.log();\nif (allTestsPassed) {\n    console.log(''✓ All tests passed!'');\n} else {\n    console.log(''✗ Some tests failed'');\n}\n```\n\n**Expected Output**:\n```\n=== Testing Basics Practice ===\n\n=== Basic Tests ===\nTesting add...\n✓ add tests passed\nTesting subtract...\n✓ subtract tests passed\nTesting multiply...\n✓ multiply tests passed\nTesting divide...\n✓ divide tests passed\n\n=== Edge Cases ===\nTesting calculateTotal...\n✓ calculateTotal tests passed\nTesting validateEmail...\n✓ validateEmail tests passed\nTesting findUser...\n✓ findUser tests passed\n\n=== TDD Example ===\nTesting reverseString (TDD example)...\n✓ reverseString test passed\n\n=== Running All Tests ===\n✓ All tests passed!\n```\n\n**Challenge (Optional)**:\n- Write tests for your own functions\n- Practice TDD on a new feature\n- Write tests for edge cases\n- Build a test suite\n\n---\n\n## Common Mistakes\n\n### 1. Not Testing Edge Cases\n\n```javascript\n// ❌ Bad: Only test happy path\ntest(''add works'', () => {\n    expect(add(2, 3)).toBe(5);\n});\n\n// ✅ Good: Test edge cases\ntest(''add works with positive numbers'', () => {\n    expect(add(2, 3)).toBe(5);\n});\n\ntest(''add works with zero'', () => {\n    expect(add(5, 0)).toBe(5);\n});\n\ntest(''add works with negative numbers'', () => {\n    expect(add(-2, 3)).toBe(1);\n});\n```\n\n### 2. Testing Implementation Details\n\n```javascript\n// ❌ Bad: Test implementation\ntest(''should use reduce'', () => {\n    // Test checks if reduce is used\n});\n\n// ✅ Good: Test behavior\ntest(''should calculate total'', () => {\n    expect(calculateTotal(items)).toBe(60);\n});\n```\n\n### 3. Not Cleaning Up\n\n```javascript\n// ❌ Bad: Tests affect each other\nlet globalData = [];\n\ntest(''test 1'', () => {\n    globalData.push(1);\n});\n\ntest(''test 2'', () => {\n    // globalData might have data from test 1\n});\n\n// ✅ Good: Clean up between tests\nbeforeEach(() => {\n    globalData = [];\n});\n```\n\n---\n\n## Key Takeaways\n\n1. **Why Test**: Confidence, documentation, refactoring safety\n2. **Test Types**: Unit, integration, E2E\n3. **Test Pyramid**: Many unit, some integration, few E2E\n4. **TDD**: Red-Green-Refactor cycle\n5. **Test Structure**: Arrange-Act-Assert\n6. **Edge Cases**: Test boundaries and errors\n7. **Best Practice**: Test behavior, not implementation\n\n---\n\n## Quiz: Testing Basics\n\nTest your understanding with these questions:\n\n1. **Unit testing tests:**\n   - A) Individual functions\n   - B) Entire application\n   - C) Both\n   - D) Neither\n\n2. **Integration testing tests:**\n   - A) Single function\n   - B) Multiple components together\n   - C) Entire app\n   - D) Nothing\n\n3. **E2E testing tests:**\n   - A) Single function\n   - B) Components\n   - C) Entire application\n   - D) Nothing\n\n4. **TDD cycle:**\n   - A) Red-Green-Refactor\n   - B) Green-Red-Refactor\n   - C) Refactor-Red-Green\n   - D) Random\n\n5. **Test pyramid has:**\n   - A) Many unit tests\n   - B) Some integration tests\n   - C) Few E2E tests\n   - D) All of the above\n\n6. **Tests should:**\n   - A) Test behavior\n   - B) Test implementation\n   - C) Both\n   - D) Neither\n\n7. **Edge cases should:**\n   - A) Be tested\n   - B) Be ignored\n   - C) Sometimes tested\n   - D) Never tested\n\n**Answers**:\n1. A) Individual functions\n2. B) Multiple components together\n3. C) Entire application\n4. A) Red-Green-Refactor\n5. D) All of the above\n6. A) Test behavior\n7. A) Be tested\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned testing basics. You now know:\n- Why testing is important\n- Different types of testing\n- Test-driven development\n- How to write basic tests\n\n**What''s Next?**\n- Lesson 22.2: Jest Framework\n- Learn Jest testing framework\n- Write tests with Jest\n- Use matchers and mocking\n\n---\n\n## Additional Resources\n\n- **Jest Documentation**: [jestjs.io](https://jestjs.io)\n- **Testing Best Practices**: [testingjavascript.com](https://testingjavascript.com)\n- **MDN: Testing**: [developer.mozilla.org/en-US/docs/Learn/Tools_and_testing](https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 10:04:29', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand why testing is important\n- Know different types of testing\n- Understand test-driven development (TDD)\n- Write basic tests\n- Structure test files\n- Run tests\n- Build confidence in your code');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (167, 62, 15, 'Jest Framework', 'jest-framework', '# Lesson 22.2: Jest Framework\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Install and set up Jest\n- Write tests with Jest\n- Use Jest matchers\n- Test asynchronous code\n- Mock functions and modules\n- Use Jest features effectively\n- Build comprehensive test suites\n\n---\n\n## Introduction to Jest\n\nJest is a JavaScript testing framework developed by Facebook. It''s popular, easy to use, and has many built-in features.\n\n### Why Jest?\n\n- **Zero Configuration**: Works out of the box\n- **Fast**: Parallel test execution\n- **Built-in Mocking**: Easy to mock functions\n- **Snapshot Testing**: Test UI components\n- **Coverage Reports**: Built-in coverage\n- **Great Documentation**: Excellent docs\n- **Popular**: Widely used in industry\n\n---\n\n## Installing Jest\n\n### npm Installation\n\n```bash\n# Install Jest\nnpm install --save-dev jest\n\n# Or with yarn\nyarn add --dev jest\n```\n\n### package.json Configuration\n\n```json\n{\n  "scripts": {\n    "test": "jest",\n    "test:watch": "jest --watch",\n    "test:coverage": "jest --coverage"\n  },\n  "devDependencies": {\n    "jest": "^29.0.0"\n  }\n}\n```\n\n### Running Tests\n\n```bash\n# Run all tests\nnpm test\n\n# Run in watch mode\nnpm test -- --watch\n\n# Run with coverage\nnpm test -- --coverage\n```\n\n---\n\n## Writing Tests\n\n### Basic Test\n\n```javascript\n// math.js\nfunction add(a, b) {\n    return a + b;\n}\n\nmodule.exports = { add };\n```\n\n```javascript\n// math.test.js\nconst { add } = require(''./math'');\n\ntest(''adds 1 + 2 to equal 3'', () => {\n    expect(add(1, 2)).toBe(3);\n});\n```\n\n### Test Structure\n\n```javascript\n// test(description, testFunction)\ntest(''should do something'', () => {\n    // Test code\n});\n\n// or using describe\ndescribe(''Math functions'', () => {\n    test(''add should sum numbers'', () => {\n        expect(add(2, 3)).toBe(5);\n    });\n});\n```\n\n### describe Blocks\n\n```javascript\ndescribe(''Calculator'', () => {\n    describe(''add'', () => {\n        test(''should add positive numbers'', () => {\n            expect(add(2, 3)).toBe(5);\n        });\n        \n        test(''should add negative numbers'', () => {\n            expect(add(-2, -3)).toBe(-5);\n        });\n    });\n    \n    describe(''subtract'', () => {\n        test(''should subtract numbers'', () => {\n            expect(subtract(5, 3)).toBe(2);\n        });\n    });\n});\n```\n\n---\n\n## Matchers\n\n### Common Matchers\n\n```javascript\n// toBe - Exact equality\nexpect(2 + 2).toBe(4);\n\n// toEqual - Deep equality\nexpect({ a: 1 }).toEqual({ a: 1 });\n\n// not - Negation\nexpect(2 + 2).not.toBe(5);\n\n// toBeTruthy - Truthy value\nexpect(true).toBeTruthy();\nexpect(1).toBeTruthy();\n\n// toBeFalsy - Falsy value\nexpect(false).toBeFalsy();\nexpect(0).toBeFalsy();\nexpect(null).toBeFalsy();\n\n// toBeNull - Null\nexpect(null).toBeNull();\n\n// toBeUndefined - Undefined\nexpect(undefined).toBeUndefined();\n\n// toBeDefined - Not undefined\nexpect(5).toBeDefined();\n```\n\n### Number Matchers\n\n```javascript\n// toBeGreaterThan\nexpect(10).toBeGreaterThan(5);\n\n// toBeGreaterThanOrEqual\nexpect(10).toBeGreaterThanOrEqual(10);\n\n// toBeLessThan\nexpect(5).toBeLessThan(10);\n\n// toBeLessThanOrEqual\nexpect(5).toBeLessThanOrEqual(5);\n\n// toBeCloseTo - For floating point\nexpect(0.1 + 0.2).toBeCloseTo(0.3);\n```\n\n### String Matchers\n\n```javascript\n// toMatch - Regex\nexpect(''Hello World'').toMatch(/World/);\n\n// toContain - Substring\nexpect(''Hello World'').toContain(''World'');\n```\n\n### Array Matchers\n\n```javascript\n// toContain\nexpect([''apple'', ''banana'', ''orange'']).toContain(''banana'');\n\n// toHaveLength\nexpect([1, 2, 3]).toHaveLength(3);\n```\n\n### Object Matchers\n\n```javascript\n// toHaveProperty\nexpect({ name: ''Alice'', age: 30 }).toHaveProperty(''name'');\nexpect({ name: ''Alice'', age: 30 }).toHaveProperty(''age'', 30);\n\n// toMatchObject\nexpect({ name: ''Alice'', age: 30 }).toMatchObject({ name: ''Alice'' });\n```\n\n### Exception Matchers\n\n```javascript\n// toThrow\nexpect(() => {\n    throw new Error(''Error message'');\n}).toThrow();\n\nexpect(() => {\n    throw new Error(''Error message'');\n}).toThrow(''Error message'');\n\nexpect(() => {\n    throw new Error(''Error message'');\n}).toThrow(Error);\n```\n\n---\n\n## Async Testing\n\n### Promises\n\n```javascript\n// Return promise\ntest(''fetches data'', () => {\n    return fetchData().then(data => {\n        expect(data).toBeDefined();\n    });\n});\n\n// Or use async/await\ntest(''fetches data'', async () => {\n    let data = await fetchData();\n    expect(data).toBeDefined();\n});\n```\n\n### Async/Await\n\n```javascript\ntest(''async function works'', async () => {\n    let result = await asyncFunction();\n    expect(result).toBe(''expected value'');\n});\n```\n\n### Resolves/Rejects\n\n```javascript\n// Resolves\ntest(''promise resolves'', async () => {\n    await expect(fetchData()).resolves.toBe(''data'');\n});\n\n// Rejects\ntest(''promise rejects'', async () => {\n    await expect(failingFunction()).rejects.toThrow(''Error'');\n});\n```\n\n### Timeouts\n\n```javascript\n// Set timeout\ntest(''slow operation'', async () => {\n    await slowOperation();\n}, 10000);  // 10 second timeout\n```\n\n---\n\n## Mocking\n\n### Mock Functions\n\n```javascript\n// Create mock function\nlet mockFn = jest.fn();\n\n// Use mock\nmockFn(''arg1'', ''arg2'');\n\n// Check calls\nexpect(mockFn).toHaveBeenCalled();\nexpect(mockFn).toHaveBeenCalledWith(''arg1'', ''arg2'');\nexpect(mockFn).toHaveBeenCalledTimes(1);\n\n// Mock return value\nlet mockFn = jest.fn();\nmockFn.mockReturnValue(42);\nexpect(mockFn()).toBe(42);\n\n// Mock implementation\nlet mockFn = jest.fn((a, b) => a + b);\nexpect(mockFn(2, 3)).toBe(5);\n```\n\n### Mocking Modules\n\n```javascript\n// Mock entire module\njest.mock(''./api'');\n\n// Mock specific function\njest.mock(''./api'', () => ({\n    fetchUser: jest.fn(() => Promise.resolve({ id: 1, name: ''Test'' }))\n}));\n```\n\n### Mock Implementation\n\n```javascript\n// Mock with implementation\nlet mockFn = jest.fn();\nmockFn.mockImplementation((a, b) => a * b);\nexpect(mockFn(2, 3)).toBe(6);\n\n// Different implementations per call\nmockFn\n    .mockImplementationOnce(() => 1)\n    .mockImplementationOnce(() => 2);\nexpect(mockFn()).toBe(1);\nexpect(mockFn()).toBe(2);\n```\n\n### Spying\n\n```javascript\n// Spy on existing function\nlet obj = {\n    method: () => ''original''\n};\n\nlet spy = jest.spyOn(obj, ''method'');\nobj.method();\nexpect(spy).toHaveBeenCalled();\n\n// Restore original\nspy.mockRestore();\n```\n\n---\n\n## Setup and Teardown\n\n### beforeEach and afterEach\n\n```javascript\nlet database;\n\nbeforeEach(() => {\n    database = new Database();\n    database.connect();\n});\n\nafterEach(() => {\n    database.disconnect();\n});\n\ntest(''test 1'', () => {\n    // database is available\n});\n\ntest(''test 2'', () => {\n    // database is fresh for each test\n});\n```\n\n### beforeAll and afterAll\n\n```javascript\nlet sharedResource;\n\nbeforeAll(() => {\n    sharedResource = initializeResource();\n});\n\nafterAll(() => {\n    cleanupResource(sharedResource);\n});\n\ntest(''test 1'', () => {\n    // Uses sharedResource\n});\n\ntest(''test 2'', () => {\n    // Uses same sharedResource\n});\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Jest Practice\n\n**Objective**: Practice writing tests with Jest, using matchers, testing async code, and mocking.\n\n**Instructions**:\n\n1. Install Jest\n2. Create test files\n3. Practice:\n   - Writing tests with Jest\n   - Using matchers\n   - Testing async code\n   - Mocking functions and modules\n\n**Example Solution**:\n\n```javascript\n// utils.js\nfunction add(a, b) {\n    return a + b;\n}\n\nfunction multiply(a, b) {\n    return a * b;\n}\n\nfunction divide(a, b) {\n    if (b === 0) {\n        throw new Error(''Division by zero'');\n    }\n    return a / b;\n}\n\nasync function fetchUser(id) {\n    // Simulate API call\n    return new Promise(resolve => {\n        setTimeout(() => {\n            resolve({ id, name: ''User '' + id });\n        }, 100);\n    });\n}\n\nfunction processItems(items, processor) {\n    return items.map(processor);\n}\n\nmodule.exports = {\n    add,\n    multiply,\n    divide,\n    fetchUser,\n    processItems\n};\n```\n\n```javascript\n// utils.test.js\nconst {\n    add,\n    multiply,\n    divide,\n    fetchUser,\n    processItems\n} = require(''./utils'');\n\ndescribe(''Math functions'', () => {\n    describe(''add'', () => {\n        test(''should add positive numbers'', () => {\n            expect(add(2, 3)).toBe(5);\n        });\n        \n        test(''should add negative numbers'', () => {\n            expect(add(-2, -3)).toBe(-5);\n        });\n        \n        test(''should add zero'', () => {\n            expect(add(5, 0)).toBe(5);\n        });\n        \n        test(''should handle decimals'', () => {\n            expect(add(1.5, 2.5)).toBe(4);\n        });\n    });\n    \n    describe(''multiply'', () => {\n        test(''should multiply numbers'', () => {\n            expect(multiply(2, 3)).toBe(6);\n        });\n        \n        test(''should multiply by zero'', () => {\n            expect(multiply(5, 0)).toBe(0);\n        });\n    });\n    \n    describe(''divide'', () => {\n        test(''should divide numbers'', () => {\n            expect(divide(10, 2)).toBe(5);\n        });\n        \n        test(''should throw error on division by zero'', () => {\n            expect(() => divide(10, 0)).toThrow(''Division by zero'');\n        });\n    });\n});\n\ndescribe(''Async functions'', () => {\n    test(''fetchUser should return user'', async () => {\n        let user = await fetchUser(1);\n        expect(user).toEqual({ id: 1, name: ''User 1'' });\n    });\n    \n    test(''fetchUser should resolve'', async () => {\n        await expect(fetchUser(1)).resolves.toEqual({ id: 1, name: ''User 1'' });\n    });\n});\n\ndescribe(''Mocking'', () => {\n    test(''processItems should use processor function'', () => {\n        let mockProcessor = jest.fn(x => x * 2);\n        let items = [1, 2, 3];\n        \n        let result = processItems(items, mockProcessor);\n        \n        expect(result).toEqual([2, 4, 6]);\n        expect(mockProcessor).toHaveBeenCalledTimes(3);\n        expect(mockProcessor).toHaveBeenCalledWith(1);\n        expect(mockProcessor).toHaveBeenCalledWith(2);\n        expect(mockProcessor).toHaveBeenCalledWith(3);\n    });\n    \n    test(''mock function with return value'', () => {\n        let mockFn = jest.fn();\n        mockFn.mockReturnValue(42);\n        \n        expect(mockFn()).toBe(42);\n        expect(mockFn).toHaveBeenCalled();\n    });\n    \n    test(''mock function with implementation'', () => {\n        let mockFn = jest.fn((a, b) => a + b);\n        \n        expect(mockFn(2, 3)).toBe(5);\n        expect(mockFn).toHaveBeenCalledWith(2, 3);\n    });\n    \n    test(''mock function multiple calls'', () => {\n        let mockFn = jest.fn();\n        mockFn.mockReturnValueOnce(1);\n        mockFn.mockReturnValueOnce(2);\n        mockFn.mockReturnValue(3);\n        \n        expect(mockFn()).toBe(1);\n        expect(mockFn()).toBe(2);\n        expect(mockFn()).toBe(3);\n        expect(mockFn()).toBe(3);\n    });\n});\n\ndescribe(''Matchers'', () => {\n    test(''toBe vs toEqual'', () => {\n        expect(2 + 2).toBe(4);\n        expect({ a: 1 }).toEqual({ a: 1 });\n        expect({ a: 1 }).not.toBe({ a: 1 });  // Different objects\n    });\n    \n    test(''truthiness'', () => {\n        expect(true).toBeTruthy();\n        expect(1).toBeTruthy();\n        expect(false).toBeFalsy();\n        expect(0).toBeFalsy();\n        expect(null).toBeNull();\n        expect(undefined).toBeUndefined();\n    });\n    \n    test(''numbers'', () => {\n        expect(10).toBeGreaterThan(5);\n        expect(5).toBeLessThan(10);\n        expect(0.1 + 0.2).toBeCloseTo(0.3);\n    });\n    \n    test(''strings'', () => {\n        expect(''Hello World'').toMatch(/World/);\n        expect(''Hello World'').toContain(''World'');\n    });\n    \n    test(''arrays'', () => {\n        expect([1, 2, 3]).toContain(2);\n        expect([1, 2, 3]).toHaveLength(3);\n    });\n    \n    test(''objects'', () => {\n        let obj = { name: ''Alice'', age: 30 };\n        expect(obj).toHaveProperty(''name'');\n        expect(obj).toHaveProperty(''age'', 30);\n        expect(obj).toMatchObject({ name: ''Alice'' });\n    });\n});\n\ndescribe(''Setup and Teardown'', () => {\n    let data;\n    \n    beforeEach(() => {\n        data = [];\n    });\n    \n    afterEach(() => {\n        data = null;\n    });\n    \n    test(''test 1'', () => {\n        data.push(1);\n        expect(data).toHaveLength(1);\n    });\n    \n    test(''test 2'', () => {\n        // data is fresh (empty)\n        expect(data).toHaveLength(0);\n    });\n});\n```\n\n**Expected Output** (when running `npm test`):\n```\nPASS  utils.test.js\n  Math functions\n    add\n      ✓ should add positive numbers (2 ms)\n      ✓ should add negative numbers\n      ✓ should add zero\n      ✓ should handle decimals\n    multiply\n      ✓ should multiply numbers\n      ✓ should multiply by zero\n    divide\n      ✓ should divide numbers\n      ✓ should throw error on division by zero\n  Async functions\n    ✓ fetchUser should return user (105 ms)\n    ✓ fetchUser should resolves\n  Mocking\n    ✓ processItems should use processor function\n    ✓ mock function with return value\n    ✓ mock function with implementation\n    ✓ mock function multiple calls\n  Matchers\n    ✓ toBe vs toEqual\n    ✓ truthiness\n    ✓ numbers\n    ✓ strings\n    ✓ arrays\n    ✓ objects\n  Setup and Teardown\n    ✓ test 1\n    ✓ test 2\n\nTest Suites: 1 passed, 1 total\nTests:       20 passed, 20 total\n```\n\n**Challenge (Optional)**:\n- Write tests for your own code\n- Practice mocking complex dependencies\n- Test async operations\n- Build a complete test suite\n\n---\n\n## Common Mistakes\n\n### 1. Not Awaiting Async\n\n```javascript\n// ❌ Bad: Not awaiting\ntest(''async test'', () => {\n    fetchData().then(data => {\n        expect(data).toBeDefined();\n    });\n    // Test might finish before promise resolves\n});\n\n// ✅ Good: Await\ntest(''async test'', async () => {\n    let data = await fetchData();\n    expect(data).toBeDefined();\n});\n```\n\n### 2. Not Clearing Mocks\n\n```javascript\n// ❌ Bad: Mocks accumulate\ntest(''test 1'', () => {\n    mockFn();\n});\n\ntest(''test 2'', () => {\n    mockFn();\n    // mockFn has been called twice total\n});\n\n// ✅ Good: Clear between tests\nbeforeEach(() => {\n    mockFn.mockClear();\n});\n```\n\n### 3. Testing Implementation\n\n```javascript\n// ❌ Bad: Test implementation\ntest(''should use reduce'', () => {\n    // Check if reduce is used\n});\n\n// ✅ Good: Test behavior\ntest(''should calculate total'', () => {\n    expect(calculateTotal(items)).toBe(60);\n});\n```\n\n---\n\n## Key Takeaways\n\n1. **Jest**: Popular, easy-to-use testing framework\n2. **Matchers**: toBe, toEqual, toContain, etc.\n3. **Async Testing**: Use async/await or promises\n4. **Mocking**: Mock functions and modules\n5. **Setup/Teardown**: beforeEach, afterEach, beforeAll, afterAll\n6. **Best Practice**: Test behavior, clear mocks, await async\n7. **Coverage**: Use --coverage for coverage reports\n\n---\n\n## Quiz: Jest\n\nTest your understanding with these questions:\n\n1. **Jest is:**\n   - A) Testing framework\n   - B) Build tool\n   - C) Both\n   - D) Neither\n\n2. **toBe checks:**\n   - A) Deep equality\n   - B) Exact equality\n   - C) Both\n   - D) Neither\n\n3. **toEqual checks:**\n   - A) Deep equality\n   - B) Exact equality\n   - C) Both\n   - D) Neither\n\n4. **jest.fn() creates:**\n   - A) Mock function\n   - B) Real function\n   - C) Both\n   - D) Neither\n\n5. **beforeEach runs:**\n   - A) Once before all tests\n   - B) Before each test\n   - C) After each test\n   - D) Never\n\n6. **Async tests need:**\n   - A) async/await\n   - B) .then()\n   - C) Both\n   - D) Neither\n\n7. **--coverage flag:**\n   - A) Shows coverage\n   - B) Runs faster\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Testing framework\n2. B) Exact equality\n3. A) Deep equality\n4. A) Mock function\n5. B) Before each test\n6. C) Both\n7. A) Shows coverage\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned Jest framework. You now know:\n- How to install and use Jest\n- How to write tests\n- How to use matchers\n- How to test async code\n- How to mock functions\n\n**What''s Next?**\n- Lesson 22.3: Advanced Testing\n- Learn React component testing\n- Understand integration testing\n- Work with E2E testing tools\n\n---\n\n## Additional Resources\n\n- **Jest Documentation**: [jestjs.io/docs/getting-started](https://jestjs.io/docs/getting-started)\n- **Jest Matchers**: [jestjs.io/docs/expect](https://jestjs.io/docs/expect)\n- **Jest Mocking**: [jestjs.io/docs/mock-functions](https://jestjs.io/docs/mock-functions)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 10:04:29', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Install and set up Jest\n- Write tests with Jest\n- Use Jest matchers\n- Test asynchronous code\n- Mock functions and modules\n- Use Jest features effectively\n- Build comprehensive test suites');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (168, 62, 15, 'Advanced Testing', 'advanced-testing', '# Lesson 22.3: Advanced Testing\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Test React components\n- Write integration tests\n- Use E2E testing tools (Cypress, Playwright)\n- Generate and read coverage reports\n- Test complex scenarios\n- Build comprehensive test suites\n- Ensure application quality\n\n---\n\n## Introduction to Advanced Testing\n\nAdvanced testing covers component testing, integration testing, E2E testing, and coverage analysis.\n\n### Why Advanced Testing?\n\n- **Component Testing**: Test UI components in isolation\n- **Integration Testing**: Test how components work together\n- **E2E Testing**: Test complete user flows\n- **Coverage**: Ensure code is tested\n- **Quality**: Higher confidence in application\n- **Professional**: Industry standard practices\n\n---\n\n## Testing React Components\n\n### Setting Up React Testing\n\n```bash\n# Install React Testing Library\nnpm install --save-dev @testing-library/react @testing-library/jest-dom\n\n# Install React Test Renderer\nnpm install --save-dev react-test-renderer\n```\n\n### Basic Component Test\n\n```javascript\n// Button.jsx\nimport React from ''react'';\n\nfunction Button({ onClick, children }) {\n    return (\n        <button onClick={onClick}>\n            {children}\n        </button>\n    );\n}\n\nexport default Button;\n```\n\n```javascript\n// Button.test.jsx\nimport React from ''react'';\nimport { render, screen, fireEvent } from ''@testing-library/react'';\nimport Button from ''./Button'';\n\ntest(''renders button with text'', () => {\n    render(<Button>Click me</Button>);\n    let button = screen.getByText(''Click me'');\n    expect(button).toBeInTheDocument();\n});\n\ntest(''calls onClick when clicked'', () => {\n    let handleClick = jest.fn();\n    render(<Button onClick={handleClick}>Click me</Button>);\n    \n    let button = screen.getByText(''Click me'');\n    fireEvent.click(button);\n    \n    expect(handleClick).toHaveBeenCalledTimes(1);\n});\n```\n\n### Testing User Interactions\n\n```javascript\n// Form.test.jsx\nimport { render, screen, fireEvent } from ''@testing-library/react'';\nimport Form from ''./Form'';\n\ntest(''submits form with data'', () => {\n    let handleSubmit = jest.fn();\n    render(<Form onSubmit={handleSubmit} />);\n    \n    let nameInput = screen.getByLabelText(''Name'');\n    let emailInput = screen.getByLabelText(''Email'');\n    let submitButton = screen.getByRole(''button'', { name: ''Submit'' });\n    \n    fireEvent.change(nameInput, { target: { value: ''Alice'' } });\n    fireEvent.change(emailInput, { target: { value: ''alice@example.com'' } });\n    fireEvent.click(submitButton);\n    \n    expect(handleSubmit).toHaveBeenCalledWith({\n        name: ''Alice'',\n        email: ''alice@example.com''\n    });\n});\n```\n\n### Testing Async Components\n\n```javascript\n// UserProfile.test.jsx\nimport { render, screen, waitFor } from ''@testing-library/react'';\nimport UserProfile from ''./UserProfile'';\n\ntest(''displays user data after loading'', async () => {\n    render(<UserProfile userId={1} />);\n    \n    // Wait for loading to finish\n    await waitFor(() => {\n        expect(screen.getByText(''Alice'')).toBeInTheDocument();\n    });\n});\n```\n\n---\n\n## Integration Testing\n\n### What is Integration Testing?\n\nIntegration testing verifies that multiple components work together correctly.\n\n### Integration Test Example\n\n```javascript\n// UserList.test.jsx\nimport { render, screen } from ''@testing-library/react'';\nimport UserList from ''./UserList'';\nimport UserService from ''./UserService'';\n\n// Mock service\njest.mock(''./UserService'');\n\ntest(''displays list of users'', async () => {\n    UserService.getUsers.mockResolvedValue([\n        { id: 1, name: ''Alice'' },\n        { id: 2, name: ''Bob'' }\n    ]);\n    \n    render(<UserList />);\n    \n    await waitFor(() => {\n        expect(screen.getByText(''Alice'')).toBeInTheDocument();\n        expect(screen.getByText(''Bob'')).toBeInTheDocument();\n    });\n});\n```\n\n### Testing Component Integration\n\n```javascript\n// App.test.jsx\nimport { render, screen, fireEvent } from ''@testing-library/react'';\nimport App from ''./App'';\n\ntest(''complete user flow'', async () => {\n    render(<App />);\n    \n    // 1. Login\n    let emailInput = screen.getByLabelText(''Email'');\n    let passwordInput = screen.getByLabelText(''Password'');\n    let loginButton = screen.getByRole(''button'', { name: ''Login'' });\n    \n    fireEvent.change(emailInput, { target: { value: ''user@example.com'' } });\n    fireEvent.change(passwordInput, { target: { value: ''password'' } });\n    fireEvent.click(loginButton);\n    \n    // 2. Verify dashboard\n    await waitFor(() => {\n        expect(screen.getByText(''Dashboard'')).toBeInTheDocument();\n    });\n    \n    // 3. Navigate to profile\n    let profileLink = screen.getByText(''Profile'');\n    fireEvent.click(profileLink);\n    \n    // 4. Verify profile page\n    expect(screen.getByText(''User Profile'')).toBeInTheDocument();\n});\n```\n\n---\n\n## End-to-End (E2E) Testing\n\n### Cypress\n\n```bash\n# Install Cypress\nnpm install --save-dev cypress\n```\n\n```javascript\n// cypress/e2e/login.cy.js\ndescribe(''Login Flow'', () => {\n    it(''should login successfully'', () => {\n        cy.visit(''http://localhost:3000'');\n        \n        cy.get(''[data-testid="email"]'').type(''user@example.com'');\n        cy.get(''[data-testid="password"]'').type(''password'');\n        cy.get(''[data-testid="login-button"]'').click();\n        \n        cy.url().should(''include'', ''/dashboard'');\n        cy.get(''[data-testid="dashboard"]'').should(''be.visible'');\n    });\n});\n```\n\n### Playwright\n\n```bash\n# Install Playwright\nnpm install --save-dev @playwright/test\n```\n\n```javascript\n// tests/login.spec.js\nconst { test, expect } = require(''@playwright/test'');\n\ntest(''should login successfully'', async ({ page }) => {\n    await page.goto(''http://localhost:3000'');\n    \n    await page.fill(''[data-testid="email"]'', ''user@example.com'');\n    await page.fill(''[data-testid="password"]'', ''password'');\n    await page.click(''[data-testid="login-button"]'');\n    \n    await expect(page).toHaveURL(/.*dashboard/);\n    await expect(page.locator(''[data-testid="dashboard"]'')).toBeVisible();\n});\n```\n\n### E2E Test Best Practices\n\n```javascript\n// Use data-testid for selectors\n<button data-testid="submit-button">Submit</button>\n\n// Wait for elements\nawait page.waitForSelector(''[data-testid="element"]'');\n\n// Use meaningful test descriptions\ntest(''user can add item to cart and checkout'', async () => {\n    // Test steps\n});\n\n// Clean up between tests\nafterEach(async () => {\n    await page.close();\n});\n```\n\n---\n\n## Coverage Reports\n\n### Generating Coverage\n\n```bash\n# Run tests with coverage\nnpm test -- --coverage\n\n# Or in package.json\n{\n  "scripts": {\n    "test:coverage": "jest --coverage"\n  }\n}\n```\n\n### Coverage Metrics\n\n```javascript\n// Coverage shows:\n// - Statements: % of statements executed\n// - Branches: % of branches executed\n// - Functions: % of functions called\n// - Lines: % of lines executed\n\n// Example coverage output:\n// File      | % Stmts | % Branch | % Funcs | % Lines\n// ----------|---------|----------|---------|--------\n// utils.js  |   85.71 |    66.67 |   83.33 |   85.71\n```\n\n### Coverage Configuration\n\n```javascript\n// jest.config.js\nmodule.exports = {\n    collectCoverageFrom: [\n        ''src/**/*.{js,jsx}'',\n        ''!src/**/*.test.{js,jsx}'',\n        ''!src/index.js''\n    ],\n    coverageThresholds: {\n        global: {\n            branches: 80,\n            functions: 80,\n            lines: 80,\n            statements: 80\n        }\n    }\n};\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Advanced Testing\n\n**Objective**: Practice testing React components, integration testing, E2E testing concepts, and coverage.\n\n**Instructions**:\n\n1. Set up testing environment\n2. Create components to test\n3. Practice:\n   - Testing React components\n   - Writing integration tests\n   - Understanding E2E testing\n   - Generating coverage reports\n\n**Example Solution**:\n\n```javascript\n// components/Button.jsx\nimport React from ''react'';\n\nfunction Button({ onClick, children, disabled = false }) {\n    return (\n        <button onClick={onClick} disabled={disabled}>\n            {children}\n        </button>\n    );\n}\n\nexport default Button;\n```\n\n```javascript\n// components/Button.test.jsx\nimport React from ''react'';\nimport { render, screen, fireEvent } from ''@testing-library/react'';\nimport ''@testing-library/jest-dom'';\nimport Button from ''./Button'';\n\ndescribe(''Button Component'', () => {\n    test(''renders button with text'', () => {\n        render(<Button>Click me</Button>);\n        let button = screen.getByRole(''button'', { name: ''Click me'' });\n        expect(button).toBeInTheDocument();\n    });\n    \n    test(''calls onClick when clicked'', () => {\n        let handleClick = jest.fn();\n        render(<Button onClick={handleClick}>Click me</Button>);\n        \n        let button = screen.getByRole(''button'');\n        fireEvent.click(button);\n        \n        expect(handleClick).toHaveBeenCalledTimes(1);\n    });\n    \n    test(''is disabled when disabled prop is true'', () => {\n        render(<Button disabled>Click me</Button>);\n        let button = screen.getByRole(''button'');\n        expect(button).toBeDisabled();\n    });\n    \n    test(''does not call onClick when disabled'', () => {\n        let handleClick = jest.fn();\n        render(<Button onClick={handleClick} disabled>Click me</Button>);\n        \n        let button = screen.getByRole(''button'');\n        fireEvent.click(button);\n        \n        expect(handleClick).not.toHaveBeenCalled();\n    });\n});\n```\n\n```javascript\n// components/Form.jsx\nimport React, { useState } from ''react'';\nimport Button from ''./Button'';\n\nfunction Form({ onSubmit }) {\n    let [name, setName] = useState('''');\n    let [email, setEmail] = useState('''');\n    \n    let handleSubmit = (e) => {\n        e.preventDefault();\n        onSubmit({ name, email });\n    };\n    \n    return (\n        <form onSubmit={handleSubmit}>\n            <label>\n                Name:\n                <input\n                    type="text"\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    data-testid="name-input"\n                />\n            </label>\n            <label>\n                Email:\n                <input\n                    type="email"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    data-testid="email-input"\n                />\n            </label>\n            <Button type="submit">Submit</Button>\n        </form>\n    );\n}\n\nexport default Form;\n```\n\n```javascript\n// components/Form.test.jsx\nimport React from ''react'';\nimport { render, screen, fireEvent } from ''@testing-library/react'';\nimport ''@testing-library/jest-dom'';\nimport Form from ''./Form'';\n\ndescribe(''Form Component'', () => {\n    test(''submits form with data'', () => {\n        let handleSubmit = jest.fn();\n        render(<Form onSubmit={handleSubmit} />);\n        \n        let nameInput = screen.getByTestId(''name-input'');\n        let emailInput = screen.getByTestId(''email-input'');\n        let submitButton = screen.getByRole(''button'', { name: ''Submit'' });\n        \n        fireEvent.change(nameInput, { target: { value: ''Alice'' } });\n        fireEvent.change(emailInput, { target: { value: ''alice@example.com'' } });\n        fireEvent.click(submitButton);\n        \n        expect(handleSubmit).toHaveBeenCalledWith({\n            name: ''Alice'',\n            email: ''alice@example.com''\n        });\n    });\n    \n    test(''updates input values'', () => {\n        render(<Form onSubmit={jest.fn()} />);\n        \n        let nameInput = screen.getByTestId(''name-input'');\n        fireEvent.change(nameInput, { target: { value: ''Bob'' } });\n        \n        expect(nameInput.value).toBe(''Bob'');\n    });\n});\n```\n\n```javascript\n// Integration test example\n// App.test.jsx\nimport React from ''react'';\nimport { render, screen, fireEvent, waitFor } from ''@testing-library/react'';\nimport ''@testing-library/jest-dom'';\nimport App from ''./App'';\n\n// Mock API\njest.mock(''./api'', () => ({\n    login: jest.fn(),\n    getUser: jest.fn()\n}));\n\nimport { login, getUser } from ''./api'';\n\ndescribe(''App Integration'', () => {\n    beforeEach(() => {\n        login.mockClear();\n        getUser.mockClear();\n    });\n    \n    test(''complete login flow'', async () => {\n        login.mockResolvedValue({ token: ''abc123'' });\n        getUser.mockResolvedValue({ id: 1, name: ''Alice'' });\n        \n        render(<App />);\n        \n        // Login\n        let emailInput = screen.getByLabelText(''Email'');\n        let passwordInput = screen.getByLabelText(''Password'');\n        let loginButton = screen.getByRole(''button'', { name: ''Login'' });\n        \n        fireEvent.change(emailInput, { target: { value: ''alice@example.com'' } });\n        fireEvent.change(passwordInput, { target: { value: ''password'' } });\n        fireEvent.click(loginButton);\n        \n        // Wait for dashboard\n        await waitFor(() => {\n            expect(screen.getByText(''Welcome, Alice'')).toBeInTheDocument();\n        });\n        \n        expect(login).toHaveBeenCalledWith({\n            email: ''alice@example.com'',\n            password: ''password''\n        });\n    });\n});\n```\n\n```javascript\n// E2E test concepts (Cypress example)\n// cypress/e2e/user-flow.cy.js\ndescribe(''User Flow'', () => {\n    it(''should complete registration and login'', () => {\n        // 1. Visit registration page\n        cy.visit(''http://localhost:3000/register'');\n        \n        // 2. Fill registration form\n        cy.get(''[data-testid="name"]'').type(''Alice'');\n        cy.get(''[data-testid="email"]'').type(''alice@example.com'');\n        cy.get(''[data-testid="password"]'').type(''password123'');\n        cy.get(''[data-testid="register-button"]'').click();\n        \n        // 3. Verify redirect to login\n        cy.url().should(''include'', ''/login'');\n        \n        // 4. Login\n        cy.get(''[data-testid="email"]'').type(''alice@example.com'');\n        cy.get(''[data-testid="password"]'').type(''password123'');\n        cy.get(''[data-testid="login-button"]'').click();\n        \n        // 5. Verify dashboard\n        cy.url().should(''include'', ''/dashboard'');\n        cy.get(''[data-testid="dashboard"]'').should(''be.visible'');\n    });\n});\n```\n\n```javascript\n// Coverage example\n// Run: npm test -- --coverage\n\n// Coverage output shows:\n// - Which files are tested\n// - Which lines are covered\n// - Which branches are covered\n// - Which functions are called\n\n// Example:\n// File      | % Stmts | % Branch | % Funcs | % Lines\n// ----------|---------|----------|---------|--------\n// Button.js |   100   |   100    |   100   |   100\n// Form.js   |    85   |    75    |    90   |    85\n```\n\n**Expected Output** (when running tests):\n```\nPASS  components/Button.test.jsx\n  Button Component\n    ✓ renders button with text\n    ✓ calls onClick when clicked\n    ✓ is disabled when disabled prop is true\n    ✓ does not call onClick when disabled\n\nPASS  components/Form.test.jsx\n  Form Component\n    ✓ submits form with data\n    ✓ updates input values\n\nPASS  App.test.jsx\n  App Integration\n    ✓ complete login flow\n\nTest Suites: 3 passed, 3 total\nTests:       7 passed, 7 total\n```\n\n**Challenge (Optional)**:\n- Test complex React components\n- Write integration tests for your app\n- Set up E2E testing\n- Achieve high test coverage\n\n---\n\n## Common Mistakes\n\n### 1. Testing Implementation Details\n\n```javascript\n// ❌ Bad: Test implementation\ntest(''should use useState'', () => {\n    // Check if useState is called\n});\n\n// ✅ Good: Test behavior\ntest(''should update input value'', () => {\n    // Test that input value updates\n});\n```\n\n### 2. Not Waiting for Async\n\n```javascript\n// ❌ Bad: Not waiting\ntest(''displays data'', () => {\n    render(<Component />);\n    expect(screen.getByText(''Data'')).toBeInTheDocument();\n    // Might fail if data loads asynchronously\n});\n\n// ✅ Good: Wait for async\ntest(''displays data'', async () => {\n    render(<Component />);\n    await waitFor(() => {\n        expect(screen.getByText(''Data'')).toBeInTheDocument();\n    });\n});\n```\n\n### 3. Over-Mocking\n\n```javascript\n// ❌ Bad: Mock everything\njest.mock(''./api'');\njest.mock(''./utils'');\njest.mock(''./services'');\n\n// ✅ Good: Mock only what''s needed\njest.mock(''./api'');\n// Test real utils and services when possible\n```\n\n---\n\n## Key Takeaways\n\n1. **Component Testing**: Test React components in isolation\n2. **Integration Testing**: Test components working together\n3. **E2E Testing**: Test complete user flows\n4. **Coverage**: Measure how much code is tested\n5. **Tools**: React Testing Library, Cypress, Playwright\n6. **Best Practice**: Test behavior, wait for async, mock wisely\n7. **Quality**: Comprehensive testing ensures quality\n\n---\n\n## Quiz: Advanced Testing\n\nTest your understanding with these questions:\n\n1. **React Testing Library:**\n   - A) Tests implementation\n   - B) Tests behavior\n   - C) Both\n   - D) Neither\n\n2. **Integration testing:**\n   - A) Tests single component\n   - B) Tests multiple components\n   - C) Tests entire app\n   - D) Nothing\n\n3. **E2E testing:**\n   - A) Tests from user perspective\n   - B) Tests single function\n   - C) Both\n   - D) Neither\n\n4. **Cypress is for:**\n   - A) Unit testing\n   - B) E2E testing\n   - C) Both\n   - D) Neither\n\n5. **Coverage shows:**\n   - A) What''s tested\n   - B) What''s not tested\n   - C) Both\n   - D) Neither\n\n6. **waitFor is used for:**\n   - A) Async operations\n   - B) Sync operations\n   - C) Both\n   - D) Neither\n\n7. **data-testid is for:**\n   - A) Styling\n   - B) Testing selectors\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. B) Tests behavior\n2. B) Tests multiple components\n3. A) Tests from user perspective\n4. B) E2E testing\n5. C) Both\n6. A) Async operations\n7. B) Testing selectors\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 22: Testing. You now know:\n- Testing basics and TDD\n- Jest framework\n- React component testing\n- Integration testing\n- E2E testing concepts\n- Coverage reports\n\n**What''s Next?**\n- Module 23: Build Tools and Bundlers\n- Lesson 23.1: npm and Package Management\n- Learn npm basics\n- Work with package management\n\n---\n\n## Additional Resources\n\n- **React Testing Library**: [testing-library.com/react](https://testing-library.com/react)\n- **Cypress**: [cypress.io](https://cypress.io)\n- **Playwright**: [playwright.dev](https://playwright.dev)\n- **Jest Coverage**: [jestjs.io/docs/cli#--coverage](https://jestjs.io/docs/cli#--coverage)\n\n---\n\n*Lesson completed! You''ve finished Module 22: Testing. Ready for Module 23: Build Tools and Bundlers!*\n\n', NULL, 3, '2026-01-03 10:04:29', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Test React components\n- Write integration tests\n- Use E2E testing tools (Cypress, Playwright)\n- Generate and read coverage reports\n- Test complex scenarios\n- Build comprehensive test suites\n- Ensure application quality');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (169, 63, 15, 'Build Tools Overview', 'build-tools-overview', '# Lesson 23.1: npm and Package Management\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand npm basics\n- Work with package.json\n- Install and manage packages\n- Use npm scripts\n- Understand package versions\n- Manage dependencies\n- Build professional projects\n\n---\n\n## Introduction to npm\n\nnpm (Node Package Manager) is the package manager for JavaScript. It''s used to install, share, and manage code packages.\n\n### Why npm?\n\n- **Package Management**: Install and manage dependencies\n- **Code Sharing**: Share your code as packages\n- **Scripts**: Run build and development scripts\n- **Standard**: Industry standard for JavaScript\n- **Ecosystem**: Huge library of packages\n- **Professional**: Essential for modern development\n\n---\n\n## npm Basics\n\n### Installing npm\n\n```bash\n# npm comes with Node.js\n# Download Node.js from nodejs.org\n\n# Check if installed\nnode --version\nnpm --version\n```\n\n### Initializing a Project\n\n```bash\n# Initialize new project\nnpm init\n\n# Or with defaults\nnpm init -y\n```\n\n### package.json\n\n```json\n{\n  "name": "my-project",\n  "version": "1.0.0",\n  "description": "My project description",\n  "main": "index.js",\n  "scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1"\n  },\n  "keywords": [],\n  "author": "",\n  "license": "ISC"\n}\n```\n\n---\n\n## Installing Packages\n\n### Install Commands\n\n```bash\n# Install package (adds to dependencies)\nnpm install package-name\n\n# Short form\nnpm i package-name\n\n# Install specific version\nnpm install package-name@1.2.3\n\n# Install latest version\nnpm install package-name@latest\n\n# Install dev dependency\nnpm install --save-dev package-name\nnpm install -D package-name\n\n# Install globally\nnpm install -g package-name\n```\n\n### Package Types\n\n```json\n{\n  "dependencies": {\n    "lodash": "^4.17.21"\n  },\n  "devDependencies": {\n    "jest": "^29.0.0"\n  },\n  "peerDependencies": {\n    "react": "^18.0.0"\n  },\n  "optionalDependencies": {\n    "optional-package": "^1.0.0"\n  }\n}\n```\n\n### Installing from package.json\n\n```bash\n# Install all dependencies\nnpm install\n\n# Or\nnpm i\n```\n\n---\n\n## package.json\n\n### Basic Structure\n\n```json\n{\n  "name": "my-project",\n  "version": "1.0.0",\n  "description": "Project description",\n  "main": "index.js",\n  "scripts": {\n    "start": "node index.js",\n    "test": "jest",\n    "build": "webpack"\n  },\n  "keywords": ["keyword1", "keyword2"],\n  "author": "Your Name",\n  "license": "MIT",\n  "dependencies": {\n    "express": "^4.18.0"\n  },\n  "devDependencies": {\n    "jest": "^29.0.0"\n  }\n}\n```\n\n### Important Fields\n\n```json\n{\n  "name": "package-name",        // Package name\n  "version": "1.0.0",            // Version (semver)\n  "description": "Description",  // Package description\n  "main": "index.js",            // Entry point\n  "scripts": {},                 // npm scripts\n  "dependencies": {},            // Production dependencies\n  "devDependencies": {},         // Development dependencies\n  "engines": {                   // Node/npm version requirements\n    "node": ">=14.0.0",\n    "npm": ">=6.0.0"\n  }\n}\n```\n\n---\n\n## npm Scripts\n\n### Basic Scripts\n\n```json\n{\n  "scripts": {\n    "start": "node index.js",\n    "test": "jest",\n    "build": "webpack --mode production",\n    "dev": "webpack --mode development"\n  }\n}\n```\n\n### Running Scripts\n\n```bash\n# Run script\nnpm run script-name\n\n# Shortcuts (start, test, stop, restart)\nnpm start\nnpm test\nnpm stop\nnpm restart\n```\n\n### Common Scripts\n\n```json\n{\n  "scripts": {\n    "start": "node server.js",\n    "dev": "nodemon server.js",\n    "build": "webpack",\n    "test": "jest",\n    "test:watch": "jest --watch",\n    "test:coverage": "jest --coverage",\n    "lint": "eslint .",\n    "lint:fix": "eslint . --fix",\n    "format": "prettier --write .",\n    "prebuild": "npm run lint",\n    "postbuild": "echo ''Build complete''"\n  }\n}\n```\n\n### Pre and Post Scripts\n\n```json\n{\n  "scripts": {\n    "prebuild": "npm run lint",      // Runs before build\n    "build": "webpack",\n    "postbuild": "echo ''Done''"       // Runs after build\n  }\n}\n```\n\n---\n\n## Package Versions\n\n### Semantic Versioning (Semver)\n\n```javascript\n// Version format: MAJOR.MINOR.PATCH\n// 1.2.3\n// ^1.2.3 - Compatible with 1.x.x (>=1.2.3 <2.0.0)\n// ~1.2.3 - Compatible with 1.2.x (>=1.2.3 <1.3.0)\n// 1.2.3  - Exact version\n// *      - Any version\n// latest - Latest version\n```\n\n### Version Ranges\n\n```json\n{\n  "dependencies": {\n    "package1": "^1.2.3",    // 1.2.3 to <2.0.0\n    "package2": "~1.2.3",    // 1.2.3 to <1.3.0\n    "package3": "1.2.3",     // Exact version\n    "package4": ">=1.2.3",   // >= 1.2.3\n    "package5": "<2.0.0",     // < 2.0.0\n    "package6": "*"           // Any version\n  }\n}\n```\n\n### Updating Packages\n\n```bash\n# Check outdated packages\nnpm outdated\n\n# Update package\nnpm update package-name\n\n# Update all packages\nnpm update\n\n# Install latest version\nnpm install package-name@latest\n```\n\n---\n\n## Managing Dependencies\n\n### Viewing Dependencies\n\n```bash\n# List installed packages\nnpm list\n\n# List only top-level\nnpm list --depth=0\n\n# Check package info\nnpm info package-name\n\n# View package.json of package\nnpm view package-name\n```\n\n### Removing Packages\n\n```bash\n# Remove package\nnpm uninstall package-name\n\n# Short form\nnpm uninstall package-name\n\n# Remove from devDependencies\nnpm uninstall --save-dev package-name\n```\n\n### package-lock.json\n\n```json\n// package-lock.json locks exact versions\n// Ensures consistent installs across environments\n// Should be committed to version control\n```\n\n---\n\n## npm Registry\n\n### Using npm Registry\n\n```bash\n# Install from npm registry (default)\nnpm install package-name\n\n# Install from specific registry\nnpm install --registry=https://registry.npmjs.org/\n\n# Set registry\nnpm config set registry https://registry.npmjs.org/\n```\n\n### Publishing Packages\n\n```bash\n# Login to npm\nnpm login\n\n# Publish package\nnpm publish\n\n# Publish with specific version\nnpm publish --tag beta\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: npm Practice\n\n**Objective**: Practice using npm, managing packages, and working with package.json.\n\n**Instructions**:\n\n1. Initialize a new npm project\n2. Install packages\n3. Create scripts\n4. Practice:\n   - Installing packages\n   - Managing dependencies\n   - Using scripts\n   - Understanding versions\n\n**Example Solution**:\n\n```bash\n# 1. Initialize project\nnpm init -y\n\n# 2. Install dependencies\nnpm install express\nnpm install --save-dev jest\n\n# 3. Create package.json with scripts\n```\n\n```json\n// package.json\n{\n  "name": "npm-practice",\n  "version": "1.0.0",\n  "description": "npm practice project",\n  "main": "index.js",\n  "scripts": {\n    "start": "node index.js",\n    "dev": "node index.js",\n    "test": "jest",\n    "test:watch": "jest --watch",\n    "lint": "echo ''Linting...''",\n    "build": "echo ''Building...''"\n  },\n  "keywords": ["practice", "npm"],\n  "author": "",\n  "license": "ISC",\n  "dependencies": {\n    "express": "^4.18.0"\n  },\n  "devDependencies": {\n    "jest": "^29.0.0"\n  }\n}\n```\n\n```javascript\n// index.js\nconst express = require(''express'');\nconst app = express();\n\napp.get(''/'', (req, res) => {\n    res.send(''Hello from npm practice!'');\n});\n\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () => {\n    console.log(`Server running on port ${PORT}`);\n});\n```\n\n```javascript\n// test.js\n// Basic test example\nfunction add(a, b) {\n    return a + b;\n}\n\n// Run with: node test.js\nconsole.log(''Testing add function:'');\nconsole.log(''add(2, 3) ='', add(2, 3));\nconsole.log(''add(5, 7) ='', add(5, 7));\n```\n\n```bash\n# Commands to practice:\n\n# Install packages\nnpm install lodash\nnpm install --save-dev nodemon\n\n# View installed packages\nnpm list\nnpm list --depth=0\n\n# Check outdated\nnpm outdated\n\n# Update package\nnpm update lodash\n\n# Remove package\nnpm uninstall lodash\n\n# Run scripts\nnpm start\nnpm test\nnpm run dev\n\n# Check package info\nnpm info express\nnpm view express version\n```\n\n**Expected Output** (when running commands):\n```\n# npm init -y\nWrote to package.json\n\n# npm install express\nadded 1 package\n\n# npm list\nnpm-practice@1.0.0\n└── express@4.18.0\n\n# npm start\nServer running on port 3000\n```\n\n**Challenge (Optional)**:\n- Create a complete project with npm\n- Set up build scripts\n- Manage multiple dependencies\n- Publish your own package\n\n---\n\n## Common Mistakes\n\n### 1. Not Using package-lock.json\n\n```bash\n# ❌ Bad: Delete package-lock.json\nrm package-lock.json\n\n# ✅ Good: Commit package-lock.json\ngit add package-lock.json\n```\n\n### 2. Installing Globally When Not Needed\n\n```bash\n# ❌ Bad: Install dev tools globally\nnpm install -g jest\n\n# ✅ Good: Install as dev dependency\nnpm install --save-dev jest\n```\n\n### 3. Wrong Version Ranges\n\n```json\n// ❌ Bad: Too permissive\n{\n  "dependencies": {\n    "package": "*"\n  }\n}\n\n// ✅ Good: Specific range\n{\n  "dependencies": {\n    "package": "^1.2.3"\n  }\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **npm**: Node Package Manager for JavaScript\n2. **package.json**: Project configuration file\n3. **Dependencies**: Production and development\n4. **Scripts**: Automate tasks with npm scripts\n5. **Versions**: Use semantic versioning\n6. **Best Practice**: Commit package-lock.json, use specific versions\n7. **Ecosystem**: Huge library of packages available\n\n---\n\n## Quiz: npm\n\nTest your understanding with these questions:\n\n1. **npm stands for:**\n   - A) Node Package Manager\n   - B) Node Program Manager\n   - C) New Package Manager\n   - D) Nothing\n\n2. **npm install adds to:**\n   - A) dependencies\n   - B) devDependencies\n   - C) Both (depending on flag)\n   - D) Neither\n\n3. **package-lock.json:**\n   - A) Should be committed\n   - B) Should be ignored\n   - C) Optional\n   - D) Nothing\n\n4. **^1.2.3 means:**\n   - A) Exact version\n   - B) Compatible with 1.x.x\n   - C) Latest version\n   - D) Nothing\n\n5. **npm scripts run with:**\n   - A) npm run script-name\n   - B) npm script-name\n   - C) Both (for some)\n   - D) Neither\n\n6. **devDependencies are:**\n   - A) For production\n   - B) For development\n   - C) Both\n   - D) Neither\n\n7. **npm outdated shows:**\n   - A) Outdated packages\n   - B) All packages\n   - C) Installed packages\n   - D) Nothing\n\n**Answers**:\n1. A) Node Package Manager\n2. C) Both (depending on flag)\n3. A) Should be committed\n4. B) Compatible with 1.x.x\n5. C) Both (for some)\n6. B) For development\n7. A) Outdated packages\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned npm and package management. You now know:\n- How to use npm\n- How to manage packages\n- How to use scripts\n- How to work with versions\n\n**What''s Next?**\n- Lesson 23.2: Webpack\n- Learn webpack basics\n- Configure webpack\n- Use loaders and plugins\n\n---\n\n## Additional Resources\n\n- **npm Documentation**: [docs.npmjs.com](https://docs.npmjs.com)\n- **package.json Guide**: [docs.npmjs.com/cli/v8/configuring-npm/package-json](https://docs.npmjs.com/cli/v8/configuring-npm/package-json)\n- **Semantic Versioning**: [semver.org](https://semver.org)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 10:04:29', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand npm basics\n- Work with package.json\n- Install and manage packages\n- Use npm scripts\n- Understand package versions\n- Manage dependencies\n- Build professional projects');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (170, 63, 15, 'Webpack', 'webpack', '# Lesson 23.2: Webpack\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand webpack basics\n- Configure webpack\n- Use loaders for different file types\n- Use plugins for additional functionality\n- Implement code splitting\n- Optimize builds\n- Bundle JavaScript applications\n\n---\n\n## Introduction to Webpack\n\nWebpack is a module bundler that processes and bundles JavaScript modules and assets.\n\n### Why Webpack?\n\n- **Bundling**: Combines multiple files into bundles\n- **Transformation**: Transpiles and transforms code\n- **Optimization**: Optimizes for production\n- **Code Splitting**: Splits code into chunks\n- **Asset Management**: Handles images, CSS, etc.\n- **Industry Standard**: Widely used in production\n\n---\n\n## Webpack Basics\n\n### Installation\n\n```bash\n# Install webpack\nnpm install --save-dev webpack webpack-cli\n\n# Or with yarn\nyarn add --dev webpack webpack-cli\n```\n\n### Basic Setup\n\n```javascript\n// webpack.config.js\nconst path = require(''path'');\n\nmodule.exports = {\n    entry: ''./src/index.js'',\n    output: {\n        filename: ''bundle.js'',\n        path: path.resolve(__dirname, ''dist'')\n    }\n};\n```\n\n### Entry and Output\n\n```javascript\n// Single entry\nmodule.exports = {\n    entry: ''./src/index.js'',\n    output: {\n        filename: ''bundle.js'',\n        path: path.resolve(__dirname, ''dist'')\n    }\n};\n\n// Multiple entry points\nmodule.exports = {\n    entry: {\n        app: ''./src/app.js'',\n        admin: ''./src/admin.js''\n    },\n    output: {\n        filename: ''[name].bundle.js'',\n        path: path.resolve(__dirname, ''dist'')\n    }\n};\n```\n\n---\n\n## Configuration\n\n### Basic Configuration\n\n```javascript\n// webpack.config.js\nconst path = require(''path'');\n\nmodule.exports = {\n    mode: ''development'',  // or ''production''\n    entry: ''./src/index.js'',\n    output: {\n        filename: ''bundle.js'',\n        path: path.resolve(__dirname, ''dist''),\n        clean: true  // Clean output directory\n    },\n    devtool: ''source-map'',  // Source maps\n    target: ''web''  // or ''node''\n};\n```\n\n### Development vs Production\n\n```javascript\n// Development\nmodule.exports = {\n    mode: ''development'',\n    devtool: ''eval-source-map'',\n    optimization: {\n        minimize: false\n    }\n};\n\n// Production\nmodule.exports = {\n    mode: ''production'',\n    devtool: ''source-map'',\n    optimization: {\n        minimize: true\n    }\n};\n```\n\n---\n\n## Loaders\n\n### What are Loaders?\n\nLoaders transform files before bundling.\n\n### Common Loaders\n\n```javascript\n// babel-loader: Transpile ES6+\nmodule.exports = {\n    module: {\n        rules: [\n            {\n                test: /\\.js$/,\n                exclude: /node_modules/,\n                use: {\n                    loader: ''babel-loader'',\n                    options: {\n                        presets: [''@babel/preset-env'']\n                    }\n                }\n            }\n        ]\n    }\n};\n```\n\n### CSS Loaders\n\n```javascript\n// css-loader and style-loader\nmodule.exports = {\n    module: {\n        rules: [\n            {\n                test: /\\.css$/,\n                use: [''style-loader'', ''css-loader'']\n            }\n        ]\n    }\n};\n```\n\n### File Loaders\n\n```javascript\n// file-loader: Handle images, fonts, etc.\nmodule.exports = {\n    module: {\n        rules: [\n            {\n                test: /\\.(png|svg|jpg|jpeg|gif)$/i,\n                type: ''asset/resource''\n            },\n            {\n                test: /\\.(woff|woff2|eot|ttf|otf)$/i,\n                type: ''asset/resource''\n            }\n        ]\n    }\n};\n```\n\n### Multiple Loaders\n\n```javascript\nmodule.exports = {\n    module: {\n        rules: [\n            {\n                test: /\\.scss$/,\n                use: [\n                    ''style-loader'',    // Injects CSS into DOM\n                    ''css-loader'',      // Resolves CSS imports\n                    ''sass-loader''      // Compiles Sass to CSS\n                ]\n            }\n        ]\n    }\n};\n```\n\n---\n\n## Plugins\n\n### What are Plugins?\n\nPlugins extend webpack functionality.\n\n### Common Plugins\n\n```javascript\nconst HtmlWebpackPlugin = require(''html-webpack-plugin'');\nconst { CleanWebpackPlugin } = require(''clean-webpack-plugin'');\n\nmodule.exports = {\n    plugins: [\n        new CleanWebpackPlugin(),\n        new HtmlWebpackPlugin({\n            template: ''./src/index.html'',\n            filename: ''index.html''\n        })\n    ]\n};\n```\n\n### HTML Webpack Plugin\n\n```javascript\nconst HtmlWebpackPlugin = require(''html-webpack-plugin'');\n\nmodule.exports = {\n    plugins: [\n        new HtmlWebpackPlugin({\n            template: ''./src/index.html'',\n            filename: ''index.html'',\n            inject: ''body'',\n            minify: {\n                removeComments: true,\n                collapseWhitespace: true\n            }\n        })\n    ]\n};\n```\n\n### Mini CSS Extract Plugin\n\n```javascript\nconst MiniCssExtractPlugin = require(''mini-css-extract-plugin'');\n\nmodule.exports = {\n    module: {\n        rules: [\n            {\n                test: /\\.css$/,\n                use: [MiniCssExtractPlugin.loader, ''css-loader'']\n            }\n        ]\n    },\n    plugins: [\n        new MiniCssExtractPlugin({\n            filename: ''styles.css''\n        })\n    ]\n};\n```\n\n---\n\n## Code Splitting\n\n### Entry Points\n\n```javascript\n// Split by entry points\nmodule.exports = {\n    entry: {\n        app: ''./src/app.js'',\n        vendor: ''./src/vendor.js''\n    },\n    output: {\n        filename: ''[name].bundle.js'',\n        path: path.resolve(__dirname, ''dist'')\n    }\n};\n```\n\n### SplitChunks\n\n```javascript\nmodule.exports = {\n    optimization: {\n        splitChunks: {\n            chunks: ''all'',\n            cacheGroups: {\n                vendor: {\n                    test: /[\\\\/]node_modules[\\\\/]/,\n                    name: ''vendors'',\n                    chunks: ''all''\n                }\n            }\n        }\n    }\n};\n```\n\n### Dynamic Imports\n\n```javascript\n// In your code\nasync function loadModule() {\n    let module = await import(''./module.js'');\n    module.doSomething();\n}\n\n// Webpack automatically splits this\n```\n\n---\n\n## Development Server\n\n### Webpack Dev Server\n\n```bash\n# Install\nnpm install --save-dev webpack-dev-server\n```\n\n```javascript\n// webpack.config.js\nmodule.exports = {\n    devServer: {\n        static: ''./dist'',\n        port: 3000,\n        hot: true,\n        open: true\n    }\n};\n```\n\n```json\n// package.json\n{\n  "scripts": {\n    "dev": "webpack serve --mode development",\n    "build": "webpack --mode production"\n  }\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Webpack Setup\n\n**Objective**: Practice setting up webpack, configuring loaders and plugins, and implementing code splitting.\n\n**Instructions**:\n\n1. Install webpack\n2. Create webpack configuration\n3. Set up loaders and plugins\n4. Practice:\n   - Basic webpack setup\n   - Using loaders\n   - Using plugins\n   - Code splitting\n\n**Example Solution**:\n\n```bash\n# 1. Initialize project\nnpm init -y\n\n# 2. Install webpack\nnpm install --save-dev webpack webpack-cli\n\n# 3. Install loaders\nnpm install --save-dev babel-loader @babel/core @babel/preset-env\nnpm install --save-dev css-loader style-loader\nnpm install --save-dev file-loader\n\n# 4. Install plugins\nnpm install --save-dev html-webpack-plugin clean-webpack-plugin\nnpm install --save-dev webpack-dev-server\n```\n\n```javascript\n// webpack.config.js\nconst path = require(''path'');\nconst HtmlWebpackPlugin = require(''html-webpack-plugin'');\nconst { CleanWebpackPlugin } = require(''clean-webpack-plugin'');\n\nmodule.exports = {\n    mode: ''development'',\n    entry: ''./src/index.js'',\n    output: {\n        filename: ''bundle.js'',\n        path: path.resolve(__dirname, ''dist''),\n        clean: true\n    },\n    devtool: ''source-map'',\n    devServer: {\n        static: ''./dist'',\n        port: 3000,\n        hot: true,\n        open: true\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.js$/,\n                exclude: /node_modules/,\n                use: {\n                    loader: ''babel-loader'',\n                    options: {\n                        presets: [''@babel/preset-env'']\n                    }\n                }\n            },\n            {\n                test: /\\.css$/,\n                use: [''style-loader'', ''css-loader'']\n            },\n            {\n                test: /\\.(png|svg|jpg|jpeg|gif)$/i,\n                type: ''asset/resource''\n            }\n        ]\n    },\n    plugins: [\n        new CleanWebpackPlugin(),\n        new HtmlWebpackPlugin({\n            template: ''./src/index.html'',\n            filename: ''index.html''\n        })\n    ],\n    optimization: {\n        splitChunks: {\n            chunks: ''all'',\n            cacheGroups: {\n                vendor: {\n                    test: /[\\\\/]node_modules[\\\\/]/,\n                    name: ''vendors'',\n                    chunks: ''all''\n                }\n            }\n        }\n    }\n};\n```\n\n```javascript\n// src/index.js\nimport ''./styles.css'';\nimport { add, multiply } from ''./math'';\n\nconsole.log(''Webpack is working!'');\nconsole.log(''add(2, 3) ='', add(2, 3));\nconsole.log(''multiply(4, 5) ='', multiply(4, 5));\n\n// Dynamic import example\nasync function loadModule() {\n    let module = await import(''./lazy-module.js'');\n    module.default();\n}\n\n// Load on button click\ndocument.getElementById(''load-btn'').addEventListener(''click'', loadModule);\n```\n\n```javascript\n// src/math.js\nexport function add(a, b) {\n    return a + b;\n}\n\nexport function multiply(a, b) {\n    return a * b;\n}\n```\n\n```javascript\n// src/lazy-module.js\nexport default function() {\n    console.log(''Lazy module loaded!'');\n}\n```\n\n```css\n/* src/styles.css */\nbody {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n}\n\nbutton {\n    padding: 10px 20px;\n    background-color: #007bff;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n}\n\nbutton:hover {\n    background-color: #0056b3;\n}\n```\n\n```html\n<!-- src/index.html -->\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Webpack Practice</title>\n</head>\n<body>\n    <h1>Webpack Practice</h1>\n    <button id="load-btn">Load Lazy Module</button>\n    <div id="output"></div>\n</body>\n</html>\n```\n\n```json\n// package.json\n{\n  "name": "webpack-practice",\n  "version": "1.0.0",\n  "scripts": {\n    "dev": "webpack serve --mode development",\n    "build": "webpack --mode production",\n    "build:dev": "webpack --mode development"\n  },\n  "devDependencies": {\n    "@babel/core": "^7.22.0",\n    "@babel/preset-env": "^7.22.0",\n    "babel-loader": "^9.1.0",\n    "clean-webpack-plugin": "^4.0.0",\n    "css-loader": "^6.8.0",\n    "html-webpack-plugin": "^5.5.0",\n    "style-loader": "^3.3.0",\n    "webpack": "^5.88.0",\n    "webpack-cli": "^5.1.0",\n    "webpack-dev-server": "^4.15.0"\n  }\n}\n```\n\n**Expected Output** (when running `npm run dev`):\n```\nwebpack compiled successfully\nServer running on http://localhost:3000\n```\n\n**Challenge (Optional)**:\n- Set up a complete webpack project\n- Add more loaders (Sass, TypeScript)\n- Optimize for production\n- Implement advanced code splitting\n\n---\n\n## Common Mistakes\n\n### 1. Wrong Loader Order\n\n```javascript\n// ❌ Bad: Wrong order\n{\n    test: /\\.scss$/,\n    use: [''sass-loader'', ''css-loader'', ''style-loader'']\n}\n\n// ✅ Good: Right order (processes right to left)\n{\n    test: /\\.scss$/,\n    use: [''style-loader'', ''css-loader'', ''sass-loader'']\n}\n```\n\n### 2. Not Excluding node_modules\n\n```javascript\n// ❌ Bad: Process node_modules\n{\n    test: /\\.js$/,\n    use: ''babel-loader''\n}\n\n// ✅ Good: Exclude node_modules\n{\n    test: /\\.js$/,\n    exclude: /node_modules/,\n    use: ''babel-loader''\n}\n```\n\n### 3. Missing Output Path\n\n```javascript\n// ❌ Bad: Relative path might not work\noutput: {\n    filename: ''bundle.js'',\n    path: ''dist''\n}\n\n// ✅ Good: Absolute path\noutput: {\n    filename: ''bundle.js'',\n    path: path.resolve(__dirname, ''dist'')\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **Webpack**: Module bundler for JavaScript\n2. **Entry**: Entry point(s) for bundling\n3. **Output**: Where bundles are written\n4. **Loaders**: Transform files before bundling\n5. **Plugins**: Extend webpack functionality\n6. **Code Splitting**: Split code into chunks\n7. **Best Practice**: Use appropriate loaders, optimize for production\n\n---\n\n## Quiz: Webpack\n\nTest your understanding with these questions:\n\n1. **Webpack is:**\n   - A) Module bundler\n   - B) Package manager\n   - C) Both\n   - D) Neither\n\n2. **Loaders:**\n   - A) Transform files\n   - B) Extend functionality\n   - C) Both\n   - D) Neither\n\n3. **Plugins:**\n   - A) Transform files\n   - B) Extend functionality\n   - C) Both\n   - D) Neither\n\n4. **entry specifies:**\n   - A) Output location\n   - B) Entry point\n   - C) Both\n   - D) Neither\n\n5. **Loaders process:**\n   - A) Left to right\n   - B) Right to left\n   - C) Random\n   - D) Never\n\n6. **Code splitting:**\n   - A) Splits code into chunks\n   - B) Combines code\n   - C) Both\n   - D) Neither\n\n7. **webpack-dev-server:**\n   - A) Development server\n   - B) Production server\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Module bundler\n2. A) Transform files\n3. B) Extend functionality\n4. B) Entry point\n5. B) Right to left\n6. A) Splits code into chunks\n7. A) Development server\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned webpack. You now know:\n- How to configure webpack\n- How to use loaders\n- How to use plugins\n- How to implement code splitting\n\n**What''s Next?**\n- Lesson 23.3: Modern Build Tools\n- Learn Vite\n- Understand Parcel\n- Work with esbuild\n\n---\n\n## Additional Resources\n\n- **Webpack Documentation**: [webpack.js.org](https://webpack.js.org)\n- **Webpack Concepts**: [webpack.js.org/concepts](https://webpack.js.org/concepts)\n- **Webpack Loaders**: [webpack.js.org/loaders](https://webpack.js.org/loaders)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 10:04:29', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand webpack basics\n- Configure webpack\n- Use loaders for different file types\n- Use plugins for additional functionality\n- Implement code splitting\n- Optimize builds\n- Bundle JavaScript applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (171, 63, 15, 'Code Quality and Linting', 'code-quality-and-linting', '# Lesson 23.3: Modern Build Tools\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand modern build tools\n- Use Vite for fast development\n- Work with Parcel\n- Understand esbuild\n- Compare build tools\n- Choose appropriate tool\n- Set up modern build pipelines\n\n---\n\n## Introduction to Modern Build Tools\n\nModern build tools offer faster builds, better developer experience, and simpler configuration than traditional tools.\n\n### Why Modern Build Tools?\n\n- **Speed**: Much faster than webpack\n- **Zero Config**: Work out of the box\n- **Better DX**: Great developer experience\n- **Modern**: Built for modern JavaScript\n- **Hot Reload**: Fast hot module replacement\n- **Simple**: Less configuration needed\n\n### Popular Modern Tools\n\n1. **Vite**: Fast, opinionated, great for modern frameworks\n2. **Parcel**: Zero-config, fast, automatic\n3. **esbuild**: Extremely fast, written in Go\n\n---\n\n## Vite\n\n### What is Vite?\n\nVite is a next-generation frontend build tool that provides fast development and optimized production builds.\n\n### Installation\n\n```bash\n# Create Vite project\nnpm create vite@latest my-project\n\n# Or install manually\nnpm install --save-dev vite\n```\n\n### Basic Setup\n\n```javascript\n// vite.config.js\nimport { defineConfig } from ''vite'';\n\nexport default defineConfig({\n    root: ''./src'',\n    build: {\n        outDir: ''../dist''\n    }\n});\n```\n\n### package.json Scripts\n\n```json\n{\n  "scripts": {\n    "dev": "vite",\n    "build": "vite build",\n    "preview": "vite preview"\n  }\n}\n```\n\n### Vite Features\n\n```javascript\n// Automatic code splitting\n// Fast HMR (Hot Module Replacement)\n// Native ES modules in dev\n// Optimized production builds\n// Built-in TypeScript support\n// CSS preprocessing support\n```\n\n### Vite with React\n\n```bash\n# Create React app with Vite\nnpm create vite@latest my-react-app -- --template react\n```\n\n### Vite Configuration\n\n```javascript\n// vite.config.js\nimport { defineConfig } from ''vite'';\nimport react from ''@vitejs/plugin-react'';\n\nexport default defineConfig({\n    plugins: [react()],\n    server: {\n        port: 3000,\n        open: true\n    },\n    build: {\n        outDir: ''dist'',\n        sourcemap: true\n    }\n});\n```\n\n---\n\n## Parcel\n\n### What is Parcel?\n\nParcel is a zero-configuration build tool that works out of the box.\n\n### Installation\n\n```bash\n# Install Parcel\nnpm install --save-dev parcel\n\n# Or globally\nnpm install -g parcel\n```\n\n### Basic Usage\n\n```bash\n# Development server\nparcel index.html\n\n# Production build\nparcel build index.html\n```\n\n### package.json Scripts\n\n```json\n{\n  "scripts": {\n    "dev": "parcel index.html",\n    "build": "parcel build index.html"\n  }\n}\n```\n\n### Parcel Features\n\n```javascript\n// Zero configuration\n// Automatic code splitting\n// Fast builds\n// Built-in hot reload\n// Automatic transforms\n// Asset optimization\n```\n\n### Parcel Configuration\n\n```json\n// .parcelrc (optional)\n{\n  "extends": "@parcel/config-default",\n  "transformers": {\n    "*.js": ["@parcel/transformer-babel"]\n  }\n}\n```\n\n---\n\n## esbuild\n\n### What is esbuild?\n\nesbuild is an extremely fast JavaScript bundler written in Go.\n\n### Installation\n\n```bash\n# Install esbuild\nnpm install --save-dev esbuild\n```\n\n### Basic Usage\n\n```javascript\n// build.js\nrequire(''esbuild'').build({\n    entryPoints: [''src/index.js''],\n    bundle: true,\n    outfile: ''dist/bundle.js'',\n    minify: true,\n    sourcemap: true\n}).catch(() => process.exit(1));\n```\n\n### Command Line\n\n```bash\n# Bundle\nesbuild src/index.js --bundle --outfile=dist/bundle.js\n\n# Watch mode\nesbuild src/index.js --bundle --outfile=dist/bundle.js --watch\n\n# Minify\nesbuild src/index.js --bundle --outfile=dist/bundle.js --minify\n```\n\n### esbuild Features\n\n```javascript\n// Extremely fast (10-100x faster)\n// TypeScript support\n// JSX support\n// Minification\n// Source maps\n// Code splitting\n```\n\n### esbuild Configuration\n\n```javascript\n// build.js\nconst esbuild = require(''esbuild'');\n\nesbuild.build({\n    entryPoints: [''src/index.js''],\n    bundle: true,\n    outdir: ''dist'',\n    format: ''esm'',\n    platform: ''browser'',\n    target: ''es2020'',\n    minify: true,\n    sourcemap: true,\n    splitting: true\n}).then(() => {\n    console.log(''Build complete'');\n}).catch(() => process.exit(1));\n```\n\n---\n\n## Comparison\n\n### Speed Comparison\n\n```\nesbuild:  ⚡⚡⚡⚡⚡ (Fastest)\nVite:     ⚡⚡⚡⚡ (Very Fast)\nParcel:   ⚡⚡⚡ (Fast)\nWebpack:  ⚡⚡ (Slower)\n```\n\n### Configuration\n\n```javascript\n// Vite: Minimal config needed\nexport default defineConfig({\n    // Usually works with defaults\n});\n\n// Parcel: Zero config\n// No config file needed\n\n// esbuild: Simple config\nesbuild.build({\n    entryPoints: [''src/index.js''],\n    bundle: true\n});\n\n// Webpack: More config\nmodule.exports = {\n    entry: ''./src/index.js'',\n    // ... many options\n};\n```\n\n### Use Cases\n\n```javascript\n// Vite: Best for\n// - Modern frameworks (React, Vue, Svelte)\n// - Fast development\n// - Production builds\n\n// Parcel: Best for\n// - Quick setup\n// - Zero config needed\n// - Simple projects\n\n// esbuild: Best for\n// - Maximum speed\n// - Simple bundling\n// - Build scripts\n\n// Webpack: Best for\n// - Complex configurations\n// - Legacy projects\n// - Maximum flexibility\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Build Tool Setup\n\n**Objective**: Practice setting up Vite, Parcel, and esbuild, and comparing their usage.\n\n**Instructions**:\n\n1. Set up projects with each tool\n2. Compare build times\n3. Practice:\n   - Vite setup\n   - Parcel setup\n   - esbuild setup\n   - Comparing tools\n\n**Example Solution**:\n\n```bash\n# Vite Setup\nnpm create vite@latest vite-project -- --template vanilla\ncd vite-project\nnpm install\nnpm run dev\n```\n\n```javascript\n// vite-project/vite.config.js\nimport { defineConfig } from ''vite'';\n\nexport default defineConfig({\n    server: {\n        port: 3000,\n        open: true\n    },\n    build: {\n        outDir: ''dist'',\n        sourcemap: true\n    }\n});\n```\n\n```json\n// vite-project/package.json\n{\n  "name": "vite-project",\n  "version": "1.0.0",\n  "type": "module",\n  "scripts": {\n    "dev": "vite",\n    "build": "vite build",\n    "preview": "vite preview"\n  },\n  "devDependencies": {\n    "vite": "^4.4.0"\n  }\n}\n```\n\n```bash\n# Parcel Setup\nmkdir parcel-project\ncd parcel-project\nnpm init -y\nnpm install --save-dev parcel\n```\n\n```html\n<!-- parcel-project/index.html -->\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Parcel Project</title>\n</head>\n<body>\n    <h1>Parcel Project</h1>\n    <script type="module" src="./src/index.js"></script>\n</body>\n</html>\n```\n\n```javascript\n// parcel-project/src/index.js\nimport ''./styles.css'';\n\nconsole.log(''Parcel is working!'');\n\ndocument.body.innerHTML += ''<p>Hello from Parcel!</p>'';\n```\n\n```css\n/* parcel-project/src/styles.css */\nbody {\n    font-family: Arial, sans-serif;\n    margin: 20px;\n}\n```\n\n```json\n// parcel-project/package.json\n{\n  "name": "parcel-project",\n  "version": "1.0.0",\n  "scripts": {\n    "dev": "parcel index.html",\n    "build": "parcel build index.html"\n  },\n  "devDependencies": {\n    "parcel": "^2.9.0"\n  }\n}\n```\n\n```bash\n# esbuild Setup\nmkdir esbuild-project\ncd esbuild-project\nnpm init -y\nnpm install --save-dev esbuild\n```\n\n```javascript\n// esbuild-project/build.js\nconst esbuild = require(''esbuild'');\n\n// Development\nif (process.argv[2] === ''dev'') {\n    esbuild.build({\n        entryPoints: [''src/index.js''],\n        bundle: true,\n        outfile: ''dist/bundle.js'',\n        sourcemap: true,\n        watch: {\n            onRebuild(error, result) {\n                if (error) console.error(''Build failed:'', error);\n                else console.log(''Build succeeded'');\n            }\n        }\n    }).then(() => {\n        console.log(''Watching...'');\n    });\n}\n\n// Production\nelse {\n    esbuild.build({\n        entryPoints: [''src/index.js''],\n        bundle: true,\n        outfile: ''dist/bundle.js'',\n        minify: true,\n        sourcemap: true\n    }).then(() => {\n        console.log(''Build complete'');\n    }).catch(() => process.exit(1));\n}\n```\n\n```javascript\n// esbuild-project/src/index.js\nconsole.log(''esbuild is working!'');\n\nfunction add(a, b) {\n    return a + b;\n}\n\nconsole.log(''add(2, 3) ='', add(2, 3));\n```\n\n```json\n// esbuild-project/package.json\n{\n  "name": "esbuild-project",\n  "version": "1.0.0",\n  "scripts": {\n    "dev": "node build.js dev",\n    "build": "node build.js"\n  },\n  "devDependencies": {\n    "esbuild": "^0.18.0"\n  }\n}\n```\n\n```javascript\n// Comparison example\nconsole.log("=== Build Tools Comparison ===");\n\nconsole.log("\\n=== Vite ===");\nconsole.log("Pros:");\nconsole.log("- Very fast development");\nconsole.log("- Great for modern frameworks");\nconsole.log("- Optimized production builds");\nconsole.log("- Built-in HMR");\nconsole.log("Cons:");\nconsole.log("- Opinionated");\nconsole.log("- Less flexible than webpack");\n\nconsole.log("\\n=== Parcel ===");\nconsole.log("Pros:");\nconsole.log("- Zero configuration");\nconsole.log("- Fast builds");\nconsole.log("- Automatic transforms");\nconsole.log("Cons:");\nconsole.log("- Less control");\nconsole.log("- Can be slower than Vite/esbuild");\n\nconsole.log("\\n=== esbuild ===");\nconsole.log("Pros:");\nconsole.log("- Extremely fast");\nconsole.log("- Simple API");\nconsole.log("- Good for scripts");\nconsole.log("Cons:");\nconsole.log("- Less features than webpack");\nconsole.log("- Not as mature ecosystem");\n\nconsole.log("\\n=== Webpack ===");\nconsole.log("Pros:");\nconsole.log("- Maximum flexibility");\nconsole.log("- Huge ecosystem");\nconsole.log("- Mature and stable");\nconsole.log("Cons:");\nconsole.log("- Slower than modern tools");\nconsole.log("- More configuration needed");\n```\n\n**Expected Output** (when running each tool):\n```\n# Vite\nVITE v4.4.0  ready in 500 ms\n➜  Local:   http://localhost:5173/\n\n# Parcel\nServer running at http://localhost:1234\n\n# esbuild\nWatching...\nBuild succeeded\n```\n\n**Challenge (Optional)**:\n- Set up projects with all three tools\n- Compare build times\n- Choose best tool for your use case\n- Build a complete application\n\n---\n\n## Common Mistakes\n\n### 1. Wrong Tool for Use Case\n\n```javascript\n// ❌ Bad: Using esbuild for complex React app\n// esbuild lacks some React features\n\n// ✅ Good: Use Vite for React\nnpm create vite@latest -- --template react\n```\n\n### 2. Not Using Modern Tools\n\n```javascript\n// ❌ Bad: Always using webpack\n// Slower development experience\n\n// ✅ Good: Consider modern tools\n// Faster, better DX\n```\n\n### 3. Over-Configuring\n\n```javascript\n// ❌ Bad: Too much config for Parcel\n// Parcel works with zero config\n\n// ✅ Good: Start with defaults\n// Add config only when needed\n```\n\n---\n\n## Key Takeaways\n\n1. **Vite**: Fast, great for modern frameworks\n2. **Parcel**: Zero config, automatic\n3. **esbuild**: Extremely fast, simple\n4. **Comparison**: Each has strengths\n5. **Choose**: Based on project needs\n6. **Modern Tools**: Faster than webpack\n7. **Best Practice**: Use right tool for job\n\n---\n\n## Quiz: Build Tools\n\nTest your understanding with these questions:\n\n1. **Vite is best for:**\n   - A) Modern frameworks\n   - B) Legacy projects\n   - C) Both\n   - D) Neither\n\n2. **Parcel requires:**\n   - A) Zero config\n   - B) Lots of config\n   - C) Some config\n   - D) Random\n\n3. **esbuild is:**\n   - A) Fastest\n   - B) Slowest\n   - C) Medium speed\n   - D) Unknown\n\n4. **Vite uses:**\n   - A) Native ES modules in dev\n   - B) CommonJS in dev\n   - C) Both\n   - D) Neither\n\n5. **Parcel:**\n   - A) Zero config\n   - B) Needs config\n   - C) Optional config\n   - D) Random\n\n6. **esbuild is written in:**\n   - A) JavaScript\n   - B) Go\n   - C) Rust\n   - D) Python\n\n7. **Modern tools are:**\n   - A) Faster\n   - B) Slower\n   - C) Same speed\n   - D) Unknown\n\n**Answers**:\n1. A) Modern frameworks\n2. A) Zero config\n3. A) Fastest\n4. A) Native ES modules in dev\n5. A) Zero config\n6. B) Go\n7. A) Faster\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 23: Build Tools and Bundlers. You now know:\n- npm and package management\n- Webpack configuration\n- Modern build tools (Vite, Parcel, esbuild)\n- How to choose the right tool\n\n**What''s Next?**\n- Module 24: Code Quality and Linting\n- Lesson 24.1: ESLint\n- Learn code linting\n- Set up ESLint\n\n---\n\n## Additional Resources\n\n- **Vite**: [vitejs.dev](https://vitejs.dev)\n- **Parcel**: [parceljs.org](https://parceljs.org)\n- **esbuild**: [esbuild.github.io](https://esbuild.github.io)\n\n---\n\n*Lesson completed! You''ve finished Module 23: Build Tools and Bundlers. Ready for Module 24: Code Quality and Linting!*\n\n', NULL, 3, '2026-01-03 10:04:29', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand modern build tools\n- Use Vite for fast development\n- Work with Parcel\n- Understand esbuild\n- Compare build tools\n- Choose appropriate tool\n- Set up modern build pipelines');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (172, 64, 15, 'ESLint', 'eslint', '# Lesson 24.1: ESLint\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Install and configure ESLint\n- Understand ESLint rules\n- Use ESLint plugins\n- Integrate Prettier with ESLint\n- Fix linting errors\n- Set up ESLint in projects\n- Maintain code quality\n\n---\n\n## Introduction to ESLint\n\nESLint is a tool for identifying and reporting on patterns in JavaScript code.\n\n### Why ESLint?\n\n- **Code Quality**: Enforces consistent code style\n- **Bug Prevention**: Catches common errors\n- **Best Practices**: Enforces best practices\n- **Team Consistency**: Same rules for everyone\n- **Automation**: Automatic error detection\n- **Professional**: Industry standard tool\n\n---\n\n## Installing ESLint\n\n### Basic Installation\n\n```bash\n# Install ESLint\nnpm install --save-dev eslint\n\n# Initialize ESLint\nnpx eslint --init\n\n# Or use npm\nnpm init @eslint/config\n```\n\n### Quick Setup\n\n```bash\n# Answer questions:\n# - How would you like to use ESLint?\n# - What type of modules?\n# - Which framework?\n# - Where does your code run?\n# - Use TypeScript?\n# - Format with?\n```\n\n---\n\n## Configuration\n\n### Configuration Files\n\n```javascript\n// .eslintrc.js\nmodule.exports = {\n    env: {\n        browser: true,\n        es2021: true,\n        node: true\n    },\n    extends: [\n        ''eslint:recommended''\n    ],\n    parserOptions: {\n        ecmaVersion: ''latest'',\n        sourceType: ''module''\n    },\n    rules: {\n        // Your rules\n    }\n};\n```\n\n### package.json Configuration\n\n```json\n{\n  "eslintConfig": {\n    "extends": "eslint:recommended",\n    "rules": {\n      "no-console": "warn"\n    }\n  }\n}\n```\n\n### .eslintrc.json\n\n```json\n{\n  "env": {\n    "browser": true,\n    "es2021": true\n  },\n  "extends": "eslint:recommended",\n  "parserOptions": {\n    "ecmaVersion": "latest",\n    "sourceType": "module"\n  },\n  "rules": {\n    "no-console": "warn",\n    "no-unused-vars": "error"\n  }\n}\n```\n\n### Environment Configuration\n\n```javascript\nmodule.exports = {\n    env: {\n        browser: true,   // Browser globals\n        node: true,      // Node.js globals\n        es6: true,      // ES6 features\n        jest: true      // Jest globals\n    }\n};\n```\n\n---\n\n## Rules\n\n### Rule Levels\n\n```javascript\n// Rule levels:\n// "off" or 0 - Turn rule off\n// "warn" or 1 - Warning (doesn''t fail)\n// "error" or 2 - Error (fails linting)\n\nmodule.exports = {\n    rules: {\n        ''no-console'': ''warn'',        // Warning\n        ''no-debugger'': ''error'',      // Error\n        ''no-unused-vars'': ''off''      // Off\n    }\n};\n```\n\n### Common Rules\n\n```javascript\nmodule.exports = {\n    rules: {\n        // Best Practices\n        ''no-console'': ''warn'',\n        ''no-debugger'': ''error'',\n        ''no-alert'': ''warn'',\n        ''no-eval'': ''error'',\n        \n        // Variables\n        ''no-unused-vars'': ''error'',\n        ''no-undef'': ''error'',\n        \n        // Style\n        ''semi'': [''error'', ''always''],\n        ''quotes'': [''error'', ''single''],\n        ''indent'': [''error'', 2],\n        ''comma-dangle'': [''error'', ''never''],\n        \n        // ES6\n        ''prefer-const'': ''error'',\n        ''no-var'': ''error'',\n        ''arrow-spacing'': ''error''\n    }\n};\n```\n\n### Rule Configuration\n\n```javascript\nmodule.exports = {\n    rules: {\n        // With options\n        ''quotes'': [''error'', ''single'', { ''avoidEscape'': true }],\n        ''indent'': [''error'', 2, { ''SwitchCase'': 1 }],\n        ''max-len'': [''error'', { ''code'': 100 }],\n        \n        // Multiple options\n        ''array-bracket-spacing'': [''error'', ''never'', {\n            ''singleValue'': false,\n            ''objectsInArrays'': false\n        }]\n    }\n};\n```\n\n---\n\n## Plugins\n\n### Installing Plugins\n\n```bash\n# Install plugin\nnpm install --save-dev eslint-plugin-react\n\n# Or for import rules\nnpm install --save-dev eslint-plugin-import\n```\n\n### Using Plugins\n\n```javascript\n// .eslintrc.js\nmodule.exports = {\n    plugins: [''react'', ''import''],\n    extends: [\n        ''eslint:recommended'',\n        ''plugin:react/recommended'',\n        ''plugin:import/recommended''\n    ],\n    rules: {\n        ''react/prop-types'': ''warn'',\n        ''import/no-unresolved'': ''error''\n    }\n};\n```\n\n### Popular Plugins\n\n```javascript\n// React\nplugins: [''react'']\nextends: [''plugin:react/recommended'']\n\n// Import\nplugins: [''import'']\nextends: [''plugin:import/recommended'']\n\n// Jest\nplugins: [''jest'']\nextends: [''plugin:jest/recommended'']\n\n// Node\nplugins: [''node'']\nextends: [''plugin:node/recommended'']\n```\n\n---\n\n## Prettier Integration\n\n### Installing Prettier\n\n```bash\n# Install Prettier and ESLint config\nnpm install --save-dev prettier eslint-config-prettier eslint-plugin-prettier\n```\n\n### Configuration\n\n```javascript\n// .eslintrc.js\nmodule.exports = {\n    extends: [\n        ''eslint:recommended'',\n        ''plugin:prettier/recommended''  // Must be last\n    ],\n    plugins: [''prettier''],\n    rules: {\n        ''prettier/prettier'': ''error''\n    }\n};\n```\n\n### .prettierrc\n\n```json\n{\n  "semi": true,\n  "singleQuote": true,\n  "tabWidth": 2,\n  "trailingComma": "none",\n  "printWidth": 100\n}\n```\n\n### Disabling Conflicting Rules\n\n```javascript\n// eslint-config-prettier disables ESLint rules\n// that conflict with Prettier\nmodule.exports = {\n    extends: [\n        ''eslint:recommended'',\n        ''prettier''  // Disables conflicting rules\n    ]\n};\n```\n\n---\n\n## Using ESLint\n\n### Command Line\n\n```bash\n# Lint files\nnpx eslint file.js\n\n# Lint directory\nnpx eslint src/\n\n# Fix auto-fixable issues\nnpx eslint --fix src/\n\n# Use specific config\nnpx eslint --config .eslintrc.custom.js src/\n```\n\n### npm Scripts\n\n```json\n{\n  "scripts": {\n    "lint": "eslint .",\n    "lint:fix": "eslint . --fix",\n    "lint:watch": "eslint . --watch"\n  }\n}\n```\n\n### Ignoring Files\n\n```javascript\n// .eslintignore\nnode_modules/\ndist/\nbuild/\n*.min.js\ncoverage/\n```\n\n### Inline Comments\n\n```javascript\n// Disable rule for line\nconsole.log(''test''); // eslint-disable-line no-console\n\n// Disable rule for next line\n// eslint-disable-next-line no-console\nconsole.log(''test'');\n\n// Disable multiple rules\n/* eslint-disable no-console, no-alert */\nconsole.log(''test'');\nalert(''test'');\n/* eslint-enable no-console, no-alert */\n\n// Disable for entire file\n/* eslint-disable */\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: ESLint Setup\n\n**Objective**: Practice installing ESLint, configuring rules, using plugins, and integrating Prettier.\n\n**Instructions**:\n\n1. Install ESLint\n2. Configure ESLint\n3. Set up Prettier integration\n4. Practice:\n   - Configuring ESLint\n   - Setting up rules\n   - Using plugins\n   - Fixing linting errors\n\n**Example Solution**:\n\n```bash\n# 1. Initialize project\nnpm init -y\n\n# 2. Install ESLint\nnpm install --save-dev eslint\n\n# 3. Initialize ESLint\nnpx eslint --init\n# Or create config manually\n```\n\n```javascript\n// .eslintrc.js\nmodule.exports = {\n    env: {\n        browser: true,\n        es2021: true,\n        node: true\n    },\n    extends: [\n        ''eslint:recommended''\n    ],\n    parserOptions: {\n        ecmaVersion: ''latest'',\n        sourceType: ''module''\n    },\n    rules: {\n        ''no-console'': ''warn'',\n        ''no-debugger'': ''error'',\n        ''no-unused-vars'': ''error'',\n        ''semi'': [''error'', ''always''],\n        ''quotes'': [''error'', ''single''],\n        ''indent'': [''error'', 2],\n        ''prefer-const'': ''error'',\n        ''no-var'': ''error''\n    }\n};\n```\n\n```javascript\n// src/index.js\n// This file has intentional linting errors for practice\n\nvar x = 10;  // Should use const/let\nconsole.log(''Hello'');  // console.log warning\n\nfunction unusedFunction() {  // Unused function\n    return ''unused'';\n}\n\nlet y = 20;\ny = 30;  // Should use const if not reassigned\n\n// Missing semicolon\nlet z = 40\n\n// Wrong quotes\nlet message = "Hello World";\n\n// Wrong indentation\nif (true) {\nconsole.log(''test'');\n}\n```\n\n```json\n// package.json\n{\n  "name": "eslint-practice",\n  "version": "1.0.0",\n  "scripts": {\n    "lint": "eslint src/",\n    "lint:fix": "eslint src/ --fix"\n  },\n  "devDependencies": {\n    "eslint": "^8.50.0"\n  }\n}\n```\n\n```bash\n# Run ESLint\nnpm run lint\n\n# Fix auto-fixable issues\nnpm run lint:fix\n```\n\n```javascript\n// .eslintrc.js with React plugin example\nmodule.exports = {\n    env: {\n        browser: true,\n        es2021: true\n    },\n    extends: [\n        ''eslint:recommended'',\n        ''plugin:react/recommended''\n    ],\n    plugins: [''react''],\n    parserOptions: {\n        ecmaVersion: ''latest'',\n        sourceType: ''module'',\n        ecmaFeatures: {\n            jsx: true\n        }\n    },\n    settings: {\n        react: {\n            version: ''detect''\n        }\n    },\n    rules: {\n        ''react/prop-types'': ''warn'',\n        ''react/react-in-jsx-scope'': ''off''  // Not needed in React 17+\n    }\n};\n```\n\n```javascript\n// .eslintrc.js with Prettier integration\nmodule.exports = {\n    env: {\n        browser: true,\n        es2021: true\n    },\n    extends: [\n        ''eslint:recommended'',\n        ''plugin:prettier/recommended''\n    ],\n    plugins: [''prettier''],\n    parserOptions: {\n        ecmaVersion: ''latest'',\n        sourceType: ''module''\n    },\n    rules: {\n        ''prettier/prettier'': ''error'',\n        ''no-console'': ''warn''\n    }\n};\n```\n\n```json\n// .prettierrc\n{\n  "semi": true,\n  "singleQuote": true,\n  "tabWidth": 2,\n  "trailingComma": "none",\n  "printWidth": 100,\n  "arrowParens": "avoid"\n}\n```\n\n```javascript\n// .eslintignore\nnode_modules/\ndist/\nbuild/\n*.min.js\ncoverage/\n```\n\n**Expected Output** (when running `npm run lint`):\n```\n/Users/.../src/index.js\n  1:1   error  Unexpected var, use let or const  no-var\n  2:1   warning  Unexpected console statement    no-console\n  4:1   error  ''unusedFunction'' is defined but never used  no-unused-vars\n  7:1   error  ''y'' is never reassigned. Use ''const'' instead  prefer-const\n  9:1   error  Missing semicolon                            semi\n  12:1  error  Strings must use singlequote                 quotes\n  15:1  error  Expected indentation of 2 spaces but found 0  indent\n\n✖ 7 problems (6 errors, 1 warning)\n```\n\n**Challenge (Optional)**:\n- Set up ESLint for a real project\n- Configure custom rules\n- Integrate with your editor\n- Set up pre-commit hooks\n\n---\n\n## Common Mistakes\n\n### 1. Not Extending Recommended\n\n```javascript\n// ❌ Bad: No extends\nmodule.exports = {\n    rules: {\n        // Only custom rules\n    }\n};\n\n// ✅ Good: Extend recommended\nmodule.exports = {\n    extends: [''eslint:recommended''],\n    rules: {\n        // Custom rules on top\n    }\n};\n```\n\n### 2. Conflicting Prettier and ESLint\n\n```javascript\n// ❌ Bad: Both format\nmodule.exports = {\n    extends: [''eslint:recommended''],\n    rules: {\n        ''semi'': ''error'',  // Conflicts with Prettier\n        ''quotes'': ''error''  // Conflicts with Prettier\n    }\n};\n\n// ✅ Good: Use prettier config\nmodule.exports = {\n    extends: [''eslint:recommended'', ''prettier''],\n    // Prettier handles formatting\n};\n```\n\n### 3. Not Using --fix\n\n```bash\n# ❌ Bad: Manual fixes\n# Fix all errors manually\n\n# ✅ Good: Auto-fix\nnpm run lint:fix\n```\n\n---\n\n## Key Takeaways\n\n1. **ESLint**: Tool for code quality and consistency\n2. **Configuration**: Use .eslintrc.js or package.json\n3. **Rules**: Configure rules for your needs\n4. **Plugins**: Extend functionality with plugins\n5. **Prettier**: Integrate for code formatting\n6. **Best Practice**: Extend recommended, use plugins, auto-fix\n7. **Automation**: Use in CI/CD and pre-commit hooks\n\n---\n\n## Quiz: ESLint\n\nTest your understanding with these questions:\n\n1. **ESLint is:**\n   - A) Code formatter\n   - B) Code linter\n   - C) Both\n   - D) Neither\n\n2. **Rule level "error":**\n   - A) Fails linting\n   - B) Warning only\n   - C) Disabled\n   - D) Nothing\n\n3. **extends:**\n   - A) Extends configs\n   - B) Creates new config\n   - C) Deletes config\n   - D) Nothing\n\n4. **plugins:**\n   - A) Add rules\n   - B) Remove rules\n   - C) Both\n   - D) Neither\n\n5. **--fix flag:**\n   - A) Auto-fixes issues\n   - B) Shows issues\n   - C) Both\n   - D) Neither\n\n6. **Prettier handles:**\n   - A) Formatting\n   - B) Linting\n   - C) Both\n   - D) Neither\n\n7. **.eslintignore:**\n   - A) Ignores files\n   - B) Includes files\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. B) Code linter\n2. A) Fails linting\n3. A) Extends configs\n4. A) Add rules\n5. A) Auto-fixes issues\n6. A) Formatting\n7. A) Ignores files\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned ESLint. You now know:\n- How to install and configure ESLint\n- How to use rules and plugins\n- How to integrate Prettier\n- How to maintain code quality\n\n**What''s Next?**\n- Lesson 24.2: TypeScript Introduction\n- Learn TypeScript basics\n- Understand types and interfaces\n- Work with type annotations\n\n---\n\n## Additional Resources\n\n- **ESLint Documentation**: [eslint.org](https://eslint.org)\n- **ESLint Rules**: [eslint.org/docs/rules](https://eslint.org/docs/rules)\n- **Prettier**: [prettier.io](https://prettier.io)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 10:07:13', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Install and configure ESLint\n- Understand ESLint rules\n- Use ESLint plugins\n- Integrate Prettier with ESLint\n- Fix linting errors\n- Set up ESLint in projects\n- Maintain code quality');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (173, 64, 15, 'Prettier and Code Formatting', 'prettier-and-code-formatting', '# Lesson 24.2: TypeScript Introduction\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand TypeScript basics\n- Use types and interfaces\n- Add type annotations\n- Compile TypeScript to JavaScript\n- Work with TypeScript features\n- Build type-safe applications\n- Understand type system benefits\n\n---\n\n## Introduction to TypeScript\n\nTypeScript is a typed superset of JavaScript that compiles to plain JavaScript.\n\n### Why TypeScript?\n\n- **Type Safety**: Catch errors at compile time\n- **Better IDE Support**: Autocomplete, refactoring\n- **Documentation**: Types document code\n- **Refactoring**: Safer to refactor\n- **Large Projects**: Better for large codebases\n- **Industry Standard**: Widely adopted\n- **Modern JavaScript**: Supports latest features\n\n---\n\n## TypeScript Basics\n\n### Installation\n\n```bash\n# Install TypeScript\nnpm install -g typescript\n\n# Or locally\nnpm install --save-dev typescript\n\n# Check version\ntsc --version\n```\n\n### First TypeScript File\n\n```typescript\n// hello.ts\nfunction greet(name: string): string {\n    return `Hello, ${name}!`;\n}\n\nlet message = greet(''World'');\nconsole.log(message);\n```\n\n### Compiling TypeScript\n\n```bash\n# Compile TypeScript\ntsc hello.ts\n\n# Generates hello.js\n```\n\n---\n\n## Types\n\n### Basic Types\n\n```typescript\n// String\nlet name: string = ''Alice'';\n\n// Number\nlet age: number = 30;\n\n// Boolean\nlet isActive: boolean = true;\n\n// Array\nlet numbers: number[] = [1, 2, 3];\nlet names: Array<string> = [''Alice'', ''Bob''];\n\n// Tuple\nlet tuple: [string, number] = [''Alice'', 30];\n\n// Any\nlet anything: any = ''can be anything'';\n\n// Void\nfunction log(message: string): void {\n    console.log(message);\n}\n\n// Null and Undefined\nlet nullValue: null = null;\nlet undefinedValue: undefined = undefined;\n```\n\n### Union Types\n\n```typescript\n// Union type\nlet value: string | number;\nvalue = ''hello'';\nvalue = 42;\n\n// Union with null\nlet name: string | null = null;\nname = ''Alice'';\n```\n\n### Literal Types\n\n```typescript\n// Literal types\nlet direction: ''up'' | ''down'' | ''left'' | ''right'';\ndirection = ''up'';\n// direction = ''diagonal'';  // Error\n\n// Boolean literal\nlet isTrue: true = true;\n```\n\n---\n\n## Type Annotations\n\n### Function Types\n\n```typescript\n// Function with types\nfunction add(a: number, b: number): number {\n    return a + b;\n}\n\n// Arrow function\nlet multiply = (a: number, b: number): number => {\n    return a * b;\n};\n\n// Function type\nlet operation: (a: number, b: number) => number;\noperation = add;\noperation = multiply;\n```\n\n### Variable Types\n\n```typescript\n// Explicit type\nlet count: number = 0;\n\n// Type inference\nlet name = ''Alice'';  // Type: string\nlet age = 30;        // Type: number\n\n// Type assertion\nlet value: any = ''hello'';\nlet length = (value as string).length;\n```\n\n### Object Types\n\n```typescript\n// Object type\nlet user: {\n    name: string;\n    age: number;\n    email?: string;  // Optional\n} = {\n    name: ''Alice'',\n    age: 30\n};\n```\n\n---\n\n## Interfaces\n\n### Basic Interface\n\n```typescript\n// Define interface\ninterface User {\n    name: string;\n    age: number;\n    email?: string;  // Optional property\n}\n\n// Use interface\nlet user: User = {\n    name: ''Alice'',\n    age: 30\n};\n\n// Function with interface\nfunction getUser(): User {\n    return {\n        name: ''Bob'',\n        age: 25,\n        email: ''bob@example.com''\n    };\n}\n```\n\n### Interface with Methods\n\n```typescript\ninterface Calculator {\n    add(a: number, b: number): number;\n    subtract(a: number, b: number): number;\n}\n\nlet calc: Calculator = {\n    add: (a, b) => a + b,\n    subtract: (a, b) => a - b\n};\n```\n\n### Extending Interfaces\n\n```typescript\ninterface Person {\n    name: string;\n    age: number;\n}\n\ninterface Employee extends Person {\n    employeeId: string;\n    department: string;\n}\n\nlet employee: Employee = {\n    name: ''Alice'',\n    age: 30,\n    employeeId: ''E001'',\n    department: ''Engineering''\n};\n```\n\n---\n\n## Classes\n\n### TypeScript Classes\n\n```typescript\nclass User {\n    name: string;\n    age: number;\n    \n    constructor(name: string, age: number) {\n        this.name = name;\n        this.age = age;\n    }\n    \n    greet(): string {\n        return `Hello, I''m ${this.name}`;\n    }\n}\n\nlet user = new User(''Alice'', 30);\nconsole.log(user.greet());\n```\n\n### Access Modifiers\n\n```typescript\nclass User {\n    public name: string;      // Public (default)\n    private age: number;      // Private\n    protected email: string;  // Protected\n    \n    constructor(name: string, age: number, email: string) {\n        this.name = name;\n        this.age = age;\n        this.email = email;\n    }\n}\n```\n\n---\n\n## Generics\n\n### Basic Generics\n\n```typescript\n// Generic function\nfunction identity<T>(arg: T): T {\n    return arg;\n}\n\nlet number = identity<number>(42);\nlet string = identity<string>(''hello'');\n\n// Generic interface\ninterface Box<T> {\n    value: T;\n}\n\nlet numberBox: Box<number> = { value: 42 };\nlet stringBox: Box<string> = { value: ''hello'' };\n```\n\n### Generic Constraints\n\n```typescript\ninterface Lengthwise {\n    length: number;\n}\n\nfunction logLength<T extends Lengthwise>(arg: T): T {\n    console.log(arg.length);\n    return arg;\n}\n\nlogLength(''hello'');  // OK\nlogLength([1, 2, 3]);  // OK\n// logLength(42);  // Error: number doesn''t have length\n```\n\n---\n\n## Compiling TypeScript\n\n### tsconfig.json\n\n```json\n{\n  "compilerOptions": {\n    "target": "ES2020",\n    "module": "ES2020",\n    "lib": ["ES2020"],\n    "outDir": "./dist",\n    "rootDir": "./src",\n    "strict": true,\n    "esModuleInterop": true,\n    "skipLibCheck": true,\n    "forceConsistentCasingInFileNames": true\n  },\n  "include": ["src/**/*"],\n  "exclude": ["node_modules", "dist"]\n}\n```\n\n### Compiler Options\n\n```json\n{\n  "compilerOptions": {\n    "target": "ES2020",           // JavaScript version\n    "module": "ES2020",           // Module system\n    "lib": ["ES2020"],            // Library files\n    "outDir": "./dist",           // Output directory\n    "rootDir": "./src",           // Root directory\n    "strict": true,               // Strict type checking\n    "noImplicitAny": true,        // Error on implicit any\n    "strictNullChecks": true,     // Strict null checks\n    "esModuleInterop": true,      // ES module interop\n    "skipLibCheck": true,         // Skip lib checking\n    "sourceMap": true             // Generate source maps\n  }\n}\n```\n\n### Compiling\n\n```bash\n# Compile TypeScript\ntsc\n\n# Watch mode\ntsc --watch\n\n# Compile specific file\ntsc file.ts\n\n# Compile with config\ntsc --project tsconfig.json\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: TypeScript Practice\n\n**Objective**: Practice using TypeScript, working with types, interfaces, and compiling TypeScript.\n\n**Instructions**:\n\n1. Install TypeScript\n2. Create TypeScript files\n3. Practice:\n   - Using basic types\n   - Creating interfaces\n   - Adding type annotations\n   - Compiling TypeScript\n\n**Example Solution**:\n\n```bash\n# 1. Install TypeScript\nnpm install --save-dev typescript\n\n# 2. Initialize TypeScript\nnpx tsc --init\n```\n\n```json\n// tsconfig.json\n{\n  "compilerOptions": {\n    "target": "ES2020",\n    "module": "ES2020",\n    "lib": ["ES2020"],\n    "outDir": "./dist",\n    "rootDir": "./src",\n    "strict": true,\n    "esModuleInterop": true,\n    "skipLibCheck": true,\n    "forceConsistentCasingInFileNames": true,\n    "sourceMap": true\n  },\n  "include": ["src/**/*"],\n  "exclude": ["node_modules", "dist"]\n}\n```\n\n```typescript\n// src/basics.ts\nconsole.log("=== TypeScript Basics ===");\n\n// Basic types\nlet name: string = ''Alice'';\nlet age: number = 30;\nlet isActive: boolean = true;\n\nconsole.log(''Name:'', name);\nconsole.log(''Age:'', age);\nconsole.log(''Active:'', isActive);\n\n// Arrays\nlet numbers: number[] = [1, 2, 3, 4, 5];\nlet names: Array<string> = [''Alice'', ''Bob'', ''Charlie''];\n\nconsole.log(''Numbers:'', numbers);\nconsole.log(''Names:'', names);\n\n// Tuples\nlet tuple: [string, number] = [''Alice'', 30];\nconsole.log(''Tuple:'', tuple);\n\n// Union types\nlet value: string | number;\nvalue = ''hello'';\nconsole.log(''Value (string):'', value);\nvalue = 42;\nconsole.log(''Value (number):'', value);\n\n// Any\nlet anything: any = ''can be anything'';\nanything = 42;\nanything = true;\nconsole.log(''Anything:'', anything);\n```\n\n```typescript\n// src/functions.ts\nconsole.log("=== Functions ===");\n\n// Function with types\nfunction add(a: number, b: number): number {\n    return a + b;\n}\n\nconsole.log(''add(2, 3):'', add(2, 3));\n\n// Arrow function\nlet multiply = (a: number, b: number): number => {\n    return a * b;\n};\n\nconsole.log(''multiply(4, 5):'', multiply(4, 5));\n\n// Optional parameters\nfunction greet(name: string, title?: string): string {\n    if (title) {\n        return `Hello, ${title} ${name}!`;\n    }\n    return `Hello, ${name}!`;\n}\n\nconsole.log(''greet("Alice"):'', greet(''Alice''));\nconsole.log(''greet("Alice", "Dr."):'', greet(''Alice'', ''Dr.''));\n\n// Default parameters\nfunction createUser(name: string, age: number = 18): { name: string; age: number } {\n    return { name, age };\n}\n\nconsole.log(''createUser("Bob"):'', createUser(''Bob''));\nconsole.log(''createUser("Charlie", 25):'', createUser(''Charlie'', 25));\n\n// Rest parameters\nfunction sum(...numbers: number[]): number {\n    return numbers.reduce((total, num) => total + num, 0);\n}\n\nconsole.log(''sum(1, 2, 3, 4, 5):'', sum(1, 2, 3, 4, 5));\n```\n\n```typescript\n// src/interfaces.ts\nconsole.log("=== Interfaces ===");\n\n// Basic interface\ninterface User {\n    name: string;\n    age: number;\n    email?: string;  // Optional\n}\n\nlet user: User = {\n    name: ''Alice'',\n    age: 30,\n    email: ''alice@example.com''\n};\n\nconsole.log(''User:'', user);\n\n// Interface with methods\ninterface Calculator {\n    add(a: number, b: number): number;\n    subtract(a: number, b: number): number;\n    multiply(a: number, b: number): number;\n    divide(a: number, b: number): number;\n}\n\nlet calc: Calculator = {\n    add: (a, b) => a + b,\n    subtract: (a, b) => a - b,\n    multiply: (a, b) => a * b,\n    divide: (a, b) => {\n        if (b === 0) {\n            throw new Error(''Division by zero'');\n        }\n        return a / b;\n    }\n};\n\nconsole.log(''calc.add(10, 5):'', calc.add(10, 5));\nconsole.log(''calc.subtract(10, 5):'', calc.subtract(10, 5));\nconsole.log(''calc.multiply(10, 5):'', calc.multiply(10, 5));\nconsole.log(''calc.divide(10, 5):'', calc.divide(10, 5));\n\n// Extending interfaces\ninterface Person {\n    name: string;\n    age: number;\n}\n\ninterface Employee extends Person {\n    employeeId: string;\n    department: string;\n}\n\nlet employee: Employee = {\n    name: ''Bob'',\n    age: 25,\n    employeeId: ''E001'',\n    department: ''Engineering''\n};\n\nconsole.log(''Employee:'', employee);\n```\n\n```typescript\n// src/classes.ts\nconsole.log("=== Classes ===");\n\nclass User {\n    name: string;\n    age: number;\n    private email: string;\n    \n    constructor(name: string, age: number, email: string) {\n        this.name = name;\n        this.age = age;\n        this.email = email;\n    }\n    \n    greet(): string {\n        return `Hello, I''m ${this.name}`;\n    }\n    \n    getEmail(): string {\n        return this.email;\n    }\n}\n\nlet user = new User(''Alice'', 30, ''alice@example.com'');\nconsole.log(''User:'', user.greet());\nconsole.log(''Email:'', user.getEmail());\n\n// Class with inheritance\nclass Admin extends User {\n    permissions: string[];\n    \n    constructor(name: string, age: number, email: string, permissions: string[]) {\n        super(name, age, email);\n        this.permissions = permissions;\n    }\n    \n    hasPermission(permission: string): boolean {\n        return this.permissions.includes(permission);\n    }\n}\n\nlet admin = new Admin(''Admin'', 35, ''admin@example.com'', [''read'', ''write'', ''delete'']);\nconsole.log(''Admin:'', admin.greet());\nconsole.log(''Has write permission:'', admin.hasPermission(''write''));\n```\n\n```typescript\n// src/generics.ts\nconsole.log("=== Generics ===");\n\n// Generic function\nfunction identity<T>(arg: T): T {\n    return arg;\n}\n\nlet number = identity<number>(42);\nlet string = identity<string>(''hello'');\nlet boolean = identity<boolean>(true);\n\nconsole.log(''Identity number:'', number);\nconsole.log(''Identity string:'', string);\nconsole.log(''Identity boolean:'', boolean);\n\n// Generic interface\ninterface Box<T> {\n    value: T;\n    getValue(): T;\n}\n\nlet numberBox: Box<number> = {\n    value: 42,\n    getValue: function() {\n        return this.value;\n    }\n};\n\nlet stringBox: Box<string> = {\n    value: ''hello'',\n    getValue: function() {\n        return this.value;\n    }\n};\n\nconsole.log(''Number box:'', numberBox.getValue());\nconsole.log(''String box:'', stringBox.getValue());\n\n// Generic class\nclass Container<T> {\n    private items: T[] = [];\n    \n    add(item: T): void {\n        this.items.push(item);\n    }\n    \n    get(index: number): T {\n        return this.items[index];\n    }\n    \n    getAll(): T[] {\n        return this.items;\n    }\n}\n\nlet numberContainer = new Container<number>();\nnumberContainer.add(1);\nnumberContainer.add(2);\nnumberContainer.add(3);\nconsole.log(''Number container:'', numberContainer.getAll());\n\nlet stringContainer = new Container<string>();\nstringContainer.add(''a'');\nstringContainer.add(''b'');\nstringContainer.add(''c'');\nconsole.log(''String container:'', stringContainer.getAll());\n```\n\n```typescript\n// src/index.ts\nimport ''./basics'';\nimport ''./functions'';\nimport ''./interfaces'';\nimport ''./classes'';\nimport ''./generics'';\n```\n\n```json\n// package.json\n{\n  "name": "typescript-practice",\n  "version": "1.0.0",\n  "scripts": {\n    "build": "tsc",\n    "watch": "tsc --watch",\n    "start": "node dist/index.js"\n  },\n  "devDependencies": {\n    "typescript": "^5.2.0"\n  }\n}\n```\n\n**Expected Output** (after compiling and running):\n```\n=== TypeScript Basics ===\nName: Alice\nAge: 30\nActive: true\nNumbers: [1, 2, 3, 4, 5]\nNames: [''Alice'', ''Bob'', ''Charlie'']\nTuple: [''Alice'', 30]\nValue (string): hello\nValue (number): 42\nAnything: true\n\n=== Functions ===\nadd(2, 3): 5\nmultiply(4, 5): 20\ngreet("Alice"): Hello, Alice!\ngreet("Alice", "Dr."): Hello, Dr. Alice!\ncreateUser("Bob"): { name: ''Bob'', age: 18 }\ncreateUser("Charlie", 25): { name: ''Charlie'', age: 25 }\nsum(1, 2, 3, 4, 5): 15\n\n=== Interfaces ===\nUser: { name: ''Alice'', age: 30, email: ''alice@example.com'' }\ncalc.add(10, 5): 15\ncalc.subtract(10, 5): 5\ncalc.multiply(10, 5): 50\ncalc.divide(10, 5): 2\nEmployee: { name: ''Bob'', age: 25, employeeId: ''E001'', department: ''Engineering'' }\n\n=== Classes ===\nUser: Hello, I''m Alice\nEmail: alice@example.com\nAdmin: Hello, I''m Admin\nHas write permission: true\n\n=== Generics ===\nIdentity number: 42\nIdentity string: hello\nIdentity boolean: true\nNumber box: 42\nString box: hello\nNumber container: [1, 2, 3]\nString container: [''a'', ''b'', ''c'']\n```\n\n**Challenge (Optional)**:\n- Convert JavaScript project to TypeScript\n- Add types to existing code\n- Create type definitions\n- Build a complete TypeScript application\n\n---\n\n## Common Mistakes\n\n### 1. Using any Too Much\n\n```typescript\n// ❌ Bad: Too much any\nfunction process(data: any): any {\n    return data;\n}\n\n// ✅ Good: Use specific types\nfunction process<T>(data: T): T {\n    return data;\n}\n```\n\n### 2. Not Using Strict Mode\n\n```json\n// ❌ Bad: No strict mode\n{\n  "compilerOptions": {\n    "strict": false\n  }\n}\n\n// ✅ Good: Use strict mode\n{\n  "compilerOptions": {\n    "strict": true\n  }\n}\n```\n\n### 3. Ignoring Type Errors\n\n```typescript\n// ❌ Bad: Ignore errors\n// @ts-ignore\nlet value = undefinedValue.property;\n\n// ✅ Good: Fix the error\nlet value = definedValue?.property;\n```\n\n---\n\n## Key Takeaways\n\n1. **TypeScript**: Typed superset of JavaScript\n2. **Types**: string, number, boolean, arrays, etc.\n3. **Interfaces**: Define object shapes\n4. **Classes**: Type-safe classes with modifiers\n5. **Generics**: Reusable type-safe code\n6. **Compilation**: Compiles to JavaScript\n7. **Best Practice**: Use strict mode, avoid any, leverage types\n\n---\n\n## Quiz: TypeScript\n\nTest your understanding with these questions:\n\n1. **TypeScript is:**\n   - A) Typed superset of JavaScript\n   - B) Different language\n   - C) Both\n   - D) Neither\n\n2. **Type annotation uses:**\n   - A) :\n   - B) =\n   - C) Both\n   - D) Neither\n\n3. **Interface defines:**\n   - A) Object shape\n   - B) Function\n   - C) Both\n   - D) Neither\n\n4. **private modifier:**\n   - A) Accessible anywhere\n   - B) Accessible in class only\n   - C) Accessible in subclasses\n   - D) Nothing\n\n5. **Generics use:**\n   - A) <T>\n   - B) {T}\n   - C) [T]\n   - D) (T)\n\n6. **tsc compiles:**\n   - A) TypeScript to JavaScript\n   - B) JavaScript to TypeScript\n   - C) Both\n   - D) Neither\n\n7. **strict mode:**\n   - A) Enables strict checking\n   - B) Disables checking\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Typed superset of JavaScript\n2. A) :\n3. A) Object shape\n4. B) Accessible in class only\n5. A) <T>\n6. A) TypeScript to JavaScript\n7. A) Enables strict checking\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 24: Code Quality and Linting. You now know:\n- ESLint for code quality\n- TypeScript for type safety\n- How to maintain code quality\n- How to build type-safe applications\n\n**What''s Next?**\n- Course 7: Frontend Frameworks\n- Module 25: React Basics\n- Lesson 25.1: React Introduction\n- Learn what React is\n- Set up React projects\n\n---\n\n## Additional Resources\n\n- **TypeScript Documentation**: [typescriptlang.org](https://www.typescriptlang.org)\n- **TypeScript Handbook**: [typescriptlang.org/docs/handbook/intro.html](https://www.typescriptlang.org/docs/handbook/intro.html)\n- **TypeScript Playground**: [typescriptlang.org/play](https://www.typescriptlang.org/play)\n\n---\n\n*Lesson completed! You''ve finished Module 24: Code Quality and Linting. Ready for Course 7: Frontend Frameworks!*\n\n', NULL, 2, '2026-01-03 10:07:13', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand TypeScript basics\n- Use types and interfaces\n- Add type annotations\n- Compile TypeScript to JavaScript\n- Work with TypeScript features\n- Build type-safe applications\n- Understand type system benefits');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (174, 65, 16, 'React Introduction', 'react-introduction', '# Lesson 25.1: React Introduction\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand what React is\n- Know the React ecosystem\n- Set up React projects\n- Understand JSX syntax\n- Create your first React app\n- Work with React basics\n- Build modern user interfaces\n\n---\n\n## Introduction to React\n\nReact is a JavaScript library for building user interfaces, particularly web applications.\n\n### What is React?\n\n- **Library**: Not a framework, but a library\n- **Component-Based**: Build with reusable components\n- **Declarative**: Describe what UI should look like\n- **Virtual DOM**: Efficient updates\n- **Unidirectional Data Flow**: Predictable data flow\n- **Popular**: Most popular frontend library\n\n### Why React?\n\n- **Component Reusability**: Reuse components\n- **Fast**: Virtual DOM for performance\n- **Large Ecosystem**: Huge community and tools\n- **Industry Standard**: Used by many companies\n- **Great DX**: Excellent developer experience\n- **Flexible**: Works with many tools\n\n---\n\n## React Ecosystem\n\n### Core Libraries\n\n```javascript\n// React Core\nreact          // Core library\nreact-dom      // DOM rendering\n\n// Routing\nreact-router   // Client-side routing\n\n// State Management\nredux          // Predictable state container\nzustand        // Lightweight state management\nrecoil         // State management library\n\n// UI Libraries\nmaterial-ui    // Material Design components\nant-design    // Enterprise UI components\nchakra-ui     // Simple and modular\n```\n\n### Build Tools\n\n```javascript\n// Create React App\ncreate-react-app\n\n// Vite\nvite\n\n// Next.js (React framework)\nnext.js\n\n// Remix (React framework)\nremix\n```\n\n### Development Tools\n\n```javascript\n// React DevTools\n// Browser extension for debugging\n\n// Testing\n@testing-library/react\njest\n\n// Type Checking\nTypeScript\nPropTypes\n```\n\n---\n\n## Setting Up React\n\n### Create React App\n\n```bash\n# Create React app\nnpx create-react-app my-app\n\n# Navigate to app\ncd my-app\n\n# Start development server\nnpm start\n```\n\n### Vite with React\n\n```bash\n# Create React app with Vite\nnpm create vite@latest my-app -- --template react\n\n# Navigate to app\ncd my-app\n\n# Install dependencies\nnpm install\n\n# Start development server\nnpm run dev\n```\n\n### Manual Setup\n\n```bash\n# Install React\nnpm install react react-dom\n\n# Install build tools\nnpm install --save-dev @vitejs/plugin-react vite\n```\n\n```javascript\n// vite.config.js\nimport { defineConfig } from ''vite'';\nimport react from ''@vitejs/plugin-react'';\n\nexport default defineConfig({\n    plugins: [react()]\n});\n```\n\n---\n\n## JSX Syntax\n\n### What is JSX?\n\nJSX is a syntax extension that lets you write HTML-like code in JavaScript.\n\n### Basic JSX\n\n```javascript\n// JSX\nconst element = <h1>Hello, World!</h1>;\n\n// Equivalent JavaScript\nconst element = React.createElement(''h1'', null, ''Hello, World!'');\n```\n\n### JSX Expressions\n\n```javascript\n// Embedding expressions\nconst name = ''Alice'';\nconst element = <h1>Hello, {name}!</h1>;\n\n// Expressions in attributes\nconst element = <img src={imageUrl} alt={imageAlt} />;\n\n// Expressions in JSX\nconst element = (\n    <div>\n        <h1>{title}</h1>\n        <p>{2 + 2}</p>\n        <p>{user.name}</p>\n    </div>\n);\n```\n\n### JSX Rules\n\n```javascript\n// 1. Return single element\n// ❌ Bad\nfunction Component() {\n    return (\n        <h1>Title</h1>\n        <p>Content</p>\n    );\n}\n\n// ✅ Good: Wrap in fragment or div\nfunction Component() {\n    return (\n        <>\n            <h1>Title</h1>\n            <p>Content</p>\n        </>\n    );\n}\n\n// 2. Use className instead of class\n<div className="container">Content</div>\n\n// 3. Self-closing tags\n<img src="image.jpg" alt="Image" />\n<br />\n<input type="text" />\n\n// 4. camelCase for attributes\n<div tabIndex={0} onClick={handleClick}></div>\n```\n\n### JSX with JavaScript\n\n```javascript\n// Conditional rendering\nfunction Greeting({ isLoggedIn }) {\n    if (isLoggedIn) {\n        return <h1>Welcome back!</h1>;\n    }\n    return <h1>Please sign in.</h1>;\n}\n\n// Ternary operator\nfunction Greeting({ isLoggedIn }) {\n    return (\n        <div>\n            {isLoggedIn ? <h1>Welcome back!</h1> : <h1>Please sign in.</h1>}\n        </div>\n    );\n}\n\n// Logical AND\nfunction Mailbox({ unreadMessages }) {\n    return (\n        <div>\n            <h1>Hello!</h1>\n            {unreadMessages.length > 0 && (\n                <h2>You have {unreadMessages.length} unread messages.</h2>\n            )}\n        </div>\n    );\n}\n\n// Lists\nfunction NumberList({ numbers }) {\n    return (\n        <ul>\n            {numbers.map(number => (\n                <li key={number}>{number}</li>\n            ))}\n        </ul>\n    );\n}\n```\n\n---\n\n## Your First React App\n\n### Simple Component\n\n```javascript\n// App.jsx\nimport React from ''react'';\n\nfunction App() {\n    return (\n        <div className="App">\n            <h1>Hello, React!</h1>\n            <p>Welcome to React</p>\n        </div>\n    );\n}\n\nexport default App;\n```\n\n### Rendering\n\n```javascript\n// index.js\nimport React from ''react'';\nimport ReactDOM from ''react-dom/client'';\nimport App from ''./App'';\n\nconst root = ReactDOM.createRoot(document.getElementById(''root''));\nroot.render(<App />);\n```\n\n### HTML Structure\n\n```html\n<!-- public/index.html -->\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>React App</title>\n</head>\n<body>\n    <div id="root"></div>\n</body>\n</html>\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: First React App\n\n**Objective**: Practice setting up React, understanding JSX, and creating your first React application.\n\n**Instructions**:\n\n1. Set up a React project\n2. Create components\n3. Practice:\n   - JSX syntax\n   - Component creation\n   - Rendering elements\n   - Using expressions\n\n**Example Solution**:\n\n```bash\n# Create React app with Vite\nnpm create vite@latest react-practice -- --template react\ncd react-practice\nnpm install\n```\n\n```javascript\n// src/App.jsx\nimport React from ''react'';\nimport ''./App.css'';\n\nfunction App() {\n    const name = ''React'';\n    const version = ''18'';\n    const features = [''Components'', ''JSX'', ''Virtual DOM'', ''Hooks''];\n    \n    return (\n        <div className="App">\n            <header className="App-header">\n                <h1>Welcome to {name}!</h1>\n                <p>Version {version}</p>\n                \n                <section>\n                    <h2>About React</h2>\n                    <p>\n                        React is a JavaScript library for building user interfaces.\n                        It''s component-based and uses JSX syntax.\n                    </p>\n                </section>\n                \n                <section>\n                    <h2>Key Features</h2>\n                    <ul>\n                        {features.map((feature, index) => (\n                            <li key={index}>{feature}</li>\n                        ))}\n                    </ul>\n                </section>\n                \n                <section>\n                    <h2>JSX Examples</h2>\n                    <p>Math: 2 + 2 = {2 + 2}</p>\n                    <p>Current time: {new Date().toLocaleTimeString()}</p>\n                    <p>Conditional: {features.length > 0 ? ''Features available'' : ''No features''}</p>\n                </section>\n            </header>\n        </div>\n    );\n}\n\nexport default App;\n```\n\n```css\n/* src/App.css */\n.App {\n    text-align: center;\n    padding: 20px;\n}\n\n.App-header {\n    background-color: #282c34;\n    padding: 20px;\n    color: white;\n    border-radius: 10px;\n    margin: 20px auto;\n    max-width: 800px;\n}\n\n.App-header h1 {\n    color: #61dafb;\n    margin-bottom: 10px;\n}\n\n.App-header section {\n    margin: 20px 0;\n    padding: 15px;\n    background-color: rgba(255, 255, 255, 0.1);\n    border-radius: 5px;\n}\n\n.App-header ul {\n    list-style: none;\n    padding: 0;\n}\n\n.App-header li {\n    padding: 5px;\n    margin: 5px 0;\n    background-color: rgba(97, 218, 251, 0.2);\n    border-radius: 3px;\n}\n```\n\n```javascript\n// src/main.jsx\nimport React from ''react'';\nimport ReactDOM from ''react-dom/client'';\nimport App from ''./App'';\nimport ''./index.css'';\n\nReactDOM.createRoot(document.getElementById(''root'')).render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>\n);\n```\n\n```css\n/* src/index.css */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, ''Segoe UI'', ''Roboto'', ''Oxygen'',\n        ''Ubuntu'', ''Cantarell'', ''Fira Sans'', ''Droid Sans'', ''Helvetica Neue'',\n        sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background-color: #f5f5f5;\n}\n\n#root {\n    min-height: 100vh;\n}\n```\n\n```html\n<!-- index.html -->\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>React Practice</title>\n</head>\n<body>\n    <div id="root"></div>\n    <script type="module" src="/src/main.jsx"></script>\n</body>\n</html>\n```\n\n```javascript\n// Additional JSX examples\n// src/components/JSXExamples.jsx\nimport React from ''react'';\n\nfunction JSXExamples() {\n    const user = {\n        name: ''Alice'',\n        age: 30,\n        email: ''alice@example.com''\n    };\n    \n    const isLoggedIn = true;\n    const items = [''Apple'', ''Banana'', ''Orange''];\n    \n    return (\n        <div className="jsx-examples">\n            <h2>JSX Examples</h2>\n            \n            {/* Expressions */}\n            <section>\n                <h3>Expressions</h3>\n                <p>Name: {user.name}</p>\n                <p>Age: {user.age}</p>\n                <p>Math: 5 + 3 = {5 + 3}</p>\n            </section>\n            \n            {/* Conditional Rendering */}\n            <section>\n                <h3>Conditional Rendering</h3>\n                {isLoggedIn ? (\n                    <p>Welcome, {user.name}!</p>\n                ) : (\n                    <p>Please log in</p>\n                )}\n                \n                {isLoggedIn && <p>You are logged in</p>}\n            </section>\n            \n            {/* Lists */}\n            <section>\n                <h3>Lists</h3>\n                <ul>\n                    {items.map((item, index) => (\n                        <li key={index}>{item}</li>\n                    ))}\n                </ul>\n            </section>\n            \n            {/* Attributes */}\n            <section>\n                <h3>Attributes</h3>\n                <div className="container" id="main">\n                    <input type="text" placeholder="Enter text" />\n                    <button onClick={() => alert(''Clicked!'')}>\n                        Click Me\n                    </button>\n                </div>\n            </section>\n            \n            {/* Fragments */}\n            <section>\n                <h3>Fragments</h3>\n                <>\n                    <p>First paragraph</p>\n                    <p>Second paragraph</p>\n                </>\n            </section>\n        </div>\n    );\n}\n\nexport default JSXExamples;\n```\n\n**Expected Output** (in browser):\n- React app with header\n- JSX examples displayed\n- Interactive elements\n- Styled components\n\n**Challenge (Optional)**:\n- Build a complete React app\n- Create multiple components\n- Add interactivity\n- Style your components\n\n---\n\n## Common Mistakes\n\n### 1. Not Returning Single Element\n\n```javascript\n// ❌ Bad: Multiple root elements\nfunction Component() {\n    return (\n        <h1>Title</h1>\n        <p>Content</p>\n    );\n}\n\n// ✅ Good: Single root or fragment\nfunction Component() {\n    return (\n        <>\n            <h1>Title</h1>\n            <p>Content</p>\n        </>\n    );\n}\n```\n\n### 2. Using class Instead of className\n\n```javascript\n// ❌ Bad: HTML class\n<div class="container">Content</div>\n\n// ✅ Good: JSX className\n<div className="container">Content</div>\n```\n\n### 3. Missing Keys in Lists\n\n```javascript\n// ❌ Bad: No key\n{items.map(item => <li>{item}</li>)}\n\n// ✅ Good: With key\n{items.map((item, index) => <li key={index}>{item}</li>)}\n```\n\n---\n\n## Key Takeaways\n\n1. **React**: JavaScript library for building UIs\n2. **Component-Based**: Build with reusable components\n3. **JSX**: HTML-like syntax in JavaScript\n4. **Virtual DOM**: Efficient updates\n5. **Setup**: Create React App or Vite\n6. **Best Practice**: Single root element, use className, add keys\n7. **Ecosystem**: Large ecosystem of tools and libraries\n\n---\n\n## Quiz: React Basics\n\nTest your understanding with these questions:\n\n1. **React is:**\n   - A) Framework\n   - B) Library\n   - C) Both\n   - D) Neither\n\n2. **JSX is:**\n   - A) HTML\n   - B) JavaScript syntax extension\n   - C) CSS\n   - D) Nothing\n\n3. **JSX uses:**\n   - A) class\n   - B) className\n   - C) Both\n   - D) Neither\n\n4. **React components return:**\n   - A) Single element\n   - B) Multiple elements\n   - C) Both\n   - D) Neither\n\n5. **JSX expressions use:**\n   - A) {}\n   - B) []\n   - C) Both\n   - D) Neither\n\n6. **React uses:**\n   - A) Virtual DOM\n   - B) Real DOM\n   - C) Both\n   - D) Neither\n\n7. **Create React App:**\n   - A) Sets up React project\n   - B) Installs React only\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. B) Library\n2. B) JavaScript syntax extension\n3. B) className\n4. A) Single element (or fragment)\n5. A) {}\n6. A) Virtual DOM\n7. A) Sets up React project\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned React introduction. You now know:\n- What React is\n- How to set up React\n- JSX syntax\n- How to create components\n\n**What''s Next?**\n- Lesson 25.2: Components and Props\n- Learn functional and class components\n- Understand props\n- Build component composition\n\n---\n\n## Additional Resources\n\n- **React Documentation**: [react.dev](https://react.dev)\n- **React Tutorial**: [react.dev/learn](https://react.dev/learn)\n- **JSX Guide**: [react.dev/learn/writing-markup-with-jsx](https://react.dev/learn/writing-markup-with-jsx)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 10:07:13', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand what React is\n- Know the React ecosystem\n- Set up React projects\n- Understand JSX syntax\n- Create your first React app\n- Work with React basics\n- Build modern user interfaces');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (175, 65, 16, 'Components and JSX', 'components-and-jsx', '# Lesson 25.2: Components and Props\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Create functional components\n- Understand class components\n- Work with props\n- Compose components\n- Build reusable components\n- Pass data between components\n- Structure React applications\n\n---\n\n## Introduction to Components\n\nComponents are the building blocks of React applications. They let you split the UI into independent, reusable pieces.\n\n### What are Components?\n\n- **Reusable**: Use components multiple times\n- **Independent**: Each component manages its own logic\n- **Composable**: Combine components to build UIs\n- **Isolated**: Changes in one don''t affect others\n\n---\n\n## Functional Components\n\n### Basic Functional Component\n\n```javascript\n// Simple functional component\nfunction Welcome() {\n    return <h1>Hello, World!</h1>;\n}\n\n// Arrow function component\nconst Welcome = () => {\n    return <h1>Hello, World!</h1>;\n};\n\n// Usage\nfunction App() {\n    return <Welcome />;\n}\n```\n\n### Component with Props\n\n```javascript\n// Component with props\nfunction Welcome(props) {\n    return <h1>Hello, {props.name}!</h1>;\n}\n\n// Usage\nfunction App() {\n    return <Welcome name="Alice" />;\n}\n\n// Arrow function with props\nconst Welcome = (props) => {\n    return <h1>Hello, {props.name}!</h1>;\n};\n```\n\n### Destructuring Props\n\n```javascript\n// Destructure props\nfunction Welcome({ name, age }) {\n    return (\n        <div>\n            <h1>Hello, {name}!</h1>\n            <p>You are {age} years old</p>\n        </div>\n    );\n}\n\n// Usage\nfunction App() {\n    return <Welcome name="Alice" age={30} />;\n}\n```\n\n---\n\n## Class Components\n\n### Basic Class Component\n\n```javascript\nimport React, { Component } from ''react'';\n\nclass Welcome extends Component {\n    render() {\n        return <h1>Hello, World!</h1>;\n    }\n}\n\n// Usage\nfunction App() {\n    return <Welcome />;\n}\n```\n\n### Class Component with Props\n\n```javascript\nclass Welcome extends Component {\n    render() {\n        return <h1>Hello, {this.props.name}!</h1>;\n    }\n}\n\n// Usage\nfunction App() {\n    return <Welcome name="Alice" />;\n}\n```\n\n### Note on Class Components\n\n```javascript\n// Class components are still supported but\n// Functional components with hooks are preferred\n// Most new code uses functional components\n```\n\n---\n\n## Props\n\n### What are Props?\n\nProps (properties) are data passed from parent to child components.\n\n### Passing Props\n\n```javascript\n// Parent component\nfunction App() {\n    return (\n        <div>\n            <User name="Alice" age={30} email="alice@example.com" />\n            <User name="Bob" age={25} email="bob@example.com" />\n        </div>\n    );\n}\n\n// Child component\nfunction User({ name, age, email }) {\n    return (\n        <div>\n            <h2>{name}</h2>\n            <p>Age: {age}</p>\n            <p>Email: {email}</p>\n        </div>\n    );\n}\n```\n\n### Props are Read-Only\n\n```javascript\n// ❌ Bad: Don''t modify props\nfunction User({ name }) {\n    name = ''Changed'';  // Error: Props are read-only\n    return <h1>{name}</h1>;\n}\n\n// ✅ Good: Use props as-is\nfunction User({ name }) {\n    return <h1>{name}</h1>;\n}\n```\n\n### Default Props\n\n```javascript\n// Default props\nfunction Greeting({ name = ''Guest'' }) {\n    return <h1>Hello, {name}!</h1>;\n}\n\n// Usage\n<Greeting />           // Hello, Guest!\n<Greeting name="Alice" />  // Hello, Alice!\n\n// Or with defaultProps (class components)\nclass Greeting extends Component {\n    static defaultProps = {\n        name: ''Guest''\n    };\n    \n    render() {\n        return <h1>Hello, {this.props.name}!</h1>;\n    }\n}\n```\n\n### PropTypes (Type Checking)\n\n```javascript\nimport PropTypes from ''prop-types'';\n\nfunction User({ name, age, email }) {\n    return (\n        <div>\n            <h2>{name}</h2>\n            <p>Age: {age}</p>\n            <p>Email: {email}</p>\n        </div>\n    );\n}\n\nUser.propTypes = {\n    name: PropTypes.string.isRequired,\n    age: PropTypes.number.isRequired,\n    email: PropTypes.string.isRequired\n};\n```\n\n---\n\n## Component Composition\n\n### Composing Components\n\n```javascript\n// Small components\nfunction Header({ title }) {\n    return <header><h1>{title}</h1></header>;\n}\n\nfunction Content({ children }) {\n    return <main>{children}</main>;\n}\n\nfunction Footer({ text }) {\n    return <footer><p>{text}</p></footer>;\n}\n\n// Compose into larger component\nfunction Page() {\n    return (\n        <div>\n            <Header title="My Page" />\n            <Content>\n                <p>Page content goes here</p>\n            </Content>\n            <Footer text="Copyright 2024" />\n        </div>\n    );\n}\n```\n\n### Children Prop\n\n```javascript\n// Component with children\nfunction Container({ children, title }) {\n    return (\n        <div className="container">\n            <h2>{title}</h2>\n            {children}\n        </div>\n    );\n}\n\n// Usage\nfunction App() {\n    return (\n        <Container title="My Container">\n            <p>This is the content</p>\n            <button>Click me</button>\n        </Container>\n    );\n}\n```\n\n### Component Reusability\n\n```javascript\n// Reusable Button component\nfunction Button({ text, onClick, variant = ''primary'' }) {\n    return (\n        <button \n            className={`btn btn-${variant}`}\n            onClick={onClick}\n        >\n            {text}\n        </button>\n    );\n}\n\n// Usage\nfunction App() {\n    return (\n        <div>\n            <Button text="Submit" onClick={() => alert(''Submitted'')} />\n            <Button text="Cancel" variant="secondary" onClick={() => alert(''Cancelled'')} />\n            <Button text="Delete" variant="danger" onClick={() => alert(''Deleted'')} />\n        </div>\n    );\n}\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Card Component\n\n```javascript\nfunction Card({ title, description, image }) {\n    return (\n        <div className="card">\n            {image && <img src={image} alt={title} />}\n            <div className="card-content">\n                <h3>{title}</h3>\n                <p>{description}</p>\n            </div>\n        </div>\n    );\n}\n\n// Usage\nfunction App() {\n    return (\n        <div className="card-grid">\n            <Card \n                title="React"\n                description="A JavaScript library"\n                image="/react-logo.png"\n            />\n            <Card \n                title="Vue"\n                description="A progressive framework"\n                image="/vue-logo.png"\n            />\n        </div>\n    );\n}\n```\n\n### Example 2: List Component\n\n```javascript\nfunction List({ items, renderItem }) {\n    return (\n        <ul>\n            {items.map((item, index) => (\n                <li key={index}>\n                    {renderItem(item)}\n                </li>\n            ))}\n        </ul>\n    );\n}\n\n// Usage\nfunction App() {\n    let users = [\n        { id: 1, name: ''Alice'', age: 30 },\n        { id: 2, name: ''Bob'', age: 25 }\n    ];\n    \n    return (\n        <List \n            items={users}\n            renderItem={(user) => (\n                <div>\n                    <strong>{user.name}</strong> - {user.age} years old\n                </div>\n            )}\n        />\n    );\n}\n```\n\n### Example 3: Layout Component\n\n```javascript\nfunction Layout({ header, sidebar, main, footer }) {\n    return (\n        <div className="layout">\n            <header>{header}</header>\n            <div className="layout-body">\n                <aside>{sidebar}</aside>\n                <main>{main}</main>\n            </div>\n            <footer>{footer}</footer>\n        </div>\n    );\n}\n\n// Usage\nfunction App() {\n    return (\n        <Layout\n            header={<h1>My App</h1>}\n            sidebar={<nav>Navigation</nav>}\n            main={<div>Main content</div>}\n            footer={<p>Footer</p>}\n        />\n    );\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Building Components\n\n**Objective**: Practice creating functional components, working with props, and composing components.\n\n**Instructions**:\n\n1. Create a React project\n2. Create multiple components\n3. Practice:\n   - Creating functional components\n   - Passing and using props\n   - Composing components\n   - Building reusable components\n\n**Example Solution**:\n\n```javascript\n// src/components/Button.jsx\nimport React from ''react'';\n\nfunction Button({ text, onClick, variant = ''primary'', disabled = false }) {\n    return (\n        <button \n            className={`btn btn-${variant}`}\n            onClick={onClick}\n            disabled={disabled}\n        >\n            {text}\n        </button>\n    );\n}\n\nexport default Button;\n```\n\n```javascript\n// src/components/Card.jsx\nimport React from ''react'';\n\nfunction Card({ title, description, image, children }) {\n    return (\n        <div className="card">\n            {image && <img src={image} alt={title} className="card-image" />}\n            <div className="card-content">\n                <h3 className="card-title">{title}</h3>\n                {description && <p className="card-description">{description}</p>}\n                {children}\n            </div>\n        </div>\n    );\n}\n\nexport default Card;\n```\n\n```javascript\n// src/components/UserCard.jsx\nimport React from ''react'';\nimport Card from ''./Card'';\nimport Button from ''./Button'';\n\nfunction UserCard({ user, onEdit, onDelete }) {\n    return (\n        <Card \n            title={user.name}\n            description={`Age: ${user.age} | Email: ${user.email}`}\n        >\n            <div className="card-actions">\n                <Button text="Edit" onClick={() => onEdit(user.id)} variant="secondary" />\n                <Button text="Delete" onClick={() => onDelete(user.id)} variant="danger" />\n            </div>\n        </Card>\n    );\n}\n\nexport default UserCard;\n```\n\n```javascript\n// src/components/UserList.jsx\nimport React from ''react'';\nimport UserCard from ''./UserCard'';\n\nfunction UserList({ users, onEdit, onDelete }) {\n    if (users.length === 0) {\n        return <p>No users found</p>;\n    }\n    \n    return (\n        <div className="user-list">\n            {users.map(user => (\n                <UserCard \n                    key={user.id}\n                    user={user}\n                    onEdit={onEdit}\n                    onDelete={onDelete}\n                />\n            ))}\n        </div>\n    );\n}\n\nexport default UserList;\n```\n\n```javascript\n// src/components/Header.jsx\nimport React from ''react'';\n\nfunction Header({ title, subtitle }) {\n    return (\n        <header className="header">\n            <h1>{title}</h1>\n            {subtitle && <p className="subtitle">{subtitle}</p>}\n        </header>\n    );\n}\n\nexport default Header;\n```\n\n```javascript\n// src/components/Layout.jsx\nimport React from ''react'';\n\nfunction Layout({ header, children, footer }) {\n    return (\n        <div className="layout">\n            {header && <header>{header}</header>}\n            <main className="main-content">\n                {children}\n            </main>\n            {footer && <footer>{footer}</footer>}\n        </div>\n    );\n}\n\nexport default Layout;\n```\n\n```javascript\n// src/App.jsx\nimport React from ''react'';\nimport Layout from ''./components/Layout'';\nimport Header from ''./components/Header'';\nimport UserList from ''./components/UserList'';\nimport Button from ''./components/Button'';\nimport ''./App.css'';\n\nfunction App() {\n    const users = [\n        { id: 1, name: ''Alice'', age: 30, email: ''alice@example.com'' },\n        { id: 2, name: ''Bob'', age: 25, email: ''bob@example.com'' },\n        { id: 3, name: ''Charlie'', age: 35, email: ''charlie@example.com'' }\n    ];\n    \n    const handleEdit = (userId) => {\n        console.log(''Edit user:'', userId);\n        alert(`Editing user ${userId}`);\n    };\n    \n    const handleDelete = (userId) => {\n        console.log(''Delete user:'', userId);\n        if (confirm(''Are you sure?'')) {\n            alert(`Deleting user ${userId}`);\n        }\n    };\n    \n    return (\n        <Layout\n            header={\n                <Header \n                    title="User Management"\n                    subtitle="Manage your users"\n                />\n            }\n            footer={\n                <div className="footer">\n                    <p>&copy; 2024 My App</p>\n                </div>\n            }\n        >\n            <div className="app-content">\n                <div className="actions">\n                    <Button \n                        text="Add User" \n                        onClick={() => alert(''Add user'')}\n                        variant="primary"\n                    />\n                </div>\n                \n                <UserList \n                    users={users}\n                    onEdit={handleEdit}\n                    onDelete={handleDelete}\n                />\n            </div>\n        </Layout>\n    );\n}\n\nexport default App;\n```\n\n```css\n/* src/App.css */\n.layout {\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n}\n\n.main-content {\n    flex: 1;\n    padding: 20px;\n    max-width: 1200px;\n    margin: 0 auto;\n    width: 100%;\n}\n\n.header {\n    background-color: #282c34;\n    color: white;\n    padding: 20px;\n    text-align: center;\n}\n\n.header h1 {\n    margin: 0;\n    color: #61dafb;\n}\n\n.subtitle {\n    margin: 10px 0 0 0;\n    opacity: 0.8;\n}\n\n.app-content {\n    padding: 20px;\n}\n\n.actions {\n    margin-bottom: 20px;\n}\n\n.footer {\n    background-color: #282c34;\n    color: white;\n    padding: 10px;\n    text-align: center;\n}\n\n.user-list {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 20px;\n}\n\n.card {\n    border: 1px solid #ddd;\n    border-radius: 8px;\n    overflow: hidden;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    transition: transform 0.2s;\n}\n\n.card:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0,0,0,0.2);\n}\n\n.card-image {\n    width: 100%;\n    height: 200px;\n    object-fit: cover;\n}\n\n.card-content {\n    padding: 15px;\n}\n\n.card-title {\n    margin: 0 0 10px 0;\n    color: #333;\n}\n\n.card-description {\n    margin: 0 0 15px 0;\n    color: #666;\n}\n\n.card-actions {\n    display: flex;\n    gap: 10px;\n    margin-top: 15px;\n}\n\n.btn {\n    padding: 8px 16px;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 14px;\n    transition: background-color 0.2s;\n}\n\n.btn-primary {\n    background-color: #007bff;\n    color: white;\n}\n\n.btn-primary:hover {\n    background-color: #0056b3;\n}\n\n.btn-secondary {\n    background-color: #6c757d;\n    color: white;\n}\n\n.btn-secondary:hover {\n    background-color: #545b62;\n}\n\n.btn-danger {\n    background-color: #dc3545;\n    color: white;\n}\n\n.btn-danger:hover {\n    background-color: #c82333;\n}\n\n.btn:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n}\n```\n\n**Expected Output** (in browser):\n- Layout with header and footer\n- User list with cards\n- Interactive buttons\n- Styled components\n\n**Challenge (Optional)**:\n- Build a complete component library\n- Create complex component compositions\n- Add PropTypes validation\n- Build a real application\n\n---\n\n## Common Mistakes\n\n### 1. Modifying Props\n\n```javascript\n// ❌ Bad: Modify props\nfunction User({ name }) {\n    name = name.toUpperCase();  // Error\n    return <h1>{name}</h1>;\n}\n\n// ✅ Good: Use props as-is or create new variable\nfunction User({ name }) {\n    const upperName = name.toUpperCase();\n    return <h1>{upperName}</h1>;\n}\n```\n\n### 2. Missing Keys in Lists\n\n```javascript\n// ❌ Bad: No key\n{users.map(user => <UserCard user={user} />)}\n\n// ✅ Good: With key\n{users.map(user => <UserCard key={user.id} user={user} />)}\n```\n\n### 3. Not Destructuring Props\n\n```javascript\n// ❌ Bad: Access via props object\nfunction User(props) {\n    return <h1>{props.name}</h1>;\n}\n\n// ✅ Good: Destructure props\nfunction User({ name }) {\n    return <h1>{name}</h1>;\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **Components**: Building blocks of React apps\n2. **Functional Components**: Preferred way (with hooks)\n3. **Props**: Data passed from parent to child\n4. **Props are Read-Only**: Don''t modify props\n5. **Composition**: Combine components to build UIs\n6. **Reusability**: Create reusable components\n7. **Best Practice**: Destructure props, add keys, use functional components\n\n---\n\n## Quiz: Components\n\nTest your understanding with these questions:\n\n1. **Components are:**\n   - A) Reusable\n   - B) Independent\n   - C) Both\n   - D) Neither\n\n2. **Props are:**\n   - A) Read-only\n   - B) Mutable\n   - C) Both\n   - D) Neither\n\n3. **Functional components:**\n   - A) Preferred\n   - B) Deprecated\n   - C) Both\n   - D) Neither\n\n4. **Props passed:**\n   - A) Parent to child\n   - B) Child to parent\n   - C) Both\n   - D) Neither\n\n5. **children prop:**\n   - A) Special prop\n   - B) Regular prop\n   - C) Both\n   - D) Neither\n\n6. **Component composition:**\n   - A) Combining components\n   - B) Separating components\n   - C) Both\n   - D) Neither\n\n7. **Keys in lists:**\n   - A) Required\n   - B) Optional\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. C) Both\n2. A) Read-only\n3. A) Preferred\n4. A) Parent to child\n5. A) Special prop\n6. A) Combining components\n7. A) Required\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned components and props. You now know:\n- How to create functional components\n- How to work with props\n- How to compose components\n- How to build reusable components\n\n**What''s Next?**\n- Lesson 25.3: State and Events\n- Learn useState hook\n- Handle events in React\n- Work with controlled components\n\n---\n\n## Additional Resources\n\n- **React Components**: [react.dev/learn/your-first-component](https://react.dev/learn/your-first-component)\n- **Props**: [react.dev/learn/passing-props-to-a-component](https://react.dev/learn/passing-props-to-a-component)\n- **Component Composition**: [react.dev/learn/passing-data-deeply-with-context](https://react.dev/learn/passing-data-deeply-with-context)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 10:07:13', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Create functional components\n- Understand class components\n- Work with props\n- Compose components\n- Build reusable components\n- Pass data between components\n- Structure React applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (176, 65, 16, 'Props and State', 'props-and-state', '# Lesson 25.3: State and Events\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use useState hook\n- Handle events in React\n- Create controlled components\n- Lift state up\n- Manage component state\n- Build interactive components\n- Create dynamic UIs\n\n---\n\n## Introduction to State\n\nState is data that can change over time. When state changes, React re-renders the component.\n\n### What is State?\n\n- **Dynamic Data**: Data that can change\n- **Component Memory**: Remembers values between renders\n- **Triggers Re-render**: Component updates when state changes\n- **Local to Component**: Each component has its own state\n\n### State vs Props\n\n```javascript\n// Props: Passed from parent (read-only)\nfunction User({ name }) {\n    return <h1>{name}</h1>;  // name comes from props\n}\n\n// State: Managed by component (can change)\nfunction Counter() {\n    const [count, setCount] = useState(0);  // count is state\n    return <h1>{count}</h1>;\n}\n```\n\n---\n\n## useState Hook\n\n### Basic useState\n\n```javascript\nimport { useState } from ''react'';\n\nfunction Counter() {\n    const [count, setCount] = useState(0);\n    \n    return (\n        <div>\n            <p>Count: {count}</p>\n            <button onClick={() => setCount(count + 1)}>\n                Increment\n            </button>\n        </div>\n    );\n}\n```\n\n### useState Syntax\n\n```javascript\n// useState returns array: [value, setter]\nconst [state, setState] = useState(initialValue);\n\n// Example\nconst [name, setName] = useState(''Alice'');\nconst [age, setAge] = useState(30);\nconst [isActive, setIsActive] = useState(true);\n```\n\n### Updating State\n\n```javascript\nfunction Counter() {\n    const [count, setCount] = useState(0);\n    \n    // Direct update\n    const increment = () => {\n        setCount(count + 1);\n    };\n    \n    // Functional update (when new state depends on old)\n    const increment = () => {\n        setCount(prevCount => prevCount + 1);\n    };\n    \n    // Multiple updates\n    const reset = () => {\n        setCount(0);\n    };\n    \n    return (\n        <div>\n            <p>Count: {count}</p>\n            <button onClick={increment}>Increment</button>\n            <button onClick={reset}>Reset</button>\n        </div>\n    );\n}\n```\n\n### Multiple State Variables\n\n```javascript\nfunction UserForm() {\n    const [name, setName] = useState('''');\n    const [email, setEmail] = useState('''');\n    const [age, setAge] = useState(0);\n    \n    return (\n        <form>\n            <input \n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                placeholder="Name"\n            />\n            <input \n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder="Email"\n            />\n            <input \n                type="number"\n                value={age}\n                onChange={(e) => setAge(parseInt(e.target.value))}\n                placeholder="Age"\n            />\n        </form>\n    );\n}\n```\n\n### State with Objects\n\n```javascript\nfunction UserProfile() {\n    const [user, setUser] = useState({\n        name: '''',\n        email: '''',\n        age: 0\n    });\n    \n    // Update object state\n    const updateName = (name) => {\n        setUser({ ...user, name });  // Spread operator\n    };\n    \n    const updateEmail = (email) => {\n        setUser(prevUser => ({ ...prevUser, email }));\n    };\n    \n    return (\n        <div>\n            <input \n                value={user.name}\n                onChange={(e) => updateName(e.target.value)}\n            />\n            <input \n                value={user.email}\n                onChange={(e) => updateEmail(e.target.value)}\n            />\n        </div>\n    );\n}\n```\n\n### State with Arrays\n\n```javascript\nfunction TodoList() {\n    const [todos, setTodos] = useState([]);\n    const [input, setInput] = useState('''');\n    \n    const addTodo = () => {\n        if (input.trim()) {\n            setTodos([...todos, input]);\n            setInput('''');\n        }\n    };\n    \n    const removeTodo = (index) => {\n        setTodos(todos.filter((_, i) => i !== index));\n    };\n    \n    return (\n        <div>\n            <input \n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n            />\n            <button onClick={addTodo}>Add</button>\n            <ul>\n                {todos.map((todo, index) => (\n                    <li key={index}>\n                        {todo}\n                        <button onClick={() => removeTodo(index)}>Remove</button>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n```\n\n---\n\n## Event Handling\n\n### Basic Event Handling\n\n```javascript\nfunction Button() {\n    const handleClick = () => {\n        console.log(''Button clicked!'');\n    };\n    \n    return <button onClick={handleClick}>Click me</button>;\n}\n```\n\n### Event Object\n\n```javascript\nfunction Input() {\n    const handleChange = (event) => {\n        console.log(''Value:'', event.target.value);\n    };\n    \n    return <input onChange={handleChange} />;\n}\n```\n\n### Common Events\n\n```javascript\nfunction EventExamples() {\n    const handleClick = () => console.log(''Clicked'');\n    const handleChange = (e) => console.log(''Changed:'', e.target.value);\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(''Submitted'');\n    };\n    const handleMouseEnter = () => console.log(''Mouse entered'');\n    const handleMouseLeave = () => console.log(''Mouse left'');\n    const handleFocus = () => console.log(''Focused'');\n    const handleBlur = () => console.log(''Blurred'');\n    \n    return (\n        <div>\n            <button onClick={handleClick}>Click</button>\n            <input onChange={handleChange} />\n            <form onSubmit={handleSubmit}>\n                <button type="submit">Submit</button>\n            </form>\n            <div \n                onMouseEnter={handleMouseEnter}\n                onMouseLeave={handleMouseLeave}\n            >\n                Hover me\n            </div>\n            <input \n                onFocus={handleFocus}\n                onBlur={handleBlur}\n            />\n        </div>\n    );\n}\n```\n\n### Passing Arguments\n\n```javascript\nfunction TodoList() {\n    const [todos, setTodos] = useState([''Task 1'', ''Task 2'']);\n    \n    const handleRemove = (index) => {\n        setTodos(todos.filter((_, i) => i !== index));\n    };\n    \n    return (\n        <ul>\n            {todos.map((todo, index) => (\n                <li key={index}>\n                    {todo}\n                    <button onClick={() => handleRemove(index)}>\n                        Remove\n                    </button>\n                </li>\n            ))}\n        </ul>\n    );\n}\n```\n\n---\n\n## Controlled Components\n\n### What are Controlled Components?\n\nControlled components have their value controlled by React state.\n\n### Input Example\n\n```javascript\nfunction ControlledInput() {\n    const [value, setValue] = useState('''');\n    \n    const handleChange = (e) => {\n        setValue(e.target.value);\n    };\n    \n    return (\n        <input \n            type="text"\n            value={value}\n            onChange={handleChange}\n        />\n    );\n}\n```\n\n### Form Example\n\n```javascript\nfunction LoginForm() {\n    const [email, setEmail] = useState('''');\n    const [password, setPassword] = useState('''');\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(''Email:'', email);\n        console.log(''Password:'', password);\n        // Handle login\n    };\n    \n    return (\n        <form onSubmit={handleSubmit}>\n            <input\n                type="email"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                placeholder="Email"\n            />\n            <input\n                type="password"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder="Password"\n            />\n            <button type="submit">Login</button>\n        </form>\n    );\n}\n```\n\n### Select Example\n\n```javascript\nfunction SelectExample() {\n    const [selected, setSelected] = useState('''');\n    \n    return (\n        <select value={selected} onChange={(e) => setSelected(e.target.value)}>\n            <option value="">Choose...</option>\n            <option value="option1">Option 1</option>\n            <option value="option2">Option 2</option>\n            <option value="option3">Option 3</option>\n        </select>\n    );\n}\n```\n\n---\n\n## Lifting State Up\n\n### What is Lifting State Up?\n\nMoving state from child to parent component so multiple children can share it.\n\n### Example: Temperature Converter\n\n```javascript\n// Child component\nfunction TemperatureInput({ temperature, scale, onTemperatureChange }) {\n    return (\n        <fieldset>\n            <legend>Enter temperature in {scale}:</legend>\n            <input\n                value={temperature}\n                onChange={(e) => onTemperatureChange(e.target.value)}\n            />\n        </fieldset>\n    );\n}\n\n// Parent component\nfunction Calculator() {\n    const [celsius, setCelsius] = useState('''');\n    const [fahrenheit, setFahrenheit] = useState('''');\n    \n    const handleCelsiusChange = (value) => {\n        setCelsius(value);\n        setFahrenheit(value ? (parseFloat(value) * 9 / 5 + 32).toString() : '''');\n    };\n    \n    const handleFahrenheitChange = (value) => {\n        setFahrenheit(value);\n        setCelsius(value ? ((parseFloat(value) - 32) * 5 / 9).toString() : '''');\n    };\n    \n    return (\n        <div>\n            <TemperatureInput\n                scale="celsius"\n                temperature={celsius}\n                onTemperatureChange={handleCelsiusChange}\n            />\n            <TemperatureInput\n                scale="fahrenheit"\n                temperature={fahrenheit}\n                onTemperatureChange={handleFahrenheitChange}\n            />\n        </div>\n    );\n}\n```\n\n### Example: Shared Counter\n\n```javascript\n// Child component\nfunction Counter({ count, onIncrement, onDecrement }) {\n    return (\n        <div>\n            <p>Count: {count}</p>\n            <button onClick={onIncrement}>+</button>\n            <button onClick={onDecrement}>-</button>\n        </div>\n    );\n}\n\n// Parent component\nfunction App() {\n    const [count, setCount] = useState(0);\n    \n    return (\n        <div>\n            <Counter\n                count={count}\n                onIncrement={() => setCount(count + 1)}\n                onDecrement={() => setCount(count - 1)}\n            />\n            <p>Total: {count}</p>\n        </div>\n    );\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: State Management\n\n**Objective**: Practice using useState, handling events, creating controlled components, and lifting state up.\n\n**Instructions**:\n\n1. Create a React project\n2. Build interactive components\n3. Practice:\n   - Using useState hook\n   - Handling events\n   - Creating controlled components\n   - Lifting state up\n\n**Example Solution**:\n\n```javascript\n// src/components/Counter.jsx\nimport React, { useState } from ''react'';\n\nfunction Counter() {\n    const [count, setCount] = useState(0);\n    \n    const increment = () => setCount(count + 1);\n    const decrement = () => setCount(count - 1);\n    const reset = () => setCount(0);\n    \n    return (\n        <div className="counter">\n            <h2>Counter</h2>\n            <p className="count-display">Count: {count}</p>\n            <div className="buttons">\n                <button onClick={decrement}>-</button>\n                <button onClick={reset}>Reset</button>\n                <button onClick={increment}>+</button>\n            </div>\n        </div>\n    );\n}\n\nexport default Counter;\n```\n\n```javascript\n// src/components/Form.jsx\nimport React, { useState } from ''react'';\n\nfunction Form({ onSubmit }) {\n    const [formData, setFormData] = useState({\n        name: '''',\n        email: '''',\n        message: ''''\n    });\n    \n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: value\n        }));\n    };\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        onSubmit(formData);\n        setFormData({ name: '''', email: '''', message: '''' });\n    };\n    \n    return (\n        <form onSubmit={handleSubmit} className="form">\n            <div className="form-group">\n                <label>Name:</label>\n                <input\n                    type="text"\n                    name="name"\n                    value={formData.name}\n                    onChange={handleChange}\n                    required\n                />\n            </div>\n            <div className="form-group">\n                <label>Email:</label>\n                <input\n                    type="email"\n                    name="email"\n                    value={formData.email}\n                    onChange={handleChange}\n                    required\n                />\n            </div>\n            <div className="form-group">\n                <label>Message:</label>\n                <textarea\n                    name="message"\n                    value={formData.message}\n                    onChange={handleChange}\n                    required\n                />\n            </div>\n            <button type="submit">Submit</button>\n        </form>\n    );\n}\n\nexport default Form;\n```\n\n```javascript\n// src/components/TodoList.jsx\nimport React, { useState } from ''react'';\n\nfunction TodoList() {\n    const [todos, setTodos] = useState([]);\n    const [input, setInput] = useState('''');\n    \n    const addTodo = (e) => {\n        e.preventDefault();\n        if (input.trim()) {\n            setTodos([...todos, {\n                id: Date.now(),\n                text: input,\n                completed: false\n            }]);\n            setInput('''');\n        }\n    };\n    \n    const toggleTodo = (id) => {\n        setTodos(todos.map(todo =>\n            todo.id === id ? { ...todo, completed: !todo.completed } : todo\n        ));\n    };\n    \n    const removeTodo = (id) => {\n        setTodos(todos.filter(todo => todo.id !== id));\n    };\n    \n    return (\n        <div className="todo-list">\n            <h2>Todo List</h2>\n            <form onSubmit={addTodo}>\n                <input\n                    value={input}\n                    onChange={(e) => setInput(e.target.value)}\n                    placeholder="Add todo..."\n                />\n                <button type="submit">Add</button>\n            </form>\n            <ul>\n                {todos.map(todo => (\n                    <li key={todo.id} className={todo.completed ? ''completed'' : ''''}>\n                        <input\n                            type="checkbox"\n                            checked={todo.completed}\n                            onChange={() => toggleTodo(todo.id)}\n                        />\n                        <span>{todo.text}</span>\n                        <button onClick={() => removeTodo(todo.id)}>Remove</button>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default TodoList;\n```\n\n```javascript\n// src/components/ColorPicker.jsx\nimport React, { useState } from ''react'';\n\nfunction ColorPicker() {\n    const [color, setColor] = useState(''#000000'');\n    const [colors, setColors] = useState([]);\n    \n    const handleColorChange = (e) => {\n        setColor(e.target.value);\n    };\n    \n    const saveColor = () => {\n        setColors([...colors, color]);\n    };\n    \n    return (\n        <div className="color-picker">\n            <h2>Color Picker</h2>\n            <div className="picker-controls">\n                <input\n                    type="color"\n                    value={color}\n                    onChange={handleColorChange}\n                />\n                <button onClick={saveColor}>Save Color</button>\n            </div>\n            <div \n                className="color-preview"\n                style={{ backgroundColor: color }}\n            >\n                Selected Color\n            </div>\n            <div className="saved-colors">\n                <h3>Saved Colors:</h3>\n                {colors.map((c, index) => (\n                    <div\n                        key={index}\n                        className="saved-color"\n                        style={{ backgroundColor: c }}\n                        onClick={() => setColor(c)}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default ColorPicker;\n```\n\n```javascript\n// src/components/SharedStateExample.jsx\nimport React, { useState } from ''react'';\n\n// Child component\nfunction Counter({ count, onIncrement, onDecrement, label }) {\n    return (\n        <div className="counter">\n            <h3>{label}</h3>\n            <p>Count: {count}</p>\n            <button onClick={onIncrement}>+</button>\n            <button onClick={onDecrement}>-</button>\n        </div>\n    );\n}\n\n// Parent component\nfunction SharedStateExample() {\n    const [count, setCount] = useState(0);\n    \n    return (\n        <div className="shared-state">\n            <h2>Shared State Example</h2>\n            <p>Total: {count}</p>\n            <div className="counters">\n                <Counter\n                    label="Counter 1"\n                    count={count}\n                    onIncrement={() => setCount(count + 1)}\n                    onDecrement={() => setCount(count - 1)}\n                />\n                <Counter\n                    label="Counter 2"\n                    count={count}\n                    onIncrement={() => setCount(count + 1)}\n                    onDecrement={() => setCount(count - 1)}\n                />\n            </div>\n        </div>\n    );\n}\n\nexport default SharedStateExample;\n```\n\n```javascript\n// src/App.jsx\nimport React, { useState } from ''react'';\nimport Counter from ''./components/Counter'';\nimport Form from ''./components/Form'';\nimport TodoList from ''./components/TodoList'';\nimport ColorPicker from ''./components/ColorPicker'';\nimport SharedStateExample from ''./components/SharedStateExample'';\nimport ''./App.css'';\n\nfunction App() {\n    const [submissions, setSubmissions] = useState([]);\n    \n    const handleFormSubmit = (data) => {\n        setSubmissions([...submissions, data]);\n        alert(''Form submitted!'');\n    };\n    \n    return (\n        <div className="App">\n            <header>\n                <h1>React State and Events Practice</h1>\n            </header>\n            \n            <main>\n                <section>\n                    <Counter />\n                </section>\n                \n                <section>\n                    <h2>Contact Form</h2>\n                    <Form onSubmit={handleFormSubmit} />\n                    {submissions.length > 0 && (\n                        <div className="submissions">\n                            <h3>Submissions:</h3>\n                            {submissions.map((sub, index) => (\n                                <div key={index} className="submission">\n                                    <p><strong>{sub.name}</strong> ({sub.email})</p>\n                                    <p>{sub.message}</p>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </section>\n                \n                <section>\n                    <TodoList />\n                </section>\n                \n                <section>\n                    <ColorPicker />\n                </section>\n                \n                <section>\n                    <SharedStateExample />\n                </section>\n            </main>\n        </div>\n    );\n}\n\nexport default App;\n```\n\n```css\n/* src/App.css */\n.App {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\nheader {\n    text-align: center;\n    margin-bottom: 30px;\n}\n\nsection {\n    margin-bottom: 40px;\n    padding: 20px;\n    border: 1px solid #ddd;\n    border-radius: 8px;\n}\n\n.counter {\n    text-align: center;\n}\n\n.count-display {\n    font-size: 24px;\n    font-weight: bold;\n    margin: 20px 0;\n}\n\n.buttons {\n    display: flex;\n    gap: 10px;\n    justify-content: center;\n}\n\nbutton {\n    padding: 10px 20px;\n    background-color: #007bff;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 16px;\n}\n\nbutton:hover {\n    background-color: #0056b3;\n}\n\n.form {\n    max-width: 400px;\n}\n\n.form-group {\n    margin-bottom: 15px;\n}\n\n.form-group label {\n    display: block;\n    margin-bottom: 5px;\n}\n\n.form-group input,\n.form-group textarea {\n    width: 100%;\n    padding: 8px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n}\n\n.todo-list ul {\n    list-style: none;\n    padding: 0;\n}\n\n.todo-list li {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 10px;\n    margin: 5px 0;\n    background-color: #f5f5f5;\n    border-radius: 4px;\n}\n\n.todo-list li.completed span {\n    text-decoration: line-through;\n    opacity: 0.6;\n}\n\n.color-picker {\n    max-width: 400px;\n}\n\n.picker-controls {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n}\n\n.color-preview {\n    width: 100%;\n    height: 100px;\n    border: 2px solid #ddd;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: white;\n    font-weight: bold;\n    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);\n}\n\n.saved-colors {\n    margin-top: 20px;\n}\n\n.saved-color {\n    width: 50px;\n    height: 50px;\n    border: 2px solid #ddd;\n    border-radius: 4px;\n    display: inline-block;\n    margin: 5px;\n    cursor: pointer;\n}\n\n.shared-state .counters {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 20px;\n}\n\n.submissions {\n    margin-top: 20px;\n}\n\n.submission {\n    padding: 10px;\n    margin: 10px 0;\n    background-color: #f0f0f0;\n    border-radius: 4px;\n}\n```\n\n**Expected Output** (in browser):\n- Interactive counter\n- Working form with controlled inputs\n- Todo list with add/remove/toggle\n- Color picker with saved colors\n- Shared state example\n\n**Challenge (Optional)**:\n- Build a complete interactive app\n- Create complex state management\n- Build forms with validation\n- Practice lifting state up\n\n---\n\n## Common Mistakes\n\n### 1. Mutating State Directly\n\n```javascript\n// ❌ Bad: Mutate state\nconst [items, setItems] = useState([1, 2, 3]);\nitems.push(4);  // Don''t do this!\n\n// ✅ Good: Create new array\nconst [items, setItems] = useState([1, 2, 3]);\nsetItems([...items, 4]);\n```\n\n### 2. Not Using Functional Updates\n\n```javascript\n// ❌ Bad: When state depends on previous state\nconst increment = () => {\n    setCount(count + 1);\n    setCount(count + 1);  // Only increments once!\n};\n\n// ✅ Good: Use functional update\nconst increment = () => {\n    setCount(prev => prev + 1);\n    setCount(prev => prev + 1);  // Increments twice!\n};\n```\n\n### 3. Forgetting to Prevent Default\n\n```javascript\n// ❌ Bad: Form submits and page reloads\nconst handleSubmit = () => {\n    // Process form\n};\n\n// ✅ Good: Prevent default\nconst handleSubmit = (e) => {\n    e.preventDefault();\n    // Process form\n};\n```\n\n---\n\n## Key Takeaways\n\n1. **useState**: Hook for managing state\n2. **State Updates**: Trigger re-renders\n3. **Events**: Handle user interactions\n4. **Controlled Components**: Value controlled by state\n5. **Lifting State**: Move state to common ancestor\n6. **Best Practice**: Don''t mutate state, use functional updates\n7. **Patterns**: Controlled inputs, event handlers, state lifting\n\n---\n\n## Quiz: State and Events\n\nTest your understanding with these questions:\n\n1. **useState returns:**\n   - A) [value, setter]\n   - B) {value, setter}\n   - C) value only\n   - D) Nothing\n\n2. **State changes:**\n   - A) Trigger re-render\n   - B) Don''t trigger re-render\n   - C) Both\n   - D) Neither\n\n3. **Controlled component:**\n   - A) Value from state\n   - B) Value from DOM\n   - C) Both\n   - D) Neither\n\n4. **Event handlers:**\n   - A) Handle user interactions\n   - B) Handle state\n   - C) Both\n   - D) Neither\n\n5. **Lifting state:**\n   - A) Move to parent\n   - B) Move to child\n   - C) Both\n   - D) Neither\n\n6. **State should be:**\n   - A) Immutable\n   - B) Mutable\n   - C) Both\n   - D) Neither\n\n7. **Functional update:**\n   - A) Uses previous state\n   - B) Uses current state\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) [value, setter]\n2. A) Trigger re-render\n3. A) Value from state\n4. A) Handle user interactions\n5. A) Move to parent\n6. A) Immutable\n7. A) Uses previous state\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 25: React Basics. You now know:\n- React introduction and JSX\n- Components and props\n- State and events\n- How to build interactive React apps\n\n**What''s Next?**\n- Module 26: React Advanced\n- Lesson 26.1: React Hooks\n- Learn useEffect, useContext, useReducer\n- Build custom hooks\n\n---\n\n## Additional Resources\n\n- **React State**: [react.dev/learn/state-a-components-memory](https://react.dev/learn/state-a-components-memory)\n- **Events**: [react.dev/learn/responding-to-events](https://react.dev/learn/responding-to-events)\n- **Controlled Components**: [react.dev/reference/react-dom/components/input#controlling-an-input-with-a-state-variable](https://react.dev/reference/react-dom/components/input#controlling-an-input-with-a-state-variable)\n\n---\n\n*Lesson completed! You''ve finished Module 25: React Basics. Ready for Module 26: React Advanced!*\n\n', NULL, 3, '2026-01-03 10:07:13', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use useState hook\n- Handle events in React\n- Create controlled components\n- Lift state up\n- Manage component state\n- Build interactive components\n- Create dynamic UIs');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (177, 66, 16, 'React Hooks', 'react-hooks', '# Lesson 26.1: React Hooks\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use useEffect hook\n- Use useContext hook\n- Use useReducer hook\n- Create custom hooks\n- Manage side effects\n- Share context across components\n- Handle complex state logic\n- Build reusable hook logic\n\n---\n\n## Introduction to Hooks\n\nHooks are functions that let you "hook into" React features from functional components.\n\n### What are Hooks?\n\n- **Functional Components**: Use state and lifecycle in functions\n- **Reusable Logic**: Share stateful logic between components\n- **No Classes**: Don''t need class components\n- **Rules**: Only call at top level, only in React functions\n\n### Built-in Hooks\n\n```javascript\n// State\nuseState        // Manage state\nuseReducer      // Complex state logic\n\n// Effects\nuseEffect       // Side effects\nuseLayoutEffect // Synchronous effects\n\n// Context\nuseContext      // Access context\n\n// Refs\nuseRef          // DOM refs\nuseImperativeHandle // Custom refs\n\n// Performance\nuseMemo         // Memoize values\nuseCallback     // Memoize functions\n\n// Custom\n// Create your own hooks\n```\n\n---\n\n## useEffect Hook\n\n### What is useEffect?\n\nuseEffect lets you perform side effects in functional components.\n\n### Basic useEffect\n\n```javascript\nimport { useState, useEffect } from ''react'';\n\nfunction Counter() {\n    const [count, setCount] = useState(0);\n    \n    // Runs after every render\n    useEffect(() => {\n        document.title = `Count: ${count}`;\n    });\n    \n    return (\n        <div>\n            <p>Count: {count}</p>\n            <button onClick={() => setCount(count + 1)}>Increment</button>\n        </div>\n    );\n}\n```\n\n### useEffect with Dependencies\n\n```javascript\n// Runs only on mount\nuseEffect(() => {\n    console.log(''Component mounted'');\n}, []);  // Empty dependency array\n\n// Runs when count changes\nuseEffect(() => {\n    console.log(''Count changed:'', count);\n}, [count]);  // Dependency array\n\n// Runs when count or name changes\nuseEffect(() => {\n    console.log(''Count or name changed'');\n}, [count, name]);\n```\n\n### Cleanup Function\n\n```javascript\nfunction Timer() {\n    const [seconds, setSeconds] = useState(0);\n    \n    useEffect(() => {\n        const interval = setInterval(() => {\n            setSeconds(prev => prev + 1);\n        }, 1000);\n        \n        // Cleanup function\n        return () => {\n            clearInterval(interval);\n        };\n    }, []);  // Run once on mount\n    \n    return <div>Seconds: {seconds}</div>;\n}\n```\n\n### Fetching Data\n\n```javascript\nfunction UserProfile({ userId }) {\n    const [user, setUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    \n    useEffect(() => {\n        // Reset state\n        setLoading(true);\n        setError(null);\n        \n        // Fetch data\n        fetch(`/api/users/${userId}`)\n            .then(response => response.json())\n            .then(data => {\n                setUser(data);\n                setLoading(false);\n            })\n            .catch(err => {\n                setError(err.message);\n                setLoading(false);\n            });\n    }, [userId]);  // Re-fetch when userId changes\n    \n    if (loading) return <div>Loading...</div>;\n    if (error) return <div>Error: {error}</div>;\n    if (!user) return <div>No user found</div>;\n    \n    return (\n        <div>\n            <h1>{user.name}</h1>\n            <p>{user.email}</p>\n        </div>\n    );\n}\n```\n\n### Multiple useEffect Hooks\n\n```javascript\nfunction Component() {\n    const [count, setCount] = useState(0);\n    const [name, setName] = useState('''');\n    \n    // Separate effects for different concerns\n    useEffect(() => {\n        document.title = `Count: ${count}`;\n    }, [count]);\n    \n    useEffect(() => {\n        console.log(''Name changed:'', name);\n    }, [name]);\n    \n    useEffect(() => {\n        // Setup\n        console.log(''Component mounted'');\n        \n        return () => {\n            // Cleanup\n            console.log(''Component unmounted'');\n        };\n    }, []);\n    \n    return <div>...</div>;\n}\n```\n\n---\n\n## useContext Hook\n\n### What is useContext?\n\nuseContext lets you access context values without prop drilling.\n\n### Creating Context\n\n```javascript\nimport { createContext, useContext } from ''react'';\n\n// Create context\nconst ThemeContext = createContext(''light'');\n\n// Provider component\nfunction ThemeProvider({ children }) {\n    const [theme, setTheme] = useState(''light'');\n    \n    return (\n        <ThemeContext.Provider value={{ theme, setTheme }}>\n            {children}\n        </ThemeContext.Provider>\n    );\n}\n\n// Custom hook to use context\nfunction useTheme() {\n    const context = useContext(ThemeContext);\n    if (!context) {\n        throw new Error(''useTheme must be used within ThemeProvider'');\n    }\n    return context;\n}\n```\n\n### Using Context\n\n```javascript\n// Child component\nfunction Button() {\n    const { theme, setTheme } = useTheme();\n    \n    return (\n        <button \n            className={`btn btn-${theme}`}\n            onClick={() => setTheme(theme === ''light'' ? ''dark'' : ''light'')}\n        >\n            Toggle Theme\n        </button>\n    );\n}\n\n// App component\nfunction App() {\n    return (\n        <ThemeProvider>\n            <Button />\n        </ThemeProvider>\n    );\n}\n```\n\n### Multiple Contexts\n\n```javascript\n// Theme context\nconst ThemeContext = createContext();\n\n// User context\nconst UserContext = createContext();\n\nfunction App() {\n    return (\n        <ThemeProvider>\n            <UserProvider>\n                <Component />\n            </UserProvider>\n        </ThemeProvider>\n    );\n}\n\nfunction Component() {\n    const theme = useContext(ThemeContext);\n    const user = useContext(UserContext);\n    \n    return <div>...</div>;\n}\n```\n\n### Context Example: User Authentication\n\n```javascript\n// AuthContext.jsx\nimport { createContext, useContext, useState, useEffect } from ''react'';\n\nconst AuthContext = createContext();\n\nexport function AuthProvider({ children }) {\n    const [user, setUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n    \n    useEffect(() => {\n        // Check if user is logged in\n        const savedUser = localStorage.getItem(''user'');\n        if (savedUser) {\n            setUser(JSON.parse(savedUser));\n        }\n        setLoading(false);\n    }, []);\n    \n    const login = (userData) => {\n        setUser(userData);\n        localStorage.setItem(''user'', JSON.stringify(userData));\n    };\n    \n    const logout = () => {\n        setUser(null);\n        localStorage.removeItem(''user'');\n    };\n    \n    return (\n        <AuthContext.Provider value={{ user, login, logout, loading }}>\n            {children}\n        </AuthContext.Provider>\n    );\n}\n\nexport function useAuth() {\n    const context = useContext(AuthContext);\n    if (!context) {\n        throw new Error(''useAuth must be used within AuthProvider'');\n    }\n    return context;\n}\n```\n\n```javascript\n// Using AuthContext\nfunction LoginButton() {\n    const { user, login, logout } = useAuth();\n    \n    if (user) {\n        return (\n            <div>\n                <p>Welcome, {user.name}!</p>\n                <button onClick={logout}>Logout</button>\n            </div>\n        );\n    }\n    \n    return (\n        <button onClick={() => login({ name: ''Alice'', id: 1 })}>\n            Login\n        </button>\n    );\n}\n```\n\n---\n\n## useReducer Hook\n\n### What is useReducer?\n\nuseReducer is an alternative to useState for managing complex state logic.\n\n### Basic useReducer\n\n```javascript\nimport { useReducer } from ''react'';\n\n// Reducer function\nfunction counterReducer(state, action) {\n    switch (action.type) {\n        case ''increment'':\n            return { count: state.count + 1 };\n        case ''decrement'':\n            return { count: state.count - 1 };\n        case ''reset'':\n            return { count: 0 };\n        default:\n            return state;\n    }\n}\n\nfunction Counter() {\n    const [state, dispatch] = useReducer(counterReducer, { count: 0 });\n    \n    return (\n        <div>\n            <p>Count: {state.count}</p>\n            <button onClick={() => dispatch({ type: ''increment'' })}>+</button>\n            <button onClick={() => dispatch({ type: ''decrement'' })}>-</button>\n            <button onClick={() => dispatch({ type: ''reset'' })}>Reset</button>\n        </div>\n    );\n}\n```\n\n### Complex State with useReducer\n\n```javascript\n// Reducer for todo list\nfunction todoReducer(state, action) {\n    switch (action.type) {\n        case ''add'':\n            return {\n                ...state,\n                todos: [...state.todos, {\n                    id: Date.now(),\n                    text: action.text,\n                    completed: false\n                }]\n            };\n        case ''toggle'':\n            return {\n                ...state,\n                todos: state.todos.map(todo =>\n                    todo.id === action.id\n                        ? { ...todo, completed: !todo.completed }\n                        : todo\n                )\n            };\n        case ''delete'':\n            return {\n                ...state,\n                todos: state.todos.filter(todo => todo.id !== action.id)\n            };\n        case ''setFilter'':\n            return {\n                ...state,\n                filter: action.filter\n            };\n        default:\n            return state;\n    }\n}\n\nfunction TodoApp() {\n    const [state, dispatch] = useReducer(todoReducer, {\n        todos: [],\n        filter: ''all''\n    });\n    \n    const addTodo = (text) => {\n        dispatch({ type: ''add'', text });\n    };\n    \n    const toggleTodo = (id) => {\n        dispatch({ type: ''toggle'', id });\n    };\n    \n    const deleteTodo = (id) => {\n        dispatch({ type: ''delete'', id });\n    };\n    \n    const filteredTodos = state.todos.filter(todo => {\n        if (state.filter === ''active'') return !todo.completed;\n        if (state.filter === ''completed'') return todo.completed;\n        return true;\n    });\n    \n    return (\n        <div>\n            <input\n                onKeyPress={(e) => {\n                    if (e.key === ''Enter'') {\n                        addTodo(e.target.value);\n                        e.target.value = '''';\n                    }\n                }}\n            />\n            <div>\n                <button onClick={() => dispatch({ type: ''setFilter'', filter: ''all'' })}>\n                    All\n                </button>\n                <button onClick={() => dispatch({ type: ''setFilter'', filter: ''active'' })}>\n                    Active\n                </button>\n                <button onClick={() => dispatch({ type: ''setFilter'', filter: ''completed'' })}>\n                    Completed\n                </button>\n            </div>\n            <ul>\n                {filteredTodos.map(todo => (\n                    <li key={todo.id}>\n                        <input\n                            type="checkbox"\n                            checked={todo.completed}\n                            onChange={() => toggleTodo(todo.id)}\n                        />\n                        {todo.text}\n                        <button onClick={() => deleteTodo(todo.id)}>Delete</button>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n```\n\n### useReducer vs useState\n\n```javascript\n// useState: Simple state\nconst [count, setCount] = useState(0);\n\n// useReducer: Complex state logic\nconst [state, dispatch] = useReducer(reducer, initialState);\n\n// When to use useReducer:\n// - Complex state logic\n// - Multiple sub-values\n// - Next state depends on previous\n// - Better for testing\n```\n\n---\n\n## Custom Hooks\n\n### What are Custom Hooks?\n\nCustom hooks are functions that use other hooks to encapsulate reusable logic.\n\n### Basic Custom Hook\n\n```javascript\n// Custom hook: useCounter\nfunction useCounter(initialValue = 0) {\n    const [count, setCount] = useState(initialValue);\n    \n    const increment = () => setCount(count + 1);\n    const decrement = () => setCount(count - 1);\n    const reset = () => setCount(initialValue);\n    \n    return { count, increment, decrement, reset };\n}\n\n// Using custom hook\nfunction Counter() {\n    const { count, increment, decrement, reset } = useCounter(0);\n    \n    return (\n        <div>\n            <p>Count: {count}</p>\n            <button onClick={increment}>+</button>\n            <button onClick={decrement}>-</button>\n            <button onClick={reset}>Reset</button>\n        </div>\n    );\n}\n```\n\n### Custom Hook: useFetch\n\n```javascript\n// Custom hook: useFetch\nfunction useFetch(url) {\n    const [data, setData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    \n    useEffect(() => {\n        setLoading(true);\n        setError(null);\n        \n        fetch(url)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(''Network response was not ok'');\n                }\n                return response.json();\n            })\n            .then(data => {\n                setData(data);\n                setLoading(false);\n            })\n            .catch(err => {\n                setError(err.message);\n                setLoading(false);\n            });\n    }, [url]);\n    \n    return { data, loading, error };\n}\n\n// Using custom hook\nfunction UserProfile({ userId }) {\n    const { data: user, loading, error } = useFetch(`/api/users/${userId}`);\n    \n    if (loading) return <div>Loading...</div>;\n    if (error) return <div>Error: {error}</div>;\n    if (!user) return <div>No user found</div>;\n    \n    return (\n        <div>\n            <h1>{user.name}</h1>\n            <p>{user.email}</p>\n        </div>\n    );\n}\n```\n\n### Custom Hook: useLocalStorage\n\n```javascript\n// Custom hook: useLocalStorage\nfunction useLocalStorage(key, initialValue) {\n    const [storedValue, setStoredValue] = useState(() => {\n        try {\n            const item = window.localStorage.getItem(key);\n            return item ? JSON.parse(item) : initialValue;\n        } catch (error) {\n            console.error(error);\n            return initialValue;\n        }\n    });\n    \n    const setValue = (value) => {\n        try {\n            setStoredValue(value);\n            window.localStorage.setItem(key, JSON.stringify(value));\n        } catch (error) {\n            console.error(error);\n        }\n    };\n    \n    return [storedValue, setValue];\n}\n\n// Using custom hook\nfunction Settings() {\n    const [theme, setTheme] = useLocalStorage(''theme'', ''light'');\n    const [language, setLanguage] = useLocalStorage(''language'', ''en'');\n    \n    return (\n        <div>\n            <select value={theme} onChange={(e) => setTheme(e.target.value)}>\n                <option value="light">Light</option>\n                <option value="dark">Dark</option>\n            </select>\n            <select value={language} onChange={(e) => setLanguage(e.target.value)}>\n                <option value="en">English</option>\n                <option value="es">Spanish</option>\n            </select>\n        </div>\n    );\n}\n```\n\n### Custom Hook: useDebounce\n\n```javascript\n// Custom hook: useDebounce\nfunction useDebounce(value, delay) {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n    \n    useEffect(() => {\n        const handler = setTimeout(() => {\n            setDebouncedValue(value);\n        }, delay);\n        \n        return () => {\n            clearTimeout(handler);\n        };\n    }, [value, delay]);\n    \n    return debouncedValue;\n}\n\n// Using custom hook\nfunction SearchInput() {\n    const [searchTerm, setSearchTerm] = useState('''');\n    const debouncedSearchTerm = useDebounce(searchTerm, 500);\n    const [results, setResults] = useState([]);\n    \n    useEffect(() => {\n        if (debouncedSearchTerm) {\n            // Perform search\n            fetch(`/api/search?q=${debouncedSearchTerm}`)\n                .then(res => res.json())\n                .then(data => setResults(data));\n        } else {\n            setResults([]);\n        }\n    }, [debouncedSearchTerm]);\n    \n    return (\n        <div>\n            <input\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder="Search..."\n            />\n            <ul>\n                {results.map(result => (\n                    <li key={result.id}>{result.name}</li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Hooks Practice\n\n**Objective**: Practice using useEffect, useContext, useReducer, and creating custom hooks.\n\n**Instructions**:\n\n1. Create a React project\n2. Practice hooks\n3. Practice:\n   - Using useEffect for side effects\n   - Using useContext for context\n   - Using useReducer for complex state\n   - Creating custom hooks\n\n**Example Solution**:\n\n```javascript\n// src/hooks/useCounter.js\nimport { useState } from ''react'';\n\nexport function useCounter(initialValue = 0, step = 1) {\n    const [count, setCount] = useState(initialValue);\n    \n    const increment = () => setCount(count + step);\n    const decrement = () => setCount(count - step);\n    const reset = () => setCount(initialValue);\n    \n    return { count, increment, decrement, reset };\n}\n```\n\n```javascript\n// src/hooks/useFetch.js\nimport { useState, useEffect } from ''react'';\n\nexport function useFetch(url) {\n    const [data, setData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    \n    useEffect(() => {\n        let cancelled = false;\n        \n        setLoading(true);\n        setError(null);\n        \n        fetch(url)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(''Network response was not ok'');\n                }\n                return response.json();\n            })\n            .then(data => {\n                if (!cancelled) {\n                    setData(data);\n                    setLoading(false);\n                }\n            })\n            .catch(err => {\n                if (!cancelled) {\n                    setError(err.message);\n                    setLoading(false);\n                }\n            });\n        \n        return () => {\n            cancelled = true;\n        };\n    }, [url]);\n    \n    return { data, loading, error };\n}\n```\n\n```javascript\n// src/hooks/useLocalStorage.js\nimport { useState, useEffect } from ''react'';\n\nexport function useLocalStorage(key, initialValue) {\n    const [storedValue, setStoredValue] = useState(() => {\n        try {\n            const item = window.localStorage.getItem(key);\n            return item ? JSON.parse(item) : initialValue;\n        } catch (error) {\n            console.error(error);\n            return initialValue;\n        }\n    });\n    \n    const setValue = (value) => {\n        try {\n            const valueToStore = value instanceof Function ? value(storedValue) : value;\n            setStoredValue(valueToStore);\n            window.localStorage.setItem(key, JSON.stringify(valueToStore));\n        } catch (error) {\n            console.error(error);\n        }\n    };\n    \n    return [storedValue, setValue];\n}\n```\n\n```javascript\n// src/contexts/ThemeContext.jsx\nimport { createContext, useContext, useState, useEffect } from ''react'';\n\nconst ThemeContext = createContext();\n\nexport function ThemeProvider({ children }) {\n    const [theme, setTheme] = useLocalStorage(''theme'', ''light'');\n    \n    useEffect(() => {\n        document.documentElement.setAttribute(''data-theme'', theme);\n    }, [theme]);\n    \n    return (\n        <ThemeContext.Provider value={{ theme, setTheme }}>\n            {children}\n        </ThemeContext.Provider>\n    );\n}\n\nexport function useTheme() {\n    const context = useContext(ThemeContext);\n    if (!context) {\n        throw new Error(''useTheme must be used within ThemeProvider'');\n    }\n    return context;\n}\n```\n\n```javascript\n// src/components/Counter.jsx\nimport React from ''react'';\nimport { useCounter } from ''../hooks/useCounter'';\n\nfunction Counter() {\n    const { count, increment, decrement, reset } = useCounter(0);\n    \n    return (\n        <div className="counter">\n            <h2>Counter</h2>\n            <p>Count: {count}</p>\n            <div className="buttons">\n                <button onClick={decrement}>-</button>\n                <button onClick={reset}>Reset</button>\n                <button onClick={increment}>+</button>\n            </div>\n        </div>\n    );\n}\n\nexport default Counter;\n```\n\n```javascript\n// src/components/TodoApp.jsx\nimport React, { useReducer, useState } from ''react'';\n\nfunction todoReducer(state, action) {\n    switch (action.type) {\n        case ''add'':\n            return {\n                ...state,\n                todos: [...state.todos, {\n                    id: Date.now(),\n                    text: action.text,\n                    completed: false\n                }]\n            };\n        case ''toggle'':\n            return {\n                ...state,\n                todos: state.todos.map(todo =>\n                    todo.id === action.id\n                        ? { ...todo, completed: !todo.completed }\n                        : todo\n                )\n            };\n        case ''delete'':\n            return {\n                ...state,\n                todos: state.todos.filter(todo => todo.id !== action.id)\n            };\n        case ''setFilter'':\n            return {\n                ...state,\n                filter: action.filter\n            };\n        default:\n            return state;\n    }\n}\n\nfunction TodoApp() {\n    const [state, dispatch] = useReducer(todoReducer, {\n        todos: [],\n        filter: ''all''\n    });\n    const [input, setInput] = useState('''');\n    \n    const addTodo = () => {\n        if (input.trim()) {\n            dispatch({ type: ''add'', text: input });\n            setInput('''');\n        }\n    };\n    \n    const filteredTodos = state.todos.filter(todo => {\n        if (state.filter === ''active'') return !todo.completed;\n        if (state.filter === ''completed'') return todo.completed;\n        return true;\n    });\n    \n    return (\n        <div className="todo-app">\n            <h2>Todo App</h2>\n            <div className="todo-input">\n                <input\n                    value={input}\n                    onChange={(e) => setInput(e.target.value)}\n                    onKeyPress={(e) => e.key === ''Enter'' && addTodo()}\n                    placeholder="Add todo..."\n                />\n                <button onClick={addTodo}>Add</button>\n            </div>\n            <div className="filters">\n                <button\n                    className={state.filter === ''all'' ? ''active'' : ''''}\n                    onClick={() => dispatch({ type: ''setFilter'', filter: ''all'' })}\n                >\n                    All\n                </button>\n                <button\n                    className={state.filter === ''active'' ? ''active'' : ''''}\n                    onClick={() => dispatch({ type: ''setFilter'', filter: ''active'' })}\n                >\n                    Active\n                </button>\n                <button\n                    className={state.filter === ''completed'' ? ''active'' : ''''}\n                    onClick={() => dispatch({ type: ''setFilter'', filter: ''completed'' })}\n                >\n                    Completed\n                </button>\n            </div>\n            <ul className="todo-list">\n                {filteredTodos.map(todo => (\n                    <li key={todo.id} className={todo.completed ? ''completed'' : ''''}>\n                        <input\n                            type="checkbox"\n                            checked={todo.completed}\n                            onChange={() => dispatch({ type: ''toggle'', id: todo.id })}\n                        />\n                        <span>{todo.text}</span>\n                        <button onClick={() => dispatch({ type: ''delete'', id: todo.id })}>\n                            Delete\n                        </button>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default TodoApp;\n```\n\n```javascript\n// src/components/ThemeToggle.jsx\nimport React from ''react'';\nimport { useTheme } from ''../contexts/ThemeContext'';\n\nfunction ThemeToggle() {\n    const { theme, setTheme } = useTheme();\n    \n    return (\n        <button\n            className="theme-toggle"\n            onClick={() => setTheme(theme === ''light'' ? ''dark'' : ''light'')}\n        >\n            {theme === ''light'' ? ''🌙'' : ''☀️''} {theme}\n        </button>\n    );\n}\n\nexport default ThemeToggle;\n```\n\n```javascript\n// src/components/UserProfile.jsx\nimport React from ''react'';\nimport { useFetch } from ''../hooks/useFetch'';\n\nfunction UserProfile({ userId }) {\n    const { data: user, loading, error } = useFetch(`https://jsonplaceholder.typicode.com/users/${userId}`);\n    \n    if (loading) return <div className="loading">Loading...</div>;\n    if (error) return <div className="error">Error: {error}</div>;\n    if (!user) return <div>No user found</div>;\n    \n    return (\n        <div className="user-profile">\n            <h2>{user.name}</h2>\n            <p><strong>Email:</strong> {user.email}</p>\n            <p><strong>Phone:</strong> {user.phone}</p>\n            <p><strong>Website:</strong> {user.website}</p>\n        </div>\n    );\n}\n\nexport default UserProfile;\n```\n\n```javascript\n// src/App.jsx\nimport React from ''react'';\nimport { ThemeProvider } from ''./contexts/ThemeContext'';\nimport Counter from ''./components/Counter'';\nimport TodoApp from ''./components/TodoApp'';\nimport ThemeToggle from ''./components/ThemeToggle'';\nimport UserProfile from ''./components/UserProfile'';\nimport ''./App.css'';\n\nfunction App() {\n    return (\n        <ThemeProvider>\n            <div className="App">\n                <header>\n                    <h1>React Hooks Practice</h1>\n                    <ThemeToggle />\n                </header>\n                <main>\n                    <section>\n                        <Counter />\n                    </section>\n                    <section>\n                        <TodoApp />\n                    </section>\n                    <section>\n                        <UserProfile userId={1} />\n                    </section>\n                </main>\n            </div>\n        </ThemeProvider>\n    );\n}\n\nexport default App;\n```\n\n```css\n/* src/App.css */\n[data-theme="light"] {\n    --bg-color: #ffffff;\n    --text-color: #000000;\n    --border-color: #ddd;\n}\n\n[data-theme="dark"] {\n    --bg-color: #1a1a1a;\n    --text-color: #ffffff;\n    --border-color: #444;\n}\n\n.App {\n    min-height: 100vh;\n    background-color: var(--bg-color);\n    color: var(--text-color);\n    padding: 20px;\n}\n\nheader {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 30px;\n    padding-bottom: 20px;\n    border-bottom: 2px solid var(--border-color);\n}\n\nsection {\n    margin-bottom: 40px;\n    padding: 20px;\n    border: 1px solid var(--border-color);\n    border-radius: 8px;\n}\n\n.counter, .todo-app {\n    max-width: 500px;\n}\n\n.buttons {\n    display: flex;\n    gap: 10px;\n}\n\nbutton {\n    padding: 8px 16px;\n    background-color: #007bff;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\nbutton:hover {\n    background-color: #0056b3;\n}\n\n.todo-input {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n}\n\n.todo-input input {\n    flex: 1;\n    padding: 8px;\n    border: 1px solid var(--border-color);\n    border-radius: 4px;\n}\n\n.filters {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n}\n\n.filters button.active {\n    background-color: #28a745;\n}\n\n.todo-list {\n    list-style: none;\n    padding: 0;\n}\n\n.todo-list li {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 10px;\n    margin: 5px 0;\n    background-color: var(--bg-color);\n    border: 1px solid var(--border-color);\n    border-radius: 4px;\n}\n\n.todo-list li.completed span {\n    text-decoration: line-through;\n    opacity: 0.6;\n}\n\n.loading, .error {\n    padding: 20px;\n    text-align: center;\n}\n\n.user-profile {\n    max-width: 400px;\n}\n```\n\n**Expected Output** (in browser):\n- Counter with custom hook\n- Todo app with useReducer\n- Theme toggle with context\n- User profile with useFetch\n- All working together\n\n**Challenge (Optional)**:\n- Create more custom hooks\n- Build complex state management\n- Practice all hooks together\n- Build a complete application\n\n---\n\n## Common Mistakes\n\n### 1. Missing Dependencies\n\n```javascript\n// ❌ Bad: Missing dependency\nuseEffect(() => {\n    fetchData(userId);\n}, []);  // Missing userId\n\n// ✅ Good: Include dependencies\nuseEffect(() => {\n    fetchData(userId);\n}, [userId]);\n```\n\n### 2. Infinite Loops\n\n```javascript\n// ❌ Bad: Infinite loop\nuseEffect(() => {\n    setCount(count + 1);\n}, [count]);  // count changes, triggers effect, changes count again\n\n// ✅ Good: Use functional update\nuseEffect(() => {\n    setCount(prev => prev + 1);\n}, []);  // Only run once\n```\n\n### 3. Not Cleaning Up\n\n```javascript\n// ❌ Bad: No cleanup\nuseEffect(() => {\n    const interval = setInterval(() => {\n        // Do something\n    }, 1000);\n    // Missing cleanup\n}, []);\n\n// ✅ Good: Cleanup\nuseEffect(() => {\n    const interval = setInterval(() => {\n        // Do something\n    }, 1000);\n    return () => clearInterval(interval);\n}, []);\n```\n\n---\n\n## Key Takeaways\n\n1. **useEffect**: Handle side effects\n2. **useContext**: Share context across components\n3. **useReducer**: Manage complex state logic\n4. **Custom Hooks**: Reusable logic\n5. **Best Practice**: Clean up effects, include dependencies\n6. **Patterns**: Separate concerns, use custom hooks\n7. **Rules**: Only call hooks at top level\n\n---\n\n## Quiz: Hooks\n\nTest your understanding with these questions:\n\n1. **useEffect runs:**\n   - A) After render\n   - B) Before render\n   - C) Both\n   - D) Neither\n\n2. **useContext:**\n   - A) Accesses context\n   - B) Creates context\n   - C) Both\n   - D) Neither\n\n3. **useReducer:**\n   - A) Complex state\n   - B) Simple state\n   - C) Both\n   - D) Neither\n\n4. **Custom hooks:**\n   - A) Reusable logic\n   - B) Component logic\n   - C) Both\n   - D) Neither\n\n5. **Cleanup function:**\n   - A) Required\n   - B) Optional\n   - C) Both\n   - D) Neither\n\n6. **Dependency array:**\n   - A) Controls when effect runs\n   - B) Doesn''t matter\n   - C) Both\n   - D) Neither\n\n7. **Hooks can be called:**\n   - A) Top level only\n   - B) Anywhere\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) After render\n2. A) Accesses context\n3. A) Complex state\n4. A) Reusable logic\n5. B) Optional (but recommended)\n6. A) Controls when effect runs\n7. A) Top level only\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned React hooks. You now know:\n- How to use useEffect\n- How to use useContext\n- How to use useReducer\n- How to create custom hooks\n\n**What''s Next?**\n- Lesson 26.2: React Router\n- Learn routing in React\n- Set up React Router\n- Handle navigation\n\n---\n\n## Additional Resources\n\n- **React Hooks**: [react.dev/reference/react](https://react.dev/reference/react)\n- **useEffect**: [react.dev/reference/react/useEffect](https://react.dev/reference/react/useEffect)\n- **useContext**: [react.dev/reference/react/useContext](https://react.dev/reference/react/useContext)\n- **useReducer**: [react.dev/reference/react/useReducer](https://react.dev/reference/react/useReducer)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 10:09:12', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use useEffect hook\n- Use useContext hook\n- Use useReducer hook\n- Create custom hooks\n- Manage side effects\n- Share context across components\n- Handle complex state logic\n- Build reusable hook logic');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (178, 66, 16, 'React Router', 'react-router', '# Lesson 26.2: React Router\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Set up React Router\n- Create routes and navigation\n- Handle route parameters\n- Work with nested routes\n- Build single-page applications\n- Implement navigation\n- Handle protected routes\n\n---\n\n## Introduction to React Router\n\nReact Router is a library for routing in React applications. It enables navigation without page refreshes.\n\n### What is React Router?\n\n- **Client-Side Routing**: Navigation without page reload\n- **Single-Page Application**: One HTML page, multiple views\n- **URL-Based Navigation**: URLs reflect current view\n- **History API**: Uses browser history API\n\n### Installation\n\n```bash\n# Install React Router\nnpm install react-router-dom\n```\n\n---\n\n## Setting Up React Router\n\n### Basic Setup\n\n```javascript\n// src/main.jsx or src/index.js\nimport React from ''react'';\nimport ReactDOM from ''react-dom/client'';\nimport { BrowserRouter } from ''react-router-dom'';\nimport App from ''./App'';\n\nReactDOM.createRoot(document.getElementById(''root'')).render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </React.StrictMode>\n);\n```\n\n### Router Types\n\n```javascript\n// BrowserRouter: Uses HTML5 history API (recommended)\nimport { BrowserRouter } from ''react-router-dom'';\n\n// HashRouter: Uses hash in URL (#)\nimport { HashRouter } from ''react-router-dom'';\n\n// MemoryRouter: Keeps history in memory (testing)\nimport { MemoryRouter } from ''react-router-dom'';\n```\n\n---\n\n## Routes and Navigation\n\n### Basic Routes\n\n```javascript\nimport { Routes, Route } from ''react-router-dom'';\n\nfunction App() {\n    return (\n        <Routes>\n            <Route path="/" element={<Home />} />\n            <Route path="/about" element={<About />} />\n            <Route path="/contact" element={<Contact />} />\n        </Routes>\n    );\n}\n```\n\n### Navigation with Link\n\n```javascript\nimport { Link } from ''react-router-dom'';\n\nfunction Navigation() {\n    return (\n        <nav>\n            <Link to="/">Home</Link>\n            <Link to="/about">About</Link>\n            <Link to="/contact">Contact</Link>\n        </nav>\n    );\n}\n```\n\n### Navigation with useNavigate\n\n```javascript\nimport { useNavigate } from ''react-router-dom'';\n\nfunction Button() {\n    const navigate = useNavigate();\n    \n    const handleClick = () => {\n        navigate(''/about'');\n    };\n    \n    return <button onClick={handleClick}>Go to About</button>;\n}\n```\n\n### Complete Example\n\n```javascript\n// src/App.jsx\nimport { Routes, Route } from ''react-router-dom'';\nimport Navigation from ''./components/Navigation'';\nimport Home from ''./pages/Home'';\nimport About from ''./pages/About'';\nimport Contact from ''./pages/Contact'';\n\nfunction App() {\n    return (\n        <div>\n            <Navigation />\n            <Routes>\n                <Route path="/" element={<Home />} />\n                <Route path="/about" element={<About />} />\n                <Route path="/contact" element={<Contact />} />\n            </Routes>\n        </div>\n    );\n}\n\nexport default App;\n```\n\n```javascript\n// src/components/Navigation.jsx\nimport { Link } from ''react-router-dom'';\n\nfunction Navigation() {\n    return (\n        <nav>\n            <Link to="/">Home</Link>\n            <Link to="/about">About</Link>\n            <Link to="/contact">Contact</Link>\n        </nav>\n    );\n}\n\nexport default Navigation;\n```\n\n```javascript\n// src/pages/Home.jsx\nfunction Home() {\n    return <h1>Home Page</h1>;\n}\n\nexport default Home;\n```\n\n---\n\n## Route Parameters\n\n### Dynamic Routes\n\n```javascript\n// Route with parameter\n<Route path="/user/:id" element={<UserProfile />} />\n\n// Access parameter\nimport { useParams } from ''react-router-dom'';\n\nfunction UserProfile() {\n    const { id } = useParams();\n    return <h1>User ID: {id}</h1>;\n}\n```\n\n### Multiple Parameters\n\n```javascript\n// Multiple parameters\n<Route path="/user/:userId/post/:postId" element={<Post />} />\n\n// Access multiple parameters\nfunction Post() {\n    const { userId, postId } = useParams();\n    return (\n        <div>\n            <h1>User: {userId}</h1>\n            <h2>Post: {postId}</h2>\n        </div>\n    );\n}\n```\n\n### Example: User Profile\n\n```javascript\n// src/App.jsx\n<Route path="/users/:id" element={<UserProfile />} />\n\n// src/pages/UserProfile.jsx\nimport { useParams } from ''react-router-dom'';\n\nfunction UserProfile() {\n    const { id } = useParams();\n    const [user, setUser] = useState(null);\n    \n    useEffect(() => {\n        fetch(`/api/users/${id}`)\n            .then(res => res.json())\n            .then(data => setUser(data));\n    }, [id]);\n    \n    if (!user) return <div>Loading...</div>;\n    \n    return (\n        <div>\n            <h1>{user.name}</h1>\n            <p>{user.email}</p>\n        </div>\n    );\n}\n```\n\n### Optional Parameters\n\n```javascript\n// Optional parameter\n<Route path="/blog/:slug?" element={<BlogPost />} />\n\n// Access optional parameter\nfunction BlogPost() {\n    const { slug } = useParams();\n    return <div>{slug ? `Post: ${slug}` : ''All Posts''}</div>;\n}\n```\n\n---\n\n## Nested Routes\n\n### Basic Nested Routes\n\n```javascript\n// Parent route\n<Route path="/dashboard" element={<Dashboard />}>\n    <Route path="profile" element={<Profile />} />\n    <Route path="settings" element={<Settings />} />\n</Route>\n\n// Dashboard component with Outlet\nimport { Outlet, Link } from ''react-router-dom'';\n\nfunction Dashboard() {\n    return (\n        <div>\n            <nav>\n                <Link to="/dashboard/profile">Profile</Link>\n                <Link to="/dashboard/settings">Settings</Link>\n            </nav>\n            <Outlet />  {/* Renders child routes */}\n        </div>\n    );\n}\n```\n\n### Index Routes\n\n```javascript\n// Index route (default child)\n<Route path="/dashboard" element={<Dashboard />}>\n    <Route index element={<DashboardHome />} />\n    <Route path="profile" element={<Profile />} />\n    <Route path="settings" element={<Settings />} />\n</Route>\n```\n\n### Example: Dashboard with Nested Routes\n\n```javascript\n// src/App.jsx\nimport { Routes, Route } from ''react-router-dom'';\nimport Dashboard from ''./pages/Dashboard'';\nimport DashboardHome from ''./pages/DashboardHome'';\nimport Profile from ''./pages/Profile'';\nimport Settings from ''./pages/Settings'';\n\nfunction App() {\n    return (\n        <Routes>\n            <Route path="/dashboard" element={<Dashboard />}>\n                <Route index element={<DashboardHome />} />\n                <Route path="profile" element={<Profile />} />\n                <Route path="settings" element={<Settings />} />\n            </Route>\n        </Routes>\n    );\n}\n```\n\n```javascript\n// src/pages/Dashboard.jsx\nimport { Outlet, Link, useLocation } from ''react-router-dom'';\n\nfunction Dashboard() {\n    const location = useLocation();\n    \n    return (\n        <div className="dashboard">\n            <aside>\n                <nav>\n                    <Link \n                        to="/dashboard" \n                        className={location.pathname === ''/dashboard'' ? ''active'' : ''''}\n                    >\n                        Home\n                    </Link>\n                    <Link \n                        to="/dashboard/profile"\n                        className={location.pathname === ''/dashboard/profile'' ? ''active'' : ''''}\n                    >\n                        Profile\n                    </Link>\n                    <Link \n                        to="/dashboard/settings"\n                        className={location.pathname === ''/dashboard/settings'' ? ''active'' : ''''}\n                    >\n                        Settings\n                    </Link>\n                </nav>\n            </aside>\n            <main>\n                <Outlet />\n            </main>\n        </div>\n    );\n}\n\nexport default Dashboard;\n```\n\n---\n\n## Advanced Routing\n\n### Protected Routes\n\n```javascript\n// Protected route component\nimport { Navigate } from ''react-router-dom'';\n\nfunction ProtectedRoute({ children }) {\n    const isAuthenticated = localStorage.getItem(''user'');\n    \n    if (!isAuthenticated) {\n        return <Navigate to="/login" replace />;\n    }\n    \n    return children;\n}\n\n// Usage\n<Route \n    path="/dashboard" \n    element={\n        <ProtectedRoute>\n            <Dashboard />\n        </ProtectedRoute>\n    }\n/>\n```\n\n### Redirect\n\n```javascript\nimport { Navigate } from ''react-router-dom'';\n\n// Redirect route\n<Route path="/old" element={<Navigate to="/new" replace />} />\n\n// Conditional redirect\nfunction Home() {\n    const isLoggedIn = localStorage.getItem(''user'');\n    \n    if (isLoggedIn) {\n        return <Navigate to="/dashboard" replace />;\n    }\n    \n    return <h1>Home</h1>;\n}\n```\n\n### 404 Not Found\n\n```javascript\n// Catch-all route (must be last)\n<Route path="*" element={<NotFound />} />\n\n// NotFound component\nfunction NotFound() {\n    return (\n        <div>\n            <h1>404 - Page Not Found</h1>\n            <Link to="/">Go Home</Link>\n        </div>\n    );\n}\n```\n\n### Query Parameters\n\n```javascript\nimport { useSearchParams } from ''react-router-dom'';\n\nfunction Search() {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get(''q'') || '''';\n    \n    const handleSearch = (e) => {\n        e.preventDefault();\n        setSearchParams({ q: e.target.search.value });\n    };\n    \n    return (\n        <form onSubmit={handleSearch}>\n            <input name="search" defaultValue={query} />\n            <button type="submit">Search</button>\n        </form>\n    );\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Routing\n\n**Objective**: Practice setting up React Router, creating routes, handling parameters, and nested routes.\n\n**Instructions**:\n\n1. Create a React project\n2. Install React Router\n3. Practice:\n   - Setting up routes\n   - Navigation\n   - Route parameters\n   - Nested routes\n   - Protected routes\n\n**Example Solution**:\n\n```javascript\n// src/App.jsx\nimport { Routes, Route } from ''react-router-dom'';\nimport Layout from ''./components/Layout'';\nimport Home from ''./pages/Home'';\nimport About from ''./pages/About'';\nimport Contact from ''./pages/Contact'';\nimport Users from ''./pages/Users'';\nimport UserProfile from ''./pages/UserProfile'';\nimport Dashboard from ''./pages/Dashboard'';\nimport DashboardHome from ''./pages/DashboardHome'';\nimport Profile from ''./pages/Profile'';\nimport Settings from ''./pages/Settings'';\nimport Login from ''./pages/Login'';\nimport ProtectedRoute from ''./components/ProtectedRoute'';\nimport NotFound from ''./pages/NotFound'';\nimport ''./App.css'';\n\nfunction App() {\n    return (\n        <Routes>\n            <Route path="/" element={<Layout />}>\n                <Route index element={<Home />} />\n                <Route path="about" element={<About />} />\n                <Route path="contact" element={<Contact />} />\n                <Route path="users" element={<Users />} />\n                <Route path="users/:id" element={<UserProfile />} />\n                <Route path="login" element={<Login />} />\n                <Route \n                    path="dashboard" \n                    element={\n                        <ProtectedRoute>\n                            <Dashboard />\n                        </ProtectedRoute>\n                    }\n                >\n                    <Route index element={<DashboardHome />} />\n                    <Route path="profile" element={<Profile />} />\n                    <Route path="settings" element={<Settings />} />\n                </Route>\n                <Route path="*" element={<NotFound />} />\n            </Route>\n        </Routes>\n    );\n}\n\nexport default App;\n```\n\n```javascript\n// src/components/Layout.jsx\nimport { Outlet, Link, useLocation } from ''react-router-dom'';\n\nfunction Layout() {\n    const location = useLocation();\n    \n    return (\n        <div className="layout">\n            <header>\n                <h1>My App</h1>\n                <nav>\n                    <Link \n                        to="/" \n                        className={location.pathname === ''/'' ? ''active'' : ''''}\n                    >\n                        Home\n                    </Link>\n                    <Link \n                        to="/about"\n                        className={location.pathname === ''/about'' ? ''active'' : ''''}\n                    >\n                        About\n                    </Link>\n                    <Link \n                        to="/contact"\n                        className={location.pathname === ''/contact'' ? ''active'' : ''''}\n                    >\n                        Contact\n                    </Link>\n                    <Link \n                        to="/users"\n                        className={location.pathname === ''/users'' ? ''active'' : ''''}\n                    >\n                        Users\n                    </Link>\n                    <Link \n                        to="/dashboard"\n                        className={location.pathname.startsWith(''/dashboard'') ? ''active'' : ''''}\n                    >\n                        Dashboard\n                    </Link>\n                </nav>\n            </header>\n            <main>\n                <Outlet />\n            </main>\n            <footer>\n                <p>&copy; 2024 My App</p>\n            </footer>\n        </div>\n    );\n}\n\nexport default Layout;\n```\n\n```javascript\n// src/components/ProtectedRoute.jsx\nimport { Navigate } from ''react-router-dom'';\n\nfunction ProtectedRoute({ children }) {\n    const isAuthenticated = localStorage.getItem(''user'');\n    \n    if (!isAuthenticated) {\n        return <Navigate to="/login" replace />;\n    }\n    \n    return children;\n}\n\nexport default ProtectedRoute;\n```\n\n```javascript\n// src/pages/Home.jsx\nfunction Home() {\n    return (\n        <div className="page">\n            <h1>Home</h1>\n            <p>Welcome to the home page!</p>\n        </div>\n    );\n}\n\nexport default Home;\n```\n\n```javascript\n// src/pages/Users.jsx\nimport { Link } from ''react-router-dom'';\n\nfunction Users() {\n    const users = [\n        { id: 1, name: ''Alice'', email: ''alice@example.com'' },\n        { id: 2, name: ''Bob'', email: ''bob@example.com'' },\n        { id: 3, name: ''Charlie'', email: ''charlie@example.com'' }\n    ];\n    \n    return (\n        <div className="page">\n            <h1>Users</h1>\n            <ul className="user-list">\n                {users.map(user => (\n                    <li key={user.id}>\n                        <Link to={`/users/${user.id}`}>\n                            {user.name} - {user.email}\n                        </Link>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default Users;\n```\n\n```javascript\n// src/pages/UserProfile.jsx\nimport { useParams, Link, useNavigate } from ''react-router-dom'';\n\nfunction UserProfile() {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    \n    const users = {\n        1: { id: 1, name: ''Alice'', email: ''alice@example.com'', bio: ''Developer'' },\n        2: { id: 2, name: ''Bob'', email: ''bob@example.com'', bio: ''Designer'' },\n        3: { id: 3, name: ''Charlie'', email: ''charlie@example.com'', bio: ''Manager'' }\n    };\n    \n    const user = users[id];\n    \n    if (!user) {\n        return (\n            <div className="page">\n                <h1>User Not Found</h1>\n                <Link to="/users">Back to Users</Link>\n            </div>\n        );\n    }\n    \n    return (\n        <div className="page">\n            <button onClick={() => navigate(-1)}>Back</button>\n            <h1>{user.name}</h1>\n            <p><strong>Email:</strong> {user.email}</p>\n            <p><strong>Bio:</strong> {user.bio}</p>\n            <Link to="/users">Back to Users</Link>\n        </div>\n    );\n}\n\nexport default UserProfile;\n```\n\n```javascript\n// src/pages/Dashboard.jsx\nimport { Outlet, Link, useLocation } from ''react-router-dom'';\n\nfunction Dashboard() {\n    const location = useLocation();\n    \n    return (\n        <div className="dashboard">\n            <aside className="sidebar">\n                <h2>Dashboard</h2>\n                <nav>\n                    <Link \n                        to="/dashboard"\n                        className={location.pathname === ''/dashboard'' ? ''active'' : ''''}\n                    >\n                        Home\n                    </Link>\n                    <Link \n                        to="/dashboard/profile"\n                        className={location.pathname === ''/dashboard/profile'' ? ''active'' : ''''}\n                    >\n                        Profile\n                    </Link>\n                    <Link \n                        to="/dashboard/settings"\n                        className={location.pathname === ''/dashboard/settings'' ? ''active'' : ''''}\n                    >\n                        Settings\n                    </Link>\n                </nav>\n            </aside>\n            <main className="dashboard-content">\n                <Outlet />\n            </main>\n        </div>\n    );\n}\n\nexport default Dashboard;\n```\n\n```javascript\n// src/pages/DashboardHome.jsx\nfunction DashboardHome() {\n    return (\n        <div>\n            <h1>Dashboard Home</h1>\n            <p>Welcome to your dashboard!</p>\n        </div>\n    );\n}\n\nexport default DashboardHome;\n```\n\n```javascript\n// src/pages/Login.jsx\nimport { useNavigate } from ''react-router-dom'';\n\nfunction Login() {\n    const navigate = useNavigate();\n    \n    const handleLogin = (e) => {\n        e.preventDefault();\n        localStorage.setItem(''user'', JSON.stringify({ name: ''User'', id: 1 }));\n        navigate(''/dashboard'');\n    };\n    \n    return (\n        <div className="page">\n            <h1>Login</h1>\n            <form onSubmit={handleLogin}>\n                <input type="text" placeholder="Username" required />\n                <input type="password" placeholder="Password" required />\n                <button type="submit">Login</button>\n            </form>\n        </div>\n    );\n}\n\nexport default Login;\n```\n\n```javascript\n// src/pages/NotFound.jsx\nimport { Link } from ''react-router-dom'';\n\nfunction NotFound() {\n    return (\n        <div className="page">\n            <h1>404 - Page Not Found</h1>\n            <p>The page you''re looking for doesn''t exist.</p>\n            <Link to="/">Go Home</Link>\n        </div>\n    );\n}\n\nexport default NotFound;\n```\n\n```css\n/* src/App.css */\n.layout {\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n}\n\nheader {\n    background-color: #282c34;\n    color: white;\n    padding: 20px;\n}\n\nheader nav {\n    display: flex;\n    gap: 20px;\n    margin-top: 10px;\n}\n\nheader nav a {\n    color: white;\n    text-decoration: none;\n    padding: 5px 10px;\n    border-radius: 4px;\n}\n\nheader nav a:hover,\nheader nav a.active {\n    background-color: #61dafb;\n    color: #282c34;\n}\n\nmain {\n    flex: 1;\n    padding: 20px;\n    max-width: 1200px;\n    margin: 0 auto;\n    width: 100%;\n}\n\nfooter {\n    background-color: #282c34;\n    color: white;\n    padding: 10px;\n    text-align: center;\n}\n\n.page {\n    padding: 20px;\n}\n\n.user-list {\n    list-style: none;\n    padding: 0;\n}\n\n.user-list li {\n    padding: 10px;\n    margin: 5px 0;\n    background-color: #f5f5f5;\n    border-radius: 4px;\n}\n\n.user-list a {\n    text-decoration: none;\n    color: #007bff;\n}\n\n.user-list a:hover {\n    text-decoration: underline;\n}\n\n.dashboard {\n    display: flex;\n    min-height: calc(100vh - 200px);\n}\n\n.sidebar {\n    width: 200px;\n    background-color: #f5f5f5;\n    padding: 20px;\n}\n\n.sidebar nav {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n}\n\n.sidebar nav a {\n    padding: 10px;\n    text-decoration: none;\n    color: #333;\n    border-radius: 4px;\n}\n\n.sidebar nav a:hover,\n.sidebar nav a.active {\n    background-color: #007bff;\n    color: white;\n}\n\n.dashboard-content {\n    flex: 1;\n    padding: 20px;\n}\n\nform {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    max-width: 300px;\n}\n\nform input {\n    padding: 8px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n}\n\nform button {\n    padding: 10px;\n    background-color: #007bff;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n}\n```\n\n**Expected Output** (in browser):\n- Navigation between pages\n- User profiles with dynamic routes\n- Protected dashboard\n- Nested routes in dashboard\n- 404 page for unknown routes\n\n**Challenge (Optional)**:\n- Build a complete SPA\n- Add more routes\n- Implement search with query params\n- Add breadcrumbs\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting BrowserRouter\n\n```javascript\n// ❌ Bad: Missing BrowserRouter\nfunction App() {\n    return <Routes>...</Routes>;\n}\n\n// ✅ Good: Wrap with BrowserRouter\n<BrowserRouter>\n    <App />\n</BrowserRouter>\n```\n\n### 2. Wrong Route Path\n\n```javascript\n// ❌ Bad: Absolute path in nested route\n<Route path="/dashboard/profile" element={<Profile />} />\n\n// ✅ Good: Relative path\n<Route path="profile" element={<Profile />} />\n```\n\n### 3. Missing Outlet\n\n```javascript\n// ❌ Bad: No Outlet for nested routes\nfunction Dashboard() {\n    return <div>Dashboard</div>;\n}\n\n// ✅ Good: Include Outlet\nfunction Dashboard() {\n    return (\n        <div>\n            <nav>...</nav>\n            <Outlet />\n        </div>\n    );\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **React Router**: Client-side routing library\n2. **Routes**: Define application routes\n3. **Navigation**: Link and useNavigate\n4. **Parameters**: Dynamic route parameters\n5. **Nested Routes**: Hierarchical routing\n6. **Protected Routes**: Authentication-based routing\n7. **Best Practice**: Use BrowserRouter, include Outlet, handle 404\n\n---\n\n## Quiz: React Router\n\nTest your understanding with these questions:\n\n1. **React Router:**\n   - A) Client-side routing\n   - B) Server-side routing\n   - C) Both\n   - D) Neither\n\n2. **Routes defined:**\n   - A) In Routes component\n   - B) In Router component\n   - C) Both\n   - D) Neither\n\n3. **Route parameters:**\n   - A) Dynamic values\n   - B) Static values\n   - C) Both\n   - D) Neither\n\n4. **Nested routes:**\n   - A) Child routes\n   - B) Parent routes\n   - C) Both\n   - D) Neither\n\n5. **Outlet:**\n   - A) Renders child routes\n   - B) Renders parent routes\n   - C) Both\n   - D) Neither\n\n6. **Protected routes:**\n   - A) Require authentication\n   - B) Public routes\n   - C) Both\n   - D) Neither\n\n7. **404 route:**\n   - A) Catch-all route\n   - B) Specific route\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Client-side routing\n2. A) In Routes component\n3. A) Dynamic values\n4. C) Both (child routes within parent)\n5. A) Renders child routes\n6. A) Require authentication\n7. A) Catch-all route\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned React Router. You now know:\n- How to set up React Router\n- How to create routes\n- How to handle navigation\n- How to work with nested routes\n\n**What''s Next?**\n- Lesson 26.3: State Management\n- Learn Context API\n- Learn Redux basics\n- Understand state management patterns\n\n---\n\n## Additional Resources\n\n- **React Router**: [reactrouter.com](https://reactrouter.com)\n- **Getting Started**: [reactrouter.com/en/main/start/overview](https://reactrouter.com/en/main/start/overview)\n- **API Reference**: [reactrouter.com/en/main/route/route](https://reactrouter.com/en/main/route/route)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 10:09:12', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Set up React Router\n- Create routes and navigation\n- Handle route parameters\n- Work with nested routes\n- Build single-page applications\n- Implement navigation\n- Handle protected routes');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (179, 66, 16, 'State Management', 'state-management', '# Lesson 26.3: State Management\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use Context API for state management\n- Understand Redux basics\n- Apply state management patterns\n- Choose appropriate state management solution\n- Manage global state\n- Handle complex state logic\n- Build scalable applications\n\n---\n\n## Introduction to State Management\n\nState management is about how you store, organize, and update application state.\n\n### When to Use State Management?\n\n- **Local State**: Component-specific (useState)\n- **Shared State**: Multiple components (Context API, Redux)\n- **Global State**: App-wide state (Context API, Redux)\n- **Complex State**: Complex logic (Redux, Zustand)\n\n### State Management Solutions\n\n```javascript\n// Built-in\nuseState        // Local state\nuseContext      // Shared state\nuseReducer      // Complex local state\n\n// Libraries\nRedux           // Predictable state container\nZustand         // Lightweight state management\nJotai           // Atomic state management\nRecoil          // Facebook''s state management\n```\n\n---\n\n## Context API\n\n### What is Context API?\n\nContext API is React''s built-in solution for sharing state across components.\n\n### Basic Context\n\n```javascript\nimport { createContext, useContext, useState } from ''react'';\n\n// Create context\nconst ThemeContext = createContext();\n\n// Provider component\nexport function ThemeProvider({ children }) {\n    const [theme, setTheme] = useState(''light'');\n    \n    return (\n        <ThemeContext.Provider value={{ theme, setTheme }}>\n            {children}\n        </ThemeContext.Provider>\n    );\n}\n\n// Custom hook\nexport function useTheme() {\n    const context = useContext(ThemeContext);\n    if (!context) {\n        throw new Error(''useTheme must be used within ThemeProvider'');\n    }\n    return context;\n}\n```\n\n### Multiple Contexts\n\n```javascript\n// Theme context\nconst ThemeContext = createContext();\n\n// User context\nconst UserContext = createContext();\n\nfunction App() {\n    return (\n        <ThemeProvider>\n            <UserProvider>\n                <Component />\n            </UserProvider>\n        </ThemeProvider>\n    );\n}\n```\n\n### Context with useReducer\n\n```javascript\nimport { createContext, useContext, useReducer } from ''react'';\n\n// Initial state\nconst initialState = {\n    count: 0,\n    todos: []\n};\n\n// Reducer\nfunction appReducer(state, action) {\n    switch (action.type) {\n        case ''INCREMENT'':\n            return { ...state, count: state.count + 1 };\n        case ''ADD_TODO'':\n            return {\n                ...state,\n                todos: [...state.todos, action.payload]\n            };\n        default:\n            return state;\n    }\n}\n\n// Context\nconst AppContext = createContext();\n\n// Provider\nexport function AppProvider({ children }) {\n    const [state, dispatch] = useReducer(appReducer, initialState);\n    \n    return (\n        <AppContext.Provider value={{ state, dispatch }}>\n            {children}\n        </AppContext.Provider>\n    );\n}\n\n// Hook\nexport function useApp() {\n    const context = useContext(AppContext);\n    if (!context) {\n        throw new Error(''useApp must be used within AppProvider'');\n    }\n    return context;\n}\n```\n\n### Example: Shopping Cart\n\n```javascript\n// src/contexts/CartContext.jsx\nimport { createContext, useContext, useReducer } from ''react'';\n\nconst CartContext = createContext();\n\nconst cartReducer = (state, action) => {\n    switch (action.type) {\n        case ''ADD_ITEM'':\n            const existingItem = state.items.find(\n                item => item.id === action.payload.id\n            );\n            if (existingItem) {\n                return {\n                    ...state,\n                    items: state.items.map(item =>\n                        item.id === action.payload.id\n                            ? { ...item, quantity: item.quantity + 1 }\n                            : item\n                    )\n                };\n            }\n            return {\n                ...state,\n                items: [...state.items, { ...action.payload, quantity: 1 }]\n            };\n        case ''REMOVE_ITEM'':\n            return {\n                ...state,\n                items: state.items.filter(item => item.id !== action.payload)\n            };\n        case ''UPDATE_QUANTITY'':\n            return {\n                ...state,\n                items: state.items.map(item =>\n                    item.id === action.payload.id\n                        ? { ...item, quantity: action.payload.quantity }\n                        : item\n                )\n            };\n        case ''CLEAR_CART'':\n            return { ...state, items: [] };\n        default:\n            return state;\n    }\n};\n\nexport function CartProvider({ children }) {\n    const [state, dispatch] = useReducer(cartReducer, { items: [] });\n    \n    const addItem = (item) => {\n        dispatch({ type: ''ADD_ITEM'', payload: item });\n    };\n    \n    const removeItem = (id) => {\n        dispatch({ type: ''REMOVE_ITEM'', payload: id });\n    };\n    \n    const updateQuantity = (id, quantity) => {\n        dispatch({ type: ''UPDATE_QUANTITY'', payload: { id, quantity } });\n    };\n    \n    const clearCart = () => {\n        dispatch({ type: ''CLEAR_CART'' });\n    };\n    \n    const total = state.items.reduce(\n        (sum, item) => sum + item.price * item.quantity,\n        0\n    );\n    \n    return (\n        <CartContext.Provider\n            value={{\n                items: state.items,\n                total,\n                addItem,\n                removeItem,\n                updateQuantity,\n                clearCart\n            }}\n        >\n            {children}\n        </CartContext.Provider>\n    );\n}\n\nexport function useCart() {\n    const context = useContext(CartContext);\n    if (!context) {\n        throw new Error(''useCart must be used within CartProvider'');\n    }\n    return context;\n}\n```\n\n---\n\n## Redux Basics\n\n### What is Redux?\n\nRedux is a predictable state container for JavaScript apps.\n\n### Redux Principles\n\n1. **Single Source of Truth**: One store\n2. **State is Read-Only**: Only actions change state\n3. **Changes with Pure Functions**: Reducers are pure\n\n### Installation\n\n```bash\n# Install Redux\nnpm install @reduxjs/toolkit react-redux\n```\n\n### Basic Redux Setup\n\n```javascript\n// src/store/store.js\nimport { configureStore } from ''@reduxjs/toolkit'';\nimport counterReducer from ''./counterSlice'';\n\nexport const store = configureStore({\n    reducer: {\n        counter: counterReducer\n    }\n});\n```\n\n```javascript\n// src/store/counterSlice.js\nimport { createSlice } from ''@reduxjs/toolkit'';\n\nconst initialState = {\n    value: 0\n};\n\nconst counterSlice = createSlice({\n    name: ''counter'',\n    initialState,\n    reducers: {\n        increment: (state) => {\n            state.value += 1;\n        },\n        decrement: (state) => {\n            state.value -= 1;\n        },\n        incrementByAmount: (state, action) => {\n            state.value += action.payload;\n        }\n    }\n});\n\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\nexport default counterSlice.reducer;\n```\n\n```javascript\n// src/main.jsx\nimport { Provider } from ''react-redux'';\nimport { store } from ''./store/store'';\nimport App from ''./App'';\n\nReactDOM.createRoot(document.getElementById(''root'')).render(\n    <Provider store={store}>\n        <App />\n    </Provider>\n);\n```\n\n### Using Redux\n\n```javascript\n// src/components/Counter.jsx\nimport { useSelector, useDispatch } from ''react-redux'';\nimport { increment, decrement, incrementByAmount } from ''../store/counterSlice'';\n\nfunction Counter() {\n    const count = useSelector((state) => state.counter.value);\n    const dispatch = useDispatch();\n    \n    return (\n        <div>\n            <p>Count: {count}</p>\n            <button onClick={() => dispatch(increment())}>+</button>\n            <button onClick={() => dispatch(decrement())}>-</button>\n            <button onClick={() => dispatch(incrementByAmount(5))}>\n                +5\n            </button>\n        </div>\n    );\n}\n```\n\n### Redux with Async Actions\n\n```javascript\n// src/store/todosSlice.js\nimport { createSlice, createAsyncThunk } from ''@reduxjs/toolkit'';\n\n// Async thunk\nexport const fetchTodos = createAsyncThunk(\n    ''todos/fetchTodos'',\n    async () => {\n        const response = await fetch(''/api/todos'');\n        return response.json();\n    }\n);\n\nconst todosSlice = createSlice({\n    name: ''todos'',\n    initialState: {\n        items: [],\n        loading: false,\n        error: null\n    },\n    reducers: {\n        addTodo: (state, action) => {\n            state.items.push(action.payload);\n        },\n        removeTodo: (state, action) => {\n            state.items = state.items.filter(item => item.id !== action.payload);\n        }\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(fetchTodos.pending, (state) => {\n                state.loading = true;\n            })\n            .addCase(fetchTodos.fulfilled, (state, action) => {\n                state.loading = false;\n                state.items = action.payload;\n            })\n            .addCase(fetchTodos.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.error.message;\n            });\n    }\n});\n\nexport const { addTodo, removeTodo } = todosSlice.actions;\nexport default todosSlice.reducer;\n```\n\n---\n\n## State Management Patterns\n\n### Pattern 1: Local State\n\n```javascript\n// Use for component-specific state\nfunction Component() {\n    const [count, setCount] = useState(0);\n    // ...\n}\n```\n\n### Pattern 2: Lifted State\n\n```javascript\n// Lift state to common ancestor\nfunction Parent() {\n    const [state, setState] = useState(initialState);\n    return (\n        <>\n            <Child1 state={state} setState={setState} />\n            <Child2 state={state} setState={setState} />\n        </>\n    );\n}\n```\n\n### Pattern 3: Context API\n\n```javascript\n// Use for shared state across components\nconst Context = createContext();\n\nfunction Provider({ children }) {\n    const [state, setState] = useState(initialState);\n    return (\n        <Context.Provider value={{ state, setState }}>\n            {children}\n        </Context.Provider>\n    );\n}\n```\n\n### Pattern 4: Redux\n\n```javascript\n// Use for complex global state\nconst store = configureStore({\n    reducer: {\n        // Reducers\n    }\n});\n```\n\n### Pattern 5: Custom Hooks\n\n```javascript\n// Encapsulate state logic\nfunction useCustomState() {\n    const [state, setState] = useState(initialState);\n    // Logic\n    return { state, actions };\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: State Management\n\n**Objective**: Practice using Context API, Redux basics, and applying state management patterns.\n\n**Instructions**:\n\n1. Create a React project\n2. Practice state management\n3. Practice:\n   - Context API\n   - Redux setup\n   - State management patterns\n   - Choosing the right solution\n\n**Example Solution**:\n\n```javascript\n// src/contexts/AuthContext.jsx\nimport { createContext, useContext, useState, useEffect } from ''react'';\n\nconst AuthContext = createContext();\n\nexport function AuthProvider({ children }) {\n    const [user, setUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n    \n    useEffect(() => {\n        const savedUser = localStorage.getItem(''user'');\n        if (savedUser) {\n            setUser(JSON.parse(savedUser));\n        }\n        setLoading(false);\n    }, []);\n    \n    const login = (userData) => {\n        setUser(userData);\n        localStorage.setItem(''user'', JSON.stringify(userData));\n    };\n    \n    const logout = () => {\n        setUser(null);\n        localStorage.removeItem(''user'');\n    };\n    \n    return (\n        <AuthContext.Provider value={{ user, login, logout, loading }}>\n            {children}\n        </AuthContext.Provider>\n    );\n}\n\nexport function useAuth() {\n    const context = useContext(AuthContext);\n    if (!context) {\n        throw new Error(''useAuth must be used within AuthProvider'');\n    }\n    return context;\n}\n```\n\n```javascript\n// src/store/store.js\nimport { configureStore } from ''@reduxjs/toolkit'';\nimport todosReducer from ''./todosSlice'';\nimport counterReducer from ''./counterSlice'';\n\nexport const store = configureStore({\n    reducer: {\n        todos: todosReducer,\n        counter: counterReducer\n    }\n});\n```\n\n```javascript\n// src/store/todosSlice.js\nimport { createSlice } from ''@reduxjs/toolkit'';\n\nconst initialState = {\n    items: [],\n    filter: ''all''\n};\n\nconst todosSlice = createSlice({\n    name: ''todos'',\n    initialState,\n    reducers: {\n        addTodo: (state, action) => {\n            state.items.push({\n                id: Date.now(),\n                text: action.payload,\n                completed: false\n            });\n        },\n        toggleTodo: (state, action) => {\n            const todo = state.items.find(item => item.id === action.payload);\n            if (todo) {\n                todo.completed = !todo.completed;\n            }\n        },\n        removeTodo: (state, action) => {\n            state.items = state.items.filter(item => item.id !== action.payload);\n        },\n        setFilter: (state, action) => {\n            state.filter = action.payload;\n        }\n    }\n});\n\nexport const { addTodo, toggleTodo, removeTodo, setFilter } = todosSlice.actions;\nexport default todosSlice.reducer;\n```\n\n```javascript\n// src/store/counterSlice.js\nimport { createSlice } from ''@reduxjs/toolkit'';\n\nconst initialState = {\n    value: 0\n};\n\nconst counterSlice = createSlice({\n    name: ''counter'',\n    initialState,\n    reducers: {\n        increment: (state) => {\n            state.value += 1;\n        },\n        decrement: (state) => {\n            state.value -= 1;\n        },\n        reset: (state) => {\n            state.value = 0;\n        }\n    }\n});\n\nexport const { increment, decrement, reset } = counterSlice.actions;\nexport default counterSlice.reducer;\n```\n\n```javascript\n// src/components/TodoList.jsx\nimport { useSelector, useDispatch } from ''react-redux'';\nimport { addTodo, toggleTodo, removeTodo, setFilter } from ''../store/todosSlice'';\nimport { useState } from ''react'';\n\nfunction TodoList() {\n    const todos = useSelector((state) => state.todos.items);\n    const filter = useSelector((state) => state.todos.filter);\n    const dispatch = useDispatch();\n    const [input, setInput] = useState('''');\n    \n    const filteredTodos = todos.filter(todo => {\n        if (filter === ''active'') return !todo.completed;\n        if (filter === ''completed'') return todo.completed;\n        return true;\n    });\n    \n    const handleAdd = () => {\n        if (input.trim()) {\n            dispatch(addTodo(input));\n            setInput('''');\n        }\n    };\n    \n    return (\n        <div className="todo-list">\n            <h2>Todo List (Redux)</h2>\n            <div className="todo-input">\n                <input\n                    value={input}\n                    onChange={(e) => setInput(e.target.value)}\n                    onKeyPress={(e) => e.key === ''Enter'' && handleAdd()}\n                    placeholder="Add todo..."\n                />\n                <button onClick={handleAdd}>Add</button>\n            </div>\n            <div className="filters">\n                <button\n                    className={filter === ''all'' ? ''active'' : ''''}\n                    onClick={() => dispatch(setFilter(''all''))}\n                >\n                    All\n                </button>\n                <button\n                    className={filter === ''active'' ? ''active'' : ''''}\n                    onClick={() => dispatch(setFilter(''active''))}\n                >\n                    Active\n                </button>\n                <button\n                    className={filter === ''completed'' ? ''active'' : ''''}\n                    onClick={() => dispatch(setFilter(''completed''))}\n                >\n                    Completed\n                </button>\n            </div>\n            <ul>\n                {filteredTodos.map(todo => (\n                    <li key={todo.id} className={todo.completed ? ''completed'' : ''''}>\n                        <input\n                            type="checkbox"\n                            checked={todo.completed}\n                            onChange={() => dispatch(toggleTodo(todo.id))}\n                        />\n                        <span>{todo.text}</span>\n                        <button onClick={() => dispatch(removeTodo(todo.id))}>\n                            Delete\n                        </button>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default TodoList;\n```\n\n```javascript\n// src/components/Counter.jsx\nimport { useSelector, useDispatch } from ''react-redux'';\nimport { increment, decrement, reset } from ''../store/counterSlice'';\n\nfunction Counter() {\n    const count = useSelector((state) => state.counter.value);\n    const dispatch = useDispatch();\n    \n    return (\n        <div className="counter">\n            <h2>Counter (Redux)</h2>\n            <p>Count: {count}</p>\n            <div className="buttons">\n                <button onClick={() => dispatch(decrement())}>-</button>\n                <button onClick={() => dispatch(reset())}>Reset</button>\n                <button onClick={() => dispatch(increment())}>+</button>\n            </div>\n        </div>\n    );\n}\n\nexport default Counter;\n```\n\n```javascript\n// src/components/UserProfile.jsx\nimport { useAuth } from ''../contexts/AuthContext'';\n\nfunction UserProfile() {\n    const { user, logout } = useAuth();\n    \n    if (!user) {\n        return <p>Please log in</p>;\n    }\n    \n    return (\n        <div className="user-profile">\n            <h2>User Profile (Context)</h2>\n            <p>Name: {user.name}</p>\n            <p>Email: {user.email}</p>\n            <button onClick={logout}>Logout</button>\n        </div>\n    );\n}\n\nexport default UserProfile;\n```\n\n```javascript\n// src/App.jsx\nimport { Provider } from ''react-redux'';\nimport { store } from ''./store/store'';\nimport { AuthProvider } from ''./contexts/AuthContext'';\nimport Counter from ''./components/Counter'';\nimport TodoList from ''./components/TodoList'';\nimport UserProfile from ''./components/UserProfile'';\nimport ''./App.css'';\n\nfunction App() {\n    return (\n        <Provider store={store}>\n            <AuthProvider>\n                <div className="App">\n                    <header>\n                        <h1>State Management Examples</h1>\n                    </header>\n                    <main>\n                        <section>\n                            <Counter />\n                        </section>\n                        <section>\n                            <TodoList />\n                        </section>\n                        <section>\n                            <UserProfile />\n                        </section>\n                    </main>\n                </div>\n            </AuthProvider>\n        </Provider>\n    );\n}\n\nexport default App;\n```\n\n```css\n/* src/App.css */\n.App {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\nheader {\n    text-align: center;\n    margin-bottom: 30px;\n}\n\nsection {\n    margin-bottom: 40px;\n    padding: 20px;\n    border: 1px solid #ddd;\n    border-radius: 8px;\n}\n\n.counter, .todo-list {\n    max-width: 500px;\n}\n\n.buttons {\n    display: flex;\n    gap: 10px;\n}\n\nbutton {\n    padding: 8px 16px;\n    background-color: #007bff;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\nbutton:hover {\n    background-color: #0056b3;\n}\n\nbutton.active {\n    background-color: #28a745;\n}\n\n.todo-input {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n}\n\n.todo-input input {\n    flex: 1;\n    padding: 8px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n}\n\n.filters {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n}\n\nul {\n    list-style: none;\n    padding: 0;\n}\n\nli {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 10px;\n    margin: 5px 0;\n    background-color: #f5f5f5;\n    border-radius: 4px;\n}\n\nli.completed span {\n    text-decoration: line-through;\n    opacity: 0.6;\n}\n```\n\n**Expected Output** (in browser):\n- Counter using Redux\n- Todo list using Redux\n- User profile using Context API\n- All working together\n\n**Challenge (Optional)**:\n- Build complex state management\n- Combine Context and Redux\n- Add async actions\n- Build a complete app\n\n---\n\n## Common Mistakes\n\n### 1. Overusing Redux\n\n```javascript\n// ❌ Bad: Redux for simple local state\nconst [count, setCount] = useState(0);  // Should use useState\n\n// ✅ Good: Redux for global/complex state\n// Use Redux for shared state across many components\n```\n\n### 2. Not Splitting Contexts\n\n```javascript\n// ❌ Bad: One context for everything\nconst AppContext = createContext();\n\n// ✅ Good: Split contexts by concern\nconst ThemeContext = createContext();\nconst UserContext = createContext();\n```\n\n### 3. Mutating State in Redux\n\n```javascript\n// ❌ Bad: Direct mutation (old Redux)\nstate.items.push(newItem);\n\n// ✅ Good: Immutable updates (Redux Toolkit)\nstate.items.push(newItem);  // OK with Redux Toolkit\n// Or\nstate.items = [...state.items, newItem];\n```\n\n---\n\n## Key Takeaways\n\n1. **Context API**: Built-in solution for shared state\n2. **Redux**: Predictable state container\n3. **Patterns**: Choose right solution for use case\n4. **Local State**: useState for component-specific\n5. **Shared State**: Context API for shared\n6. **Global State**: Redux for complex global state\n7. **Best Practice**: Don''t overuse, split by concern\n\n---\n\n## Quiz: State Management\n\nTest your understanding with these questions:\n\n1. **Context API:**\n   - A) Built-in React\n   - B) External library\n   - C) Both\n   - D) Neither\n\n2. **Redux:**\n   - A) Predictable state\n   - B) Unpredictable state\n   - C) Both\n   - D) Neither\n\n3. **useState:**\n   - A) Local state\n   - B) Global state\n   - C) Both\n   - D) Neither\n\n4. **Context API:**\n   - A) Shared state\n   - B) Local state\n   - C) Both\n   - D) Neither\n\n5. **Redux:**\n   - A) Complex state\n   - B) Simple state\n   - C) Both\n   - D) Neither\n\n6. **State management:**\n   - A) Choose by use case\n   - B) Always use Redux\n   - C) Both\n   - D) Neither\n\n7. **Redux Toolkit:**\n   - A) Modern Redux\n   - B) Old Redux\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Built-in React\n2. A) Predictable state\n3. A) Local state\n4. A) Shared state\n5. A) Complex state\n6. A) Choose by use case\n7. A) Modern Redux\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 26: React Advanced. You now know:\n- React hooks (useEffect, useContext, useReducer)\n- React Router\n- State management (Context API, Redux)\n- How to build advanced React applications\n\n**What''s Next?**\n- Module 27: Vue.js (Alternative Framework)\n- Learn Vue.js basics\n- Compare with React\n- Build Vue applications\n\n---\n\n## Additional Resources\n\n- **Context API**: [react.dev/reference/react/useContext](https://react.dev/reference/react/useContext)\n- **Redux**: [redux.js.org](https://redux.js.org)\n- **Redux Toolkit**: [redux-toolkit.js.org](https://redux-toolkit.js.org)\n- **State Management Guide**: [react.dev/learn/managing-state](https://react.dev/learn/managing-state)\n\n---\n\n*Lesson completed! You''ve finished Module 26: React Advanced. Ready for Module 27: Vue.js!*\n\n', NULL, 3, '2026-01-03 10:09:12', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use Context API for state management\n- Understand Redux basics\n- Apply state management patterns\n- Choose appropriate state management solution\n- Manage global state\n- Handle complex state logic\n- Build scalable applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (180, 67, 16, 'Vue.js Introduction', 'vuejs-introduction', '# Lesson 27.1: Vue.js Basics\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand what Vue.js is\n- Create Vue instances\n- Work with templates and directives\n- Use data binding\n- Build your first Vue app\n- Understand Vue.js fundamentals\n- Create reactive applications\n\n---\n\n## Introduction to Vue.js\n\nVue.js is a progressive JavaScript framework for building user interfaces.\n\n### What is Vue.js?\n\n- **Progressive Framework**: Can be adopted incrementally\n- **Reactive**: Automatic reactivity system\n- **Component-Based**: Build with reusable components\n- **Template Syntax**: HTML-based templates\n- **Easy to Learn**: Gentle learning curve\n- **Versatile**: Can be used for small or large applications\n\n### Why Vue.js?\n\n- **Simple**: Easy to understand\n- **Flexible**: Can be used in many ways\n- **Performant**: Fast and efficient\n- **Developer Experience**: Great tooling\n- **Growing**: Popular and well-maintained\n- **Documentation**: Excellent documentation\n\n---\n\n## Vue.js Introduction\n\n### Installation\n\n```bash\n# Using CDN\n<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>\n\n# Using npm\nnpm create vue@latest my-app\ncd my-app\nnpm install\nnpm run dev\n\n# Using Vite\nnpm create vite@latest my-vue-app -- --template vue\ncd my-vue-app\nnpm install\nnpm run dev\n```\n\n### Vue Versions\n\n```javascript\n// Vue 2 (Legacy)\nVue 2.x\n\n// Vue 3 (Current)\nVue 3.x\n// - Composition API\n// - Better performance\n// - Better TypeScript support\n```\n\n---\n\n## Vue Instance\n\n### Creating a Vue Instance\n\n```javascript\n// Vue 3 - Using createApp\nimport { createApp } from ''vue'';\n\nconst app = createApp({\n    data() {\n        return {\n            message: ''Hello Vue!''\n        };\n    }\n});\n\napp.mount(''#app'');\n```\n\n### Basic Vue App\n\n```html\n<!-- index.html -->\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Vue App</title>\n</head>\n<body>\n    <div id="app">\n        <h1>{{ message }}</h1>\n    </div>\n    \n    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>\n    <script>\n        const { createApp } = Vue;\n        \n        createApp({\n            data() {\n                return {\n                    message: ''Hello Vue!''\n                };\n            }\n        }).mount(''#app'');\n    </script>\n</body>\n</html>\n```\n\n### Vue Instance Options\n\n```javascript\nconst app = createApp({\n    // Data\n    data() {\n        return {\n            message: ''Hello'',\n            count: 0\n        };\n    },\n    \n    // Methods\n    methods: {\n        increment() {\n            this.count++;\n        }\n    },\n    \n    // Computed properties\n    computed: {\n        doubleCount() {\n            return this.count * 2;\n        }\n    },\n    \n    // Lifecycle hooks\n    mounted() {\n        console.log(''Component mounted'');\n    }\n});\n```\n\n---\n\n## Templates and Directives\n\n### Template Syntax\n\n```html\n<!-- Interpolation -->\n<div>{{ message }}</div>\n\n<!-- Text interpolation -->\n<span>Message: {{ message }}</span>\n\n<!-- HTML interpolation (v-html) -->\n<div v-html="htmlContent"></div>\n```\n\n### Directives\n\nDirectives are special attributes with the `v-` prefix.\n\n### v-bind (Binding Attributes)\n\n```html\n<!-- v-bind -->\n<div v-bind:id="dynamicId"></div>\n\n<!-- Shorthand -->\n<div :id="dynamicId"></div>\n\n<!-- Binding classes -->\n<div :class="{ active: isActive }"></div>\n<div :class="[classA, classB]"></div>\n\n<!-- Binding styles -->\n<div :style="{ color: activeColor }"></div>\n<div :style="[styleObject, styleObject2]"></div>\n```\n\n### v-if, v-else-if, v-else (Conditional Rendering)\n\n```html\n<!-- Conditional rendering -->\n<div v-if="isVisible">Visible</div>\n<div v-else-if="isHidden">Hidden</div>\n<div v-else>Default</div>\n\n<!-- v-show (toggles display) -->\n<div v-show="isVisible">Toggle visibility</div>\n```\n\n### v-for (Lists)\n\n```html\n<!-- List rendering -->\n<ul>\n    <li v-for="item in items" :key="item.id">\n        {{ item.name }}\n    </li>\n</ul>\n\n<!-- With index -->\n<ul>\n    <li v-for="(item, index) in items" :key="item.id">\n        {{ index }}: {{ item.name }}\n    </li>\n</ul>\n\n<!-- Object iteration -->\n<ul>\n    <li v-for="(value, key) in object" :key="key">\n        {{ key }}: {{ value }}\n    </li>\n</ul>\n```\n\n### v-on (Event Handling)\n\n```html\n<!-- Event handling -->\n<button v-on:click="handleClick">Click me</button>\n\n<!-- Shorthand -->\n<button @click="handleClick">Click me</button>\n\n<!-- With parameters -->\n<button @click="handleClick(''param'')">Click</button>\n\n<!-- Event modifiers -->\n<button @click.stop="handleClick">Stop propagation</button>\n<button @click.prevent="handleSubmit">Prevent default</button>\n<button @click.once="handleClick">Once only</button>\n```\n\n### v-model (Two-Way Binding)\n\n```html\n<!-- Two-way binding -->\n<input v-model="message" />\n\n<!-- With modifiers -->\n<input v-model.trim="message" />\n<input v-model.number="age" />\n<input v-model.lazy="message" />\n```\n\n### Other Directives\n\n```html\n<!-- v-text -->\n<div v-text="message"></div>\n\n<!-- v-once (render once) -->\n<div v-once>{{ message }}</div>\n\n<!-- v-pre (skip compilation) -->\n<div v-pre>{{ message }}</div>\n```\n\n---\n\n## Data Binding\n\n### One-Way Binding\n\n```html\n<!-- Interpolation -->\n<div>{{ message }}</div>\n\n<!-- v-bind -->\n<div :id="dynamicId"></div>\n```\n\n### Two-Way Binding\n\n```html\n<!-- v-model -->\n<input v-model="message" />\n\n<!-- Equivalent to -->\n<input \n    :value="message"\n    @input="message = $event.target.value"\n/>\n```\n\n### Class Binding\n\n```html\n<!-- Object syntax -->\n<div :class="{ active: isActive, ''text-danger'': hasError }"></div>\n\n<!-- Array syntax -->\n<div :class="[activeClass, errorClass]"></div>\n\n<!-- Conditional -->\n<div :class="[isActive ? activeClass : '''', errorClass]"></div>\n```\n\n### Style Binding\n\n```html\n<!-- Object syntax -->\n<div :style="{ color: activeColor, fontSize: fontSize + ''px'' }"></div>\n\n<!-- Array syntax -->\n<div :style="[baseStyles, overridingStyles]"></div>\n\n<!-- With computed -->\n<div :style="styleObject"></div>\n```\n\n### Example: Complete Binding\n\n```html\n<div id="app">\n    <!-- Text binding -->\n    <p>{{ message }}</p>\n    \n    <!-- Attribute binding -->\n    <div :id="dynamicId">Dynamic ID</div>\n    \n    <!-- Class binding -->\n    <div :class="{ active: isActive }">Class binding</div>\n    \n    <!-- Style binding -->\n    <div :style="{ color: textColor }">Style binding</div>\n    \n    <!-- Two-way binding -->\n    <input v-model="message" />\n    \n    <!-- Event binding -->\n    <button @click="toggleActive">Toggle</button>\n</div>\n\n<script>\nconst { createApp } = Vue;\n\ncreateApp({\n    data() {\n        return {\n            message: ''Hello Vue!'',\n            dynamicId: ''my-id'',\n            isActive: false,\n            textColor: ''blue''\n        };\n    },\n    methods: {\n        toggleActive() {\n            this.isActive = !this.isActive;\n        }\n    }\n}).mount(''#app'');\n</script>\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: First Vue App\n\n**Objective**: Practice creating Vue instances, using templates and directives, and data binding.\n\n**Instructions**:\n\n1. Set up a Vue project\n2. Create Vue instances\n3. Practice:\n   - Templates and directives\n   - Data binding\n   - Event handling\n   - Conditional rendering\n   - List rendering\n\n**Example Solution**:\n\n```html\n<!-- index.html -->\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Vue Basics Practice</title>\n    <style>\n        .active {\n            background-color: #4CAF50;\n            color: white;\n        }\n        .inactive {\n            background-color: #f44336;\n            color: white;\n        }\n        .card {\n            border: 1px solid #ddd;\n            border-radius: 8px;\n            padding: 15px;\n            margin: 10px 0;\n        }\n        button {\n            padding: 8px 16px;\n            margin: 5px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n        }\n        input {\n            padding: 8px;\n            margin: 5px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n        }\n    </style>\n</head>\n<body>\n    <div id="app">\n        <header>\n            <h1>{{ title }}</h1>\n            <p>Vue.js Basics Practice</p>\n        </header>\n        \n        <section class="card">\n            <h2>Text Interpolation</h2>\n            <p>Message: {{ message }}</p>\n            <p>Count: {{ count }}</p>\n            <p>Math: 2 + 2 = {{ 2 + 2 }}</p>\n        </section>\n        \n        <section class="card">\n            <h2>Two-Way Binding</h2>\n            <input v-model="message" placeholder="Type a message" />\n            <p>You typed: {{ message }}</p>\n        </section>\n        \n        <section class="card">\n            <h2>Event Handling</h2>\n            <p>Count: {{ count }}</p>\n            <button @click="increment">Increment</button>\n            <button @click="decrement">Decrement</button>\n            <button @click="reset">Reset</button>\n        </section>\n        \n        <section class="card">\n            <h2>Conditional Rendering</h2>\n            <button @click="toggleVisibility">Toggle Visibility</button>\n            <div v-if="isVisible" class="active">\n                This is visible (v-if)\n            </div>\n            <div v-else class="inactive">\n                This is hidden (v-else)\n            </div>\n            <div v-show="isVisible" class="active">\n                This toggles display (v-show)\n            </div>\n        </section>\n        \n        <section class="card">\n            <h2>List Rendering</h2>\n            <input v-model="newItem" @keyup.enter="addItem" placeholder="Add item" />\n            <button @click="addItem">Add</button>\n            <ul>\n                <li v-for="(item, index) in items" :key="index">\n                    {{ item }}\n                    <button @click="removeItem(index)">Remove</button>\n                </li>\n            </ul>\n        </section>\n        \n        <section class="card">\n            <h2>Class Binding</h2>\n            <div :class="{ active: isActive, inactive: !isActive }">\n                Dynamic class binding\n            </div>\n            <button @click="isActive = !isActive">Toggle Class</button>\n        </section>\n        \n        <section class="card">\n            <h2>Style Binding</h2>\n            <div :style="{ color: textColor, fontSize: fontSize + ''px'' }">\n                Dynamic style binding\n            </div>\n            <input v-model="textColor" placeholder="Color (e.g., blue)" />\n            <input v-model.number="fontSize" type="number" placeholder="Font size" />\n        </section>\n        \n        <section class="card">\n            <h2>Computed Properties</h2>\n            <p>Count: {{ count }}</p>\n            <p>Double Count: {{ doubleCount }}</p>\n            <p>Items Count: {{ items.length }}</p>\n        </section>\n    </div>\n    \n    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>\n    <script>\n        const { createApp } = Vue;\n        \n        createApp({\n            data() {\n                return {\n                    title: ''Vue.js Basics'',\n                    message: ''Hello Vue!'',\n                    count: 0,\n                    isVisible: true,\n                    isActive: false,\n                    items: [''Item 1'', ''Item 2'', ''Item 3''],\n                    newItem: '''',\n                    textColor: ''blue'',\n                    fontSize: 16\n                };\n            },\n            computed: {\n                doubleCount() {\n                    return this.count * 2;\n                }\n            },\n            methods: {\n                increment() {\n                    this.count++;\n                },\n                decrement() {\n                    this.count--;\n                },\n                reset() {\n                    this.count = 0;\n                },\n                toggleVisibility() {\n                    this.isVisible = !this.isVisible;\n                },\n                addItem() {\n                    if (this.newItem.trim()) {\n                        this.items.push(this.newItem);\n                        this.newItem = '''';\n                    }\n                },\n                removeItem(index) {\n                    this.items.splice(index, 1);\n                }\n            },\n            mounted() {\n                console.log(''Vue app mounted!'');\n            }\n        }).mount(''#app'');\n    </script>\n</body>\n</html>\n```\n\n**Expected Output** (in browser):\n- Vue app with multiple sections\n- Interactive elements\n- Data binding working\n- Event handling working\n- Conditional and list rendering\n\n**Challenge (Optional)**:\n- Build a complete Vue app\n- Add more features\n- Style your app\n- Practice all directives\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting v-bind for Attributes\n\n```html\n<!-- ❌ Bad: String literal -->\n<div id="dynamicId">Content</div>\n\n<!-- ✅ Good: v-bind -->\n<div :id="dynamicId">Content</div>\n```\n\n### 2. Mutating Props\n\n```html\n<!-- ❌ Bad: Mutate prop -->\n<child-component :prop="value" />\n<!-- Inside child: this.prop = newValue -->\n\n<!-- ✅ Good: Use data or emit event -->\n```\n\n### 3. Missing Keys in v-for\n\n```html\n<!-- ❌ Bad: No key -->\n<li v-for="item in items">{{ item }}</li>\n\n<!-- ✅ Good: With key -->\n<li v-for="item in items" :key="item.id">{{ item }}</li>\n```\n\n---\n\n## Key Takeaways\n\n1. **Vue.js**: Progressive JavaScript framework\n2. **Vue Instance**: Created with createApp\n3. **Templates**: HTML-based template syntax\n4. **Directives**: Special attributes with v- prefix\n5. **Data Binding**: One-way and two-way binding\n6. **Reactivity**: Automatic reactivity system\n7. **Best Practice**: Use keys in v-for, don''t mutate props\n\n---\n\n## Quiz: Vue Basics\n\nTest your understanding with these questions:\n\n1. **Vue.js is:**\n   - A) Framework\n   - B) Library\n   - C) Both\n   - D) Neither\n\n2. **Vue instance created with:**\n   - A) createApp\n   - B) new Vue\n   - C) Both\n   - D) Neither\n\n3. **v-bind shorthand:**\n   - A) :\n   - B) @\n   - C) Both\n   - D) Neither\n\n4. **v-on shorthand:**\n   - A) :\n   - B) @\n   - C) Both\n   - D) Neither\n\n5. **v-model:**\n   - A) Two-way binding\n   - B) One-way binding\n   - C) Both\n   - D) Neither\n\n6. **v-if vs v-show:**\n   - A) v-if removes from DOM\n   - B) v-show toggles display\n   - C) Both\n   - D) Neither\n\n7. **v-for requires:**\n   - A) key\n   - B) index\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Framework\n2. A) createApp (Vue 3)\n3. A) :\n4. B) @\n5. A) Two-way binding\n6. C) Both (v-if removes, v-show toggles)\n7. A) key (recommended)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned Vue.js basics. You now know:\n- What Vue.js is\n- How to create Vue instances\n- Templates and directives\n- Data binding\n\n**What''s Next?**\n- Lesson 27.2: Vue Components\n- Learn component registration\n- Understand props and events\n- Work with slots\n\n---\n\n## Additional Resources\n\n- **Vue.js Documentation**: [vuejs.org](https://vuejs.org)\n- **Getting Started**: [vuejs.org/guide/quick-start.html](https://vuejs.org/guide/quick-start.html)\n- **Template Syntax**: [vuejs.org/guide/essentials/template-syntax.html](https://vuejs.org/guide/essentials/template-syntax.html)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 10:09:12', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand what Vue.js is\n- Create Vue instances\n- Work with templates and directives\n- Use data binding\n- Build your first Vue app\n- Understand Vue.js fundamentals\n- Create reactive applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (181, 67, 16, 'Vue Components and Directives', 'vue-components-and-directives', '# Lesson 27.2: Vue Components\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Register Vue components\n- Work with props\n- Handle events\n- Use slots\n- Build reusable components\n- Compose components\n- Structure Vue applications\n\n---\n\n## Introduction to Components\n\nComponents are reusable Vue instances with a name. They let you split the UI into independent, reusable pieces.\n\n### What are Components?\n\n- **Reusable**: Use components multiple times\n- **Independent**: Each component manages its own state\n- **Composable**: Combine components to build UIs\n- **Isolated**: Changes in one don''t affect others\n\n---\n\n## Component Registration\n\n### Global Registration\n\n```javascript\n// Global component registration\nconst app = createApp({});\n\napp.component(''my-component'', {\n    template: ''<div>My Component</div>''\n});\n\napp.mount(''#app'');\n```\n\n### Local Registration\n\n```javascript\n// Local component registration\nconst MyComponent = {\n    template: ''<div>My Component</div>''\n};\n\nconst app = createApp({\n    components: {\n        ''my-component'': MyComponent\n    }\n});\n\napp.mount(''#app'');\n```\n\n### Single File Components\n\n```vue\n<!-- MyComponent.vue -->\n<template>\n    <div>\n        <h2>{{ title }}</h2>\n        <p>{{ content }}</p>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: ''MyComponent'',\n    data() {\n        return {\n            title: ''My Component'',\n            content: ''Component content''\n        };\n    }\n};\n</script>\n\n<style scoped>\nh2 {\n    color: blue;\n}\n</style>\n```\n\n### Using Components\n\n```html\n<!-- In template -->\n<my-component></my-component>\n\n<!-- Self-closing -->\n<my-component />\n```\n\n---\n\n## Props\n\n### What are Props?\n\nProps are custom attributes you can register on a component. When a value is passed to a prop attribute, it becomes a property on that component instance.\n\n### Basic Props\n\n```javascript\n// Component with props\nconst MyComponent = {\n    props: [''title'', ''content''],\n    template: `\n        <div>\n            <h2>{{ title }}</h2>\n            <p>{{ content }}</p>\n        </div>\n    `\n};\n\n// Usage\n<my-component title="Hello" content="World"></my-component>\n```\n\n### Props with Types\n\n```javascript\n// Props with types\nconst MyComponent = {\n    props: {\n        title: String,\n        count: Number,\n        isActive: Boolean,\n        items: Array,\n        user: Object\n    },\n    template: ''<div>{{ title }}</div>''\n};\n```\n\n### Props with Validation\n\n```javascript\n// Props with validation\nconst MyComponent = {\n    props: {\n        title: {\n            type: String,\n            required: true\n        },\n        count: {\n            type: Number,\n            default: 0,\n            validator(value) {\n                return value >= 0;\n            }\n        },\n        items: {\n            type: Array,\n            default: () => []\n        }\n    },\n    template: ''<div>{{ title }}</div>''\n};\n```\n\n### Props are Read-Only\n\n```javascript\n// ❌ Bad: Don''t mutate props\nconst MyComponent = {\n    props: [''count''],\n    methods: {\n        increment() {\n            this.count++;  // Error: Props are read-only\n        }\n    }\n};\n\n// ✅ Good: Use data or emit event\nconst MyComponent = {\n    props: [''initialCount''],\n    data() {\n        return {\n            count: this.initialCount\n        };\n    },\n    methods: {\n        increment() {\n            this.count++;\n        }\n    }\n};\n```\n\n---\n\n## Events\n\n### Emitting Events\n\n```javascript\n// Component emitting event\nconst MyComponent = {\n    methods: {\n        handleClick() {\n            this.$emit(''custom-event'', ''data'');\n        }\n    },\n    template: ''<button @click="handleClick">Click</button>''\n};\n\n// Usage\n<my-component @custom-event="handleEvent"></my-component>\n```\n\n### Event with Data\n\n```javascript\n// Emit event with data\nconst MyComponent = {\n    data() {\n        return {\n            message: ''Hello''\n        };\n    },\n    methods: {\n        sendMessage() {\n            this.$emit(''message-sent'', this.message);\n        }\n    },\n    template: ''<button @click="sendMessage">Send</button>''\n};\n\n// Parent component\nconst App = {\n    methods: {\n        handleMessage(message) {\n            console.log(''Received:'', message);\n        }\n    },\n    template: `\n        <my-component @message-sent="handleMessage"></my-component>\n    `\n};\n```\n\n### Event Modifiers\n\n```javascript\n// Native event modifiers\n<my-component @click.native="handleClick"></my-component>\n\n// Custom event modifiers (Vue 3)\n// Use with v-model\n```\n\n### v-model with Components\n\n```javascript\n// Component with v-model\nconst CustomInput = {\n    props: [''modelValue''],\n    emits: [''update:modelValue''],\n    template: `\n        <input\n            :value="modelValue"\n            @input="$emit(''update:modelValue'', $event.target.value)"\n        />\n    `\n};\n\n// Usage\n<custom-input v-model="message"></custom-input>\n```\n\n---\n\n## Slots\n\n### What are Slots?\n\nSlots are placeholders in components that can be filled with content from the parent.\n\n### Basic Slot\n\n```javascript\n// Component with slot\nconst MyComponent = {\n    template: `\n        <div>\n            <h2>Header</h2>\n            <slot></slot>\n            <p>Footer</p>\n        </div>\n    `\n};\n\n// Usage\n<my-component>\n    <p>This content goes in the slot</p>\n</my-component>\n```\n\n### Named Slots\n\n```javascript\n// Component with named slots\nconst MyComponent = {\n    template: `\n        <div>\n            <header>\n                <slot name="header"></slot>\n            </header>\n            <main>\n                <slot></slot>\n            </main>\n            <footer>\n                <slot name="footer"></slot>\n            </footer>\n        </div>\n    `\n};\n\n// Usage\n<my-component>\n    <template #header>\n        <h1>Header Content</h1>\n    </template>\n    <p>Main content</p>\n    <template #footer>\n        <p>Footer Content</p>\n    </template>\n</my-component>\n```\n\n### Scoped Slots\n\n```javascript\n// Component with scoped slot\nconst MyComponent = {\n    data() {\n        return {\n            items: [''Item 1'', ''Item 2'', ''Item 3'']\n        };\n    },\n    template: `\n        <ul>\n            <li v-for="item in items" :key="item">\n                <slot :item="item"></slot>\n            </li>\n        </ul>\n    `\n};\n\n// Usage\n<my-component>\n    <template #default="{ item }">\n        <strong>{{ item }}</strong>\n    </template>\n</my-component>\n```\n\n---\n\n## Practical Examples\n\n### Example 1: Button Component\n\n```javascript\n// Button component\nconst Button = {\n    props: {\n        text: {\n            type: String,\n            required: true\n        },\n        variant: {\n            type: String,\n            default: ''primary''\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        }\n    },\n    emits: [''click''],\n    template: `\n        <button\n            :class="[''btn'', ''btn-'' + variant]"\n            :disabled="disabled"\n            @click="$emit(''click'', $event)"\n        >\n            {{ text }}\n        </button>\n    `\n};\n\n// Usage\n<button text="Click me" variant="primary" @click="handleClick"></button>\n```\n\n### Example 2: Card Component\n\n```javascript\n// Card component\nconst Card = {\n    props: {\n        title: String,\n        image: String\n    },\n    template: `\n        <div class="card">\n            <img v-if="image" :src="image" :alt="title" />\n            <div class="card-content">\n                <h3 v-if="title">{{ title }}</h3>\n                <slot></slot>\n            </div>\n        </div>\n    `\n};\n\n// Usage\n<card title="My Card" image="/image.jpg">\n    <p>Card content</p>\n</card>\n```\n\n### Example 3: List Component\n\n```javascript\n// List component\nconst List = {\n    props: {\n        items: {\n            type: Array,\n            required: true\n        }\n    },\n    template: `\n        <ul>\n            <li v-for="(item, index) in items" :key="index">\n                <slot :item="item" :index="index"></slot>\n            </li>\n        </ul>\n    `\n};\n\n// Usage\n<list :items="users">\n    <template #default="{ item, index }">\n        <strong>{{ item.name }}</strong> - {{ item.email }}\n    </template>\n</list>\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Vue Components\n\n**Objective**: Practice creating components, working with props, events, and slots.\n\n**Instructions**:\n\n1. Create a Vue project\n2. Create multiple components\n3. Practice:\n   - Component registration\n   - Props\n   - Events\n   - Slots\n\n**Example Solution**:\n\n```vue\n<!-- src/components/Button.vue -->\n<template>\n    <button\n        :class="[''btn'', ''btn-'' + variant]"\n        :disabled="disabled"\n        @click="handleClick"\n    >\n        <slot>{{ text }}</slot>\n    </button>\n</template>\n\n<script>\nexport default {\n    name: ''Button'',\n    props: {\n        text: String,\n        variant: {\n            type: String,\n            default: ''primary''\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        }\n    },\n    emits: [''click''],\n    methods: {\n        handleClick(event) {\n            this.$emit(''click'', event);\n        }\n    }\n};\n</script>\n\n<style scoped>\n.btn {\n    padding: 8px 16px;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\n.btn-primary {\n    background-color: #007bff;\n    color: white;\n}\n\n.btn-secondary {\n    background-color: #6c757d;\n    color: white;\n}\n\n.btn-danger {\n    background-color: #dc3545;\n    color: white;\n}\n\n.btn:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n}\n</style>\n```\n\n```vue\n<!-- src/components/Card.vue -->\n<template>\n    <div class="card">\n        <img v-if="image" :src="image" :alt="title" class="card-image" />\n        <div class="card-content">\n            <h3 v-if="title" class="card-title">{{ title }}</h3>\n            <p v-if="description" class="card-description">{{ description }}</p>\n            <slot></slot>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: ''Card'',\n    props: {\n        title: String,\n        description: String,\n        image: String\n    }\n};\n</script>\n\n<style scoped>\n.card {\n    border: 1px solid #ddd;\n    border-radius: 8px;\n    overflow: hidden;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.card-image {\n    width: 100%;\n    height: 200px;\n    object-fit: cover;\n}\n\n.card-content {\n    padding: 15px;\n}\n\n.card-title {\n    margin: 0 0 10px 0;\n}\n\n.card-description {\n    margin: 0 0 15px 0;\n    color: #666;\n}\n</style>\n```\n\n```vue\n<!-- src/components/UserCard.vue -->\n<template>\n    <card :title="user.name" :description="`Age: ${user.age} | Email: ${user.email}`">\n        <div class="card-actions">\n            <button text="Edit" variant="secondary" @click="handleEdit"></button>\n            <button text="Delete" variant="danger" @click="handleDelete"></button>\n        </div>\n    </card>\n</template>\n\n<script>\nimport Card from ''./Card.vue'';\nimport Button from ''./Button.vue'';\n\nexport default {\n    name: ''UserCard'',\n    components: {\n        Card,\n        Button\n    },\n    props: {\n        user: {\n            type: Object,\n            required: true\n        }\n    },\n    emits: [''edit'', ''delete''],\n    methods: {\n        handleEdit() {\n            this.$emit(''edit'', this.user.id);\n        },\n        handleDelete() {\n            this.$emit(''delete'', this.user.id);\n        }\n    }\n};\n</script>\n\n<style scoped>\n.card-actions {\n    display: flex;\n    gap: 10px;\n    margin-top: 15px;\n}\n</style>\n```\n\n```vue\n<!-- src/components/UserList.vue -->\n<template>\n    <div class="user-list">\n        <h2 v-if="title">{{ title }}</h2>\n        <div v-if="users.length === 0" class="empty">\n            <slot name="empty">No users found</slot>\n        </div>\n        <div v-else class="users">\n            <user-card\n                v-for="user in users"\n                :key="user.id"\n                :user="user"\n                @edit="handleEdit"\n                @delete="handleDelete"\n            />\n        </div>\n    </div>\n</template>\n\n<script>\nimport UserCard from ''./UserCard.vue'';\n\nexport default {\n    name: ''UserList'',\n    components: {\n        UserCard\n    },\n    props: {\n        users: {\n            type: Array,\n            default: () => []\n        },\n        title: String\n    },\n    emits: [''edit'', ''delete''],\n    methods: {\n        handleEdit(userId) {\n            this.$emit(''edit'', userId);\n        },\n        handleDelete(userId) {\n            this.$emit(''delete'', userId);\n        }\n    }\n};\n</script>\n\n<style scoped>\n.user-list {\n    padding: 20px;\n}\n\n.users {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 20px;\n}\n\n.empty {\n    padding: 20px;\n    text-align: center;\n    color: #666;\n}\n</style>\n```\n\n```vue\n<!-- src/components/Layout.vue -->\n<template>\n    <div class="layout">\n        <header v-if="$slots.header">\n            <slot name="header"></slot>\n        </header>\n        <main>\n            <slot></slot>\n        </main>\n        <footer v-if="$slots.footer">\n            <slot name="footer"></slot>\n        </footer>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: ''Layout''\n};\n</script>\n\n<style scoped>\n.layout {\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n}\n\nheader {\n    background-color: #282c34;\n    color: white;\n    padding: 20px;\n}\n\nmain {\n    flex: 1;\n    padding: 20px;\n}\n\nfooter {\n    background-color: #282c34;\n    color: white;\n    padding: 10px;\n    text-align: center;\n}\n</style>\n```\n\n```vue\n<!-- src/App.vue -->\n<template>\n    <layout>\n        <template #header>\n            <h1>Vue Components Practice</h1>\n        </template>\n        \n        <div class="app-content">\n            <user-list\n                :users="users"\n                title="Users"\n                @edit="handleEdit"\n                @delete="handleDelete"\n            >\n                <template #empty>\n                    <p>No users available</p>\n                </template>\n            </user-list>\n            \n            <div class="actions">\n                <button text="Add User" @click="handleAdd"></button>\n            </div>\n        </div>\n        \n        <template #footer>\n            <p>&copy; 2024 My App</p>\n        </template>\n    </layout>\n</template>\n\n<script>\nimport Layout from ''./components/Layout.vue'';\nimport UserList from ''./components/UserList.vue'';\nimport Button from ''./components/Button.vue'';\n\nexport default {\n    name: ''App'',\n    components: {\n        Layout,\n        UserList,\n        Button\n    },\n    data() {\n        return {\n            users: [\n                { id: 1, name: ''Alice'', age: 30, email: ''alice@example.com'' },\n                { id: 2, name: ''Bob'', age: 25, email: ''bob@example.com'' },\n                { id: 3, name: ''Charlie'', age: 35, email: ''charlie@example.com'' }\n            ]\n        };\n    },\n    methods: {\n        handleEdit(userId) {\n            console.log(''Edit user:'', userId);\n            alert(`Editing user ${userId}`);\n        },\n        handleDelete(userId) {\n            if (confirm(''Are you sure?'')) {\n                this.users = this.users.filter(user => user.id !== userId);\n            }\n        },\n        handleAdd() {\n            alert(''Add user'');\n        }\n    }\n};\n</script>\n\n<style>\n.app-content {\n    max-width: 1200px;\n    margin: 0 auto;\n}\n\n.actions {\n    margin: 20px 0;\n}\n</style>\n```\n\n**Expected Output** (in browser):\n- Layout with header and footer\n- User list with cards\n- Interactive buttons\n- Components working together\n\n**Challenge (Optional)**:\n- Build a complete component library\n- Create complex component compositions\n- Add more features\n- Build a real application\n\n---\n\n## Common Mistakes\n\n### 1. Mutating Props\n\n```javascript\n// ❌ Bad: Mutate prop\nprops: [''count''],\nmethods: {\n    increment() {\n        this.count++;  // Error\n    }\n}\n\n// ✅ Good: Use data or emit\nprops: [''initialCount''],\ndata() {\n    return {\n        count: this.initialCount\n    };\n}\n```\n\n### 2. Not Declaring Emits\n\n```javascript\n// ❌ Bad: Not declaring emits (Vue 3)\nthis.$emit(''custom-event'');\n\n// ✅ Good: Declare emits\nemits: [''custom-event''],\nthis.$emit(''custom-event'');\n```\n\n### 3. Missing Keys in v-for\n\n```javascript\n// ❌ Bad: No key\n<li v-for="item in items">{{ item }}</li>\n\n// ✅ Good: With key\n<li v-for="item in items" :key="item.id">{{ item }}</li>\n```\n\n---\n\n## Key Takeaways\n\n1. **Components**: Reusable Vue instances\n2. **Registration**: Global or local\n3. **Props**: Pass data from parent to child\n4. **Events**: Emit events from child to parent\n5. **Slots**: Content projection\n6. **Best Practice**: Don''t mutate props, declare emits, use keys\n7. **Composition**: Combine components to build UIs\n\n---\n\n## Quiz: Vue Components\n\nTest your understanding with these questions:\n\n1. **Components are:**\n   - A) Reusable\n   - B) Independent\n   - C) Both\n   - D) Neither\n\n2. **Props:**\n   - A) Read-only\n   - B) Mutable\n   - C) Both\n   - D) Neither\n\n3. **Events:**\n   - A) Child to parent\n   - B) Parent to child\n   - C) Both\n   - D) Neither\n\n4. **Slots:**\n   - A) Content projection\n   - B) Data passing\n   - C) Both\n   - D) Neither\n\n5. **v-model with components:**\n   - A) Uses modelValue prop\n   - B) Uses value prop\n   - C) Both\n   - D) Neither\n\n6. **Named slots:**\n   - A) Use #name\n   - B) Use v-slot:name\n   - C) Both\n   - D) Neither\n\n7. **Scoped slots:**\n   - A) Pass data to parent\n   - B) Receive data from parent\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. C) Both\n2. A) Read-only\n3. A) Child to parent\n4. A) Content projection\n5. A) Uses modelValue prop (Vue 3)\n6. C) Both (#name is shorthand)\n7. A) Pass data to parent\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned Vue components. You now know:\n- How to register components\n- How to work with props\n- How to handle events\n- How to use slots\n\n**What''s Next?**\n- Lesson 27.3: Vue Composition API\n- Learn setup function\n- Understand reactive references\n- Work with computed properties\n\n---\n\n## Additional Resources\n\n- **Vue Components**: [vuejs.org/guide/essentials/component-basics.html](https://vuejs.org/guide/essentials/component-basics.html)\n- **Props**: [vuejs.org/guide/components/props.html](https://vuejs.org/guide/components/props.html)\n- **Events**: [vuejs.org/guide/components/events.html](https://vuejs.org/guide/components/events.html)\n- **Slots**: [vuejs.org/guide/components/slots.html](https://vuejs.org/guide/components/slots.html)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 10:09:12', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Register Vue components\n- Work with props\n- Handle events\n- Use slots\n- Build reusable components\n- Compose components\n- Structure Vue applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (182, 67, 16, 'Vue Router and State Management', 'vue-router-and-state-management', '# Lesson 27.3: Vue Composition API\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Use the setup function\n- Work with reactive references\n- Use computed properties\n- Understand Composition API benefits\n- Build components with Composition API\n- Organize component logic\n- Create reusable composables\n\n---\n\n## Introduction to Composition API\n\nThe Composition API is a new way to write Vue components introduced in Vue 3. It provides better organization and reusability of component logic.\n\n### Why Composition API?\n\n- **Better Organization**: Group related logic together\n- **Reusability**: Share logic between components\n- **TypeScript Support**: Better TypeScript inference\n- **Flexibility**: More flexible code organization\n- **Performance**: Better tree-shaking\n\n### Options API vs Composition API\n\n```javascript\n// Options API (Traditional)\nexport default {\n    data() {\n        return { count: 0 };\n    },\n    methods: {\n        increment() {\n            this.count++;\n        }\n    }\n};\n\n// Composition API (New)\nimport { ref } from ''vue'';\n\nexport default {\n    setup() {\n        const count = ref(0);\n        const increment = () => {\n            count.value++;\n        };\n        return { count, increment };\n    }\n};\n```\n\n---\n\n## Setup Function\n\n### Basic Setup\n\n```javascript\n// Component with setup function\nimport { ref } from ''vue'';\n\nexport default {\n    setup() {\n        const count = ref(0);\n        \n        const increment = () => {\n            count.value++;\n        };\n        \n        return {\n            count,\n            increment\n        };\n    }\n};\n```\n\n### Setup with Template\n\n```vue\n<template>\n    <div>\n        <p>Count: {{ count }}</p>\n        <button @click="increment">Increment</button>\n    </div>\n</template>\n\n<script>\nimport { ref } from ''vue'';\n\nexport default {\n    setup() {\n        const count = ref(0);\n        \n        const increment = () => {\n            count.value++;\n        };\n        \n        return {\n            count,\n            increment\n        };\n    }\n};\n</script>\n```\n\n### Script Setup (Syntactic Sugar)\n\n```vue\n<template>\n    <div>\n        <p>Count: {{ count }}</p>\n        <button @click="increment">Increment</button>\n    </div>\n</template>\n\n<script setup>\nimport { ref } from ''vue'';\n\nconst count = ref(0);\n\nconst increment = () => {\n    count.value++;\n};\n</script>\n```\n\n---\n\n## Reactive References\n\n### ref\n\n`ref` creates a reactive reference to a value.\n\n```javascript\nimport { ref } from ''vue'';\n\n// Basic ref\nconst count = ref(0);\n\n// Access value\nconsole.log(count.value);  // 0\n\n// Update value\ncount.value = 1;\n\n// In template, .value is not needed\n// {{ count }} not {{ count.value }}\n```\n\n### ref with Objects\n\n```javascript\nimport { ref } from ''vue'';\n\nconst user = ref({\n    name: ''Alice'',\n    age: 30\n});\n\n// Access\nconsole.log(user.value.name);  // Alice\n\n// Update\nuser.value.name = ''Bob'';\n```\n\n### reactive\n\n`reactive` creates a reactive object (no .value needed).\n\n```javascript\nimport { reactive } from ''vue'';\n\nconst state = reactive({\n    count: 0,\n    name: ''Alice''\n});\n\n// Access (no .value)\nconsole.log(state.count);  // 0\n\n// Update\nstate.count = 1;\n```\n\n### ref vs reactive\n\n```javascript\n// ref: Use for primitives or when you need to replace entire object\nconst count = ref(0);\nconst user = ref({ name: ''Alice'' });\n\n// reactive: Use for objects that won''t be replaced\nconst state = reactive({\n    count: 0,\n    name: ''Alice''\n});\n\n// ref is more flexible, reactive is simpler for objects\n```\n\n---\n\n## Computed Properties\n\n### Basic Computed\n\n```javascript\nimport { ref, computed } from ''vue'';\n\nconst count = ref(0);\n\n// Computed property\nconst doubleCount = computed(() => {\n    return count.value * 2;\n});\n\n// Usage\nconsole.log(doubleCount.value);  // 0 (count is 0)\ncount.value = 5;\nconsole.log(doubleCount.value);  // 10\n```\n\n### Computed with Getter and Setter\n\n```javascript\nimport { ref, computed } from ''vue'';\n\nconst firstName = ref(''John'');\nconst lastName = ref(''Doe'');\n\n// Computed with getter and setter\nconst fullName = computed({\n    get() {\n        return `${firstName.value} ${lastName.value}`;\n    },\n    set(value) {\n        const parts = value.split('' '');\n        firstName.value = parts[0];\n        lastName.value = parts[1] || '''';\n    }\n});\n\n// Usage\nconsole.log(fullName.value);  // John Doe\nfullName.value = ''Jane Smith'';\nconsole.log(firstName.value);  // Jane\nconsole.log(lastName.value);    // Smith\n```\n\n### Computed in Template\n\n```vue\n<template>\n    <div>\n        <p>Count: {{ count }}</p>\n        <p>Double: {{ doubleCount }}</p>\n    </div>\n</template>\n\n<script setup>\nimport { ref, computed } from ''vue'';\n\nconst count = ref(0);\nconst doubleCount = computed(() => count.value * 2);\n</script>\n```\n\n---\n\n## Watch and WatchEffect\n\n### watch\n\n```javascript\nimport { ref, watch } from ''vue'';\n\nconst count = ref(0);\nconst message = ref('''');\n\n// Watch single source\nwatch(count, (newValue, oldValue) => {\n    console.log(`Count changed from ${oldValue} to ${newValue}`);\n});\n\n// Watch multiple sources\nwatch([count, message], ([newCount, newMessage], [oldCount, oldMessage]) => {\n    console.log(''Count or message changed'');\n});\n\n// Watch with options\nwatch(count, (newValue) => {\n    console.log(''Count changed:'', newValue);\n}, {\n    immediate: true,  // Run immediately\n    deep: true        // Deep watch for objects\n});\n```\n\n### watchEffect\n\n```javascript\nimport { ref, watchEffect } from ''vue'';\n\nconst count = ref(0);\nconst doubleCount = ref(0);\n\n// watchEffect runs immediately and tracks dependencies\nwatchEffect(() => {\n    doubleCount.value = count.value * 2;\n});\n\n// Automatically tracks count as dependency\ncount.value = 5;  // doubleCount becomes 10\n```\n\n---\n\n## Lifecycle Hooks\n\n### Composition API Lifecycle\n\n```javascript\nimport { onMounted, onUpdated, onUnmounted } from ''vue'';\n\nexport default {\n    setup() {\n        onMounted(() => {\n            console.log(''Component mounted'');\n        });\n        \n        onUpdated(() => {\n            console.log(''Component updated'');\n        });\n        \n        onUnmounted(() => {\n            console.log(''Component unmounted'');\n        });\n    }\n};\n```\n\n### All Lifecycle Hooks\n\n```javascript\nimport {\n    onBeforeMount,\n    onMounted,\n    onBeforeUpdate,\n    onUpdated,\n    onBeforeUnmount,\n    onUnmounted\n} from ''vue'';\n\nexport default {\n    setup() {\n        onBeforeMount(() => {\n            // Before mount\n        });\n        \n        onMounted(() => {\n            // After mount\n        });\n        \n        onBeforeUpdate(() => {\n            // Before update\n        });\n        \n        onUpdated(() => {\n            // After update\n        });\n        \n        onBeforeUnmount(() => {\n            // Before unmount\n        });\n        \n        onUnmounted(() => {\n            // After unmount\n        });\n    }\n};\n```\n\n---\n\n## Props and Emits\n\n### Props\n\n```javascript\nimport { defineProps } from ''vue'';\n\n// Define props\nconst props = defineProps({\n    title: String,\n    count: {\n        type: Number,\n        default: 0\n    }\n});\n\n// Use props\nconsole.log(props.title);\nconsole.log(props.count);\n```\n\n### Emits\n\n```javascript\nimport { defineEmits } from ''vue'';\n\n// Define emits\nconst emit = defineEmits([''update'', ''delete'']);\n\n// Emit events\nconst handleUpdate = () => {\n    emit(''update'', data);\n};\n\nconst handleDelete = () => {\n    emit(''delete'', id);\n};\n```\n\n### Props and Emits with TypeScript\n\n```typescript\n// With TypeScript\ninterface Props {\n    title: string;\n    count?: number;\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n    update: [value: string];\n    delete: [id: number];\n}>();\n```\n\n---\n\n## Composables (Custom Hooks)\n\n### What are Composables?\n\nComposables are functions that use Composition API features to encapsulate and reuse stateful logic.\n\n### Basic Composable\n\n```javascript\n// useCounter.js\nimport { ref } from ''vue'';\n\nexport function useCounter(initialValue = 0) {\n    const count = ref(initialValue);\n    \n    const increment = () => {\n        count.value++;\n    };\n    \n    const decrement = () => {\n        count.value--;\n    };\n    \n    const reset = () => {\n        count.value = initialValue;\n    };\n    \n    return {\n        count,\n        increment,\n        decrement,\n        reset\n    };\n}\n```\n\n### Using Composable\n\n```vue\n<template>\n    <div>\n        <p>Count: {{ count }}</p>\n        <button @click="increment">+</button>\n        <button @click="decrement">-</button>\n        <button @click="reset">Reset</button>\n    </div>\n</template>\n\n<script setup>\nimport { useCounter } from ''./composables/useCounter'';\n\nconst { count, increment, decrement, reset } = useCounter(0);\n</script>\n```\n\n### Composable: useFetch\n\n```javascript\n// useFetch.js\nimport { ref, onMounted } from ''vue'';\n\nexport function useFetch(url) {\n    const data = ref(null);\n    const loading = ref(true);\n    const error = ref(null);\n    \n    const fetchData = async () => {\n        try {\n            loading.value = true;\n            error.value = null;\n            const response = await fetch(url);\n            if (!response.ok) {\n                throw new Error(''Network response was not ok'');\n            }\n            data.value = await response.json();\n        } catch (err) {\n            error.value = err.message;\n        } finally {\n            loading.value = false;\n        }\n    };\n    \n    onMounted(() => {\n        fetchData();\n    });\n    \n    return {\n        data,\n        loading,\n        error,\n        refetch: fetchData\n    };\n}\n```\n\n### Composable: useLocalStorage\n\n```javascript\n// useLocalStorage.js\nimport { ref, watch } from ''vue'';\n\nexport function useLocalStorage(key, initialValue) {\n    const storedValue = ref(() => {\n        try {\n            const item = window.localStorage.getItem(key);\n            return item ? JSON.parse(item) : initialValue;\n        } catch (error) {\n            console.error(error);\n            return initialValue;\n        }\n    });\n    \n    watch(storedValue, (newValue) => {\n        try {\n            window.localStorage.setItem(key, JSON.stringify(newValue));\n        } catch (error) {\n            console.error(error);\n        }\n    }, { deep: true });\n    \n    return storedValue;\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Composition API\n\n**Objective**: Practice using setup function, reactive references, computed properties, and creating composables.\n\n**Instructions**:\n\n1. Create a Vue 3 project\n2. Practice Composition API\n3. Practice:\n   - Setup function\n   - Reactive references\n   - Computed properties\n   - Creating composables\n\n**Example Solution**:\n\n```javascript\n// src/composables/useCounter.js\nimport { ref } from ''vue'';\n\nexport function useCounter(initialValue = 0, step = 1) {\n    const count = ref(initialValue);\n    \n    const increment = () => {\n        count.value += step;\n    };\n    \n    const decrement = () => {\n        count.value -= step;\n    };\n    \n    const reset = () => {\n        count.value = initialValue;\n    };\n    \n    return {\n        count,\n        increment,\n        decrement,\n        reset\n    };\n}\n```\n\n```javascript\n// src/composables/useTodos.js\nimport { ref, computed } from ''vue'';\n\nexport function useTodos() {\n    const todos = ref([]);\n    const filter = ref(''all'');\n    \n    const addTodo = (text) => {\n        if (text.trim()) {\n            todos.value.push({\n                id: Date.now(),\n                text,\n                completed: false\n            });\n        }\n    };\n    \n    const toggleTodo = (id) => {\n        const todo = todos.value.find(t => t.id === id);\n        if (todo) {\n            todo.completed = !todo.completed;\n        }\n    };\n    \n    const removeTodo = (id) => {\n        todos.value = todos.value.filter(t => t.id !== id);\n    };\n    \n    const setFilter = (newFilter) => {\n        filter.value = newFilter;\n    };\n    \n    const filteredTodos = computed(() => {\n        if (filter.value === ''active'') {\n            return todos.value.filter(t => !t.completed);\n        }\n        if (filter.value === ''completed'') {\n            return todos.value.filter(t => t.completed);\n        }\n        return todos.value;\n    });\n    \n    return {\n        todos,\n        filter,\n        filteredTodos,\n        addTodo,\n        toggleTodo,\n        removeTodo,\n        setFilter\n    };\n}\n```\n\n```javascript\n// src/composables/useFetch.js\nimport { ref, onMounted } from ''vue'';\n\nexport function useFetch(url) {\n    const data = ref(null);\n    const loading = ref(true);\n    const error = ref(null);\n    \n    const fetchData = async () => {\n        try {\n            loading.value = true;\n            error.value = null;\n            const response = await fetch(url);\n            if (!response.ok) {\n                throw new Error(''Network response was not ok'');\n            }\n            data.value = await response.json();\n        } catch (err) {\n            error.value = err.message;\n        } finally {\n            loading.value = false;\n        }\n    };\n    \n    onMounted(() => {\n        fetchData();\n    });\n    \n    return {\n        data,\n        loading,\n        error,\n        refetch: fetchData\n    };\n}\n```\n\n```vue\n<!-- src/components/Counter.vue -->\n<template>\n    <div class="counter">\n        <h2>Counter</h2>\n        <p>Count: {{ count }}</p>\n        <p>Double: {{ doubleCount }}</p>\n        <div class="buttons">\n            <button @click="decrement">-</button>\n            <button @click="reset">Reset</button>\n            <button @click="increment">+</button>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { computed } from ''vue'';\nimport { useCounter } from ''../composables/useCounter'';\n\nconst { count, increment, decrement, reset } = useCounter(0);\nconst doubleCount = computed(() => count.value * 2);\n</script>\n\n<style scoped>\n.counter {\n    padding: 20px;\n    border: 1px solid #ddd;\n    border-radius: 8px;\n}\n\n.buttons {\n    display: flex;\n    gap: 10px;\n    margin-top: 10px;\n}\n\nbutton {\n    padding: 8px 16px;\n    background-color: #007bff;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n}\n</style>\n```\n\n```vue\n<!-- src/components/TodoApp.vue -->\n<template>\n    <div class="todo-app">\n        <h2>Todo App</h2>\n        <div class="todo-input">\n            <input\n                v-model="newTodo"\n                @keyup.enter="handleAdd"\n                placeholder="Add todo..."\n            />\n            <button @click="handleAdd">Add</button>\n        </div>\n        <div class="filters">\n            <button\n                :class="{ active: filter === ''all'' }"\n                @click="setFilter(''all'')"\n            >\n                All\n            </button>\n            <button\n                :class="{ active: filter === ''active'' }"\n                @click="setFilter(''active'')"\n            >\n                Active\n            </button>\n            <button\n                :class="{ active: filter === ''completed'' }"\n                @click="setFilter(''completed'')"\n            >\n                Completed\n            </button>\n        </div>\n        <ul>\n            <li\n                v-for="todo in filteredTodos"\n                :key="todo.id"\n                :class="{ completed: todo.completed }"\n            >\n                <input\n                    type="checkbox"\n                    :checked="todo.completed"\n                    @change="toggleTodo(todo.id)"\n                />\n                <span>{{ todo.text }}</span>\n                <button @click="removeTodo(todo.id)">Delete</button>\n            </li>\n        </ul>\n    </div>\n</template>\n\n<script setup>\nimport { ref } from ''vue'';\nimport { useTodos } from ''../composables/useTodos'';\n\nconst { todos, filter, filteredTodos, addTodo, toggleTodo, removeTodo, setFilter } = useTodos();\nconst newTodo = ref('''');\n\nconst handleAdd = () => {\n    addTodo(newTodo.value);\n    newTodo.value = '''';\n};\n</script>\n\n<style scoped>\n.todo-app {\n    padding: 20px;\n    border: 1px solid #ddd;\n    border-radius: 8px;\n}\n\n.todo-input {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n}\n\n.todo-input input {\n    flex: 1;\n    padding: 8px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n}\n\n.filters {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n}\n\n.filters button.active {\n    background-color: #28a745;\n}\n\nul {\n    list-style: none;\n    padding: 0;\n}\n\nli {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 10px;\n    margin: 5px 0;\n    background-color: #f5f5f5;\n    border-radius: 4px;\n}\n\nli.completed span {\n    text-decoration: line-through;\n    opacity: 0.6;\n}\n\nbutton {\n    padding: 8px 16px;\n    background-color: #007bff;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n}\n</style>\n```\n\n```vue\n<!-- src/components/UserProfile.vue -->\n<template>\n    <div class="user-profile">\n        <h2>User Profile</h2>\n        <div v-if="loading">Loading...</div>\n        <div v-else-if="error">Error: {{ error }}</div>\n        <div v-else-if="data">\n            <p><strong>Name:</strong> {{ data.name }}</p>\n            <p><strong>Email:</strong> {{ data.email }}</p>\n        </div>\n        <button @click="refetch">Refetch</button>\n    </div>\n</template>\n\n<script setup>\nimport { useFetch } from ''../composables/useFetch'';\n\nconst { data, loading, error, refetch } = useFetch(''https://jsonplaceholder.typicode.com/users/1'');\n</script>\n\n<style scoped>\n.user-profile {\n    padding: 20px;\n    border: 1px solid #ddd;\n    border-radius: 8px;\n}\n</style>\n```\n\n```vue\n<!-- src/App.vue -->\n<template>\n    <div class="app">\n        <header>\n            <h1>Vue Composition API Practice</h1>\n        </header>\n        <main>\n            <section>\n                <counter />\n            </section>\n            <section>\n                <todo-app />\n            </section>\n            <section>\n                <user-profile />\n            </section>\n        </main>\n    </div>\n</template>\n\n<script setup>\nimport Counter from ''./components/Counter.vue'';\nimport TodoApp from ''./components/TodoApp.vue'';\nimport UserProfile from ''./components/UserProfile.vue'';\n</script>\n\n<style>\n.app {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\nheader {\n    text-align: center;\n    margin-bottom: 30px;\n}\n\nsection {\n    margin-bottom: 40px;\n}\n</style>\n```\n\n**Expected Output** (in browser):\n- Counter with composable\n- Todo app with composable\n- User profile with useFetch\n- All working with Composition API\n\n**Challenge (Optional)**:\n- Create more composables\n- Build complex components\n- Practice all Composition API features\n- Build a complete application\n\n---\n\n## Common Mistakes\n\n### 1. Forgetting .value with ref\n\n```javascript\n// ❌ Bad: Missing .value\nconst count = ref(0);\ncount++;  // Error\n\n// ✅ Good: Use .value\nconst count = ref(0);\ncount.value++;\n```\n\n### 2. Not Returning from Setup\n\n```javascript\n// ❌ Bad: Not returning\nsetup() {\n    const count = ref(0);\n    // Missing return\n}\n\n// ✅ Good: Return what you need\nsetup() {\n    const count = ref(0);\n    return { count };\n}\n```\n\n### 3. Mutating Props\n\n```javascript\n// ❌ Bad: Mutate prop\nconst props = defineProps([''count'']);\nprops.count++;  // Error\n\n// ✅ Good: Use emit or local state\nconst props = defineProps([''initialCount'']);\nconst count = ref(props.initialCount);\n```\n\n---\n\n## Key Takeaways\n\n1. **Composition API**: New way to write Vue components\n2. **Setup Function**: Entry point for Composition API\n3. **ref**: Reactive reference (use .value)\n4. **reactive**: Reactive object (no .value)\n5. **computed**: Computed properties\n6. **Composables**: Reusable logic functions\n7. **Best Practice**: Use script setup, create composables, organize logic\n\n---\n\n## Quiz: Vue Composition API\n\nTest your understanding with these questions:\n\n1. **Composition API:**\n   - A) Vue 3 feature\n   - B) Vue 2 feature\n   - C) Both\n   - D) Neither\n\n2. **ref requires:**\n   - A) .value\n   - B) No .value\n   - C) Both\n   - D) Neither\n\n3. **reactive:**\n   - A) No .value needed\n   - B) .value needed\n   - C) Both\n   - D) Neither\n\n4. **computed:**\n   - A) Cached\n   - B) Not cached\n   - C) Both\n   - D) Neither\n\n5. **Composables:**\n   - A) Reusable logic\n   - B) Component logic\n   - C) Both\n   - D) Neither\n\n6. **script setup:**\n   - A) Syntactic sugar\n   - B) Required\n   - C) Both\n   - D) Neither\n\n7. **setup function:**\n   - A) Must return\n   - B) Optional return\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Vue 3 feature\n2. A) .value\n3. A) No .value needed\n4. A) Cached\n5. A) Reusable logic\n6. A) Syntactic sugar\n7. A) Must return (unless using script setup)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 27: Vue.js (Alternative Framework). You now know:\n- Vue.js basics\n- Vue components\n- Vue Composition API\n- How to build Vue applications\n\n**What''s Next?**\n- Module 28: Node.js Basics\n- Learn Node.js introduction\n- Understand Node.js fundamentals\n- Build server-side applications\n\n---\n\n## Additional Resources\n\n- **Composition API**: [vuejs.org/guide/extras/composition-api-faq.html](https://vuejs.org/guide/extras/composition-api-faq.html)\n- **Script Setup**: [vuejs.org/api/sfc-script-setup.html](https://vuejs.org/api/sfc-script-setup.html)\n- **Composables**: [vuejs.org/guide/reusability/composables.html](https://vuejs.org/guide/reusability/composables.html)\n\n---\n\n*Lesson completed! You''ve finished Module 27: Vue.js. Ready for Module 28: Node.js Basics!*\n\n', NULL, 3, '2026-01-03 10:09:12', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Use the setup function\n- Work with reactive references\n- Use computed properties\n- Understand Composition API benefits\n- Build components with Composition API\n- Organize component logic\n- Create reusable composables');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (183, 68, 17, 'Node.js Introduction', 'nodejs-introduction', '# Lesson 28.1: Node.js Introduction\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand what Node.js is\n- Know the differences between Node.js and browser JavaScript\n- Install Node.js\n- Use the REPL\n- Run Node.js applications\n- Understand Node.js fundamentals\n- Write server-side JavaScript\n\n---\n\n## Introduction to Node.js\n\nNode.js is a JavaScript runtime built on Chrome''s V8 JavaScript engine. It allows you to run JavaScript on the server.\n\n### What is Node.js?\n\n- **JavaScript Runtime**: Runs JavaScript outside the browser\n- **Event-Driven**: Asynchronous, event-driven architecture\n- **Non-Blocking I/O**: Efficient handling of I/O operations\n- **Single-Threaded**: Uses event loop for concurrency\n- **NPM**: Package manager for JavaScript\n- **Cross-Platform**: Works on Windows, macOS, Linux\n\n### Why Node.js?\n\n- **One Language**: JavaScript for both frontend and backend\n- **Fast**: Built on V8 engine\n- **Scalable**: Handles many concurrent connections\n- **Large Ecosystem**: Huge number of packages\n- **Active Community**: Large and active community\n- **Real-Time**: Great for real-time applications\n\n---\n\n## What is Node.js?\n\n### Node.js Architecture\n\n```\n┌─────────────────┐\n│   JavaScript    │\n│     Code        │\n└────────┬────────┘\n         │\n┌────────▼────────┐\n│   Node.js API   │\n│   (Core Modules)│\n└────────┬────────┘\n         │\n┌────────▼────────┐\n│   V8 Engine     │\n│  (JavaScript    │\n│   Engine)       │\n└────────┬────────┘\n         │\n┌────────▼────────┐\n│  libuv (C++)    │\n│  (Event Loop)   │\n└─────────────────┘\n```\n\n### Key Features\n\n- **V8 Engine**: Google''s JavaScript engine\n- **Event Loop**: Handles asynchronous operations\n- **libuv**: C++ library for async I/O\n- **Core Modules**: Built-in modules (fs, http, path, etc.)\n- **NPM**: Node Package Manager\n\n---\n\n## Node.js vs Browser JavaScript\n\n### Similarities\n\n```javascript\n// Both support:\n// - JavaScript syntax\n// - Variables, functions, objects\n// - ES6+ features\n// - Async/await, promises\n```\n\n### Differences\n\n| Feature | Browser JavaScript | Node.js |\n|---------|-------------------|---------|\n| **Global Object** | `window` | `global` |\n| **DOM** | Yes | No |\n| **File System** | No | Yes |\n| **Modules** | ES6 modules | CommonJS/ES6 |\n| **Process** | No | Yes |\n| **OS** | Limited | Full access |\n| **Network** | Fetch API | http/https modules |\n\n### Global Objects\n\n```javascript\n// Browser\nconsole.log(window);      // Global object\nconsole.log(document);    // DOM\nconsole.log(navigator);   // Browser info\n\n// Node.js\nconsole.log(global);      // Global object\nconsole.log(process);     // Process info\nconsole.log(__dirname);   // Current directory\nconsole.log(__filename);  // Current file\n```\n\n### No DOM in Node.js\n\n```javascript\n// ❌ Browser only\ndocument.getElementById(''app'');\nwindow.location;\n\n// ✅ Node.js\nconst fs = require(''fs'');\nconst path = require(''path'');\nconst http = require(''http'');\n```\n\n---\n\n## Installing Node.js\n\n### Download and Install\n\n1. **Visit**: [nodejs.org](https://nodejs.org)\n2. **Download**: LTS (Long Term Support) version\n3. **Install**: Follow installation wizard\n4. **Verify**: Check installation\n\n### Verify Installation\n\n```bash\n# Check Node.js version\nnode --version\n# or\nnode -v\n\n# Check npm version\nnpm --version\n# or\nnpm -v\n```\n\n### Using nvm (Node Version Manager)\n\n```bash\n# Install nvm (macOS/Linux)\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash\n\n# Install Node.js\nnvm install node        # Latest version\nnvm install 18          # Specific version\nnvm install --lts       # LTS version\n\n# Use version\nnvm use 18\n\n# List installed versions\nnvm list\n\n# Set default\nnvm alias default 18\n```\n\n### Using nvm-windows\n\n```powershell\n# Download from: https://github.com/coreybutler/nvm-windows/releases\n# Install and use:\nnvm install 18\nnvm use 18\n```\n\n---\n\n## REPL (Read-Eval-Print Loop)\n\n### What is REPL?\n\nREPL is an interactive programming environment where you can run JavaScript code.\n\n### Starting REPL\n\n```bash\n# Start REPL\nnode\n\n# Or with specific file\nnode filename.js\n```\n\n### REPL Commands\n\n```javascript\n// In REPL:\n> const name = ''Alice'';\nundefined\n\n> name\n''Alice''\n\n> 2 + 2\n4\n\n> function greet(name) {\n...   return `Hello, ${name}!`;\n... }\nundefined\n\n> greet(''Alice'')\n''Hello, Alice!''\n\n// Special commands:\n.help          // Show help\n.break         // Exit multi-line input\n.clear         // Clear context\n.exit          // Exit REPL\n.save file.js  // Save session\n.load file.js  // Load file\n```\n\n### REPL Features\n\n```javascript\n// Multi-line input\n> function add(a, b) {\n...   return a + b;\n... }\nundefined\n\n> add(2, 3)\n5\n\n// Variables persist\n> let x = 10;\nundefined\n> x\n10\n\n// Use require\n> const fs = require(''fs'');\nundefined\n> fs.readFileSync(''package.json'', ''utf8'')\n''...''\n\n// Use _ for last result\n> 2 + 2\n4\n> _ * 2\n8\n```\n\n---\n\n## Your First Node.js Application\n\n### Simple Script\n\n```javascript\n// hello.js\nconsole.log(''Hello, Node.js!'');\n\n// Run it\n// node hello.js\n```\n\n### Using Modules\n\n```javascript\n// app.js\nconst fs = require(''fs'');\nconst path = require(''path'');\n\nconsole.log(''Current directory:'', __dirname);\nconsole.log(''Current file:'', __filename);\n\n// Read a file\nconst data = fs.readFileSync(''package.json'', ''utf8'');\nconsole.log(''Package.json:'', data);\n```\n\n### Using Process\n\n```javascript\n// process-example.js\nconsole.log(''Process ID:'', process.pid);\nconsole.log(''Node version:'', process.version);\nconsole.log(''Platform:'', process.platform);\nconsole.log(''Arguments:'', process.argv);\n\n// Access command line arguments\nconst args = process.argv.slice(2);\nconsole.log(''Arguments:'', args);\n```\n\n### Environment Variables\n\n```javascript\n// env-example.js\nconsole.log(''NODE_ENV:'', process.env.NODE_ENV);\nconsole.log(''HOME:'', process.env.HOME);\n\n// Set environment variable\nprocess.env.MY_VAR = ''my value'';\nconsole.log(''MY_VAR:'', process.env.MY_VAR);\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Node.js Basics\n\n**Objective**: Practice installing Node.js, using REPL, and creating your first Node.js applications.\n\n**Instructions**:\n\n1. Install Node.js\n2. Use REPL\n3. Create Node.js scripts\n4. Practice:\n   - Running Node.js scripts\n   - Using global objects\n   - Working with process\n   - Using environment variables\n\n**Example Solution**:\n\n```javascript\n// exercise-1.js\n// Basic Node.js script\nconsole.log(''Hello, Node.js!'');\nconsole.log(''Current directory:'', __dirname);\nconsole.log(''Current file:'', __filename);\n```\n\n```javascript\n// exercise-2.js\n// Process information\nconsole.log(''=== Process Information ==='');\nconsole.log(''Process ID:'', process.pid);\nconsole.log(''Node version:'', process.version);\nconsole.log(''Platform:'', process.platform);\nconsole.log(''Architecture:'', process.arch);\nconsole.log(''Current working directory:'', process.cwd());\n```\n\n```javascript\n// exercise-3.js\n// Command line arguments\nconst args = process.argv.slice(2);\n\nconsole.log(''=== Command Line Arguments ==='');\nconsole.log(''Number of arguments:'', args.length);\nargs.forEach((arg, index) => {\n    console.log(`Argument ${index + 1}: ${arg}`);\n});\n\n// Example usage:\n// node exercise-3.js arg1 arg2 arg3\n```\n\n```javascript\n// exercise-4.js\n// Environment variables\nconsole.log(''=== Environment Variables ==='');\nconsole.log(''NODE_ENV:'', process.env.NODE_ENV || ''not set'');\nconsole.log(''HOME:'', process.env.HOME || process.env.USERPROFILE || ''not set'');\nconsole.log(''PATH:'', process.env.PATH ? ''set'' : ''not set'');\n\n// Set custom environment variable\nprocess.env.MY_APP_NAME = ''My Node.js App'';\nconsole.log(''MY_APP_NAME:'', process.env.MY_APP_NAME);\n```\n\n```javascript\n// exercise-5.js\n// Simple calculator\nconst args = process.argv.slice(2);\n\nif (args.length !== 3) {\n    console.log(''Usage: node exercise-5.js <num1> <operator> <num2>'');\n    console.log(''Operators: +, -, *, /'');\n    process.exit(1);\n}\n\nconst num1 = parseFloat(args[0]);\nconst operator = args[1];\nconst num2 = parseFloat(args[2]);\n\nlet result;\n\nswitch (operator) {\n    case ''+'':\n        result = num1 + num2;\n        break;\n    case ''-'':\n        result = num1 - num2;\n        break;\n    case ''*'':\n        result = num1 * num2;\n        break;\n    case ''/'':\n        if (num2 === 0) {\n            console.error(''Error: Division by zero'');\n            process.exit(1);\n        }\n        result = num1 / num2;\n        break;\n    default:\n        console.error(''Error: Invalid operator'');\n        process.exit(1);\n}\n\nconsole.log(`${num1} ${operator} ${num2} = ${result}`);\n\n// Example usage:\n// node exercise-5.js 10 + 5\n// node exercise-5.js 10 - 5\n// node exercise-5.js 10 * 5\n// node exercise-5.js 10 / 5\n```\n\n```javascript\n// exercise-6.js\n// Interactive script with readline\nconst readline = require(''readline'');\n\nconst rl = readline.createInterface({\n    input: process.stdin,\n    output: process.stdout\n});\n\nrl.question(''What is your name? '', (name) => {\n    console.log(`Hello, ${name}!`);\n    \n    rl.question(''What is your age? '', (age) => {\n        console.log(`You are ${age} years old.`);\n        \n        rl.question(''What is your favorite color? '', (color) => {\n            console.log(`Your favorite color is ${color}.`);\n            rl.close();\n        });\n    });\n});\n```\n\n```json\n// package.json\n{\n  "name": "nodejs-basics",\n  "version": "1.0.0",\n  "description": "Node.js basics practice",\n  "main": "exercise-1.js",\n  "scripts": {\n    "start": "node exercise-1.js",\n    "process": "node exercise-2.js",\n    "args": "node exercise-3.js",\n    "env": "node exercise-4.js",\n    "calc": "node exercise-5.js",\n    "interactive": "node exercise-6.js"\n  },\n  "keywords": ["nodejs", "basics"],\n  "author": "",\n  "license": "ISC"\n}\n```\n\n**Expected Output**:\n\n```bash\n# Run exercises\nnode exercise-1.js\n# Output: Hello, Node.js! Current directory: ... Current file: ...\n\nnode exercise-2.js\n# Output: Process information\n\nnode exercise-3.js arg1 arg2\n# Output: Command line arguments\n\nnode exercise-4.js\n# Output: Environment variables\n\nnode exercise-5.js 10 + 5\n# Output: 10 + 5 = 15\n\nnode exercise-6.js\n# Interactive prompts\n```\n\n**Challenge (Optional)**:\n- Create more complex scripts\n- Build a CLI tool\n- Practice with REPL\n- Explore Node.js documentation\n\n---\n\n## Common Mistakes\n\n### 1. Using Browser APIs\n\n```javascript\n// ❌ Bad: Browser APIs don''t exist in Node.js\ndocument.getElementById(''app'');\nwindow.location;\n\n// ✅ Good: Use Node.js APIs\nconst fs = require(''fs'');\nconst http = require(''http'');\n```\n\n### 2. Forgetting to Install Dependencies\n\n```javascript\n// ❌ Bad: Using module without installing\nconst express = require(''express'');\n\n// ✅ Good: Install first\n// npm install express\nconst express = require(''express'');\n```\n\n### 3. Not Handling Errors\n\n```javascript\n// ❌ Bad: No error handling\nconst data = fs.readFileSync(''file.txt'', ''utf8'');\n\n// ✅ Good: Handle errors\ntry {\n    const data = fs.readFileSync(''file.txt'', ''utf8'');\n} catch (error) {\n    console.error(''Error reading file:'', error);\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **Node.js**: JavaScript runtime for server-side\n2. **V8 Engine**: Powers Node.js\n3. **Event-Driven**: Asynchronous, non-blocking\n4. **No DOM**: No browser APIs\n5. **Global Objects**: global, process, __dirname, __filename\n6. **REPL**: Interactive JavaScript environment\n7. **Best Practice**: Use Node.js APIs, handle errors, install dependencies\n\n---\n\n## Quiz: Node.js Introduction\n\nTest your understanding with these questions:\n\n1. **Node.js is:**\n   - A) JavaScript runtime\n   - B) JavaScript framework\n   - C) Both\n   - D) Neither\n\n2. **Node.js uses:**\n   - A) V8 engine\n   - B) SpiderMonkey\n   - C) Both\n   - D) Neither\n\n3. **Node.js has:**\n   - A) DOM\n   - B) No DOM\n   - C) Both\n   - D) Neither\n\n4. **Global object in Node.js:**\n   - A) window\n   - B) global\n   - C) Both\n   - D) Neither\n\n5. **REPL stands for:**\n   - A) Read-Eval-Print Loop\n   - B) Run-Execute-Print Loop\n   - C) Both\n   - D) Neither\n\n6. **Node.js is:**\n   - A) Single-threaded\n   - B) Multi-threaded\n   - C) Both\n   - D) Neither\n\n7. **Package manager for Node.js:**\n   - A) npm\n   - B) yarn\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) JavaScript runtime\n2. A) V8 engine\n3. B) No DOM\n4. B) global\n5. A) Read-Eval-Print Loop\n6. A) Single-threaded (with event loop)\n7. C) Both (npm is default, yarn is alternative)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned Node.js introduction. You now know:\n- What Node.js is\n- Differences from browser JavaScript\n- How to install Node.js\n- How to use REPL\n\n**What''s Next?**\n- Lesson 28.2: Node.js Modules\n- Learn CommonJS modules\n- Understand core modules\n- Work with npm modules\n\n---\n\n## Additional Resources\n\n- **Node.js Documentation**: [nodejs.org/docs](https://nodejs.org/docs)\n- **Node.js API**: [nodejs.org/api](https://nodejs.org/api)\n- **npm Documentation**: [docs.npmjs.com](https://docs.npmjs.com)\n- **nvm**: [github.com/nvm-sh/nvm](https://github.com/nvm-sh/nvm)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 10:13:14', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand what Node.js is\n- Know the differences between Node.js and browser JavaScript\n- Install Node.js\n- Use the REPL\n- Run Node.js applications\n- Understand Node.js fundamentals\n- Write server-side JavaScript');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (184, 68, 17, 'Node.js Modules and File System', 'nodejs-modules-and-file-system', '# Lesson 28.2: Node.js Modules\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand CommonJS modules\n- Use core Node.js modules\n- Work with npm modules\n- Understand module patterns\n- Create and use custom modules\n- Organize code with modules\n- Build modular applications\n\n---\n\n## Introduction to Modules\n\nModules are reusable pieces of code that can be imported and used in other files. Node.js uses a module system to organize code.\n\n### Why Modules?\n\n- **Code Organization**: Split code into logical units\n- **Reusability**: Use code in multiple places\n- **Namespace**: Avoid global variable pollution\n- **Maintainability**: Easier to maintain and test\n- **Dependency Management**: Clear dependencies\n\n---\n\n## CommonJS Modules\n\n### What is CommonJS?\n\nCommonJS is the module system used by Node.js. It uses `require()` and `module.exports`.\n\n### Exporting Modules\n\n```javascript\n// math.js\n// Export single value\nmodule.exports = function add(a, b) {\n    return a + b;\n};\n\n// Export object\nmodule.exports = {\n    add: (a, b) => a + b,\n    subtract: (a, b) => a - b,\n    multiply: (a, b) => a * b,\n    divide: (a, b) => a / b\n};\n\n// Export using exports\nexports.add = (a, b) => a + b;\nexports.subtract = (a, b) => a - b;\n```\n\n### Importing Modules\n\n```javascript\n// app.js\n// Import single value\nconst add = require(''./math'');\nconsole.log(add(2, 3));\n\n// Import object\nconst math = require(''./math'');\nconsole.log(math.add(2, 3));\nconsole.log(math.subtract(5, 2));\n\n// Destructure import\nconst { add, subtract } = require(''./math'');\nconsole.log(add(2, 3));\n```\n\n### Module Caching\n\n```javascript\n// Modules are cached after first require\n// Subsequent requires return cached version\nconst module1 = require(''./math'');\nconst module2 = require(''./math'');\n// module1 === module2 (same instance)\n```\n\n---\n\n## Core Modules\n\n### What are Core Modules?\n\nCore modules are built-in Node.js modules that don''t require installation.\n\n### Common Core Modules\n\n```javascript\n// File System\nconst fs = require(''fs'');\n\n// Path\nconst path = require(''path'');\n\n// HTTP\nconst http = require(''http'');\nconst https = require(''https'');\n\n// URL\nconst url = require(''url'');\n\n// Events\nconst events = require(''events'');\n\n// Stream\nconst stream = require(''stream'');\n\n// Crypto\nconst crypto = require(''crypto'');\n\n// OS\nconst os = require(''os'');\n\n// Process\nconst process = require(''process'');\n\n// Buffer\nconst buffer = require(''buffer'');\n```\n\n### fs Module (File System)\n\n```javascript\nconst fs = require(''fs'');\n\n// Read file synchronously\nconst data = fs.readFileSync(''file.txt'', ''utf8'');\n\n// Read file asynchronously\nfs.readFile(''file.txt'', ''utf8'', (err, data) => {\n    if (err) {\n        console.error(err);\n        return;\n    }\n    console.log(data);\n});\n\n// Write file\nfs.writeFileSync(''output.txt'', ''Hello, World!'');\n\n// Check if file exists\nif (fs.existsSync(''file.txt'')) {\n    console.log(''File exists'');\n}\n```\n\n### path Module\n\n```javascript\nconst path = require(''path'');\n\n// Join paths\nconst fullPath = path.join(__dirname, ''data'', ''file.txt'');\n\n// Get directory name\nconst dir = path.dirname(''/users/john/file.txt'');\n// ''/users/john''\n\n// Get file name\nconst filename = path.basename(''/users/john/file.txt'');\n// ''file.txt''\n\n// Get extension\nconst ext = path.extname(''file.txt'');\n// ''.txt''\n\n// Parse path\nconst parsed = path.parse(''/users/john/file.txt'');\n// { root: ''/'', dir: ''/users/john'', base: ''file.txt'', ext: ''.txt'', name: ''file'' }\n\n// Resolve path\nconst resolved = path.resolve(''data'', ''file.txt'');\n```\n\n### http Module\n\n```javascript\nconst http = require(''http'');\n\n// Create server\nconst server = http.createServer((req, res) => {\n    res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n    res.end(''Hello, World!'');\n});\n\nserver.listen(3000, () => {\n    console.log(''Server running on port 3000'');\n});\n```\n\n### url Module\n\n```javascript\nconst url = require(''url'');\n\n// Parse URL\nconst parsedUrl = url.parse(''https://example.com/path?query=value'');\nconsole.log(parsedUrl.hostname);  // ''example.com''\nconsole.log(parsedUrl.pathname);  // ''/path''\nconsole.log(parsedUrl.query);     // ''query=value''\n\n// Create URL\nconst myUrl = new URL(''https://example.com/path?query=value'');\nconsole.log(myUrl.searchParams.get(''query''));  // ''value''\n```\n\n### os Module\n\n```javascript\nconst os = require(''os'');\n\nconsole.log(os.platform());      // ''darwin'', ''win32'', ''linux''\nconsole.log(os.arch());          // ''x64'', ''arm64''\nconsole.log(os.cpus());          // CPU information\nconsole.log(os.totalmem());      // Total memory\nconsole.log(os.freemem());       // Free memory\nconsole.log(os.homedir());       // Home directory\nconsole.log(os.hostname());      // Hostname\n```\n\n### crypto Module\n\n```javascript\nconst crypto = require(''crypto'');\n\n// Create hash\nconst hash = crypto.createHash(''sha256'');\nhash.update(''Hello, World!'');\nconsole.log(hash.digest(''hex''));\n\n// Generate random bytes\nconst randomBytes = crypto.randomBytes(16);\nconsole.log(randomBytes.toString(''hex''));\n```\n\n---\n\n## npm Modules\n\n### What is npm?\n\nnpm (Node Package Manager) is the package manager for Node.js. It allows you to install and manage third-party modules.\n\n### Installing Packages\n\n```bash\n# Install package\nnpm install express\n\n# Install as dev dependency\nnpm install --save-dev nodemon\n\n# Install globally\nnpm install -g nodemon\n\n# Install specific version\nnpm install express@4.18.0\n\n# Install from package.json\nnpm install\n```\n\n### package.json\n\n```json\n{\n  "name": "my-app",\n  "version": "1.0.0",\n  "description": "My application",\n  "main": "index.js",\n  "scripts": {\n    "start": "node index.js",\n    "dev": "nodemon index.js"\n  },\n  "dependencies": {\n    "express": "^4.18.0"\n  },\n  "devDependencies": {\n    "nodemon": "^2.0.0"\n  }\n}\n```\n\n### Using npm Modules\n\n```javascript\n// Install: npm install express\nconst express = require(''express'');\nconst app = express();\n\napp.get(''/'', (req, res) => {\n    res.send(''Hello, World!'');\n});\n\napp.listen(3000);\n```\n\n### Popular npm Modules\n\n```javascript\n// Web framework\nconst express = require(''express'');\n\n// Database\nconst mongoose = require(''mongoose'');\nconst mysql = require(''mysql2'');\n\n// Validation\nconst joi = require(''joi'');\n\n// Environment variables\nrequire(''dotenv'').config();\n\n// HTTP client\nconst axios = require(''axios'');\n\n// File upload\nconst multer = require(''multer'');\n\n// Authentication\nconst jwt = require(''jsonwebtoken'');\nconst bcrypt = require(''bcrypt'');\n```\n\n---\n\n## Module Patterns\n\n### Pattern 1: Single Export\n\n```javascript\n// calculator.js\nmodule.exports = function calculate(a, b, operation) {\n    switch (operation) {\n        case ''add'':\n            return a + b;\n        case ''subtract'':\n            return a - b;\n        case ''multiply'':\n            return a * b;\n        case ''divide'':\n            return a / b;\n        default:\n            throw new Error(''Invalid operation'');\n    }\n};\n\n// app.js\nconst calculate = require(''./calculator'');\nconsole.log(calculate(10, 5, ''add''));\n```\n\n### Pattern 2: Multiple Exports\n\n```javascript\n// utils.js\nexports.add = (a, b) => a + b;\nexports.subtract = (a, b) => a - b;\nexports.multiply = (a, b) => a * b;\nexports.divide = (a, b) => a / b;\n\n// app.js\nconst { add, subtract } = require(''./utils'');\nconsole.log(add(2, 3));\n```\n\n### Pattern 3: Class Export\n\n```javascript\n// User.js\nclass User {\n    constructor(name, email) {\n        this.name = name;\n        this.email = email;\n    }\n    \n    greet() {\n        return `Hello, ${this.name}!`;\n    }\n}\n\nmodule.exports = User;\n\n// app.js\nconst User = require(''./User'');\nconst user = new User(''Alice'', ''alice@example.com'');\nconsole.log(user.greet());\n```\n\n### Pattern 4: Factory Function\n\n```javascript\n// createUser.js\nmodule.exports = function createUser(name, email) {\n    return {\n        name,\n        email,\n        greet() {\n            return `Hello, ${this.name}!`;\n        }\n    };\n};\n\n// app.js\nconst createUser = require(''./createUser'');\nconst user = createUser(''Alice'', ''alice@example.com'');\nconsole.log(user.greet());\n```\n\n### Pattern 5: Singleton\n\n```javascript\n// config.js\nlet instance = null;\n\nclass Config {\n    constructor() {\n        if (instance) {\n            return instance;\n        }\n        this.settings = {};\n        instance = this;\n    }\n    \n    set(key, value) {\n        this.settings[key] = value;\n    }\n    \n    get(key) {\n        return this.settings[key];\n    }\n}\n\nmodule.exports = new Config();\n\n// app.js\nconst config = require(''./config'');\nconfig.set(''port'', 3000);\nconsole.log(config.get(''port''));\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Working with Modules\n\n**Objective**: Practice creating modules, using core modules, installing npm modules, and applying module patterns.\n\n**Instructions**:\n\n1. Create Node.js modules\n2. Use core modules\n3. Install and use npm modules\n4. Practice:\n   - Creating custom modules\n   - Using core modules\n   - Installing npm packages\n   - Applying module patterns\n\n**Example Solution**:\n\n```javascript\n// src/utils/math.js\n// Math utility module\nexports.add = (a, b) => a + b;\nexports.subtract = (a, b) => a - b;\nexports.multiply = (a, b) => a * b;\nexports.divide = (a, b) => {\n    if (b === 0) {\n        throw new Error(''Division by zero'');\n    }\n    return a / b;\n};\n```\n\n```javascript\n// src/utils/string.js\n// String utility module\nexports.capitalize = (str) => {\n    return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n};\n\nexports.reverse = (str) => {\n    return str.split('''').reverse().join('''');\n};\n\nexports.isPalindrome = (str) => {\n    const cleaned = str.toLowerCase().replace(/[^a-z0-9]/g, '''');\n    return cleaned === cleaned.split('''').reverse().join('''');\n};\n```\n\n```javascript\n// src/models/User.js\n// User model module\nclass User {\n    constructor(name, email) {\n        this.id = Date.now();\n        this.name = name;\n        this.email = email;\n        this.createdAt = new Date();\n    }\n    \n    greet() {\n        return `Hello, ${this.name}!`;\n    }\n    \n    toJSON() {\n        return {\n            id: this.id,\n            name: this.name,\n            email: this.email,\n            createdAt: this.createdAt\n        };\n    }\n}\n\nmodule.exports = User;\n```\n\n```javascript\n// src/services/fileService.js\n// File service using fs module\nconst fs = require(''fs'');\nconst path = require(''path'');\n\nclass FileService {\n    readFile(filePath) {\n        try {\n            const fullPath = path.resolve(filePath);\n            return fs.readFileSync(fullPath, ''utf8'');\n        } catch (error) {\n            throw new Error(`Error reading file: ${error.message}`);\n        }\n    }\n    \n    writeFile(filePath, data) {\n        try {\n            const fullPath = path.resolve(filePath);\n            fs.writeFileSync(fullPath, data, ''utf8'');\n            return true;\n        } catch (error) {\n            throw new Error(`Error writing file: ${error.message}`);\n        }\n    }\n    \n    fileExists(filePath) {\n        const fullPath = path.resolve(filePath);\n        return fs.existsSync(fullPath);\n    }\n    \n    getFileInfo(filePath) {\n        const fullPath = path.resolve(filePath);\n        if (!fs.existsSync(fullPath)) {\n            throw new Error(''File does not exist'');\n        }\n        \n        const stats = fs.statSync(fullPath);\n        return {\n            path: fullPath,\n            size: stats.size,\n            created: stats.birthtime,\n            modified: stats.mtime,\n            isFile: stats.isFile(),\n            isDirectory: stats.isDirectory()\n        };\n    }\n}\n\nmodule.exports = new FileService();\n```\n\n```javascript\n// src/config/config.js\n// Configuration module (singleton pattern)\nconst os = require(''os'');\nconst path = require(''path'');\n\nclass Config {\n    constructor() {\n        this.env = process.env.NODE_ENV || ''development'';\n        this.port = process.env.PORT || 3000;\n        this.host = process.env.HOST || ''localhost'';\n        this.platform = os.platform();\n        this.homeDir = os.homedir();\n        this.appDir = __dirname;\n    }\n    \n    get(key) {\n        return this[key] || process.env[key];\n    }\n    \n    set(key, value) {\n        this[key] = value;\n    }\n    \n    isDevelopment() {\n        return this.env === ''development'';\n    }\n    \n    isProduction() {\n        return this.env === ''production'';\n    }\n}\n\nmodule.exports = new Config();\n```\n\n```javascript\n// src/app.js\n// Main application using all modules\nconst math = require(''./utils/math'');\nconst string = require(''./utils/string'');\nconst User = require(''./models/User'');\nconst fileService = require(''./services/fileService'');\nconst config = require(''./config/config'');\n\nconsole.log(''=== Math Utilities ==='');\nconsole.log(''Add:'', math.add(10, 5));\nconsole.log(''Subtract:'', math.subtract(10, 5));\nconsole.log(''Multiply:'', math.multiply(10, 5));\nconsole.log(''Divide:'', math.divide(10, 5));\n\nconsole.log(''\\n=== String Utilities ==='');\nconsole.log(''Capitalize:'', string.capitalize(''hello''));\nconsole.log(''Reverse:'', string.reverse(''hello''));\nconsole.log(''Is Palindrome:'', string.isPalindrome(''racecar''));\n\nconsole.log(''\\n=== User Model ==='');\nconst user = new User(''Alice'', ''alice@example.com'');\nconsole.log(user.greet());\nconsole.log(''User JSON:'', JSON.stringify(user.toJSON(), null, 2));\n\nconsole.log(''\\n=== File Service ==='');\ntry {\n    // Create a test file\n    const testFile = ''test.txt'';\n    fileService.writeFile(testFile, ''Hello, World!'');\n    console.log(''File written:'', testFile);\n    \n    // Read the file\n    const content = fileService.readFile(testFile);\n    console.log(''File content:'', content);\n    \n    // Get file info\n    const info = fileService.getFileInfo(testFile);\n    console.log(''File info:'', info);\n} catch (error) {\n    console.error(''File error:'', error.message);\n}\n\nconsole.log(''\\n=== Configuration ==='');\nconsole.log(''Environment:'', config.env);\nconsole.log(''Port:'', config.port);\nconsole.log(''Platform:'', config.platform);\nconsole.log(''Is Development:'', config.isDevelopment());\n```\n\n```json\n// package.json\n{\n  "name": "nodejs-modules-practice",\n  "version": "1.0.0",\n  "description": "Node.js modules practice",\n  "main": "src/app.js",\n  "scripts": {\n    "start": "node src/app.js",\n    "test": "echo \\"Error: no test specified\\" && exit 1"\n  },\n  "keywords": ["nodejs", "modules"],\n  "author": "",\n  "license": "ISC"\n}\n```\n\n**Expected Output**:\n\n```bash\nnode src/app.js\n\n=== Math Utilities ===\nAdd: 15\nSubtract: 5\nMultiply: 50\nDivide: 2\n\n=== String Utilities ===\nCapitalize: Hello\nReverse: olleh\nIs Palindrome: true\n\n=== User Model ===\nHello, Alice!\nUser JSON: {\n  "id": 1234567890,\n  "name": "Alice",\n  "email": "alice@example.com",\n  "createdAt": "2024-01-01T00:00:00.000Z"\n}\n\n=== File Service ===\nFile written: test.txt\nFile content: Hello, World!\nFile info: { path: ''...'', size: 13, ... }\n\n=== Configuration ===\nEnvironment: development\nPort: 3000\nPlatform: darwin\nIs Development: true\n```\n\n**Challenge (Optional)**:\n- Create more modules\n- Build a complete application\n- Use more core modules\n- Install and use npm packages\n\n---\n\n## Common Mistakes\n\n### 1. Circular Dependencies\n\n```javascript\n// ❌ Bad: Circular dependency\n// a.js\nconst b = require(''./b'');\nmodule.exports = { a: ''A'' };\n\n// b.js\nconst a = require(''./a'');\nmodule.exports = { b: ''B'' };\n\n// ✅ Good: Avoid circular dependencies\n// Use dependency injection or restructure\n```\n\n### 2. Not Handling Errors\n\n```javascript\n// ❌ Bad: No error handling\nconst data = fs.readFileSync(''file.txt'', ''utf8'');\n\n// ✅ Good: Handle errors\ntry {\n    const data = fs.readFileSync(''file.txt'', ''utf8'');\n} catch (error) {\n    console.error(''Error:'', error.message);\n}\n```\n\n### 3. Using Wrong Path\n\n```javascript\n// ❌ Bad: Relative path issues\nconst module = require(''./module'');\n\n// ✅ Good: Use path.resolve or absolute paths\nconst path = require(''path'');\nconst module = require(path.resolve(__dirname, ''module''));\n```\n\n---\n\n## Key Takeaways\n\n1. **CommonJS**: Module system used by Node.js\n2. **require()**: Import modules\n3. **module.exports**: Export modules\n4. **Core Modules**: Built-in Node.js modules\n5. **npm Modules**: Third-party packages\n6. **Module Patterns**: Different ways to structure modules\n7. **Best Practice**: Avoid circular dependencies, handle errors, use proper paths\n\n---\n\n## Quiz: Node.js Modules\n\nTest your understanding with these questions:\n\n1. **CommonJS uses:**\n   - A) require() and module.exports\n   - B) import and export\n   - C) Both\n   - D) Neither\n\n2. **Core modules:**\n   - A) Built-in\n   - B) Need installation\n   - C) Both\n   - D) Neither\n\n3. **npm modules:**\n   - A) Built-in\n   - B) Need installation\n   - C) Both\n   - D) Neither\n\n4. **Modules are:**\n   - A) Cached\n   - B) Not cached\n   - C) Both\n   - D) Neither\n\n5. **module.exports:**\n   - A) Export module\n   - B) Import module\n   - C) Both\n   - D) Neither\n\n6. **require():**\n   - A) Export module\n   - B) Import module\n   - C) Both\n   - D) Neither\n\n7. **Circular dependencies:**\n   - A) Good practice\n   - B) Should avoid\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) require() and module.exports\n2. A) Built-in\n3. B) Need installation\n4. A) Cached\n5. A) Export module\n6. B) Import module\n7. B) Should avoid\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned Node.js modules. You now know:\n- How to use CommonJS modules\n- How to use core modules\n- How to work with npm modules\n- How to apply module patterns\n\n**What''s Next?**\n- Lesson 28.3: File System Operations\n- Learn reading and writing files\n- Work with directories\n- Understand streams\n\n---\n\n## Additional Resources\n\n- **Node.js Modules**: [nodejs.org/api/modules.html](https://nodejs.org/api/modules.html)\n- **Core Modules**: [nodejs.org/api](https://nodejs.org/api)\n- **npm**: [docs.npmjs.com](https://docs.npmjs.com)\n- **CommonJS**: [nodejs.org/api/modules.html#modules-commonjs-modules](https://nodejs.org/api/modules.html#modules-commonjs-modules)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 10:13:14', '2026-01-03 10:13:14', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand CommonJS modules\n- Use core Node.js modules\n- Work with npm modules\n- Understand module patterns\n- Create and use custom modules\n- Organize code with modules\n- Build modular applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (190, 68, 17, 'Node.js Modules', 'nodejs-modules', '# Lesson 28.2: Node.js Modules\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand CommonJS modules\n- Use core Node.js modules\n- Work with npm modules\n- Understand module patterns\n- Create and use custom modules\n- Organize code with modules\n- Build modular applications\n\n---\n\n## Introduction to Modules\n\nModules are reusable pieces of code that can be imported and used in other files. Node.js uses a module system to organize code.\n\n### Why Modules?\n\n- **Code Organization**: Split code into logical units\n- **Reusability**: Use code in multiple places\n- **Namespace**: Avoid global variable pollution\n- **Maintainability**: Easier to maintain and test\n- **Dependency Management**: Clear dependencies\n\n---\n\n## CommonJS Modules\n\n### What is CommonJS?\n\nCommonJS is the module system used by Node.js. It uses `require()` and `module.exports`.\n\n### Exporting Modules\n\n```javascript\n// math.js\n// Export single value\nmodule.exports = function add(a, b) {\n    return a + b;\n};\n\n// Export object\nmodule.exports = {\n    add: (a, b) => a + b,\n    subtract: (a, b) => a - b,\n    multiply: (a, b) => a * b,\n    divide: (a, b) => a / b\n};\n\n// Export using exports\nexports.add = (a, b) => a + b;\nexports.subtract = (a, b) => a - b;\n```\n\n### Importing Modules\n\n```javascript\n// app.js\n// Import single value\nconst add = require(''./math'');\nconsole.log(add(2, 3));\n\n// Import object\nconst math = require(''./math'');\nconsole.log(math.add(2, 3));\nconsole.log(math.subtract(5, 2));\n\n// Destructure import\nconst { add, subtract } = require(''./math'');\nconsole.log(add(2, 3));\n```\n\n### Module Caching\n\n```javascript\n// Modules are cached after first require\n// Subsequent requires return cached version\nconst module1 = require(''./math'');\nconst module2 = require(''./math'');\n// module1 === module2 (same instance)\n```\n\n---\n\n## Core Modules\n\n### What are Core Modules?\n\nCore modules are built-in Node.js modules that don''t require installation.\n\n### Common Core Modules\n\n```javascript\n// File System\nconst fs = require(''fs'');\n\n// Path\nconst path = require(''path'');\n\n// HTTP\nconst http = require(''http'');\nconst https = require(''https'');\n\n// URL\nconst url = require(''url'');\n\n// Events\nconst events = require(''events'');\n\n// Stream\nconst stream = require(''stream'');\n\n// Crypto\nconst crypto = require(''crypto'');\n\n// OS\nconst os = require(''os'');\n\n// Process\nconst process = require(''process'');\n\n// Buffer\nconst buffer = require(''buffer'');\n```\n\n### fs Module (File System)\n\n```javascript\nconst fs = require(''fs'');\n\n// Read file synchronously\nconst data = fs.readFileSync(''file.txt'', ''utf8'');\n\n// Read file asynchronously\nfs.readFile(''file.txt'', ''utf8'', (err, data) => {\n    if (err) {\n        console.error(err);\n        return;\n    }\n    console.log(data);\n});\n\n// Write file\nfs.writeFileSync(''output.txt'', ''Hello, World!'');\n\n// Check if file exists\nif (fs.existsSync(''file.txt'')) {\n    console.log(''File exists'');\n}\n```\n\n### path Module\n\n```javascript\nconst path = require(''path'');\n\n// Join paths\nconst fullPath = path.join(__dirname, ''data'', ''file.txt'');\n\n// Get directory name\nconst dir = path.dirname(''/users/john/file.txt'');\n// ''/users/john''\n\n// Get file name\nconst filename = path.basename(''/users/john/file.txt'');\n// ''file.txt''\n\n// Get extension\nconst ext = path.extname(''file.txt'');\n// ''.txt''\n\n// Parse path\nconst parsed = path.parse(''/users/john/file.txt'');\n// { root: ''/'', dir: ''/users/john'', base: ''file.txt'', ext: ''.txt'', name: ''file'' }\n\n// Resolve path\nconst resolved = path.resolve(''data'', ''file.txt'');\n```\n\n### http Module\n\n```javascript\nconst http = require(''http'');\n\n// Create server\nconst server = http.createServer((req, res) => {\n    res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n    res.end(''Hello, World!'');\n});\n\nserver.listen(3000, () => {\n    console.log(''Server running on port 3000'');\n});\n```\n\n### url Module\n\n```javascript\nconst url = require(''url'');\n\n// Parse URL\nconst parsedUrl = url.parse(''https://example.com/path?query=value'');\nconsole.log(parsedUrl.hostname);  // ''example.com''\nconsole.log(parsedUrl.pathname);  // ''/path''\nconsole.log(parsedUrl.query);     // ''query=value''\n\n// Create URL\nconst myUrl = new URL(''https://example.com/path?query=value'');\nconsole.log(myUrl.searchParams.get(''query''));  // ''value''\n```\n\n### os Module\n\n```javascript\nconst os = require(''os'');\n\nconsole.log(os.platform());      // ''darwin'', ''win32'', ''linux''\nconsole.log(os.arch());          // ''x64'', ''arm64''\nconsole.log(os.cpus());          // CPU information\nconsole.log(os.totalmem());      // Total memory\nconsole.log(os.freemem());       // Free memory\nconsole.log(os.homedir());       // Home directory\nconsole.log(os.hostname());      // Hostname\n```\n\n### crypto Module\n\n```javascript\nconst crypto = require(''crypto'');\n\n// Create hash\nconst hash = crypto.createHash(''sha256'');\nhash.update(''Hello, World!'');\nconsole.log(hash.digest(''hex''));\n\n// Generate random bytes\nconst randomBytes = crypto.randomBytes(16);\nconsole.log(randomBytes.toString(''hex''));\n```\n\n---\n\n## npm Modules\n\n### What is npm?\n\nnpm (Node Package Manager) is the package manager for Node.js. It allows you to install and manage third-party modules.\n\n### Installing Packages\n\n```bash\n# Install package\nnpm install express\n\n# Install as dev dependency\nnpm install --save-dev nodemon\n\n# Install globally\nnpm install -g nodemon\n\n# Install specific version\nnpm install express@4.18.0\n\n# Install from package.json\nnpm install\n```\n\n### package.json\n\n```json\n{\n  "name": "my-app",\n  "version": "1.0.0",\n  "description": "My application",\n  "main": "index.js",\n  "scripts": {\n    "start": "node index.js",\n    "dev": "nodemon index.js"\n  },\n  "dependencies": {\n    "express": "^4.18.0"\n  },\n  "devDependencies": {\n    "nodemon": "^2.0.0"\n  }\n}\n```\n\n### Using npm Modules\n\n```javascript\n// Install: npm install express\nconst express = require(''express'');\nconst app = express();\n\napp.get(''/'', (req, res) => {\n    res.send(''Hello, World!'');\n});\n\napp.listen(3000);\n```\n\n### Popular npm Modules\n\n```javascript\n// Web framework\nconst express = require(''express'');\n\n// Database\nconst mongoose = require(''mongoose'');\nconst mysql = require(''mysql2'');\n\n// Validation\nconst joi = require(''joi'');\n\n// Environment variables\nrequire(''dotenv'').config();\n\n// HTTP client\nconst axios = require(''axios'');\n\n// File upload\nconst multer = require(''multer'');\n\n// Authentication\nconst jwt = require(''jsonwebtoken'');\nconst bcrypt = require(''bcrypt'');\n```\n\n---\n\n## Module Patterns\n\n### Pattern 1: Single Export\n\n```javascript\n// calculator.js\nmodule.exports = function calculate(a, b, operation) {\n    switch (operation) {\n        case ''add'':\n            return a + b;\n        case ''subtract'':\n            return a - b;\n        case ''multiply'':\n            return a * b;\n        case ''divide'':\n            return a / b;\n        default:\n            throw new Error(''Invalid operation'');\n    }\n};\n\n// app.js\nconst calculate = require(''./calculator'');\nconsole.log(calculate(10, 5, ''add''));\n```\n\n### Pattern 2: Multiple Exports\n\n```javascript\n// utils.js\nexports.add = (a, b) => a + b;\nexports.subtract = (a, b) => a - b;\nexports.multiply = (a, b) => a * b;\nexports.divide = (a, b) => a / b;\n\n// app.js\nconst { add, subtract } = require(''./utils'');\nconsole.log(add(2, 3));\n```\n\n### Pattern 3: Class Export\n\n```javascript\n// User.js\nclass User {\n    constructor(name, email) {\n        this.name = name;\n        this.email = email;\n    }\n    \n    greet() {\n        return `Hello, ${this.name}!`;\n    }\n}\n\nmodule.exports = User;\n\n// app.js\nconst User = require(''./User'');\nconst user = new User(''Alice'', ''alice@example.com'');\nconsole.log(user.greet());\n```\n\n### Pattern 4: Factory Function\n\n```javascript\n// createUser.js\nmodule.exports = function createUser(name, email) {\n    return {\n        name,\n        email,\n        greet() {\n            return `Hello, ${this.name}!`;\n        }\n    };\n};\n\n// app.js\nconst createUser = require(''./createUser'');\nconst user = createUser(''Alice'', ''alice@example.com'');\nconsole.log(user.greet());\n```\n\n### Pattern 5: Singleton\n\n```javascript\n// config.js\nlet instance = null;\n\nclass Config {\n    constructor() {\n        if (instance) {\n            return instance;\n        }\n        this.settings = {};\n        instance = this;\n    }\n    \n    set(key, value) {\n        this.settings[key] = value;\n    }\n    \n    get(key) {\n        return this.settings[key];\n    }\n}\n\nmodule.exports = new Config();\n\n// app.js\nconst config = require(''./config'');\nconfig.set(''port'', 3000);\nconsole.log(config.get(''port''));\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Working with Modules\n\n**Objective**: Practice creating modules, using core modules, installing npm modules, and applying module patterns.\n\n**Instructions**:\n\n1. Create Node.js modules\n2. Use core modules\n3. Install and use npm modules\n4. Practice:\n   - Creating custom modules\n   - Using core modules\n   - Installing npm packages\n   - Applying module patterns\n\n**Example Solution**:\n\n```javascript\n// src/utils/math.js\n// Math utility module\nexports.add = (a, b) => a + b;\nexports.subtract = (a, b) => a - b;\nexports.multiply = (a, b) => a * b;\nexports.divide = (a, b) => {\n    if (b === 0) {\n        throw new Error(''Division by zero'');\n    }\n    return a / b;\n};\n```\n\n```javascript\n// src/utils/string.js\n// String utility module\nexports.capitalize = (str) => {\n    return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n};\n\nexports.reverse = (str) => {\n    return str.split('''').reverse().join('''');\n};\n\nexports.isPalindrome = (str) => {\n    const cleaned = str.toLowerCase().replace(/[^a-z0-9]/g, '''');\n    return cleaned === cleaned.split('''').reverse().join('''');\n};\n```\n\n```javascript\n// src/models/User.js\n// User model module\nclass User {\n    constructor(name, email) {\n        this.id = Date.now();\n        this.name = name;\n        this.email = email;\n        this.createdAt = new Date();\n    }\n    \n    greet() {\n        return `Hello, ${this.name}!`;\n    }\n    \n    toJSON() {\n        return {\n            id: this.id,\n            name: this.name,\n            email: this.email,\n            createdAt: this.createdAt\n        };\n    }\n}\n\nmodule.exports = User;\n```\n\n```javascript\n// src/services/fileService.js\n// File service using fs module\nconst fs = require(''fs'');\nconst path = require(''path'');\n\nclass FileService {\n    readFile(filePath) {\n        try {\n            const fullPath = path.resolve(filePath);\n            return fs.readFileSync(fullPath, ''utf8'');\n        } catch (error) {\n            throw new Error(`Error reading file: ${error.message}`);\n        }\n    }\n    \n    writeFile(filePath, data) {\n        try {\n            const fullPath = path.resolve(filePath);\n            fs.writeFileSync(fullPath, data, ''utf8'');\n            return true;\n        } catch (error) {\n            throw new Error(`Error writing file: ${error.message}`);\n        }\n    }\n    \n    fileExists(filePath) {\n        const fullPath = path.resolve(filePath);\n        return fs.existsSync(fullPath);\n    }\n    \n    getFileInfo(filePath) {\n        const fullPath = path.resolve(filePath);\n        if (!fs.existsSync(fullPath)) {\n            throw new Error(''File does not exist'');\n        }\n        \n        const stats = fs.statSync(fullPath);\n        return {\n            path: fullPath,\n            size: stats.size,\n            created: stats.birthtime,\n            modified: stats.mtime,\n            isFile: stats.isFile(),\n            isDirectory: stats.isDirectory()\n        };\n    }\n}\n\nmodule.exports = new FileService();\n```\n\n```javascript\n// src/config/config.js\n// Configuration module (singleton pattern)\nconst os = require(''os'');\nconst path = require(''path'');\n\nclass Config {\n    constructor() {\n        this.env = process.env.NODE_ENV || ''development'';\n        this.port = process.env.PORT || 3000;\n        this.host = process.env.HOST || ''localhost'';\n        this.platform = os.platform();\n        this.homeDir = os.homedir();\n        this.appDir = __dirname;\n    }\n    \n    get(key) {\n        return this[key] || process.env[key];\n    }\n    \n    set(key, value) {\n        this[key] = value;\n    }\n    \n    isDevelopment() {\n        return this.env === ''development'';\n    }\n    \n    isProduction() {\n        return this.env === ''production'';\n    }\n}\n\nmodule.exports = new Config();\n```\n\n```javascript\n// src/app.js\n// Main application using all modules\nconst math = require(''./utils/math'');\nconst string = require(''./utils/string'');\nconst User = require(''./models/User'');\nconst fileService = require(''./services/fileService'');\nconst config = require(''./config/config'');\n\nconsole.log(''=== Math Utilities ==='');\nconsole.log(''Add:'', math.add(10, 5));\nconsole.log(''Subtract:'', math.subtract(10, 5));\nconsole.log(''Multiply:'', math.multiply(10, 5));\nconsole.log(''Divide:'', math.divide(10, 5));\n\nconsole.log(''\\n=== String Utilities ==='');\nconsole.log(''Capitalize:'', string.capitalize(''hello''));\nconsole.log(''Reverse:'', string.reverse(''hello''));\nconsole.log(''Is Palindrome:'', string.isPalindrome(''racecar''));\n\nconsole.log(''\\n=== User Model ==='');\nconst user = new User(''Alice'', ''alice@example.com'');\nconsole.log(user.greet());\nconsole.log(''User JSON:'', JSON.stringify(user.toJSON(), null, 2));\n\nconsole.log(''\\n=== File Service ==='');\ntry {\n    // Create a test file\n    const testFile = ''test.txt'';\n    fileService.writeFile(testFile, ''Hello, World!'');\n    console.log(''File written:'', testFile);\n    \n    // Read the file\n    const content = fileService.readFile(testFile);\n    console.log(''File content:'', content);\n    \n    // Get file info\n    const info = fileService.getFileInfo(testFile);\n    console.log(''File info:'', info);\n} catch (error) {\n    console.error(''File error:'', error.message);\n}\n\nconsole.log(''\\n=== Configuration ==='');\nconsole.log(''Environment:'', config.env);\nconsole.log(''Port:'', config.port);\nconsole.log(''Platform:'', config.platform);\nconsole.log(''Is Development:'', config.isDevelopment());\n```\n\n```json\n// package.json\n{\n  "name": "nodejs-modules-practice",\n  "version": "1.0.0",\n  "description": "Node.js modules practice",\n  "main": "src/app.js",\n  "scripts": {\n    "start": "node src/app.js",\n    "test": "echo \\"Error: no test specified\\" && exit 1"\n  },\n  "keywords": ["nodejs", "modules"],\n  "author": "",\n  "license": "ISC"\n}\n```\n\n**Expected Output**:\n\n```bash\nnode src/app.js\n\n=== Math Utilities ===\nAdd: 15\nSubtract: 5\nMultiply: 50\nDivide: 2\n\n=== String Utilities ===\nCapitalize: Hello\nReverse: olleh\nIs Palindrome: true\n\n=== User Model ===\nHello, Alice!\nUser JSON: {\n  "id": 1234567890,\n  "name": "Alice",\n  "email": "alice@example.com",\n  "createdAt": "2024-01-01T00:00:00.000Z"\n}\n\n=== File Service ===\nFile written: test.txt\nFile content: Hello, World!\nFile info: { path: ''...'', size: 13, ... }\n\n=== Configuration ===\nEnvironment: development\nPort: 3000\nPlatform: darwin\nIs Development: true\n```\n\n**Challenge (Optional)**:\n- Create more modules\n- Build a complete application\n- Use more core modules\n- Install and use npm packages\n\n---\n\n## Common Mistakes\n\n### 1. Circular Dependencies\n\n```javascript\n// ❌ Bad: Circular dependency\n// a.js\nconst b = require(''./b'');\nmodule.exports = { a: ''A'' };\n\n// b.js\nconst a = require(''./a'');\nmodule.exports = { b: ''B'' };\n\n// ✅ Good: Avoid circular dependencies\n// Use dependency injection or restructure\n```\n\n### 2. Not Handling Errors\n\n```javascript\n// ❌ Bad: No error handling\nconst data = fs.readFileSync(''file.txt'', ''utf8'');\n\n// ✅ Good: Handle errors\ntry {\n    const data = fs.readFileSync(''file.txt'', ''utf8'');\n} catch (error) {\n    console.error(''Error:'', error.message);\n}\n```\n\n### 3. Using Wrong Path\n\n```javascript\n// ❌ Bad: Relative path issues\nconst module = require(''./module'');\n\n// ✅ Good: Use path.resolve or absolute paths\nconst path = require(''path'');\nconst module = require(path.resolve(__dirname, ''module''));\n```\n\n---\n\n## Key Takeaways\n\n1. **CommonJS**: Module system used by Node.js\n2. **require()**: Import modules\n3. **module.exports**: Export modules\n4. **Core Modules**: Built-in Node.js modules\n5. **npm Modules**: Third-party packages\n6. **Module Patterns**: Different ways to structure modules\n7. **Best Practice**: Avoid circular dependencies, handle errors, use proper paths\n\n---\n\n## Quiz: Node.js Modules\n\nTest your understanding with these questions:\n\n1. **CommonJS uses:**\n   - A) require() and module.exports\n   - B) import and export\n   - C) Both\n   - D) Neither\n\n2. **Core modules:**\n   - A) Built-in\n   - B) Need installation\n   - C) Both\n   - D) Neither\n\n3. **npm modules:**\n   - A) Built-in\n   - B) Need installation\n   - C) Both\n   - D) Neither\n\n4. **Modules are:**\n   - A) Cached\n   - B) Not cached\n   - C) Both\n   - D) Neither\n\n5. **module.exports:**\n   - A) Export module\n   - B) Import module\n   - C) Both\n   - D) Neither\n\n6. **require():**\n   - A) Export module\n   - B) Import module\n   - C) Both\n   - D) Neither\n\n7. **Circular dependencies:**\n   - A) Good practice\n   - B) Should avoid\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) require() and module.exports\n2. A) Built-in\n3. B) Need installation\n4. A) Cached\n5. A) Export module\n6. B) Import module\n7. B) Should avoid\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned Node.js modules. You now know:\n- How to use CommonJS modules\n- How to use core modules\n- How to work with npm modules\n- How to apply module patterns\n\n**What''s Next?**\n- Lesson 28.3: File System Operations\n- Learn reading and writing files\n- Work with directories\n- Understand streams\n\n---\n\n## Additional Resources\n\n- **Node.js Modules**: [nodejs.org/api/modules.html](https://nodejs.org/api/modules.html)\n- **Core Modules**: [nodejs.org/api](https://nodejs.org/api)\n- **npm**: [docs.npmjs.com](https://docs.npmjs.com)\n- **CommonJS**: [nodejs.org/api/modules.html#modules-commonjs-modules](https://nodejs.org/api/modules.html#modules-commonjs-modules)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 10:13:54', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand CommonJS modules\n- Use core Node.js modules\n- Work with npm modules\n- Understand module patterns\n- Create and use custom modules\n- Organize code with modules\n- Build modular applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (191, 68, 17, 'File System Operations', 'file-system-operations', '# Lesson 28.3: File System Operations\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Read files synchronously and asynchronously\n- Write files synchronously and asynchronously\n- Work with directories\n- Understand streams\n- Handle file operations\n- Process file data\n- Build file-based applications\n\n---\n\n## Introduction to File System\n\nThe `fs` module provides an API for interacting with the file system. It supports both synchronous and asynchronous operations.\n\n### File System Operations\n\n- **Reading Files**: Read file contents\n- **Writing Files**: Write data to files\n- **Directory Operations**: Create, read, delete directories\n- **File Metadata**: Get file information\n- **Watching Files**: Monitor file changes\n- **Streams**: Handle large files efficiently\n\n---\n\n## Reading Files\n\n### Synchronous Reading\n\n```javascript\nconst fs = require(''fs'');\n\n// Read file synchronously\ntry {\n    const data = fs.readFileSync(''file.txt'', ''utf8'');\n    console.log(data);\n} catch (error) {\n    console.error(''Error reading file:'', error);\n}\n\n// Read binary file\nconst buffer = fs.readFileSync(''image.jpg'');\nconsole.log(buffer);\n```\n\n### Asynchronous Reading\n\n```javascript\nconst fs = require(''fs'');\n\n// Read file asynchronously (callback)\nfs.readFile(''file.txt'', ''utf8'', (err, data) => {\n    if (err) {\n        console.error(''Error reading file:'', err);\n        return;\n    }\n    console.log(data);\n});\n\n// Read file with promises\nconst fs = require(''fs'').promises;\n\nasync function readFile() {\n    try {\n        const data = await fs.readFile(''file.txt'', ''utf8'');\n        console.log(data);\n    } catch (error) {\n        console.error(''Error reading file:'', error);\n    }\n}\n\nreadFile();\n```\n\n### Reading Options\n\n```javascript\nconst fs = require(''fs'');\n\n// Read with options\nfs.readFile(''file.txt'', {\n    encoding: ''utf8'',\n    flag: ''r''  // read mode\n}, (err, data) => {\n    if (err) throw err;\n    console.log(data);\n});\n\n// Flags:\n// ''r'' - Open file for reading\n// ''r+'' - Open file for reading and writing\n// ''w'' - Open file for writing (truncate)\n// ''w+'' - Open file for reading and writing (truncate)\n// ''a'' - Open file for appending\n// ''a+'' - Open file for reading and appending\n```\n\n---\n\n## Writing Files\n\n### Synchronous Writing\n\n```javascript\nconst fs = require(''fs'');\n\n// Write file synchronously\ntry {\n    fs.writeFileSync(''output.txt'', ''Hello, World!'', ''utf8'');\n    console.log(''File written successfully'');\n} catch (error) {\n    console.error(''Error writing file:'', error);\n}\n\n// Append to file\nfs.appendFileSync(''output.txt'', ''\\nNew line'', ''utf8'');\n```\n\n### Asynchronous Writing\n\n```javascript\nconst fs = require(''fs'');\n\n// Write file asynchronously (callback)\nfs.writeFile(''output.txt'', ''Hello, World!'', ''utf8'', (err) => {\n    if (err) {\n        console.error(''Error writing file:'', err);\n        return;\n    }\n    console.log(''File written successfully'');\n});\n\n// Write with promises\nconst fs = require(''fs'').promises;\n\nasync function writeFile() {\n    try {\n        await fs.writeFile(''output.txt'', ''Hello, World!'', ''utf8'');\n        console.log(''File written successfully'');\n    } catch (error) {\n        console.error(''Error writing file:'', error);\n    }\n}\n\nwriteFile();\n```\n\n### Writing Options\n\n```javascript\nconst fs = require(''fs'');\n\n// Write with options\nfs.writeFile(''output.txt'', ''Hello, World!'', {\n    encoding: ''utf8'',\n    mode: 0o666,  // File permissions\n    flag: ''w''     // Write mode\n}, (err) => {\n    if (err) throw err;\n    console.log(''File written'');\n});\n```\n\n---\n\n## Working with Directories\n\n### Creating Directories\n\n```javascript\nconst fs = require(''fs'');\nconst path = require(''path'');\n\n// Create directory synchronously\ntry {\n    fs.mkdirSync(''new-directory'');\n    console.log(''Directory created'');\n} catch (error) {\n    console.error(''Error creating directory:'', error);\n}\n\n// Create directory asynchronously\nfs.mkdir(''new-directory'', (err) => {\n    if (err) {\n        console.error(''Error creating directory:'', err);\n        return;\n    }\n    console.log(''Directory created'');\n});\n\n// Create nested directories\nfs.mkdirSync(''parent/child/grandchild'', { recursive: true });\n```\n\n### Reading Directories\n\n```javascript\nconst fs = require(''fs'');\n\n// Read directory synchronously\ntry {\n    const files = fs.readdirSync(''.'');\n    console.log(''Files:'', files);\n} catch (error) {\n    console.error(''Error reading directory:'', error);\n}\n\n// Read directory asynchronously\nfs.readdir(''.'', (err, files) => {\n    if (err) {\n        console.error(''Error reading directory:'', err);\n        return;\n    }\n    console.log(''Files:'', files);\n});\n\n// Read with file types\nfs.readdir(''.'', { withFileTypes: true }, (err, files) => {\n    if (err) throw err;\n    files.forEach(file => {\n        console.log(file.name, file.isFile() ? ''file'' : ''directory'');\n    });\n});\n```\n\n### Removing Directories\n\n```javascript\nconst fs = require(''fs'');\n\n// Remove directory synchronously\ntry {\n    fs.rmdirSync(''directory'');\n    console.log(''Directory removed'');\n} catch (error) {\n    console.error(''Error removing directory:'', error);\n}\n\n// Remove directory asynchronously\nfs.rmdir(''directory'', (err) => {\n    if (err) {\n        console.error(''Error removing directory:'', err);\n        return;\n    }\n    console.log(''Directory removed'');\n});\n\n// Remove directory recursively (Node.js 14.14.0+)\nfs.rmSync(''directory'', { recursive: true, force: true });\n```\n\n### File and Directory Information\n\n```javascript\nconst fs = require(''fs'');\n\n// Get file stats synchronously\ntry {\n    const stats = fs.statSync(''file.txt'');\n    console.log(''Is file:'', stats.isFile());\n    console.log(''Is directory:'', stats.isDirectory());\n    console.log(''Size:'', stats.size);\n    console.log(''Created:'', stats.birthtime);\n    console.log(''Modified:'', stats.mtime);\n} catch (error) {\n    console.error(''Error getting stats:'', error);\n}\n\n// Get file stats asynchronously\nfs.stat(''file.txt'', (err, stats) => {\n    if (err) {\n        console.error(''Error getting stats:'', err);\n        return;\n    }\n    console.log(''Stats:'', stats);\n});\n```\n\n---\n\n## Streams\n\n### What are Streams?\n\nStreams are objects that let you read data from a source or write data to a destination in a continuous fashion. They''re useful for handling large files.\n\n### Reading Streams\n\n```javascript\nconst fs = require(''fs'');\n\n// Create read stream\nconst readStream = fs.createReadStream(''large-file.txt'', ''utf8'');\n\n// Read data in chunks\nreadStream.on(''data'', (chunk) => {\n    console.log(''Chunk received:'', chunk.length);\n    // Process chunk\n});\n\n// Handle end\nreadStream.on(''end'', () => {\n    console.log(''File read complete'');\n});\n\n// Handle errors\nreadStream.on(''error'', (err) => {\n    console.error(''Error reading stream:'', err);\n});\n```\n\n### Writing Streams\n\n```javascript\nconst fs = require(''fs'');\n\n// Create write stream\nconst writeStream = fs.createWriteStream(''output.txt'', ''utf8'');\n\n// Write data\nwriteStream.write(''Hello, '');\nwriteStream.write(''World!'');\nwriteStream.end();\n\n// Handle finish\nwriteStream.on(''finish'', () => {\n    console.log(''File write complete'');\n});\n\n// Handle errors\nwriteStream.on(''error'', (err) => {\n    console.error(''Error writing stream:'', err);\n});\n```\n\n### Piping Streams\n\n```javascript\nconst fs = require(''fs'');\n\n// Pipe read stream to write stream\nconst readStream = fs.createReadStream(''input.txt'');\nconst writeStream = fs.createWriteStream(''output.txt'');\n\nreadStream.pipe(writeStream);\n\n// Handle completion\nwriteStream.on(''finish'', () => {\n    console.log(''File copied'');\n});\n\n// Handle errors\nreadStream.on(''error'', (err) => {\n    console.error(''Read error:'', err);\n});\n\nwriteStream.on(''error'', (err) => {\n    console.error(''Write error:'', err);\n});\n```\n\n### Transform Streams\n\n```javascript\nconst fs = require(''fs'');\nconst { Transform } = require(''stream'');\n\n// Create transform stream\nconst upperCaseTransform = new Transform({\n    transform(chunk, encoding, callback) {\n        this.push(chunk.toString().toUpperCase());\n        callback();\n    }\n});\n\n// Use transform stream\nconst readStream = fs.createReadStream(''input.txt'');\nconst writeStream = fs.createWriteStream(''output.txt'');\n\nreadStream\n    .pipe(upperCaseTransform)\n    .pipe(writeStream);\n```\n\n---\n\n## Practical Examples\n\n### Example 1: File Copy\n\n```javascript\nconst fs = require(''fs'');\nconst path = require(''path'');\n\nfunction copyFile(source, destination) {\n    return new Promise((resolve, reject) => {\n        const readStream = fs.createReadStream(source);\n        const writeStream = fs.createWriteStream(destination);\n        \n        readStream.pipe(writeStream);\n        \n        writeStream.on(''finish'', () => {\n            resolve();\n        });\n        \n        readStream.on(''error'', reject);\n        writeStream.on(''error'', reject);\n    });\n}\n\n// Usage\ncopyFile(''source.txt'', ''destination.txt'')\n    .then(() => console.log(''File copied''))\n    .catch(err => console.error(''Error:'', err));\n```\n\n### Example 2: Directory Walker\n\n```javascript\nconst fs = require(''fs'');\nconst path = require(''path'');\n\nfunction walkDirectory(dir, callback) {\n    const files = fs.readdirSync(dir);\n    \n    files.forEach(file => {\n        const filePath = path.join(dir, file);\n        const stats = fs.statSync(filePath);\n        \n        if (stats.isDirectory()) {\n            walkDirectory(filePath, callback);\n        } else {\n            callback(filePath);\n        }\n    });\n}\n\n// Usage\nwalkDirectory(''.'', (filePath) => {\n    console.log(''File:'', filePath);\n});\n```\n\n### Example 3: File Watcher\n\n```javascript\nconst fs = require(''fs'');\n\n// Watch file\nfs.watchFile(''file.txt'', (curr, prev) => {\n    console.log(''File changed'');\n    console.log(''Current mtime:'', curr.mtime);\n    console.log(''Previous mtime:'', prev.mtime);\n});\n\n// Watch directory\nfs.watch(''.'', (eventType, filename) => {\n    console.log(''Event type:'', eventType);\n    console.log(''Filename:'', filename);\n});\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: File Operations\n\n**Objective**: Practice reading files, writing files, working with directories, and using streams.\n\n**Instructions**:\n\n1. Create file operations\n2. Work with directories\n3. Use streams\n4. Practice:\n   - Reading and writing files\n   - Creating and reading directories\n   - Using streams\n   - Processing file data\n\n**Example Solution**:\n\n```javascript\n// src/fileOperations.js\nconst fs = require(''fs'');\nconst path = require(''path'');\n\n// File operations class\nclass FileOperations {\n    // Read file\n    static readFile(filePath) {\n        try {\n            return fs.readFileSync(filePath, ''utf8'');\n        } catch (error) {\n            throw new Error(`Error reading file: ${error.message}`);\n        }\n    }\n    \n    // Write file\n    static writeFile(filePath, data) {\n        try {\n            fs.writeFileSync(filePath, data, ''utf8'');\n            return true;\n        } catch (error) {\n            throw new Error(`Error writing file: ${error.message}`);\n        }\n    }\n    \n    // Append to file\n    static appendFile(filePath, data) {\n        try {\n            fs.appendFileSync(filePath, data, ''utf8'');\n            return true;\n        } catch (error) {\n            throw new Error(`Error appending to file: ${error.message}`);\n        }\n    }\n    \n    // Check if file exists\n    static fileExists(filePath) {\n        return fs.existsSync(filePath);\n    }\n    \n    // Get file stats\n    static getFileStats(filePath) {\n        try {\n            const stats = fs.statSync(filePath);\n            return {\n                size: stats.size,\n                created: stats.birthtime,\n                modified: stats.mtime,\n                isFile: stats.isFile(),\n                isDirectory: stats.isDirectory()\n            };\n        } catch (error) {\n            throw new Error(`Error getting file stats: ${error.message}`);\n        }\n    }\n    \n    // Create directory\n    static createDirectory(dirPath) {\n        try {\n            if (!fs.existsSync(dirPath)) {\n                fs.mkdirSync(dirPath, { recursive: true });\n                return true;\n            }\n            return false;\n        } catch (error) {\n            throw new Error(`Error creating directory: ${error.message}`);\n        }\n    }\n    \n    // Read directory\n    static readDirectory(dirPath) {\n        try {\n            return fs.readdirSync(dirPath);\n        } catch (error) {\n            throw new Error(`Error reading directory: ${error.message}`);\n        }\n    }\n    \n    // Copy file using streams\n    static copyFile(source, destination) {\n        return new Promise((resolve, reject) => {\n            const readStream = fs.createReadStream(source);\n            const writeStream = fs.createWriteStream(destination);\n            \n            readStream.pipe(writeStream);\n            \n            writeStream.on(''finish'', () => {\n                resolve();\n            });\n            \n            readStream.on(''error'', reject);\n            writeStream.on(''error'', reject);\n        });\n    }\n    \n    // Read file line by line\n    static readFileLines(filePath) {\n        const content = this.readFile(filePath);\n        return content.split(''\\n'').filter(line => line.trim() !== '''');\n    }\n    \n    // Write JSON file\n    static writeJSON(filePath, data) {\n        try {\n            const json = JSON.stringify(data, null, 2);\n            this.writeFile(filePath, json);\n            return true;\n        } catch (error) {\n            throw new Error(`Error writing JSON: ${error.message}`);\n        }\n    }\n    \n    // Read JSON file\n    static readJSON(filePath) {\n        try {\n            const content = this.readFile(filePath);\n            return JSON.parse(content);\n        } catch (error) {\n            throw new Error(`Error reading JSON: ${error.message}`);\n        }\n    }\n}\n\nmodule.exports = FileOperations;\n```\n\n```javascript\n// src/directoryWalker.js\nconst fs = require(''fs'');\nconst path = require(''path'');\n\nclass DirectoryWalker {\n    static walk(dir, callback, fileList = []) {\n        const files = fs.readdirSync(dir);\n        \n        files.forEach(file => {\n            const filePath = path.join(dir, file);\n            const stats = fs.statSync(filePath);\n            \n            if (stats.isDirectory()) {\n                fileList = this.walk(filePath, callback, fileList);\n            } else {\n                fileList.push(filePath);\n                if (callback) {\n                    callback(filePath, stats);\n                }\n            }\n        });\n        \n        return fileList;\n    }\n    \n    static findFiles(dir, extension) {\n        const files = [];\n        this.walk(dir, (filePath, stats) => {\n            if (path.extname(filePath) === extension) {\n                files.push(filePath);\n            }\n        });\n        return files;\n    }\n    \n    static getDirectorySize(dir) {\n        let totalSize = 0;\n        this.walk(dir, (filePath, stats) => {\n            totalSize += stats.size;\n        });\n        return totalSize;\n    }\n}\n\nmodule.exports = DirectoryWalker;\n```\n\n```javascript\n// src/streamProcessor.js\nconst fs = require(''fs'');\nconst { Transform } = require(''stream'');\n\nclass StreamProcessor {\n    // Process file with transform\n    static processFile(inputPath, outputPath, transformFn) {\n        return new Promise((resolve, reject) => {\n            const readStream = fs.createReadStream(inputPath, ''utf8'');\n            const writeStream = fs.createWriteStream(outputPath, ''utf8'');\n            \n            const transform = new Transform({\n                transform(chunk, encoding, callback) {\n                    const result = transformFn(chunk.toString());\n                    this.push(result);\n                    callback();\n                }\n            });\n            \n            readStream\n                .pipe(transform)\n                .pipe(writeStream);\n            \n            writeStream.on(''finish'', resolve);\n            readStream.on(''error'', reject);\n            writeStream.on(''error'', reject);\n        });\n    }\n    \n    // Count lines in file\n    static countLines(filePath) {\n        return new Promise((resolve, reject) => {\n            let lineCount = 0;\n            const readStream = fs.createReadStream(filePath, ''utf8'');\n            \n            readStream.on(''data'', (chunk) => {\n                lineCount += (chunk.match(/\\n/g) || []).length;\n            });\n            \n            readStream.on(''end'', () => {\n                resolve(lineCount);\n            });\n            \n            readStream.on(''error'', reject);\n        });\n    }\n}\n\nmodule.exports = StreamProcessor;\n```\n\n```javascript\n// src/app.js\n// Main application\nconst FileOperations = require(''./fileOperations'');\nconst DirectoryWalker = require(''./directoryWalker'');\nconst StreamProcessor = require(''./streamProcessor'');\n\nasync function main() {\n    console.log(''=== File Operations ===\\n'');\n    \n    // Create test directory\n    const testDir = ''./test-data'';\n    FileOperations.createDirectory(testDir);\n    console.log(''Created directory:'', testDir);\n    \n    // Write test file\n    const testFile = path.join(testDir, ''test.txt'');\n    FileOperations.writeFile(testFile, ''Hello, World!\\nLine 2\\nLine 3'');\n    console.log(''Written file:'', testFile);\n    \n    // Read file\n    const content = FileOperations.readFile(testFile);\n    console.log(''File content:'', content);\n    \n    // Append to file\n    FileOperations.appendFile(testFile, ''\\nLine 4'');\n    console.log(''Appended to file'');\n    \n    // Read lines\n    const lines = FileOperations.readFileLines(testFile);\n    console.log(''Lines:'', lines);\n    \n    // File stats\n    const stats = FileOperations.getFileStats(testFile);\n    console.log(''File stats:'', stats);\n    \n    // Write JSON\n    const jsonFile = path.join(testDir, ''data.json'');\n    const data = { name: ''Alice'', age: 30, city: ''New York'' };\n    FileOperations.writeJSON(jsonFile, data);\n    console.log(''Written JSON file'');\n    \n    // Read JSON\n    const jsonData = FileOperations.readJSON(jsonFile);\n    console.log(''JSON data:'', jsonData);\n    \n    // Copy file\n    const copiedFile = path.join(testDir, ''test-copy.txt'');\n    await FileOperations.copyFile(testFile, copiedFile);\n    console.log(''File copied'');\n    \n    // Count lines using stream\n    const lineCount = await StreamProcessor.countLines(testFile);\n    console.log(''Line count:'', lineCount);\n    \n    // Process file with transform\n    const processedFile = path.join(testDir, ''processed.txt'');\n    await StreamProcessor.processFile(\n        testFile,\n        processedFile,\n        (content) => content.toUpperCase()\n    );\n    console.log(''File processed'');\n    \n    // Walk directory\n    console.log(''\\n=== Directory Walker ==='');\n    const allFiles = DirectoryWalker.walk(testDir);\n    console.log(''All files:'', allFiles);\n    \n    // Find specific files\n    const txtFiles = DirectoryWalker.findFiles(testDir, ''.txt'');\n    console.log(''TXT files:'', txtFiles);\n    \n    // Get directory size\n    const dirSize = DirectoryWalker.getDirectorySize(testDir);\n    console.log(''Directory size:'', dirSize, ''bytes'');\n}\n\n// Run application\nconst path = require(''path'');\nmain().catch(console.error);\n```\n\n```json\n// package.json\n{\n  "name": "file-operations-practice",\n  "version": "1.0.0",\n  "description": "File system operations practice",\n  "main": "src/app.js",\n  "scripts": {\n    "start": "node src/app.js"\n  },\n  "keywords": ["nodejs", "filesystem"],\n  "author": "",\n  "license": "ISC"\n}\n```\n\n**Expected Output**:\n\n```bash\nnode src/app.js\n\n=== File Operations ===\n\nCreated directory: ./test-data\nWritten file: ./test-data/test.txt\nFile content: Hello, World!\nLine 2\nLine 3\nAppended to file\nLines: [ ''Hello, World!'', ''Line 2'', ''Line 3'', ''Line 4'' ]\nFile stats: { size: 35, created: ..., modified: ..., isFile: true, isDirectory: false }\nWritten JSON file\nJSON data: { name: ''Alice'', age: 30, city: ''New York'' }\nFile copied\nLine count: 4\nFile processed\n\n=== Directory Walker ===\nAll files: [ ''./test-data/test.txt'', ... ]\nTXT files: [ ''./test-data/test.txt'', ... ]\nDirectory size: 1234 bytes\n```\n\n**Challenge (Optional)**:\n- Build a file manager\n- Create a log file processor\n- Build a backup utility\n- Create a file search tool\n\n---\n\n## Common Mistakes\n\n### 1. Blocking Operations\n\n```javascript\n// ❌ Bad: Blocking operation in async context\nconst data = fs.readFileSync(''large-file.txt'');\n\n// ✅ Good: Use async or streams\nfs.readFile(''large-file.txt'', (err, data) => {\n    // Handle data\n});\n```\n\n### 2. Not Handling Errors\n\n```javascript\n// ❌ Bad: No error handling\nconst data = fs.readFileSync(''file.txt'');\n\n// ✅ Good: Handle errors\ntry {\n    const data = fs.readFileSync(''file.txt'');\n} catch (error) {\n    console.error(''Error:'', error);\n}\n```\n\n### 3. Memory Issues with Large Files\n\n```javascript\n// ❌ Bad: Loading entire file into memory\nconst data = fs.readFileSync(''huge-file.txt'');\n\n// ✅ Good: Use streams\nconst readStream = fs.createReadStream(''huge-file.txt'');\nreadStream.on(''data'', (chunk) => {\n    // Process chunk\n});\n```\n\n---\n\n## Key Takeaways\n\n1. **fs Module**: File system operations\n2. **Synchronous vs Asynchronous**: Choose based on use case\n3. **Streams**: Efficient for large files\n4. **Directories**: Create, read, remove directories\n5. **Error Handling**: Always handle errors\n6. **Best Practice**: Use async for I/O, streams for large files\n7. **File Operations**: Read, write, append, copy, stats\n\n---\n\n## Quiz: File System\n\nTest your understanding with these questions:\n\n1. **fs.readFileSync:**\n   - A) Synchronous\n   - B) Asynchronous\n   - C) Both\n   - D) Neither\n\n2. **Streams are:**\n   - A) For large files\n   - B) For small files\n   - C) Both\n   - D) Neither\n\n3. **fs.writeFileSync:**\n   - A) Overwrites file\n   - B) Appends to file\n   - C) Both\n   - D) Neither\n\n4. **fs.appendFileSync:**\n   - A) Overwrites file\n   - B) Appends to file\n   - C) Both\n   - D) Neither\n\n5. **Streams use:**\n   - A) Less memory\n   - B) More memory\n   - C) Both\n   - D) Neither\n\n6. **fs.mkdirSync:**\n   - A) Creates directory\n   - B) Removes directory\n   - C) Both\n   - D) Neither\n\n7. **Pipe:**\n   - A) Connects streams\n   - B) Separates streams\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Synchronous\n2. A) For large files\n3. A) Overwrites file\n4. B) Appends to file\n5. A) Less memory\n6. A) Creates directory\n7. A) Connects streams\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 28: Node.js Basics. You now know:\n- Node.js introduction\n- Node.js modules\n- File system operations\n- How to work with Node.js\n\n**What''s Next?**\n- Module 29: Building Web Servers\n- Lesson 29.1: HTTP Server with Node.js\n- Learn to create HTTP servers\n- Build web applications\n\n---\n\n## Additional Resources\n\n- **fs Module**: [nodejs.org/api/fs.html](https://nodejs.org/api/fs.html)\n- **Streams**: [nodejs.org/api/stream.html](https://nodejs.org/api/stream.html)\n- **Path Module**: [nodejs.org/api/path.html](https://nodejs.org/api/path.html)\n\n---\n\n*Lesson completed! You''ve finished Module 28: Node.js Basics. Ready for Module 29: Building Web Servers!*\n\n', NULL, 3, '2026-01-03 10:13:54', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Read files synchronously and asynchronously\n- Write files synchronously and asynchronously\n- Work with directories\n- Understand streams\n- Handle file operations\n- Process file data\n- Build file-based applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (192, 69, 17, 'HTTP Server with Node.js', 'http-server-with-nodejs', '# Lesson 29.1: HTTP Server with Node.js\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Create HTTP servers with Node.js\n- Handle HTTP requests\n- Implement routing\n- Work with request and response objects\n- Build basic web servers\n- Understand HTTP protocol\n- Process different request types\n\n---\n\n## Introduction to HTTP Servers\n\nHTTP servers listen for incoming HTTP requests and send responses. Node.js provides the `http` module to create servers.\n\n### What is an HTTP Server?\n\n- **Listens**: Waits for incoming requests\n- **Processes**: Handles request data\n- **Responds**: Sends response back\n- **Stateless**: Each request is independent\n- **Protocol**: Uses HTTP/HTTPS protocol\n\n---\n\n## Creating HTTP Server\n\n### Basic Server\n\n```javascript\nconst http = require(''http'');\n\n// Create server\nconst server = http.createServer((req, res) => {\n    res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n    res.end(''Hello, World!'');\n});\n\n// Listen on port\nserver.listen(3000, () => {\n    console.log(''Server running on http://localhost:3000'');\n});\n```\n\n### Server with Options\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n    res.end(''Hello, World!'');\n});\n\nserver.listen(3000, ''localhost'', () => {\n    console.log(''Server running on http://localhost:3000'');\n});\n\n// Or specify host\nserver.listen(3000, ''0.0.0.0'', () => {\n    console.log(''Server running on all interfaces'');\n});\n```\n\n### Server Class\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer();\n\n// Handle request event\nserver.on(''request'', (req, res) => {\n    res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n    res.end(''Hello, World!'');\n});\n\n// Handle connection event\nserver.on(''connection'', (socket) => {\n    console.log(''New connection'');\n});\n\nserver.listen(3000, () => {\n    console.log(''Server running on port 3000'');\n});\n```\n\n---\n\n## Handling Requests\n\n### Request Object\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    // Request method\n    console.log(''Method:'', req.method);\n    \n    // Request URL\n    console.log(''URL:'', req.url);\n    \n    // Request headers\n    console.log(''Headers:'', req.headers);\n    \n    // Request body (for POST, PUT, etc.)\n    let body = '''';\n    req.on(''data'', (chunk) => {\n        body += chunk.toString();\n    });\n    \n    req.on(''end'', () => {\n        console.log(''Body:'', body);\n        \n        res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n        res.end(''Request received'');\n    });\n});\n\nserver.listen(3000);\n```\n\n### Response Object\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    // Set status code\n    res.statusCode = 200;\n    \n    // Set headers\n    res.setHeader(''Content-Type'', ''text/html'');\n    res.setHeader(''X-Custom-Header'', ''my-value'');\n    \n    // Write response\n    res.write(''<h1>Hello, World!</h1>'');\n    res.write(''<p>This is a response</p>'');\n    \n    // End response\n    res.end();\n});\n\nserver.listen(3000);\n```\n\n### Different Response Types\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    // JSON response\n    if (req.url === ''/api/data'') {\n        res.writeHead(200, { ''Content-Type'': ''application/json'' });\n        res.end(JSON.stringify({ message: ''Hello'', data: [1, 2, 3] }));\n        return;\n    }\n    \n    // HTML response\n    if (req.url === ''/'') {\n        res.writeHead(200, { ''Content-Type'': ''text/html'' });\n        res.end(''<h1>Home Page</h1>'');\n        return;\n    }\n    \n    // Plain text response\n    res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n    res.end(''Default response'');\n});\n\nserver.listen(3000);\n```\n\n---\n\n## Routing\n\n### Basic Routing\n\n```javascript\nconst http = require(''http'');\nconst url = require(''url'');\n\nconst server = http.createServer((req, res) => {\n    const parsedUrl = url.parse(req.url, true);\n    const path = parsedUrl.pathname;\n    \n    // Route handling\n    if (path === ''/'') {\n        res.writeHead(200, { ''Content-Type'': ''text/html'' });\n        res.end(''<h1>Home Page</h1>'');\n    } else if (path === ''/about'') {\n        res.writeHead(200, { ''Content-Type'': ''text/html'' });\n        res.end(''<h1>About Page</h1>'');\n    } else if (path === ''/contact'') {\n        res.writeHead(200, { ''Content-Type'': ''text/html'' });\n        res.end(''<h1>Contact Page</h1>'');\n    } else {\n        res.writeHead(404, { ''Content-Type'': ''text/html'' });\n        res.end(''<h1>404 - Page Not Found</h1>'');\n    }\n});\n\nserver.listen(3000);\n```\n\n### Method-Based Routing\n\n```javascript\nconst http = require(''http'');\nconst url = require(''url'');\n\nconst server = http.createServer((req, res) => {\n    const parsedUrl = url.parse(req.url, true);\n    const path = parsedUrl.pathname;\n    const method = req.method;\n    \n    // GET requests\n    if (method === ''GET'') {\n        if (path === ''/users'') {\n            res.writeHead(200, { ''Content-Type'': ''application/json'' });\n            res.end(JSON.stringify([{ id: 1, name: ''Alice'' }]));\n        } else if (path.startsWith(''/users/'')) {\n            const userId = path.split(''/'')[2];\n            res.writeHead(200, { ''Content-Type'': ''application/json'' });\n            res.end(JSON.stringify({ id: userId, name: ''Alice'' }));\n        }\n    }\n    \n    // POST requests\n    else if (method === ''POST'') {\n        if (path === ''/users'') {\n            let body = '''';\n            req.on(''data'', (chunk) => {\n                body += chunk.toString();\n            });\n            \n            req.on(''end'', () => {\n                const user = JSON.parse(body);\n                res.writeHead(201, { ''Content-Type'': ''application/json'' });\n                res.end(JSON.stringify({ id: Date.now(), ...user }));\n            });\n        }\n    }\n    \n    // PUT requests\n    else if (method === ''PUT'') {\n        if (path.startsWith(''/users/'')) {\n            const userId = path.split(''/'')[2];\n            let body = '''';\n            req.on(''data'', (chunk) => {\n                body += chunk.toString();\n            });\n            \n            req.on(''end'', () => {\n                const user = JSON.parse(body);\n                res.writeHead(200, { ''Content-Type'': ''application/json'' });\n                res.end(JSON.stringify({ id: userId, ...user }));\n            });\n        }\n    }\n    \n    // DELETE requests\n    else if (method === ''DELETE'') {\n        if (path.startsWith(''/users/'')) {\n            const userId = path.split(''/'')[2];\n            res.writeHead(204);\n            res.end();\n        }\n    }\n    \n    // 404 for other routes\n    else {\n        res.writeHead(404, { ''Content-Type'': ''text/plain'' });\n        res.end(''Not Found'');\n    }\n});\n\nserver.listen(3000);\n```\n\n### Router Helper\n\n```javascript\nconst http = require(''http'');\nconst url = require(''url'');\n\n// Simple router\nclass Router {\n    constructor() {\n        this.routes = {};\n    }\n    \n    get(path, handler) {\n        if (!this.routes[path]) {\n            this.routes[path] = {};\n        }\n        this.routes[path].GET = handler;\n    }\n    \n    post(path, handler) {\n        if (!this.routes[path]) {\n            this.routes[path] = {};\n        }\n        this.routes[path].POST = handler;\n    }\n    \n    handle(req, res) {\n        const parsedUrl = url.parse(req.url, true);\n        const path = parsedUrl.pathname;\n        const method = req.method;\n        \n        const route = this.routes[path];\n        if (route && route[method]) {\n            route[method](req, res);\n        } else {\n            res.writeHead(404, { ''Content-Type'': ''text/plain'' });\n            res.end(''Not Found'');\n        }\n    }\n}\n\n// Use router\nconst router = new Router();\n\nrouter.get(''/'', (req, res) => {\n    res.writeHead(200, { ''Content-Type'': ''text/html'' });\n    res.end(''<h1>Home</h1>'');\n});\n\nrouter.get(''/about'', (req, res) => {\n    res.writeHead(200, { ''Content-Type'': ''text/html'' });\n    res.end(''<h1>About</h1>'');\n});\n\nrouter.post(''/users'', (req, res) => {\n    let body = '''';\n    req.on(''data'', (chunk) => {\n        body += chunk.toString();\n    });\n    \n    req.on(''end'', () => {\n        res.writeHead(201, { ''Content-Type'': ''application/json'' });\n        res.end(JSON.stringify({ message: ''User created'' }));\n    });\n});\n\nconst server = http.createServer((req, res) => {\n    router.handle(req, res);\n});\n\nserver.listen(3000);\n```\n\n---\n\n## Request and Response Objects\n\n### Request Object Properties\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    // Method\n    console.log(''Method:'', req.method);\n    \n    // URL\n    console.log(''URL:'', req.url);\n    \n    // Headers\n    console.log(''Headers:'', req.headers);\n    console.log(''User-Agent:'', req.headers[''user-agent'']);\n    console.log(''Content-Type:'', req.headers[''content-type'']);\n    \n    // HTTP Version\n    console.log(''HTTP Version:'', req.httpVersion);\n    \n    // Status Code (response)\n    console.log(''Status Code:'', req.statusCode);\n    \n    // Socket\n    console.log(''Remote Address:'', req.socket.remoteAddress);\n    console.log(''Remote Port:'', req.socket.remotePort);\n    \n    res.end(''Request logged'');\n});\n\nserver.listen(3000);\n```\n\n### Response Object Methods\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    // Set status code\n    res.statusCode = 200;\n    \n    // Set status message\n    res.statusMessage = ''OK'';\n    \n    // Set header\n    res.setHeader(''Content-Type'', ''text/html'');\n    res.setHeader(''X-Custom-Header'', ''value'');\n    \n    // Set multiple headers\n    res.writeHead(200, {\n        ''Content-Type'': ''text/html'',\n        ''X-Custom-Header'': ''value''\n    });\n    \n    // Write data\n    res.write(''<h1>Hello</h1>'');\n    res.write(''<p>World</p>'');\n    \n    // End response\n    res.end();\n    \n    // Check if headers sent\n    console.log(''Headers sent:'', res.headersSent);\n    \n    // Get header\n    const contentType = res.getHeader(''Content-Type'');\n    console.log(''Content-Type:'', contentType);\n    \n    // Remove header\n    res.removeHeader(''X-Custom-Header'');\n});\n```\n\n### Handling Request Body\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    // Only handle POST, PUT, PATCH\n    if ([''POST'', ''PUT'', ''PATCH''].includes(req.method)) {\n        let body = '''';\n        \n        req.on(''data'', (chunk) => {\n            body += chunk.toString();\n        });\n        \n        req.on(''end'', () => {\n            try {\n                // Parse JSON\n                const data = JSON.parse(body);\n                console.log(''Received data:'', data);\n                \n                res.writeHead(200, { ''Content-Type'': ''application/json'' });\n                res.end(JSON.stringify({ success: true, data }));\n            } catch (error) {\n                res.writeHead(400, { ''Content-Type'': ''application/json'' });\n                res.end(JSON.stringify({ error: ''Invalid JSON'' }));\n            }\n        });\n    } else {\n        res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n        res.end(''OK'');\n    }\n});\n\nserver.listen(3000);\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Basic Server\n\n**Objective**: Practice creating HTTP servers, handling requests, implementing routing, and working with request/response objects.\n\n**Instructions**:\n\n1. Create an HTTP server\n2. Implement routing\n3. Handle different request methods\n4. Practice:\n   - Creating servers\n   - Handling requests\n   - Implementing routing\n   - Working with request/response objects\n\n**Example Solution**:\n\n```javascript\n// src/server.js\nconst http = require(''http'');\nconst url = require(''url'');\n\n// Simple in-memory data store\nlet users = [\n    { id: 1, name: ''Alice'', email: ''alice@example.com'' },\n    { id: 2, name: ''Bob'', email: ''bob@example.com'' }\n];\n\n// Helper function to parse request body\nfunction parseBody(req) {\n    return new Promise((resolve, reject) => {\n        let body = '''';\n        req.on(''data'', (chunk) => {\n            body += chunk.toString();\n        });\n        req.on(''end'', () => {\n            try {\n                resolve(body ? JSON.parse(body) : {});\n            } catch (error) {\n                reject(error);\n            }\n        });\n        req.on(''error'', reject);\n    });\n}\n\n// Helper function to send JSON response\nfunction sendJSON(res, statusCode, data) {\n    res.writeHead(statusCode, { ''Content-Type'': ''application/json'' });\n    res.end(JSON.stringify(data));\n}\n\n// Create server\nconst server = http.createServer(async (req, res) => {\n    const parsedUrl = url.parse(req.url, true);\n    const path = parsedUrl.pathname;\n    const method = req.method;\n    const query = parsedUrl.query;\n    \n    // CORS headers\n    res.setHeader(''Access-Control-Allow-Origin'', ''*'');\n    res.setHeader(''Access-Control-Allow-Methods'', ''GET, POST, PUT, DELETE, OPTIONS'');\n    res.setHeader(''Access-Control-Allow-Headers'', ''Content-Type'');\n    \n    // Handle OPTIONS (preflight)\n    if (method === ''OPTIONS'') {\n        res.writeHead(200);\n        res.end();\n        return;\n    }\n    \n    // Route: GET /\n    if (path === ''/'' && method === ''GET'') {\n        res.writeHead(200, { ''Content-Type'': ''text/html'' });\n        res.end(`\n            <!DOCTYPE html>\n            <html>\n            <head>\n                <title>Node.js HTTP Server</title>\n                <style>\n                    body { font-family: Arial, sans-serif; padding: 20px; }\n                    h1 { color: #333; }\n                    .endpoint { background: #f5f5f5; padding: 10px; margin: 10px 0; border-radius: 5px; }\n                </style>\n            </head>\n            <body>\n                <h1>Node.js HTTP Server</h1>\n                <p>Welcome to the HTTP server!</p>\n                <h2>Available Endpoints:</h2>\n                <div class="endpoint">\n                    <strong>GET /users</strong> - Get all users\n                </div>\n                <div class="endpoint">\n                    <strong>GET /users/:id</strong> - Get user by ID\n                </div>\n                <div class="endpoint">\n                    <strong>POST /users</strong> - Create new user\n                </div>\n                <div class="endpoint">\n                    <strong>PUT /users/:id</strong> - Update user\n                </div>\n                <div class="endpoint">\n                    <strong>DELETE /users/:id</strong> - Delete user\n                </div>\n            </body>\n            </html>\n        `);\n        return;\n    }\n    \n    // Route: GET /users\n    if (path === ''/users'' && method === ''GET'') {\n        sendJSON(res, 200, users);\n        return;\n    }\n    \n    // Route: GET /users/:id\n    if (path.startsWith(''/users/'') && method === ''GET'') {\n        const userId = parseInt(path.split(''/'')[2]);\n        const user = users.find(u => u.id === userId);\n        \n        if (user) {\n            sendJSON(res, 200, user);\n        } else {\n            sendJSON(res, 404, { error: ''User not found'' });\n        }\n        return;\n    }\n    \n    // Route: POST /users\n    if (path === ''/users'' && method === ''POST'') {\n        try {\n            const body = await parseBody(req);\n            \n            if (!body.name || !body.email) {\n                sendJSON(res, 400, { error: ''Name and email are required'' });\n                return;\n            }\n            \n            const newUser = {\n                id: users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 1,\n                name: body.name,\n                email: body.email\n            };\n            \n            users.push(newUser);\n            sendJSON(res, 201, newUser);\n        } catch (error) {\n            sendJSON(res, 400, { error: ''Invalid JSON'' });\n        }\n        return;\n    }\n    \n    // Route: PUT /users/:id\n    if (path.startsWith(''/users/'') && method === ''PUT'') {\n        try {\n            const userId = parseInt(path.split(''/'')[2]);\n            const userIndex = users.findIndex(u => u.id === userId);\n            \n            if (userIndex === -1) {\n                sendJSON(res, 404, { error: ''User not found'' });\n                return;\n            }\n            \n            const body = await parseBody(req);\n            users[userIndex] = { ...users[userIndex], ...body };\n            \n            sendJSON(res, 200, users[userIndex]);\n        } catch (error) {\n            sendJSON(res, 400, { error: ''Invalid JSON'' });\n        }\n        return;\n    }\n    \n    // Route: DELETE /users/:id\n    if (path.startsWith(''/users/'') && method === ''DELETE'') {\n        const userId = parseInt(path.split(''/'')[2]);\n        const userIndex = users.findIndex(u => u.id === userId);\n        \n        if (userIndex === -1) {\n            sendJSON(res, 404, { error: ''User not found'' });\n            return;\n        }\n        \n        users.splice(userIndex, 1);\n        res.writeHead(204);\n        res.end();\n        return;\n    }\n    \n    // 404 - Not Found\n    sendJSON(res, 404, { error: ''Route not found'' });\n});\n\n// Start server\nconst PORT = process.env.PORT || 3000;\nserver.listen(PORT, () => {\n    console.log(`Server running on http://localhost:${PORT}`);\n    console.log(`Visit http://localhost:${PORT} in your browser`);\n});\n```\n\n```json\n// package.json\n{\n  "name": "http-server-practice",\n  "version": "1.0.0",\n  "description": "HTTP server practice with Node.js",\n  "main": "src/server.js",\n  "scripts": {\n    "start": "node src/server.js",\n    "dev": "node --watch src/server.js"\n  },\n  "keywords": ["nodejs", "http", "server"],\n  "author": "",\n  "license": "ISC"\n}\n```\n\n**Testing the Server**:\n\n```bash\n# Start server\nnode src/server.js\n\n# Test endpoints (in another terminal or browser)\n# GET /users\ncurl http://localhost:3000/users\n\n# GET /users/1\ncurl http://localhost:3000/users/1\n\n# POST /users\ncurl -X POST http://localhost:3000/users \\\n  -H "Content-Type: application/json" \\\n  -d ''{"name":"Charlie","email":"charlie@example.com"}''\n\n# PUT /users/1\ncurl -X PUT http://localhost:3000/users/1 \\\n  -H "Content-Type: application/json" \\\n  -d ''{"name":"Alice Updated","email":"alice.updated@example.com"}''\n\n# DELETE /users/1\ncurl -X DELETE http://localhost:3000/users/1\n```\n\n**Expected Output**:\n- Server running on port 3000\n- HTML page at root\n- RESTful API endpoints working\n- CRUD operations functional\n\n**Challenge (Optional)**:\n- Add more routes\n- Implement authentication\n- Add request validation\n- Create a complete API\n\n---\n\n## Common Mistakes\n\n### 1. Not Ending Response\n\n```javascript\n// ❌ Bad: Response never ends\nres.writeHead(200);\nres.write(''Hello'');\n\n// ✅ Good: Always end response\nres.writeHead(200);\nres.end(''Hello'');\n```\n\n### 2. Writing After End\n\n```javascript\n// ❌ Bad: Write after end\nres.end(''Hello'');\nres.write(''World'');  // Error\n\n// ✅ Good: Write before end\nres.write(''Hello'');\nres.end(''World'');\n```\n\n### 3. Not Handling Errors\n\n```javascript\n// ❌ Bad: No error handling\nconst data = JSON.parse(body);\n\n// ✅ Good: Handle errors\ntry {\n    const data = JSON.parse(body);\n} catch (error) {\n    res.writeHead(400);\n    res.end(''Invalid JSON'');\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **HTTP Server**: Created with http.createServer()\n2. **Request Object**: Contains method, URL, headers, body\n3. **Response Object**: Used to send responses\n4. **Routing**: Handle different paths and methods\n5. **Status Codes**: Use appropriate HTTP status codes\n6. **Best Practice**: Always end response, handle errors\n7. **Protocol**: Understand HTTP methods and status codes\n\n---\n\n## Quiz: HTTP Server\n\nTest your understanding with these questions:\n\n1. **http.createServer:**\n   - A) Creates server\n   - B) Starts server\n   - C) Both\n   - D) Neither\n\n2. **server.listen:**\n   - A) Creates server\n   - B) Starts server\n   - C) Both\n   - D) Neither\n\n3. **req.method:**\n   - A) Request method\n   - B) Response method\n   - C) Both\n   - D) Neither\n\n4. **res.end:**\n   - A) Required\n   - B) Optional\n   - C) Both\n   - D) Neither\n\n5. **Status code 200:**\n   - A) Success\n   - B) Error\n   - C) Both\n   - D) Neither\n\n6. **Status code 404:**\n   - A) Not found\n   - B) Found\n   - C) Both\n   - D) Neither\n\n7. **Request body:**\n   - A) Stream\n   - B) String\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Creates server\n2. B) Starts server\n3. A) Request method\n4. A) Required\n5. A) Success\n6. A) Not found\n7. A) Stream (needs to be read)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned HTTP server with Node.js. You now know:\n- How to create HTTP servers\n- How to handle requests\n- How to implement routing\n- How to work with request/response objects\n\n**What''s Next?**\n- Lesson 29.2: Express.js Framework\n- Learn Express.js\n- Understand routes and middleware\n- Build web applications\n\n---\n\n## Additional Resources\n\n- **HTTP Module**: [nodejs.org/api/http.html](https://nodejs.org/api/http.html)\n- **HTTP Status Codes**: [developer.mozilla.org/en-US/docs/Web/HTTP/Status](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status)\n- **HTTP Methods**: [developer.mozilla.org/en-US/docs/Web/HTTP/Methods](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 10:13:54', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Create HTTP servers with Node.js\n- Handle HTTP requests\n- Implement routing\n- Work with request and response objects\n- Build basic web servers\n- Understand HTTP protocol\n- Process different request types');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (185, 69, 17, 'HTTP Server Basics', 'http-server-basics', '# Lesson 29.1: HTTP Server with Node.js\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Create HTTP servers with Node.js\n- Handle HTTP requests\n- Implement routing\n- Work with request and response objects\n- Build basic web servers\n- Understand HTTP protocol\n- Process different request types\n\n---\n\n## Introduction to HTTP Servers\n\nHTTP servers listen for incoming HTTP requests and send responses. Node.js provides the `http` module to create servers.\n\n### What is an HTTP Server?\n\n- **Listens**: Waits for incoming requests\n- **Processes**: Handles request data\n- **Responds**: Sends response back\n- **Stateless**: Each request is independent\n- **Protocol**: Uses HTTP/HTTPS protocol\n\n---\n\n## Creating HTTP Server\n\n### Basic Server\n\n```javascript\nconst http = require(''http'');\n\n// Create server\nconst server = http.createServer((req, res) => {\n    res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n    res.end(''Hello, World!'');\n});\n\n// Listen on port\nserver.listen(3000, () => {\n    console.log(''Server running on http://localhost:3000'');\n});\n```\n\n### Server with Options\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n    res.end(''Hello, World!'');\n});\n\nserver.listen(3000, ''localhost'', () => {\n    console.log(''Server running on http://localhost:3000'');\n});\n\n// Or specify host\nserver.listen(3000, ''0.0.0.0'', () => {\n    console.log(''Server running on all interfaces'');\n});\n```\n\n### Server Class\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer();\n\n// Handle request event\nserver.on(''request'', (req, res) => {\n    res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n    res.end(''Hello, World!'');\n});\n\n// Handle connection event\nserver.on(''connection'', (socket) => {\n    console.log(''New connection'');\n});\n\nserver.listen(3000, () => {\n    console.log(''Server running on port 3000'');\n});\n```\n\n---\n\n## Handling Requests\n\n### Request Object\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    // Request method\n    console.log(''Method:'', req.method);\n    \n    // Request URL\n    console.log(''URL:'', req.url);\n    \n    // Request headers\n    console.log(''Headers:'', req.headers);\n    \n    // Request body (for POST, PUT, etc.)\n    let body = '''';\n    req.on(''data'', (chunk) => {\n        body += chunk.toString();\n    });\n    \n    req.on(''end'', () => {\n        console.log(''Body:'', body);\n        \n        res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n        res.end(''Request received'');\n    });\n});\n\nserver.listen(3000);\n```\n\n### Response Object\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    // Set status code\n    res.statusCode = 200;\n    \n    // Set headers\n    res.setHeader(''Content-Type'', ''text/html'');\n    res.setHeader(''X-Custom-Header'', ''my-value'');\n    \n    // Write response\n    res.write(''<h1>Hello, World!</h1>'');\n    res.write(''<p>This is a response</p>'');\n    \n    // End response\n    res.end();\n});\n\nserver.listen(3000);\n```\n\n### Different Response Types\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    // JSON response\n    if (req.url === ''/api/data'') {\n        res.writeHead(200, { ''Content-Type'': ''application/json'' });\n        res.end(JSON.stringify({ message: ''Hello'', data: [1, 2, 3] }));\n        return;\n    }\n    \n    // HTML response\n    if (req.url === ''/'') {\n        res.writeHead(200, { ''Content-Type'': ''text/html'' });\n        res.end(''<h1>Home Page</h1>'');\n        return;\n    }\n    \n    // Plain text response\n    res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n    res.end(''Default response'');\n});\n\nserver.listen(3000);\n```\n\n---\n\n## Routing\n\n### Basic Routing\n\n```javascript\nconst http = require(''http'');\nconst url = require(''url'');\n\nconst server = http.createServer((req, res) => {\n    const parsedUrl = url.parse(req.url, true);\n    const path = parsedUrl.pathname;\n    \n    // Route handling\n    if (path === ''/'') {\n        res.writeHead(200, { ''Content-Type'': ''text/html'' });\n        res.end(''<h1>Home Page</h1>'');\n    } else if (path === ''/about'') {\n        res.writeHead(200, { ''Content-Type'': ''text/html'' });\n        res.end(''<h1>About Page</h1>'');\n    } else if (path === ''/contact'') {\n        res.writeHead(200, { ''Content-Type'': ''text/html'' });\n        res.end(''<h1>Contact Page</h1>'');\n    } else {\n        res.writeHead(404, { ''Content-Type'': ''text/html'' });\n        res.end(''<h1>404 - Page Not Found</h1>'');\n    }\n});\n\nserver.listen(3000);\n```\n\n### Method-Based Routing\n\n```javascript\nconst http = require(''http'');\nconst url = require(''url'');\n\nconst server = http.createServer((req, res) => {\n    const parsedUrl = url.parse(req.url, true);\n    const path = parsedUrl.pathname;\n    const method = req.method;\n    \n    // GET requests\n    if (method === ''GET'') {\n        if (path === ''/users'') {\n            res.writeHead(200, { ''Content-Type'': ''application/json'' });\n            res.end(JSON.stringify([{ id: 1, name: ''Alice'' }]));\n        } else if (path.startsWith(''/users/'')) {\n            const userId = path.split(''/'')[2];\n            res.writeHead(200, { ''Content-Type'': ''application/json'' });\n            res.end(JSON.stringify({ id: userId, name: ''Alice'' }));\n        }\n    }\n    \n    // POST requests\n    else if (method === ''POST'') {\n        if (path === ''/users'') {\n            let body = '''';\n            req.on(''data'', (chunk) => {\n                body += chunk.toString();\n            });\n            \n            req.on(''end'', () => {\n                const user = JSON.parse(body);\n                res.writeHead(201, { ''Content-Type'': ''application/json'' });\n                res.end(JSON.stringify({ id: Date.now(), ...user }));\n            });\n        }\n    }\n    \n    // PUT requests\n    else if (method === ''PUT'') {\n        if (path.startsWith(''/users/'')) {\n            const userId = path.split(''/'')[2];\n            let body = '''';\n            req.on(''data'', (chunk) => {\n                body += chunk.toString();\n            });\n            \n            req.on(''end'', () => {\n                const user = JSON.parse(body);\n                res.writeHead(200, { ''Content-Type'': ''application/json'' });\n                res.end(JSON.stringify({ id: userId, ...user }));\n            });\n        }\n    }\n    \n    // DELETE requests\n    else if (method === ''DELETE'') {\n        if (path.startsWith(''/users/'')) {\n            const userId = path.split(''/'')[2];\n            res.writeHead(204);\n            res.end();\n        }\n    }\n    \n    // 404 for other routes\n    else {\n        res.writeHead(404, { ''Content-Type'': ''text/plain'' });\n        res.end(''Not Found'');\n    }\n});\n\nserver.listen(3000);\n```\n\n### Router Helper\n\n```javascript\nconst http = require(''http'');\nconst url = require(''url'');\n\n// Simple router\nclass Router {\n    constructor() {\n        this.routes = {};\n    }\n    \n    get(path, handler) {\n        if (!this.routes[path]) {\n            this.routes[path] = {};\n        }\n        this.routes[path].GET = handler;\n    }\n    \n    post(path, handler) {\n        if (!this.routes[path]) {\n            this.routes[path] = {};\n        }\n        this.routes[path].POST = handler;\n    }\n    \n    handle(req, res) {\n        const parsedUrl = url.parse(req.url, true);\n        const path = parsedUrl.pathname;\n        const method = req.method;\n        \n        const route = this.routes[path];\n        if (route && route[method]) {\n            route[method](req, res);\n        } else {\n            res.writeHead(404, { ''Content-Type'': ''text/plain'' });\n            res.end(''Not Found'');\n        }\n    }\n}\n\n// Use router\nconst router = new Router();\n\nrouter.get(''/'', (req, res) => {\n    res.writeHead(200, { ''Content-Type'': ''text/html'' });\n    res.end(''<h1>Home</h1>'');\n});\n\nrouter.get(''/about'', (req, res) => {\n    res.writeHead(200, { ''Content-Type'': ''text/html'' });\n    res.end(''<h1>About</h1>'');\n});\n\nrouter.post(''/users'', (req, res) => {\n    let body = '''';\n    req.on(''data'', (chunk) => {\n        body += chunk.toString();\n    });\n    \n    req.on(''end'', () => {\n        res.writeHead(201, { ''Content-Type'': ''application/json'' });\n        res.end(JSON.stringify({ message: ''User created'' }));\n    });\n});\n\nconst server = http.createServer((req, res) => {\n    router.handle(req, res);\n});\n\nserver.listen(3000);\n```\n\n---\n\n## Request and Response Objects\n\n### Request Object Properties\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    // Method\n    console.log(''Method:'', req.method);\n    \n    // URL\n    console.log(''URL:'', req.url);\n    \n    // Headers\n    console.log(''Headers:'', req.headers);\n    console.log(''User-Agent:'', req.headers[''user-agent'']);\n    console.log(''Content-Type:'', req.headers[''content-type'']);\n    \n    // HTTP Version\n    console.log(''HTTP Version:'', req.httpVersion);\n    \n    // Status Code (response)\n    console.log(''Status Code:'', req.statusCode);\n    \n    // Socket\n    console.log(''Remote Address:'', req.socket.remoteAddress);\n    console.log(''Remote Port:'', req.socket.remotePort);\n    \n    res.end(''Request logged'');\n});\n\nserver.listen(3000);\n```\n\n### Response Object Methods\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    // Set status code\n    res.statusCode = 200;\n    \n    // Set status message\n    res.statusMessage = ''OK'';\n    \n    // Set header\n    res.setHeader(''Content-Type'', ''text/html'');\n    res.setHeader(''X-Custom-Header'', ''value'');\n    \n    // Set multiple headers\n    res.writeHead(200, {\n        ''Content-Type'': ''text/html'',\n        ''X-Custom-Header'': ''value''\n    });\n    \n    // Write data\n    res.write(''<h1>Hello</h1>'');\n    res.write(''<p>World</p>'');\n    \n    // End response\n    res.end();\n    \n    // Check if headers sent\n    console.log(''Headers sent:'', res.headersSent);\n    \n    // Get header\n    const contentType = res.getHeader(''Content-Type'');\n    console.log(''Content-Type:'', contentType);\n    \n    // Remove header\n    res.removeHeader(''X-Custom-Header'');\n});\n```\n\n### Handling Request Body\n\n```javascript\nconst http = require(''http'');\n\nconst server = http.createServer((req, res) => {\n    // Only handle POST, PUT, PATCH\n    if ([''POST'', ''PUT'', ''PATCH''].includes(req.method)) {\n        let body = '''';\n        \n        req.on(''data'', (chunk) => {\n            body += chunk.toString();\n        });\n        \n        req.on(''end'', () => {\n            try {\n                // Parse JSON\n                const data = JSON.parse(body);\n                console.log(''Received data:'', data);\n                \n                res.writeHead(200, { ''Content-Type'': ''application/json'' });\n                res.end(JSON.stringify({ success: true, data }));\n            } catch (error) {\n                res.writeHead(400, { ''Content-Type'': ''application/json'' });\n                res.end(JSON.stringify({ error: ''Invalid JSON'' }));\n            }\n        });\n    } else {\n        res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n        res.end(''OK'');\n    }\n});\n\nserver.listen(3000);\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Basic Server\n\n**Objective**: Practice creating HTTP servers, handling requests, implementing routing, and working with request/response objects.\n\n**Instructions**:\n\n1. Create an HTTP server\n2. Implement routing\n3. Handle different request methods\n4. Practice:\n   - Creating servers\n   - Handling requests\n   - Implementing routing\n   - Working with request/response objects\n\n**Example Solution**:\n\n```javascript\n// src/server.js\nconst http = require(''http'');\nconst url = require(''url'');\n\n// Simple in-memory data store\nlet users = [\n    { id: 1, name: ''Alice'', email: ''alice@example.com'' },\n    { id: 2, name: ''Bob'', email: ''bob@example.com'' }\n];\n\n// Helper function to parse request body\nfunction parseBody(req) {\n    return new Promise((resolve, reject) => {\n        let body = '''';\n        req.on(''data'', (chunk) => {\n            body += chunk.toString();\n        });\n        req.on(''end'', () => {\n            try {\n                resolve(body ? JSON.parse(body) : {});\n            } catch (error) {\n                reject(error);\n            }\n        });\n        req.on(''error'', reject);\n    });\n}\n\n// Helper function to send JSON response\nfunction sendJSON(res, statusCode, data) {\n    res.writeHead(statusCode, { ''Content-Type'': ''application/json'' });\n    res.end(JSON.stringify(data));\n}\n\n// Create server\nconst server = http.createServer(async (req, res) => {\n    const parsedUrl = url.parse(req.url, true);\n    const path = parsedUrl.pathname;\n    const method = req.method;\n    const query = parsedUrl.query;\n    \n    // CORS headers\n    res.setHeader(''Access-Control-Allow-Origin'', ''*'');\n    res.setHeader(''Access-Control-Allow-Methods'', ''GET, POST, PUT, DELETE, OPTIONS'');\n    res.setHeader(''Access-Control-Allow-Headers'', ''Content-Type'');\n    \n    // Handle OPTIONS (preflight)\n    if (method === ''OPTIONS'') {\n        res.writeHead(200);\n        res.end();\n        return;\n    }\n    \n    // Route: GET /\n    if (path === ''/'' && method === ''GET'') {\n        res.writeHead(200, { ''Content-Type'': ''text/html'' });\n        res.end(`\n            <!DOCTYPE html>\n            <html>\n            <head>\n                <title>Node.js HTTP Server</title>\n                <style>\n                    body { font-family: Arial, sans-serif; padding: 20px; }\n                    h1 { color: #333; }\n                    .endpoint { background: #f5f5f5; padding: 10px; margin: 10px 0; border-radius: 5px; }\n                </style>\n            </head>\n            <body>\n                <h1>Node.js HTTP Server</h1>\n                <p>Welcome to the HTTP server!</p>\n                <h2>Available Endpoints:</h2>\n                <div class="endpoint">\n                    <strong>GET /users</strong> - Get all users\n                </div>\n                <div class="endpoint">\n                    <strong>GET /users/:id</strong> - Get user by ID\n                </div>\n                <div class="endpoint">\n                    <strong>POST /users</strong> - Create new user\n                </div>\n                <div class="endpoint">\n                    <strong>PUT /users/:id</strong> - Update user\n                </div>\n                <div class="endpoint">\n                    <strong>DELETE /users/:id</strong> - Delete user\n                </div>\n            </body>\n            </html>\n        `);\n        return;\n    }\n    \n    // Route: GET /users\n    if (path === ''/users'' && method === ''GET'') {\n        sendJSON(res, 200, users);\n        return;\n    }\n    \n    // Route: GET /users/:id\n    if (path.startsWith(''/users/'') && method === ''GET'') {\n        const userId = parseInt(path.split(''/'')[2]);\n        const user = users.find(u => u.id === userId);\n        \n        if (user) {\n            sendJSON(res, 200, user);\n        } else {\n            sendJSON(res, 404, { error: ''User not found'' });\n        }\n        return;\n    }\n    \n    // Route: POST /users\n    if (path === ''/users'' && method === ''POST'') {\n        try {\n            const body = await parseBody(req);\n            \n            if (!body.name || !body.email) {\n                sendJSON(res, 400, { error: ''Name and email are required'' });\n                return;\n            }\n            \n            const newUser = {\n                id: users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 1,\n                name: body.name,\n                email: body.email\n            };\n            \n            users.push(newUser);\n            sendJSON(res, 201, newUser);\n        } catch (error) {\n            sendJSON(res, 400, { error: ''Invalid JSON'' });\n        }\n        return;\n    }\n    \n    // Route: PUT /users/:id\n    if (path.startsWith(''/users/'') && method === ''PUT'') {\n        try {\n            const userId = parseInt(path.split(''/'')[2]);\n            const userIndex = users.findIndex(u => u.id === userId);\n            \n            if (userIndex === -1) {\n                sendJSON(res, 404, { error: ''User not found'' });\n                return;\n            }\n            \n            const body = await parseBody(req);\n            users[userIndex] = { ...users[userIndex], ...body };\n            \n            sendJSON(res, 200, users[userIndex]);\n        } catch (error) {\n            sendJSON(res, 400, { error: ''Invalid JSON'' });\n        }\n        return;\n    }\n    \n    // Route: DELETE /users/:id\n    if (path.startsWith(''/users/'') && method === ''DELETE'') {\n        const userId = parseInt(path.split(''/'')[2]);\n        const userIndex = users.findIndex(u => u.id === userId);\n        \n        if (userIndex === -1) {\n            sendJSON(res, 404, { error: ''User not found'' });\n            return;\n        }\n        \n        users.splice(userIndex, 1);\n        res.writeHead(204);\n        res.end();\n        return;\n    }\n    \n    // 404 - Not Found\n    sendJSON(res, 404, { error: ''Route not found'' });\n});\n\n// Start server\nconst PORT = process.env.PORT || 3000;\nserver.listen(PORT, () => {\n    console.log(`Server running on http://localhost:${PORT}`);\n    console.log(`Visit http://localhost:${PORT} in your browser`);\n});\n```\n\n```json\n// package.json\n{\n  "name": "http-server-practice",\n  "version": "1.0.0",\n  "description": "HTTP server practice with Node.js",\n  "main": "src/server.js",\n  "scripts": {\n    "start": "node src/server.js",\n    "dev": "node --watch src/server.js"\n  },\n  "keywords": ["nodejs", "http", "server"],\n  "author": "",\n  "license": "ISC"\n}\n```\n\n**Testing the Server**:\n\n```bash\n# Start server\nnode src/server.js\n\n# Test endpoints (in another terminal or browser)\n# GET /users\ncurl http://localhost:3000/users\n\n# GET /users/1\ncurl http://localhost:3000/users/1\n\n# POST /users\ncurl -X POST http://localhost:3000/users \\\n  -H "Content-Type: application/json" \\\n  -d ''{"name":"Charlie","email":"charlie@example.com"}''\n\n# PUT /users/1\ncurl -X PUT http://localhost:3000/users/1 \\\n  -H "Content-Type: application/json" \\\n  -d ''{"name":"Alice Updated","email":"alice.updated@example.com"}''\n\n# DELETE /users/1\ncurl -X DELETE http://localhost:3000/users/1\n```\n\n**Expected Output**:\n- Server running on port 3000\n- HTML page at root\n- RESTful API endpoints working\n- CRUD operations functional\n\n**Challenge (Optional)**:\n- Add more routes\n- Implement authentication\n- Add request validation\n- Create a complete API\n\n---\n\n## Common Mistakes\n\n### 1. Not Ending Response\n\n```javascript\n// ❌ Bad: Response never ends\nres.writeHead(200);\nres.write(''Hello'');\n\n// ✅ Good: Always end response\nres.writeHead(200);\nres.end(''Hello'');\n```\n\n### 2. Writing After End\n\n```javascript\n// ❌ Bad: Write after end\nres.end(''Hello'');\nres.write(''World'');  // Error\n\n// ✅ Good: Write before end\nres.write(''Hello'');\nres.end(''World'');\n```\n\n### 3. Not Handling Errors\n\n```javascript\n// ❌ Bad: No error handling\nconst data = JSON.parse(body);\n\n// ✅ Good: Handle errors\ntry {\n    const data = JSON.parse(body);\n} catch (error) {\n    res.writeHead(400);\n    res.end(''Invalid JSON'');\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **HTTP Server**: Created with http.createServer()\n2. **Request Object**: Contains method, URL, headers, body\n3. **Response Object**: Used to send responses\n4. **Routing**: Handle different paths and methods\n5. **Status Codes**: Use appropriate HTTP status codes\n6. **Best Practice**: Always end response, handle errors\n7. **Protocol**: Understand HTTP methods and status codes\n\n---\n\n## Quiz: HTTP Server\n\nTest your understanding with these questions:\n\n1. **http.createServer:**\n   - A) Creates server\n   - B) Starts server\n   - C) Both\n   - D) Neither\n\n2. **server.listen:**\n   - A) Creates server\n   - B) Starts server\n   - C) Both\n   - D) Neither\n\n3. **req.method:**\n   - A) Request method\n   - B) Response method\n   - C) Both\n   - D) Neither\n\n4. **res.end:**\n   - A) Required\n   - B) Optional\n   - C) Both\n   - D) Neither\n\n5. **Status code 200:**\n   - A) Success\n   - B) Error\n   - C) Both\n   - D) Neither\n\n6. **Status code 404:**\n   - A) Not found\n   - B) Found\n   - C) Both\n   - D) Neither\n\n7. **Request body:**\n   - A) Stream\n   - B) String\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Creates server\n2. B) Starts server\n3. A) Request method\n4. A) Required\n5. A) Success\n6. A) Not found\n7. A) Stream (needs to be read)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned HTTP server with Node.js. You now know:\n- How to create HTTP servers\n- How to handle requests\n- How to implement routing\n- How to work with request/response objects\n\n**What''s Next?**\n- Lesson 29.2: Express.js Framework\n- Learn Express.js\n- Understand routes and middleware\n- Build web applications\n\n---\n\n## Additional Resources\n\n- **HTTP Module**: [nodejs.org/api/http.html](https://nodejs.org/api/http.html)\n- **HTTP Status Codes**: [developer.mozilla.org/en-US/docs/Web/HTTP/Status](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status)\n- **HTTP Methods**: [developer.mozilla.org/en-US/docs/Web/HTTP/Methods](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 10:13:14', '2026-01-03 10:13:14', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Create HTTP servers with Node.js\n- Handle HTTP requests\n- Implement routing\n- Work with request and response objects\n- Build basic web servers\n- Understand HTTP protocol\n- Process different request types');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (186, 69, 17, 'Express.js Framework', 'expressjs-framework', '# Lesson 29.2: Express.js Framework\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand Express.js framework\n- Create Express applications\n- Work with routes and middleware\n- Handle requests and responses\n- Use template engines\n- Build web applications with Express\n- Organize Express applications\n\n---\n\n## Express Introduction\n\nExpress.js is a fast, unopinionated, minimalist web framework for Node.js. It simplifies building web applications and APIs.\n\n### What is Express?\n\n- **Web Framework**: Simplifies Node.js web development\n- **Minimalist**: Lightweight and flexible\n- **Middleware**: Powerful middleware system\n- **Routing**: Easy routing system\n- **Template Engines**: Support for various template engines\n- **Popular**: Most popular Node.js framework\n\n### Why Express?\n\n- **Simple**: Easy to learn and use\n- **Flexible**: Unopinionated, use as needed\n- **Fast**: Lightweight and performant\n- **Middleware**: Rich ecosystem of middleware\n- **Community**: Large community and resources\n- **Standard**: Industry standard for Node.js\n\n---\n\n## Express Introduction\n\n### Installation\n\n```bash\n# Install Express\nnpm install express\n\n# Install with dev dependencies\nnpm install express --save-dev\n\n# Install specific version\nnpm install express@4.18.0\n```\n\n### Basic Express App\n\n```javascript\nconst express = require(''express'');\nconst app = express();\nconst PORT = 3000;\n\n// Basic route\napp.get(''/'', (req, res) => {\n    res.send(''Hello, Express!'');\n});\n\n// Start server\napp.listen(PORT, () => {\n    console.log(`Server running on http://localhost:${PORT}`);\n});\n```\n\n### Express vs Native HTTP\n\n```javascript\n// Native HTTP (verbose)\nconst http = require(''http'');\nconst server = http.createServer((req, res) => {\n    if (req.url === ''/'' && req.method === ''GET'') {\n        res.writeHead(200, { ''Content-Type'': ''text/plain'' });\n        res.end(''Hello'');\n    }\n});\n\n// Express (simple)\nconst express = require(''express'');\nconst app = express();\napp.get(''/'', (req, res) => {\n    res.send(''Hello'');\n});\n```\n\n---\n\n## Routes and Middleware\n\n### Basic Routes\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\n// GET route\napp.get(''/'', (req, res) => {\n    res.send(''Home page'');\n});\n\n// POST route\napp.post(''/users'', (req, res) => {\n    res.send(''Create user'');\n});\n\n// PUT route\napp.put(''/users/:id'', (req, res) => {\n    res.send(''Update user'');\n});\n\n// DELETE route\napp.delete(''/users/:id'', (req, res) => {\n    res.send(''Delete user'');\n});\n\n// All methods\napp.all(''/test'', (req, res) => {\n    res.send(''Any method'');\n});\n```\n\n### Route Parameters\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\n// Single parameter\napp.get(''/users/:id'', (req, res) => {\n    const userId = req.params.id;\n    res.send(`User ID: ${userId}`);\n});\n\n// Multiple parameters\napp.get(''/users/:userId/posts/:postId'', (req, res) => {\n    const { userId, postId } = req.params;\n    res.send(`User ${userId}, Post ${postId}`);\n});\n\n// Optional parameter\napp.get(''/users/:id?'', (req, res) => {\n    const userId = req.params.id || ''all'';\n    res.send(`User: ${userId}`);\n});\n```\n\n### Query Parameters\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\n// Query parameters\napp.get(''/search'', (req, res) => {\n    const { q, page, limit } = req.query;\n    res.json({\n        query: q,\n        page: page || 1,\n        limit: limit || 10\n    });\n});\n\n// Usage: /search?q=express&page=1&limit=10\n```\n\n### Route Handlers\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\n// Single handler\napp.get(''/single'', (req, res) => {\n    res.send(''Single handler'');\n});\n\n// Multiple handlers\napp.get(''/multiple'',\n    (req, res, next) => {\n        console.log(''First handler'');\n        next();\n    },\n    (req, res) => {\n        res.send(''Second handler'');\n    }\n);\n\n// Array of handlers\nconst handlers = [\n    (req, res, next) => {\n        console.log(''Handler 1'');\n        next();\n    },\n    (req, res, next) => {\n        console.log(''Handler 2'');\n        next();\n    },\n    (req, res) => {\n        res.send(''Handler 3'');\n    }\n];\napp.get(''/array'', handlers);\n```\n\n### Middleware\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\n// Application-level middleware\napp.use((req, res, next) => {\n    console.log(''Request:'', req.method, req.url);\n    next(); // Continue to next middleware\n});\n\n// Route-specific middleware\nconst checkAuth = (req, res, next) => {\n    const isAuthenticated = true; // Check authentication\n    if (isAuthenticated) {\n        next();\n    } else {\n        res.status(401).send(''Unauthorized'');\n    }\n};\n\napp.get(''/protected'', checkAuth, (req, res) => {\n    res.send(''Protected route'');\n});\n\n// Multiple middleware\napp.use(''/api'', checkAuth, (req, res, next) => {\n    console.log(''API middleware'');\n    next();\n});\n```\n\n### Built-in Middleware\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\n// Parse JSON bodies\napp.use(express.json());\n\n// Parse URL-encoded bodies\napp.use(express.urlencoded({ extended: true }));\n\n// Serve static files\napp.use(express.static(''public''));\n\n// CORS (if needed)\napp.use((req, res, next) => {\n    res.header(''Access-Control-Allow-Origin'', ''*'');\n    res.header(''Access-Control-Allow-Methods'', ''GET, POST, PUT, DELETE'');\n    next();\n});\n```\n\n---\n\n## Request Handling\n\n### Request Object\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\napp.post(''/users'', (req, res) => {\n    // Request properties\n    console.log(''Method:'', req.method);\n    console.log(''URL:'', req.url);\n    console.log(''Path:'', req.path);\n    console.log(''Query:'', req.query);\n    console.log(''Params:'', req.params);\n    console.log(''Headers:'', req.headers);\n    console.log(''Body:'', req.body);\n    console.log(''IP:'', req.ip);\n    console.log(''Protocol:'', req.protocol);\n    console.log(''Hostname:'', req.hostname);\n    \n    res.send(''Request logged'');\n});\n```\n\n### Response Methods\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\napp.get(''/response'', (req, res) => {\n    // Send response\n    res.send(''Hello, World!'');\n    \n    // Send JSON\n    res.json({ message: ''Hello'' });\n    \n    // Send status\n    res.status(200).send(''OK'');\n    \n    // Send file\n    res.sendFile(''/path/to/file.html'');\n    \n    // Redirect\n    res.redirect(''/other-route'');\n    \n    // Set header\n    res.set(''X-Custom-Header'', ''value'');\n    \n    // Set multiple headers\n    res.set({\n        ''X-Header-1'': ''value1'',\n        ''X-Header-2'': ''value2''\n    });\n    \n    // Cookie\n    res.cookie(''name'', ''value'');\n    \n    // Clear cookie\n    res.clearCookie(''name'');\n});\n```\n\n### Error Handling\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\n// Error handling middleware (must be last)\napp.use((err, req, res, next) => {\n    console.error(err.stack);\n    res.status(500).json({\n        error: ''Something went wrong!'',\n        message: err.message\n    });\n});\n\n// Route with error\napp.get(''/error'', (req, res, next) => {\n    try {\n        throw new Error(''Test error'');\n    } catch (error) {\n        next(error); // Pass to error handler\n    }\n});\n\n// Async error handling\napp.get(''/async-error'', async (req, res, next) => {\n    try {\n        // Async operation\n        await someAsyncOperation();\n    } catch (error) {\n        next(error);\n    }\n});\n```\n\n---\n\n## Template Engines\n\n### What are Template Engines?\n\nTemplate engines allow you to use static template files and replace variables with actual values at runtime.\n\n### Setting Up Template Engine\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\n// Set view engine\napp.set(''view engine'', ''ejs'');\n\n// Set views directory\napp.set(''views'', ''./views'');\n\n// Render template\napp.get(''/'', (req, res) => {\n    res.render(''index'', {\n        title: ''Home Page'',\n        message: ''Hello, World!''\n    });\n});\n```\n\n### EJS Template\n\n```html\n<!-- views/index.ejs -->\n<!DOCTYPE html>\n<html>\n<head>\n    <title><%= title %></title>\n</head>\n<body>\n    <h1><%= title %></h1>\n    <p><%= message %></p>\n    \n    <!-- Loop -->\n    <ul>\n        <% users.forEach(user => { %>\n            <li><%= user.name %></li>\n        <% }); %>\n    </ul>\n    \n    <!-- Condition -->\n    <% if (isLoggedIn) { %>\n        <p>Welcome back!</p>\n    <% } else { %>\n        <p>Please log in</p>\n    <% } %>\n</body>\n</html>\n```\n\n### Handlebars Template\n\n```javascript\n// Install: npm install express-handlebars\nconst express = require(''express'');\nconst exphbs = require(''express-handlebars'');\n\nconst app = express();\n\napp.engine(''handlebars'', exphbs());\napp.set(''view engine'', ''handlebars'');\n\napp.get(''/'', (req, res) => {\n    res.render(''index'', {\n        title: ''Home'',\n        users: [\n            { name: ''Alice'' },\n            { name: ''Bob'' }\n        ]\n    });\n});\n```\n\n```handlebars\n<!-- views/index.handlebars -->\n<h1>{{title}}</h1>\n<ul>\n    {{#each users}}\n        <li>{{name}}</li>\n    {{/each}}\n</ul>\n```\n\n### Pug Template\n\n```javascript\n// Install: npm install pug\nconst express = require(''express'');\nconst app = express();\n\napp.set(''view engine'', ''pug'');\n\napp.get(''/'', (req, res) => {\n    res.render(''index'', {\n        title: ''Home'',\n        users: [''Alice'', ''Bob'']\n    });\n});\n```\n\n```pug\n//- views/index.pug\nhtml\n    head\n        title= title\n    body\n        h1= title\n        ul\n            each user in users\n                li= user\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Express App\n\n**Objective**: Practice creating Express applications, working with routes and middleware, handling requests, and using template engines.\n\n**Instructions**:\n\n1. Create an Express application\n2. Set up routes and middleware\n3. Handle requests and responses\n4. Use template engines\n5. Practice:\n   - Creating Express apps\n   - Setting up routes\n   - Using middleware\n   - Handling requests\n   - Rendering templates\n\n**Example Solution**:\n\n```javascript\n// src/app.js\nconst express = require(''express'');\nconst path = require(''path'');\nconst app = express();\nconst PORT = process.env.PORT || 3000;\n\n// Set view engine\napp.set(''view engine'', ''ejs'');\napp.set(''views'', path.join(__dirname, ''views''));\n\n// Middleware\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(express.static(path.join(__dirname, ''public'')));\n\n// Logging middleware\napp.use((req, res, next) => {\n    console.log(`${new Date().toISOString()} - ${req.method} ${req.url}`);\n    next();\n});\n\n// In-memory data store\nlet users = [\n    { id: 1, name: ''Alice'', email: ''alice@example.com'' },\n    { id: 2, name: ''Bob'', email: ''bob@example.com'' }\n];\n\n// Routes\napp.get(''/'', (req, res) => {\n    res.render(''index'', {\n        title: ''Home'',\n        message: ''Welcome to Express App!''\n    });\n});\n\napp.get(''/users'', (req, res) => {\n    res.render(''users'', {\n        title: ''Users'',\n        users: users\n    });\n});\n\napp.get(''/users/:id'', (req, res) => {\n    const user = users.find(u => u.id === parseInt(req.params.id));\n    if (user) {\n        res.render(''user-detail'', {\n            title: `User: ${user.name}`,\n            user: user\n        });\n    } else {\n        res.status(404).render(''error'', {\n            title: ''Not Found'',\n            message: ''User not found''\n        });\n    }\n});\n\napp.get(''/api/users'', (req, res) => {\n    res.json(users);\n});\n\napp.get(''/api/users/:id'', (req, res) => {\n    const user = users.find(u => u.id === parseInt(req.params.id));\n    if (user) {\n        res.json(user);\n    } else {\n        res.status(404).json({ error: ''User not found'' });\n    }\n});\n\napp.post(''/api/users'', (req, res) => {\n    const { name, email } = req.body;\n    if (!name || !email) {\n        return res.status(400).json({ error: ''Name and email are required'' });\n    }\n    \n    const newUser = {\n        id: users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 1,\n        name,\n        email\n    };\n    \n    users.push(newUser);\n    res.status(201).json(newUser);\n});\n\napp.put(''/api/users/:id'', (req, res) => {\n    const userId = parseInt(req.params.id);\n    const userIndex = users.findIndex(u => u.id === userId);\n    \n    if (userIndex === -1) {\n        return res.status(404).json({ error: ''User not found'' });\n    }\n    \n    const { name, email } = req.body;\n    users[userIndex] = { ...users[userIndex], ...req.body };\n    \n    res.json(users[userIndex]);\n});\n\napp.delete(''/api/users/:id'', (req, res) => {\n    const userId = parseInt(req.params.id);\n    const userIndex = users.findIndex(u => u.id === userId);\n    \n    if (userIndex === -1) {\n        return res.status(404).json({ error: ''User not found'' });\n    }\n    \n    users.splice(userIndex, 1);\n    res.status(204).send();\n});\n\n// Error handling middleware\napp.use((err, req, res, next) => {\n    console.error(err.stack);\n    res.status(500).render(''error'', {\n        title: ''Error'',\n        message: ''Something went wrong!''\n    });\n});\n\n// 404 handler\napp.use((req, res) => {\n    res.status(404).render(''error'', {\n        title: ''Not Found'',\n        message: ''Page not found''\n    });\n});\n\n// Start server\napp.listen(PORT, () => {\n    console.log(`Server running on http://localhost:${PORT}`);\n});\n```\n\n```html\n<!-- views/index.ejs -->\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title><%= title %></title>\n    <link rel="stylesheet" href="/css/style.css">\n</head>\n<body>\n    <div class="container">\n        <h1><%= title %></h1>\n        <p><%= message %></p>\n        <nav>\n            <a href="/">Home</a>\n            <a href="/users">Users</a>\n            <a href="/api/users">API Users</a>\n        </nav>\n    </div>\n</body>\n</html>\n```\n\n```html\n<!-- views/users.ejs -->\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title><%= title %></title>\n    <link rel="stylesheet" href="/css/style.css">\n</head>\n<body>\n    <div class="container">\n        <h1><%= title %></h1>\n        <nav>\n            <a href="/">Home</a>\n            <a href="/users">Users</a>\n        </nav>\n        <ul class="user-list">\n            <% users.forEach(user => { %>\n                <li>\n                    <a href="/users/<%= user.id %>">\n                        <%= user.name %> - <%= user.email %>\n                    </a>\n                </li>\n            <% }); %>\n        </ul>\n    </div>\n</body>\n</html>\n```\n\n```html\n<!-- views/user-detail.ejs -->\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title><%= title %></title>\n    <link rel="stylesheet" href="/css/style.css">\n</head>\n<body>\n    <div class="container">\n        <h1><%= title %></h1>\n        <nav>\n            <a href="/">Home</a>\n            <a href="/users">Users</a>\n        </nav>\n        <div class="user-detail">\n            <p><strong>ID:</strong> <%= user.id %></p>\n            <p><strong>Name:</strong> <%= user.name %></p>\n            <p><strong>Email:</strong> <%= user.email %></p>\n        </div>\n    </div>\n</body>\n</html>\n```\n\n```html\n<!-- views/error.ejs -->\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title><%= title %></title>\n    <link rel="stylesheet" href="/css/style.css">\n</head>\n<body>\n    <div class="container">\n        <h1><%= title %></h1>\n        <p><%= message %></p>\n        <nav>\n            <a href="/">Home</a>\n        </nav>\n    </div>\n</body>\n</html>\n```\n\n```css\n/* public/css/style.css */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: Arial, sans-serif;\n    line-height: 1.6;\n    color: #333;\n    background-color: #f4f4f4;\n}\n\n.container {\n    max-width: 800px;\n    margin: 0 auto;\n    padding: 20px;\n    background-color: white;\n    border-radius: 5px;\n    box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n}\n\nh1 {\n    color: #333;\n    margin-bottom: 20px;\n}\n\nnav {\n    margin: 20px 0;\n}\n\nnav a {\n    display: inline-block;\n    margin-right: 10px;\n    padding: 8px 16px;\n    background-color: #007bff;\n    color: white;\n    text-decoration: none;\n    border-radius: 4px;\n}\n\nnav a:hover {\n    background-color: #0056b3;\n}\n\n.user-list {\n    list-style: none;\n    padding: 0;\n}\n\n.user-list li {\n    padding: 10px;\n    margin: 5px 0;\n    background-color: #f8f9fa;\n    border-radius: 4px;\n}\n\n.user-list a {\n    text-decoration: none;\n    color: #007bff;\n}\n\n.user-list a:hover {\n    text-decoration: underline;\n}\n\n.user-detail {\n    margin-top: 20px;\n    padding: 20px;\n    background-color: #f8f9fa;\n    border-radius: 4px;\n}\n\n.user-detail p {\n    margin: 10px 0;\n}\n```\n\n```json\n// package.json\n{\n  "name": "express-app-practice",\n  "version": "1.0.0",\n  "description": "Express.js application practice",\n  "main": "src/app.js",\n  "scripts": {\n    "start": "node src/app.js",\n    "dev": "nodemon src/app.js"\n  },\n  "dependencies": {\n    "express": "^4.18.0",\n    "ejs": "^3.1.9"\n  },\n  "devDependencies": {\n    "nodemon": "^2.0.0"\n  },\n  "keywords": ["express", "nodejs"],\n  "author": "",\n  "license": "ISC"\n}\n```\n\n**Expected Output**:\n- Express server running\n- HTML pages rendered\n- API endpoints working\n- Static files served\n- Error handling working\n\n**Challenge (Optional)**:\n- Add authentication\n- Implement sessions\n- Add database integration\n- Build a complete application\n\n---\n\n## Common Mistakes\n\n### 1. Not Using next() in Middleware\n\n```javascript\n// ❌ Bad: Missing next()\napp.use((req, res) => {\n    console.log(''Request'');\n    // Request hangs\n});\n\n// ✅ Good: Call next()\napp.use((req, res, next) => {\n    console.log(''Request'');\n    next();\n});\n```\n\n### 2. Wrong Middleware Order\n\n```javascript\n// ❌ Bad: Error handler before routes\napp.use((err, req, res, next) => {\n    // Error handler\n});\napp.get(''/'', (req, res) => {\n    // Route\n});\n\n// ✅ Good: Routes before error handler\napp.get(''/'', (req, res) => {\n    // Route\n});\napp.use((err, req, res, next) => {\n    // Error handler\n});\n```\n\n### 3. Not Parsing Body\n\n```javascript\n// ❌ Bad: Body not parsed\napp.post(''/users'', (req, res) => {\n    console.log(req.body); // undefined\n});\n\n// ✅ Good: Parse body\napp.use(express.json());\napp.post(''/users'', (req, res) => {\n    console.log(req.body); // { name: ''Alice'' }\n});\n```\n\n---\n\n## Key Takeaways\n\n1. **Express**: Fast, minimalist web framework\n2. **Routes**: Easy route definition\n3. **Middleware**: Powerful middleware system\n4. **Request/Response**: Simplified request/response handling\n5. **Template Engines**: Support for various engines\n6. **Best Practice**: Use middleware, handle errors, organize code\n7. **Popular**: Industry standard for Node.js\n\n---\n\n## Quiz: Express\n\nTest your understanding with these questions:\n\n1. **Express is:**\n   - A) Web framework\n   - B) Database\n   - C) Both\n   - D) Neither\n\n2. **app.get:**\n   - A) GET route\n   - B) POST route\n   - C) Both\n   - D) Neither\n\n3. **Middleware:**\n   - A) Uses next()\n   - B) Doesn''t use next()\n   - C) Both\n   - D) Neither\n\n4. **req.params:**\n   - A) Route parameters\n   - B) Query parameters\n   - C) Both\n   - D) Neither\n\n5. **req.query:**\n   - A) Route parameters\n   - B) Query parameters\n   - C) Both\n   - D) Neither\n\n6. **Template engine:**\n   - A) Renders views\n   - B) Serves static files\n   - C) Both\n   - D) Neither\n\n7. **Error handler:**\n   - A) 4 parameters\n   - B) 3 parameters\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Web framework\n2. A) GET route\n3. A) Uses next()\n4. A) Route parameters\n5. B) Query parameters\n6. A) Renders views\n7. A) 4 parameters (err, req, res, next)\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned Express.js framework. You now know:\n- How to create Express applications\n- How to work with routes and middleware\n- How to handle requests\n- How to use template engines\n\n**What''s Next?**\n- Lesson 29.3: RESTful APIs with Express\n- Learn REST principles\n- Build REST APIs\n- Handle API requests/responses\n\n---\n\n## Additional Resources\n\n- **Express Documentation**: [expressjs.com](https://expressjs.com)\n- **Express Guide**: [expressjs.com/en/guide/routing.html](https://expressjs.com/en/guide/routing.html)\n- **Middleware**: [expressjs.com/en/guide/using-middleware.html](https://expressjs.com/en/guide/using-middleware.html)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 10:13:14', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand Express.js framework\n- Create Express applications\n- Work with routes and middleware\n- Handle requests and responses\n- Use template engines\n- Build web applications with Express\n- Organize Express applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (193, 69, 17, 'RESTful APIs with Express', 'restful-apis-with-express', '# Lesson 29.3: RESTful APIs with Express\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand REST principles\n- Design RESTful API endpoints\n- Handle API requests and responses\n- Implement proper error handling\n- Build REST APIs with Express\n- Follow REST conventions\n- Create production-ready APIs\n\n---\n\n## Introduction to REST\n\nREST (Representational State Transfer) is an architectural style for designing networked applications. RESTful APIs use HTTP methods to perform operations on resources.\n\n### What is REST?\n\n- **Architectural Style**: Design pattern for web services\n- **Resource-Based**: Everything is a resource\n- **HTTP Methods**: Use standard HTTP methods\n- **Stateless**: Each request is independent\n- **Uniform Interface**: Consistent API design\n- **Client-Server**: Separation of concerns\n\n---\n\n## REST Principles\n\n### REST Principles\n\n1. **Client-Server**: Separation of client and server\n2. **Stateless**: Each request contains all information\n3. **Cacheable**: Responses can be cached\n4. **Uniform Interface**: Consistent resource identification\n5. **Layered System**: System can have multiple layers\n6. **Code on Demand**: Optional - server can send executable code\n\n### RESTful Design\n\n- **Resources**: Identified by URLs\n- **HTTP Methods**: GET, POST, PUT, DELETE, PATCH\n- **Status Codes**: Use appropriate HTTP status codes\n- **JSON**: Common format for data exchange\n- **Stateless**: No server-side session state\n\n---\n\n## API Endpoints\n\n### RESTful Endpoint Design\n\n```javascript\n// Resource: Users\nGET    /users           // Get all users\nGET    /users/:id       // Get user by ID\nPOST   /users           // Create new user\nPUT    /users/:id       // Update entire user\nPATCH  /users/:id       // Partially update user\nDELETE /users/:id       // Delete user\n\n// Nested resources\nGET    /users/:id/posts        // Get user''s posts\nGET    /users/:id/posts/:postId // Get specific post\nPOST   /users/:id/posts        // Create post for user\n```\n\n### Express Router\n\n```javascript\nconst express = require(''express'');\nconst router = express.Router();\n\n// GET /users\nrouter.get(''/'', (req, res) => {\n    res.json(users);\n});\n\n// GET /users/:id\nrouter.get(''/:id'', (req, res) => {\n    const user = users.find(u => u.id === parseInt(req.params.id));\n    if (user) {\n        res.json(user);\n    } else {\n        res.status(404).json({ error: ''User not found'' });\n    }\n});\n\n// POST /users\nrouter.post(''/'', (req, res) => {\n    const newUser = {\n        id: users.length + 1,\n        ...req.body\n    };\n    users.push(newUser);\n    res.status(201).json(newUser);\n});\n\n// PUT /users/:id\nrouter.put(''/:id'', (req, res) => {\n    const userId = parseInt(req.params.id);\n    const userIndex = users.findIndex(u => u.id === userId);\n    \n    if (userIndex === -1) {\n        return res.status(404).json({ error: ''User not found'' });\n    }\n    \n    users[userIndex] = { id: userId, ...req.body };\n    res.json(users[userIndex]);\n});\n\n// DELETE /users/:id\nrouter.delete(''/:id'', (req, res) => {\n    const userId = parseInt(req.params.id);\n    const userIndex = users.findIndex(u => u.id === userId);\n    \n    if (userIndex === -1) {\n        return res.status(404).json({ error: ''User not found'' });\n    }\n    \n    users.splice(userIndex, 1);\n    res.status(204).send();\n});\n\nmodule.exports = router;\n```\n\n### Using Router\n\n```javascript\nconst express = require(''express'');\nconst usersRouter = require(''./routes/users'');\nconst postsRouter = require(''./routes/posts'');\n\nconst app = express();\n\napp.use(express.json());\n\n// Mount routers\napp.use(''/api/users'', usersRouter);\napp.use(''/api/posts'', postsRouter);\n\napp.listen(3000);\n```\n\n---\n\n## Request/Response Handling\n\n### Request Validation\n\n```javascript\nconst express = require(''express'');\nconst router = express.Router();\n\n// Validation middleware\nconst validateUser = (req, res, next) => {\n    const { name, email } = req.body;\n    \n    if (!name || !email) {\n        return res.status(400).json({\n            error: ''Name and email are required''\n        });\n    }\n    \n    if (!email.includes(''@'')) {\n        return res.status(400).json({\n            error: ''Invalid email format''\n        });\n    }\n    \n    next();\n};\n\n// Use validation\nrouter.post(''/'', validateUser, (req, res) => {\n    const newUser = {\n        id: Date.now(),\n        ...req.body\n    };\n    res.status(201).json(newUser);\n});\n```\n\n### Response Formatting\n\n```javascript\nconst express = require(''express'');\nconst router = express.Router();\n\n// Success response\nrouter.get(''/:id'', (req, res) => {\n    const user = users.find(u => u.id === parseInt(req.params.id));\n    \n    if (user) {\n        res.json({\n            success: true,\n            data: user\n        });\n    } else {\n        res.status(404).json({\n            success: false,\n            error: ''User not found''\n        });\n    }\n});\n\n// List response\nrouter.get(''/'', (req, res) => {\n    res.json({\n        success: true,\n        count: users.length,\n        data: users\n    });\n});\n```\n\n### Query Parameters\n\n```javascript\nconst express = require(''express'');\nconst router = express.Router();\n\nrouter.get(''/'', (req, res) => {\n    const { page = 1, limit = 10, sort = ''id'', order = ''asc'' } = req.query;\n    \n    // Pagination\n    const startIndex = (page - 1) * limit;\n    const endIndex = page * limit;\n    \n    // Sorting\n    const sortedUsers = [...users].sort((a, b) => {\n        if (order === ''asc'') {\n            return a[sort] > b[sort] ? 1 : -1;\n        } else {\n            return a[sort] < b[sort] ? 1 : -1;\n        }\n    });\n    \n    // Paginate\n    const paginatedUsers = sortedUsers.slice(startIndex, endIndex);\n    \n    res.json({\n        success: true,\n        page: parseInt(page),\n        limit: parseInt(limit),\n        total: users.length,\n        data: paginatedUsers\n    });\n});\n```\n\n---\n\n## Error Handling\n\n### Error Handling Middleware\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\n// Custom error class\nclass AppError extends Error {\n    constructor(message, statusCode) {\n        super(message);\n        this.statusCode = statusCode;\n        this.isOperational = true;\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\n\n// Error handling middleware\nconst errorHandler = (err, req, res, next) => {\n    err.statusCode = err.statusCode || 500;\n    err.status = err.status || ''error'';\n    \n    if (process.env.NODE_ENV === ''development'') {\n        res.status(err.statusCode).json({\n            status: err.status,\n            error: err,\n            message: err.message,\n            stack: err.stack\n        });\n    } else {\n        // Production\n        if (err.isOperational) {\n            res.status(err.statusCode).json({\n                status: err.status,\n                message: err.message\n            });\n        } else {\n            // Programming or unknown error\n            res.status(500).json({\n                status: ''error'',\n                message: ''Something went wrong!''\n            });\n        }\n    }\n};\n\n// Use error handler\napp.use(errorHandler);\n```\n\n### Async Error Handling\n\n```javascript\nconst express = require(''express'');\nconst router = express.Router();\n\n// Async wrapper\nconst asyncHandler = (fn) => {\n    return (req, res, next) => {\n        Promise.resolve(fn(req, res, next)).catch(next);\n    };\n};\n\n// Use with async functions\nrouter.get(''/:id'', asyncHandler(async (req, res) => {\n    const user = await User.findById(req.params.id);\n    if (!user) {\n        throw new AppError(''User not found'', 404);\n    }\n    res.json({ success: true, data: user });\n}));\n```\n\n### Error Types\n\n```javascript\n// 400 - Bad Request\nif (!req.body.name) {\n    return res.status(400).json({\n        error: ''Name is required''\n    });\n}\n\n// 401 - Unauthorized\nif (!isAuthenticated) {\n    return res.status(401).json({\n        error: ''Unauthorized''\n    });\n}\n\n// 403 - Forbidden\nif (!hasPermission) {\n    return res.status(403).json({\n        error: ''Forbidden''\n    });\n}\n\n// 404 - Not Found\nif (!user) {\n    return res.status(404).json({\n        error: ''User not found''\n    });\n}\n\n// 409 - Conflict\nif (userExists) {\n    return res.status(409).json({\n        error: ''User already exists''\n    });\n}\n\n// 500 - Internal Server Error\ntry {\n    // Operation\n} catch (error) {\n    return res.status(500).json({\n        error: ''Internal server error''\n    });\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: REST API\n\n**Objective**: Practice building RESTful APIs with Express, implementing proper endpoints, request/response handling, and error handling.\n\n**Instructions**:\n\n1. Create a REST API\n2. Implement CRUD operations\n3. Add validation and error handling\n4. Practice:\n   - REST principles\n   - API endpoints\n   - Request/response handling\n   - Error handling\n\n**Example Solution**:\n\n```javascript\n// src/routes/users.js\nconst express = require(''express'');\nconst router = express.Router();\n\n// In-memory data store\nlet users = [\n    { id: 1, name: ''Alice'', email: ''alice@example.com'', age: 30 },\n    { id: 2, name: ''Bob'', email: ''bob@example.com'', age: 25 }\n];\n\n// Validation middleware\nconst validateUser = (req, res, next) => {\n    const { name, email, age } = req.body;\n    \n    if (!name || !email) {\n        return res.status(400).json({\n            success: false,\n            error: ''Name and email are required''\n        });\n    }\n    \n    if (!email.includes(''@'')) {\n        return res.status(400).json({\n            success: false,\n            error: ''Invalid email format''\n        });\n    }\n    \n    if (age && (isNaN(age) || age < 0)) {\n        return res.status(400).json({\n            success: false,\n            error: ''Age must be a positive number''\n        });\n    }\n    \n    next();\n};\n\n// GET /api/users - Get all users\nrouter.get(''/'', (req, res) => {\n    const { page = 1, limit = 10, sort = ''id'', order = ''asc'' } = req.query;\n    \n    // Sorting\n    const sortedUsers = [...users].sort((a, b) => {\n        const aVal = a[sort];\n        const bVal = b[sort];\n        \n        if (order === ''desc'') {\n            return aVal < bVal ? 1 : -1;\n        }\n        return aVal > bVal ? 1 : -1;\n    });\n    \n    // Pagination\n    const startIndex = (page - 1) * limit;\n    const endIndex = page * limit;\n    const paginatedUsers = sortedUsers.slice(startIndex, endIndex);\n    \n    res.json({\n        success: true,\n        page: parseInt(page),\n        limit: parseInt(limit),\n        total: users.length,\n        data: paginatedUsers\n    });\n});\n\n// GET /api/users/:id - Get user by ID\nrouter.get(''/:id'', (req, res) => {\n    const userId = parseInt(req.params.id);\n    const user = users.find(u => u.id === userId);\n    \n    if (!user) {\n        return res.status(404).json({\n            success: false,\n            error: ''User not found''\n        });\n    }\n    \n    res.json({\n        success: true,\n        data: user\n    });\n});\n\n// POST /api/users - Create new user\nrouter.post(''/'', validateUser, (req, res) => {\n    const { name, email, age } = req.body;\n    \n    // Check if email already exists\n    const existingUser = users.find(u => u.email === email);\n    if (existingUser) {\n        return res.status(409).json({\n            success: false,\n            error: ''User with this email already exists''\n        });\n    }\n    \n    const newUser = {\n        id: users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 1,\n        name,\n        email,\n        age: age || null\n    };\n    \n    users.push(newUser);\n    \n    res.status(201).json({\n        success: true,\n        data: newUser\n    });\n});\n\n// PUT /api/users/:id - Update entire user\nrouter.put(''/:id'', validateUser, (req, res) => {\n    const userId = parseInt(req.params.id);\n    const userIndex = users.findIndex(u => u.id === userId);\n    \n    if (userIndex === -1) {\n        return res.status(404).json({\n            success: false,\n            error: ''User not found''\n        });\n    }\n    \n    const { name, email, age } = req.body;\n    \n    // Check if email is taken by another user\n    const emailTaken = users.some(u => u.email === email && u.id !== userId);\n    if (emailTaken) {\n        return res.status(409).json({\n            success: false,\n            error: ''Email already taken''\n        });\n    }\n    \n    users[userIndex] = {\n        id: userId,\n        name,\n        email,\n        age: age || null\n    };\n    \n    res.json({\n        success: true,\n        data: users[userIndex]\n    });\n});\n\n// PATCH /api/users/:id - Partially update user\nrouter.patch(''/:id'', (req, res) => {\n    const userId = parseInt(req.params.id);\n    const userIndex = users.findIndex(u => u.id === userId);\n    \n    if (userIndex === -1) {\n        return res.status(404).json({\n            success: false,\n            error: ''User not found''\n        });\n    }\n    \n    const { name, email, age } = req.body;\n    \n    // Validate email if provided\n    if (email && !email.includes(''@'')) {\n        return res.status(400).json({\n            success: false,\n            error: ''Invalid email format''\n        });\n    }\n    \n    // Check if email is taken\n    if (email) {\n        const emailTaken = users.some(u => u.email === email && u.id !== userId);\n        if (emailTaken) {\n            return res.status(409).json({\n                success: false,\n                error: ''Email already taken''\n            });\n        }\n    }\n    \n    // Update only provided fields\n    if (name) users[userIndex].name = name;\n    if (email) users[userIndex].email = email;\n    if (age !== undefined) users[userIndex].age = age;\n    \n    res.json({\n        success: true,\n        data: users[userIndex]\n    });\n});\n\n// DELETE /api/users/:id - Delete user\nrouter.delete(''/:id'', (req, res) => {\n    const userId = parseInt(req.params.id);\n    const userIndex = users.findIndex(u => u.id === userId);\n    \n    if (userIndex === -1) {\n        return res.status(404).json({\n            success: false,\n            error: ''User not found''\n        });\n    }\n    \n    users.splice(userIndex, 1);\n    \n    res.status(204).send();\n});\n\nmodule.exports = router;\n```\n\n```javascript\n// src/middleware/errorHandler.js\nconst errorHandler = (err, req, res, next) => {\n    let error = { ...err };\n    error.message = err.message;\n    \n    // Log error\n    console.error(err);\n    \n    // Mongoose bad ObjectId\n    if (err.name === ''CastError'') {\n        const message = ''Resource not found'';\n        error = { message, statusCode: 404 };\n    }\n    \n    // Mongoose duplicate key\n    if (err.code === 11000) {\n        const message = ''Duplicate field value entered'';\n        error = { message, statusCode: 400 };\n    }\n    \n    // Mongoose validation error\n    if (err.name === ''ValidationError'') {\n        const message = Object.values(err.errors).map(val => val.message);\n        error = { message, statusCode: 400 };\n    }\n    \n    res.status(error.statusCode || 500).json({\n        success: false,\n        error: error.message || ''Server Error''\n    });\n};\n\nmodule.exports = errorHandler;\n```\n\n```javascript\n// src/middleware/notFound.js\nconst notFound = (req, res, next) => {\n    res.status(404).json({\n        success: false,\n        error: `Route ${req.originalUrl} not found`\n    });\n};\n\nmodule.exports = notFound;\n```\n\n```javascript\n// src/app.js\nconst express = require(''express'');\nconst usersRouter = require(''./routes/users'');\nconst errorHandler = require(''./middleware/errorHandler'');\nconst notFound = require(''./middleware/notFound'');\n\nconst app = express();\n\n// Middleware\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\n// CORS\napp.use((req, res, next) => {\n    res.header(''Access-Control-Allow-Origin'', ''*'');\n    res.header(''Access-Control-Allow-Methods'', ''GET, POST, PUT, PATCH, DELETE'');\n    res.header(''Access-Control-Allow-Headers'', ''Content-Type, Authorization'');\n    next();\n});\n\n// Routes\napp.get(''/'', (req, res) => {\n    res.json({\n        success: true,\n        message: ''Welcome to REST API'',\n        endpoints: {\n            users: ''/api/users''\n        }\n    });\n});\n\napp.use(''/api/users'', usersRouter);\n\n// Error handling\napp.use(notFound);\napp.use(errorHandler);\n\n// Start server\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () => {\n    console.log(`Server running on port ${PORT}`);\n    console.log(`API available at http://localhost:${PORT}/api`);\n});\n```\n\n```json\n// package.json\n{\n  "name": "rest-api-practice",\n  "version": "1.0.0",\n  "description": "RESTful API practice with Express",\n  "main": "src/app.js",\n  "scripts": {\n    "start": "node src/app.js",\n    "dev": "nodemon src/app.js"\n  },\n  "dependencies": {\n    "express": "^4.18.0"\n  },\n  "devDependencies": {\n    "nodemon": "^2.0.0"\n  },\n  "keywords": ["express", "rest", "api"],\n  "author": "",\n  "license": "ISC"\n}\n```\n\n**Testing the API**:\n\n```bash\n# Start server\nnpm start\n\n# GET all users\ncurl http://localhost:3000/api/users\n\n# GET user by ID\ncurl http://localhost:3000/api/users/1\n\n# POST create user\ncurl -X POST http://localhost:3000/api/users \\\n  -H "Content-Type: application/json" \\\n  -d ''{"name":"Charlie","email":"charlie@example.com","age":35}''\n\n# PUT update user\ncurl -X PUT http://localhost:3000/api/users/1 \\\n  -H "Content-Type: application/json" \\\n  -d ''{"name":"Alice Updated","email":"alice.updated@example.com","age":31}''\n\n# PATCH partial update\ncurl -X PATCH http://localhost:3000/api/users/1 \\\n  -H "Content-Type: application/json" \\\n  -d ''{"age":32}''\n\n# DELETE user\ncurl -X DELETE http://localhost:3000/api/users/1\n```\n\n**Expected Output**:\n- REST API with CRUD operations\n- Proper status codes\n- Error handling\n- Validation\n- Pagination and sorting\n\n**Challenge (Optional)**:\n- Add authentication\n- Implement rate limiting\n- Add API documentation\n- Create nested resources\n\n---\n\n## Common Mistakes\n\n### 1. Wrong HTTP Methods\n\n```javascript\n// ❌ Bad: Using GET for creating\napp.get(''/users'', createUser);\n\n// ✅ Good: Use POST for creating\napp.post(''/users'', createUser);\n```\n\n### 2. Not Using Status Codes\n\n```javascript\n// ❌ Bad: Always 200\nres.json({ error: ''Not found'' });\n\n// ✅ Good: Use appropriate status code\nres.status(404).json({ error: ''Not found'' });\n```\n\n### 3. Inconsistent Response Format\n\n```javascript\n// ❌ Bad: Inconsistent format\nres.json(user);\nres.json({ data: user });\nres.json({ success: true, user });\n\n// ✅ Good: Consistent format\nres.json({ success: true, data: user });\n```\n\n---\n\n## Key Takeaways\n\n1. **REST**: Architectural style for web services\n2. **Resources**: Identified by URLs\n3. **HTTP Methods**: GET, POST, PUT, PATCH, DELETE\n4. **Status Codes**: Use appropriate codes\n5. **Error Handling**: Proper error responses\n6. **Best Practice**: Consistent format, validation, documentation\n7. **RESTful**: Follow REST principles\n\n---\n\n## Quiz: REST APIs\n\nTest your understanding with these questions:\n\n1. **REST stands for:**\n   - A) Representational State Transfer\n   - B) Remote State Transfer\n   - C) Both\n   - D) Neither\n\n2. **GET method:**\n   - A) Retrieve data\n   - B) Create data\n   - C) Both\n   - D) Neither\n\n3. **POST method:**\n   - A) Retrieve data\n   - B) Create data\n   - C) Both\n   - D) Neither\n\n4. **PUT method:**\n   - A) Update entire resource\n   - B) Partial update\n   - C) Both\n   - D) Neither\n\n5. **PATCH method:**\n   - A) Update entire resource\n   - B) Partial update\n   - C) Both\n   - D) Neither\n\n6. **Status code 201:**\n   - A) Created\n   - B) Updated\n   - C) Both\n   - D) Neither\n\n7. **Status code 204:**\n   - A) No content\n   - B) Success\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Representational State Transfer\n2. A) Retrieve data\n3. B) Create data\n4. A) Update entire resource\n5. B) Partial update\n6. A) Created\n7. A) No content\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 29: Building Web Servers. You now know:\n- How to create HTTP servers\n- How to use Express.js\n- How to build RESTful APIs\n- How to handle requests and errors\n\n**What''s Next?**\n- Module 30: Databases and Authentication\n- Lesson 30.1: Working with Databases\n- Learn database integration\n- Work with SQL and NoSQL databases\n\n---\n\n## Additional Resources\n\n- **REST API Tutorial**: [restfulapi.net](https://restfulapi.net)\n- **HTTP Status Codes**: [developer.mozilla.org/en-US/docs/Web/HTTP/Status](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status)\n- **Express Best Practices**: [expressjs.com/en/advanced/best-practice-performance.html](https://expressjs.com/en/advanced/best-practice-performance.html)\n\n---\n\n*Lesson completed! You''ve finished Module 29: Building Web Servers. Ready for Module 30: Databases and Authentication!*\n\n', NULL, 3, '2026-01-03 10:13:54', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand REST principles\n- Design RESTful API endpoints\n- Handle API requests and responses\n- Implement proper error handling\n- Build REST APIs with Express\n- Follow REST conventions\n- Create production-ready APIs');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (187, 70, 17, 'Working with Databases', 'working-with-databases', '# Lesson 30.1: Working with Databases\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Work with SQL databases (MySQL, PostgreSQL)\n- Work with NoSQL databases (MongoDB)\n- Use ORMs (Sequelize, Mongoose)\n- Establish database connections\n- Perform CRUD operations\n- Query databases\n- Integrate databases with Node.js applications\n\n---\n\n## Introduction to Databases\n\nDatabases are systems for storing and managing data. They provide efficient ways to store, retrieve, and manipulate data.\n\n### Types of Databases\n\n- **SQL Databases**: Relational databases (MySQL, PostgreSQL)\n- **NoSQL Databases**: Non-relational databases (MongoDB, Redis)\n- **In-Memory Databases**: Store data in memory (Redis)\n- **Document Databases**: Store documents (MongoDB)\n- **Graph Databases**: Store relationships (Neo4j)\n\n---\n\n## SQL Databases\n\n### MySQL\n\nMySQL is a popular open-source relational database management system.\n\n#### Installation\n\n```bash\n# Install MySQL driver\nnpm install mysql2\n\n# Or with promise support\nnpm install mysql2/promise\n```\n\n#### Basic Connection\n\n```javascript\nconst mysql = require(''mysql2/promise'');\n\n// Create connection pool\nconst pool = mysql.createPool({\n    host: ''localhost'',\n    user: ''root'',\n    password: ''password'',\n    database: ''mydb'',\n    waitForConnections: true,\n    connectionLimit: 10,\n    queueLimit: 0\n});\n\n// Use connection\nasync function getUsers() {\n    const [rows] = await pool.execute(''SELECT * FROM users'');\n    return rows;\n}\n```\n\n#### CRUD Operations\n\n```javascript\nconst mysql = require(''mysql2/promise'');\n\nconst pool = mysql.createPool({\n    host: ''localhost'',\n    user: ''root'',\n    password: ''password'',\n    database: ''mydb''\n});\n\n// CREATE\nasync function createUser(name, email) {\n    const [result] = await pool.execute(\n        ''INSERT INTO users (name, email) VALUES (?, ?)'',\n        [name, email]\n    );\n    return result.insertId;\n}\n\n// READ\nasync function getUsers() {\n    const [rows] = await pool.execute(''SELECT * FROM users'');\n    return rows;\n}\n\nasync function getUserById(id) {\n    const [rows] = await pool.execute(\n        ''SELECT * FROM users WHERE id = ?'',\n        [id]\n    );\n    return rows[0];\n}\n\n// UPDATE\nasync function updateUser(id, name, email) {\n    const [result] = await pool.execute(\n        ''UPDATE users SET name = ?, email = ? WHERE id = ?'',\n        [name, email, id]\n    );\n    return result.affectedRows;\n}\n\n// DELETE\nasync function deleteUser(id) {\n    const [result] = await pool.execute(\n        ''DELETE FROM users WHERE id = ?'',\n        [id]\n    );\n    return result.affectedRows;\n}\n```\n\n### PostgreSQL\n\nPostgreSQL is a powerful open-source relational database.\n\n#### Installation\n\n```bash\nnpm install pg\n```\n\n#### Basic Connection\n\n```javascript\nconst { Pool } = require(''pg'');\n\nconst pool = new Pool({\n    user: ''postgres'',\n    host: ''localhost'',\n    database: ''mydb'',\n    password: ''password'',\n    port: 5432\n});\n\n// Query\nasync function getUsers() {\n    const result = await pool.query(''SELECT * FROM users'');\n    return result.rows;\n}\n```\n\n#### CRUD Operations\n\n```javascript\nconst { Pool } = require(''pg'');\n\nconst pool = new Pool({\n    user: ''postgres'',\n    host: ''localhost'',\n    database: ''mydb'',\n    password: ''password'',\n    port: 5432\n});\n\n// CREATE\nasync function createUser(name, email) {\n    const result = await pool.query(\n        ''INSERT INTO users (name, email) VALUES ($1, $2) RETURNING *'',\n        [name, email]\n    );\n    return result.rows[0];\n}\n\n// READ\nasync function getUsers() {\n    const result = await pool.query(''SELECT * FROM users'');\n    return result.rows;\n}\n\n// UPDATE\nasync function updateUser(id, name, email) {\n    const result = await pool.query(\n        ''UPDATE users SET name = $1, email = $2 WHERE id = $3 RETURNING *'',\n        [name, email, id]\n    );\n    return result.rows[0];\n}\n\n// DELETE\nasync function deleteUser(id) {\n    const result = await pool.query(\n        ''DELETE FROM users WHERE id = $1 RETURNING *'',\n        [id]\n    );\n    return result.rows[0];\n}\n```\n\n---\n\n## NoSQL Databases\n\n### MongoDB\n\nMongoDB is a popular NoSQL document database.\n\n#### Installation\n\n```bash\nnpm install mongodb\n# Or with Mongoose\nnpm install mongoose\n```\n\n#### Basic Connection (Native Driver)\n\n```javascript\nconst { MongoClient } = require(''mongodb'');\n\nconst uri = ''mongodb://localhost:27017'';\nconst client = new MongoClient(uri);\n\nasync function connect() {\n    try {\n        await client.connect();\n        console.log(''Connected to MongoDB'');\n        return client.db(''mydb'');\n    } catch (error) {\n        console.error(''Connection error:'', error);\n        throw error;\n    }\n}\n\n// Use database\nasync function getUsers() {\n    const db = await connect();\n    const users = db.collection(''users'');\n    return await users.find({}).toArray();\n}\n```\n\n#### CRUD Operations (Native Driver)\n\n```javascript\nconst { MongoClient } = require(''mongodb'');\n\nconst uri = ''mongodb://localhost:27017'';\nconst client = new MongoClient(uri);\n\nasync function getDb() {\n    await client.connect();\n    return client.db(''mydb'');\n}\n\n// CREATE\nasync function createUser(name, email) {\n    const db = await getDb();\n    const users = db.collection(''users'');\n    const result = await users.insertOne({ name, email });\n    return result.insertedId;\n}\n\n// READ\nasync function getUsers() {\n    const db = await getDb();\n    const users = db.collection(''users'');\n    return await users.find({}).toArray();\n}\n\nasync function getUserById(id) {\n    const db = await getDb();\n    const users = db.collection(''users'');\n    return await users.findOne({ _id: id });\n}\n\n// UPDATE\nasync function updateUser(id, name, email) {\n    const db = await getDb();\n    const users = db.collection(''users'');\n    const result = await users.updateOne(\n        { _id: id },\n        { $set: { name, email } }\n    );\n    return result.modifiedCount;\n}\n\n// DELETE\nasync function deleteUser(id) {\n    const db = await getDb();\n    const users = db.collection(''users'');\n    const result = await users.deleteOne({ _id: id });\n    return result.deletedCount;\n}\n```\n\n---\n\n## ORMs\n\n### Sequelize (SQL ORM)\n\nSequelize is a promise-based ORM for Node.js.\n\n#### Installation\n\n```bash\nnpm install sequelize\nnpm install mysql2  # For MySQL\n# or\nnpm install pg pg-hstore  # For PostgreSQL\n```\n\n#### Basic Setup\n\n```javascript\nconst { Sequelize } = require(''sequelize'');\n\nconst sequelize = new Sequelize(''mydb'', ''user'', ''password'', {\n    host: ''localhost'',\n    dialect: ''mysql''\n});\n\n// Test connection\nasync function testConnection() {\n    try {\n        await sequelize.authenticate();\n        console.log(''Connection established'');\n    } catch (error) {\n        console.error(''Unable to connect:'', error);\n    }\n}\n```\n\n#### Define Models\n\n```javascript\nconst { Sequelize, DataTypes } = require(''sequelize'');\n\nconst sequelize = new Sequelize(''mydb'', ''user'', ''password'', {\n    host: ''localhost'',\n    dialect: ''mysql''\n});\n\n// Define User model\nconst User = sequelize.define(''User'', {\n    id: {\n        type: DataTypes.INTEGER,\n        primaryKey: true,\n        autoIncrement: true\n    },\n    name: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: true\n    }\n}, {\n    tableName: ''users'',\n    timestamps: true\n});\n\n// Sync model\nawait User.sync();\n```\n\n#### CRUD Operations (Sequelize)\n\n```javascript\n// CREATE\nconst user = await User.create({\n    name: ''Alice'',\n    email: ''alice@example.com''\n});\n\n// READ\nconst users = await User.findAll();\nconst user = await User.findByPk(1);\nconst user = await User.findOne({ where: { email: ''alice@example.com'' } });\n\n// UPDATE\nawait user.update({ name: ''Alice Updated'' });\n// or\nawait User.update(\n    { name: ''Alice Updated'' },\n    { where: { id: 1 } }\n);\n\n// DELETE\nawait user.destroy();\n// or\nawait User.destroy({ where: { id: 1 } });\n```\n\n### Mongoose (MongoDB ORM)\n\nMongoose is an ODM (Object Document Mapper) for MongoDB.\n\n#### Installation\n\n```bash\nnpm install mongoose\n```\n\n#### Basic Setup\n\n```javascript\nconst mongoose = require(''mongoose'');\n\nconst uri = ''mongodb://localhost:27017/mydb'';\n\nasync function connect() {\n    try {\n        await mongoose.connect(uri);\n        console.log(''Connected to MongoDB'');\n    } catch (error) {\n        console.error(''Connection error:'', error);\n        throw error;\n    }\n}\n```\n\n#### Define Schemas\n\n```javascript\nconst mongoose = require(''mongoose'');\n\nconst userSchema = new mongoose.Schema({\n    name: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    age: {\n        type: Number,\n        min: 0\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\n\nconst User = mongoose.model(''User'', userSchema);\n```\n\n#### CRUD Operations (Mongoose)\n\n```javascript\n// CREATE\nconst user = await User.create({\n    name: ''Alice'',\n    email: ''alice@example.com'',\n    age: 30\n});\n\n// READ\nconst users = await User.find();\nconst user = await User.findById(id);\nconst user = await User.findOne({ email: ''alice@example.com'' });\n\n// UPDATE\nawait User.findByIdAndUpdate(id, { name: ''Alice Updated'' });\n// or\nuser.name = ''Alice Updated'';\nawait user.save();\n\n// DELETE\nawait User.findByIdAndDelete(id);\n// or\nawait user.deleteOne();\n```\n\n---\n\n## Database Connections\n\n### Connection Pooling\n\n```javascript\n// MySQL with connection pool\nconst mysql = require(''mysql2/promise'');\n\nconst pool = mysql.createPool({\n    host: ''localhost'',\n    user: ''root'',\n    password: ''password'',\n    database: ''mydb'',\n    waitForConnections: true,\n    connectionLimit: 10,\n    queueLimit: 0\n});\n\n// Use pool\nconst [rows] = await pool.execute(''SELECT * FROM users'');\n```\n\n### Environment Variables\n\n```javascript\n// .env file\nDB_HOST=localhost\nDB_USER=root\nDB_PASSWORD=password\nDB_NAME=mydb\nDB_PORT=3306\n\n// Use in code\nrequire(''dotenv'').config();\n\nconst pool = mysql.createPool({\n    host: process.env.DB_HOST,\n    user: process.env.DB_USER,\n    password: process.env.DB_PASSWORD,\n    database: process.env.DB_NAME,\n    port: process.env.DB_PORT\n});\n```\n\n### Error Handling\n\n```javascript\nasync function getUsers() {\n    try {\n        const [rows] = await pool.execute(''SELECT * FROM users'');\n        return rows;\n    } catch (error) {\n        console.error(''Database error:'', error);\n        throw error;\n    }\n}\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Database Integration\n\n**Objective**: Practice working with databases, using ORMs, and integrating databases with Node.js applications.\n\n**Instructions**:\n\n1. Set up database connection\n2. Create models/schemas\n3. Implement CRUD operations\n4. Practice:\n   - SQL databases (MySQL/PostgreSQL)\n   - NoSQL databases (MongoDB)\n   - ORMs (Sequelize/Mongoose)\n   - Database connections\n\n**Example Solution**:\n\n```javascript\n// src/config/database.js\nconst mysql = require(''mysql2/promise'');\nrequire(''dotenv'').config();\n\nconst pool = mysql.createPool({\n    host: process.env.DB_HOST || ''localhost'',\n    user: process.env.DB_USER || ''root'',\n    password: process.env.DB_PASSWORD || '''',\n    database: process.env.DB_NAME || ''mydb'',\n    waitForConnections: true,\n    connectionLimit: 10,\n    queueLimit: 0\n});\n\nmodule.exports = pool;\n```\n\n```javascript\n// src/models/user.js (MySQL with mysql2)\nconst pool = require(''../config/database'');\n\nclass User {\n    static async findAll() {\n        const [rows] = await pool.execute(''SELECT * FROM users'');\n        return rows;\n    }\n    \n    static async findById(id) {\n        const [rows] = await pool.execute(\n            ''SELECT * FROM users WHERE id = ?'',\n            [id]\n        );\n        return rows[0];\n    }\n    \n    static async create(name, email) {\n        const [result] = await pool.execute(\n            ''INSERT INTO users (name, email) VALUES (?, ?)'',\n            [name, email]\n        );\n        return result.insertId;\n    }\n    \n    static async update(id, name, email) {\n        const [result] = await pool.execute(\n            ''UPDATE users SET name = ?, email = ? WHERE id = ?'',\n            [name, email, id]\n        );\n        return result.affectedRows;\n    }\n    \n    static async delete(id) {\n        const [result] = await pool.execute(\n            ''DELETE FROM users WHERE id = ?'',\n            [id]\n        );\n        return result.affectedRows;\n    }\n}\n\nmodule.exports = User;\n```\n\n```javascript\n// src/models/user.js (MongoDB with Mongoose)\nconst mongoose = require(''mongoose'');\n\nconst userSchema = new mongoose.Schema({\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    email: {\n        type: String,\n        required: true,\n        unique: true,\n        lowercase: true,\n        trim: true\n    },\n    age: {\n        type: Number,\n        min: 0\n    }\n}, {\n    timestamps: true\n});\n\nconst User = mongoose.model(''User'', userSchema);\n\nmodule.exports = User;\n```\n\n```javascript\n// src/models/user.js (Sequelize)\nconst { DataTypes } = require(''sequelize'');\nconst sequelize = require(''../config/database'');\n\nconst User = sequelize.define(''User'', {\n    id: {\n        type: DataTypes.INTEGER,\n        primaryKey: true,\n        autoIncrement: true\n    },\n    name: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        validate: {\n            notEmpty: true\n        }\n    },\n    email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: true,\n        validate: {\n            isEmail: true\n        }\n    },\n    age: {\n        type: DataTypes.INTEGER,\n        allowNull: true,\n        validate: {\n            min: 0\n        }\n    }\n}, {\n    tableName: ''users'',\n    timestamps: true\n});\n\nmodule.exports = User;\n```\n\n```javascript\n// src/routes/users.js (with MySQL)\nconst express = require(''express'');\nconst router = express.Router();\nconst User = require(''../models/user'');\n\nrouter.get(''/'', async (req, res) => {\n    try {\n        const users = await User.findAll();\n        res.json({ success: true, data: users });\n    } catch (error) {\n        res.status(500).json({ success: false, error: error.message });\n    }\n});\n\nrouter.get(''/:id'', async (req, res) => {\n    try {\n        const user = await User.findById(req.params.id);\n        if (user) {\n            res.json({ success: true, data: user });\n        } else {\n            res.status(404).json({ success: false, error: ''User not found'' });\n        }\n    } catch (error) {\n        res.status(500).json({ success: false, error: error.message });\n    }\n});\n\nrouter.post(''/'', async (req, res) => {\n    try {\n        const { name, email } = req.body;\n        if (!name || !email) {\n            return res.status(400).json({\n                success: false,\n                error: ''Name and email are required''\n            });\n        }\n        \n        const userId = await User.create(name, email);\n        res.status(201).json({\n            success: true,\n            data: { id: userId, name, email }\n        });\n    } catch (error) {\n        res.status(500).json({ success: false, error: error.message });\n    }\n});\n\nrouter.put(''/:id'', async (req, res) => {\n    try {\n        const { name, email } = req.body;\n        const affectedRows = await User.update(req.params.id, name, email);\n        \n        if (affectedRows > 0) {\n            res.json({ success: true, message: ''User updated'' });\n        } else {\n            res.status(404).json({ success: false, error: ''User not found'' });\n        }\n    } catch (error) {\n        res.status(500).json({ success: false, error: error.message });\n    }\n});\n\nrouter.delete(''/:id'', async (req, res) => {\n    try {\n        const affectedRows = await User.delete(req.params.id);\n        \n        if (affectedRows > 0) {\n            res.status(204).send();\n        } else {\n            res.status(404).json({ success: false, error: ''User not found'' });\n        }\n    } catch (error) {\n        res.status(500).json({ success: false, error: error.message });\n    }\n});\n\nmodule.exports = router;\n```\n\n```javascript\n// src/routes/users.js (with Mongoose)\nconst express = require(''express'');\nconst router = express.Router();\nconst User = require(''../models/user'');\n\nrouter.get(''/'', async (req, res) => {\n    try {\n        const users = await User.find();\n        res.json({ success: true, data: users });\n    } catch (error) {\n        res.status(500).json({ success: false, error: error.message });\n    }\n});\n\nrouter.get(''/:id'', async (req, res) => {\n    try {\n        const user = await User.findById(req.params.id);\n        if (user) {\n            res.json({ success: true, data: user });\n        } else {\n            res.status(404).json({ success: false, error: ''User not found'' });\n        }\n    } catch (error) {\n        res.status(500).json({ success: false, error: error.message });\n    }\n});\n\nrouter.post(''/'', async (req, res) => {\n    try {\n        const { name, email, age } = req.body;\n        const user = await User.create({ name, email, age });\n        res.status(201).json({ success: true, data: user });\n    } catch (error) {\n        res.status(500).json({ success: false, error: error.message });\n    }\n});\n\nrouter.put(''/:id'', async (req, res) => {\n    try {\n        const user = await User.findByIdAndUpdate(\n            req.params.id,\n            req.body,\n            { new: true, runValidators: true }\n        );\n        \n        if (user) {\n            res.json({ success: true, data: user });\n        } else {\n            res.status(404).json({ success: false, error: ''User not found'' });\n        }\n    } catch (error) {\n        res.status(500).json({ success: false, error: error.message });\n    }\n});\n\nrouter.delete(''/:id'', async (req, res) => {\n    try {\n        const user = await User.findByIdAndDelete(req.params.id);\n        \n        if (user) {\n            res.status(204).send();\n        } else {\n            res.status(404).json({ success: false, error: ''User not found'' });\n        }\n    } catch (error) {\n        res.status(500).json({ success: false, error: error.message });\n    }\n});\n\nmodule.exports = router;\n```\n\n```javascript\n// src/app.js\nconst express = require(''express'');\nconst mongoose = require(''mongoose'');\nconst usersRouter = require(''./routes/users'');\nrequire(''dotenv'').config();\n\nconst app = express();\n\napp.use(express.json());\n\n// Connect to MongoDB\nmongoose.connect(process.env.MONGODB_URI || ''mongodb://localhost:27017/mydb'')\n    .then(() => console.log(''Connected to MongoDB''))\n    .catch(err => console.error(''MongoDB connection error:'', err));\n\n// Routes\napp.use(''/api/users'', usersRouter);\n\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () => {\n    console.log(`Server running on port ${PORT}`);\n});\n```\n\n**Expected Output**:\n- Database connection established\n- CRUD operations working\n- API endpoints functional\n- Error handling in place\n\n**Challenge (Optional)**:\n- Add relationships/associations\n- Implement transactions\n- Add database migrations\n- Create complex queries\n\n---\n\n## Common Mistakes\n\n### 1. SQL Injection\n\n```javascript\n// ❌ Bad: SQL injection vulnerability\nconst query = `SELECT * FROM users WHERE name = ''${name}''`;\n\n// ✅ Good: Use parameterized queries\nconst [rows] = await pool.execute(\n    ''SELECT * FROM users WHERE name = ?'',\n    [name]\n);\n```\n\n### 2. Not Closing Connections\n\n```javascript\n// ❌ Bad: Connection not closed\nconst connection = await mysql.createConnection(config);\n\n// ✅ Good: Use connection pool or close connection\nconst pool = mysql.createPool(config);\n// Pool manages connections automatically\n```\n\n### 3. Not Handling Errors\n\n```javascript\n// ❌ Bad: No error handling\nconst users = await User.find();\n\n// ✅ Good: Handle errors\ntry {\n    const users = await User.find();\n} catch (error) {\n    console.error(''Database error:'', error);\n    throw error;\n}\n```\n\n---\n\n## Key Takeaways\n\n1. **SQL Databases**: MySQL, PostgreSQL (relational)\n2. **NoSQL Databases**: MongoDB (document-based)\n3. **ORMs**: Sequelize (SQL), Mongoose (MongoDB)\n4. **Connections**: Use connection pools\n5. **Security**: Use parameterized queries\n6. **Best Practice**: Handle errors, use environment variables\n7. **Choose**: Based on use case and requirements\n\n---\n\n## Quiz: Databases\n\nTest your understanding with these questions:\n\n1. **SQL databases:**\n   - A) Relational\n   - B) Non-relational\n   - C) Both\n   - D) Neither\n\n2. **NoSQL databases:**\n   - A) Relational\n   - B) Non-relational\n   - C) Both\n   - D) Neither\n\n3. **Sequelize:**\n   - A) SQL ORM\n   - B) MongoDB ODM\n   - C) Both\n   - D) Neither\n\n4. **Mongoose:**\n   - A) SQL ORM\n   - B) MongoDB ODM\n   - C) Both\n   - D) Neither\n\n5. **Connection pool:**\n   - A) Manages connections\n   - B) Single connection\n   - C) Both\n   - D) Neither\n\n6. **Parameterized queries:**\n   - A) Prevent SQL injection\n   - B) Don''t prevent SQL injection\n   - C) Both\n   - D) Neither\n\n7. **MongoDB:**\n   - A) Document database\n   - B) Relational database\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Relational\n2. B) Non-relational\n3. A) SQL ORM\n4. B) MongoDB ODM\n5. A) Manages connections\n6. A) Prevent SQL injection\n7. A) Document database\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned working with databases. You now know:\n- How to work with SQL databases\n- How to work with NoSQL databases\n- How to use ORMs\n- How to establish database connections\n\n**What''s Next?**\n- Lesson 30.2: Authentication and Security\n- Learn authentication strategies\n- Understand JWT tokens\n- Implement password hashing\n\n---\n\n## Additional Resources\n\n- **MySQL**: [dev.mysql.com](https://dev.mysql.com)\n- **PostgreSQL**: [postgresql.org](https://www.postgresql.org)\n- **MongoDB**: [mongodb.com](https://www.mongodb.com)\n- **Sequelize**: [sequelize.org](https://sequelize.org)\n- **Mongoose**: [mongoosejs.com](https://mongoosejs.com)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 1, '2026-01-03 10:13:14', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Work with SQL databases (MySQL, PostgreSQL)\n- Work with NoSQL databases (MongoDB)\n- Use ORMs (Sequelize, Mongoose)\n- Establish database connections\n- Perform CRUD operations\n- Query databases\n- Integrate databases with Node.js applications');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (188, 70, 17, 'Authentication and Security', 'authentication-and-security', '# Lesson 30.2: Authentication and Security\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand authentication strategies\n- Implement JWT tokens\n- Hash passwords with bcrypt\n- Manage sessions\n- Apply security best practices\n- Build secure authentication systems\n- Protect user data\n\n---\n\n## Introduction to Authentication\n\nAuthentication is the process of verifying who a user is. It ensures that users are who they claim to be.\n\n### Authentication vs Authorization\n\n- **Authentication**: Verifying identity (who you are)\n- **Authorization**: Verifying permissions (what you can do)\n\n### Authentication Methods\n\n- **Password-based**: Username and password\n- **Token-based**: JWT tokens\n- **Session-based**: Server-side sessions\n- **OAuth**: Third-party authentication\n- **Multi-factor**: Multiple verification methods\n\n---\n\n## Authentication Strategies\n\n### Basic Authentication\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\n// Basic auth middleware\nconst basicAuth = (req, res, next) => {\n    const authHeader = req.headers.authorization;\n    \n    if (!authHeader) {\n        return res.status(401).json({ error: ''Unauthorized'' });\n    }\n    \n    const credentials = Buffer.from(\n        authHeader.split('' '')[1],\n        ''base64''\n    ).toString().split('':'');\n    \n    const [username, password] = credentials;\n    \n    // Verify credentials\n    if (username === ''admin'' && password === ''password'') {\n        next();\n    } else {\n        res.status(401).json({ error: ''Invalid credentials'' });\n    }\n};\n\napp.get(''/protected'', basicAuth, (req, res) => {\n    res.json({ message: ''Protected resource'' });\n});\n```\n\n### Custom Authentication\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\n// Login endpoint\napp.post(''/login'', async (req, res) => {\n    const { email, password } = req.body;\n    \n    // Find user\n    const user = await User.findOne({ email });\n    if (!user) {\n        return res.status(401).json({ error: ''Invalid credentials'' });\n    }\n    \n    // Verify password\n    const isValid = await bcrypt.compare(password, user.password);\n    if (!isValid) {\n        return res.status(401).json({ error: ''Invalid credentials'' });\n    }\n    \n    // Generate token\n    const token = jwt.sign(\n        { userId: user.id },\n        process.env.JWT_SECRET,\n        { expiresIn: ''1h'' }\n    );\n    \n    res.json({ token, user: { id: user.id, email: user.email } });\n});\n```\n\n---\n\n## JWT Tokens\n\n### What is JWT?\n\nJWT (JSON Web Token) is a compact, URL-safe token format for securely transmitting information.\n\n### JWT Structure\n\n```\nheader.payload.signature\n```\n\n### Installation\n\n```bash\nnpm install jsonwebtoken\n```\n\n### Creating Tokens\n\n```javascript\nconst jwt = require(''jsonwebtoken'');\n\n// Create token\nconst token = jwt.sign(\n    { userId: 123, email: ''user@example.com'' },\n    process.env.JWT_SECRET,\n    { expiresIn: ''1h'' }\n);\n\n// Token with more options\nconst token = jwt.sign(\n    { userId: 123 },\n    process.env.JWT_SECRET,\n    {\n        expiresIn: ''24h'',\n        issuer: ''myapp'',\n        audience: ''myapp-users''\n    }\n);\n```\n\n### Verifying Tokens\n\n```javascript\nconst jwt = require(''jsonwebtoken'');\n\n// Verify token\ntry {\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\n    console.log(''Decoded:'', decoded);\n} catch (error) {\n    console.error(''Invalid token:'', error);\n}\n```\n\n### JWT Middleware\n\n```javascript\nconst jwt = require(''jsonwebtoken'');\n\nconst authenticateToken = (req, res, next) => {\n    const authHeader = req.headers[''authorization''];\n    const token = authHeader && authHeader.split('' '')[1]; // Bearer TOKEN\n    \n    if (!token) {\n        return res.status(401).json({ error: ''Access token required'' });\n    }\n    \n    jwt.verify(token, process.env.JWT_SECRET, (err, user) => {\n        if (err) {\n            return res.status(403).json({ error: ''Invalid or expired token'' });\n        }\n        \n        req.user = user;\n        next();\n    });\n};\n\n// Use middleware\napp.get(''/protected'', authenticateToken, (req, res) => {\n    res.json({ message: ''Protected resource'', user: req.user });\n});\n```\n\n### Refresh Tokens\n\n```javascript\nconst jwt = require(''jsonwebtoken'');\n\n// Generate tokens\nfunction generateTokens(user) {\n    const accessToken = jwt.sign(\n        { userId: user.id },\n        process.env.JWT_SECRET,\n        { expiresIn: ''15m'' }\n    );\n    \n    const refreshToken = jwt.sign(\n        { userId: user.id },\n        process.env.JWT_REFRESH_SECRET,\n        { expiresIn: ''7d'' }\n    );\n    \n    return { accessToken, refreshToken };\n}\n\n// Refresh access token\napp.post(''/refresh'', (req, res) => {\n    const { refreshToken } = req.body;\n    \n    if (!refreshToken) {\n        return res.status(401).json({ error: ''Refresh token required'' });\n    }\n    \n    jwt.verify(refreshToken, process.env.JWT_REFRESH_SECRET, (err, user) => {\n        if (err) {\n            return res.status(403).json({ error: ''Invalid refresh token'' });\n        }\n        \n        const accessToken = jwt.sign(\n            { userId: user.userId },\n            process.env.JWT_SECRET,\n            { expiresIn: ''15m'' }\n        );\n        \n        res.json({ accessToken });\n    });\n});\n```\n\n---\n\n## Password Hashing (bcrypt)\n\n### Why Hash Passwords?\n\n- **Security**: Passwords should never be stored in plain text\n- **Hashing**: One-way function (can''t be reversed)\n- **Salting**: Adds random data to prevent rainbow table attacks\n\n### Installation\n\n```bash\nnpm install bcrypt\n```\n\n### Hashing Passwords\n\n```javascript\nconst bcrypt = require(''bcrypt'');\n\n// Hash password\nasync function hashPassword(password) {\n    const saltRounds = 10;\n    const hashedPassword = await bcrypt.hash(password, saltRounds);\n    return hashedPassword;\n}\n\n// Compare password\nasync function comparePassword(password, hashedPassword) {\n    const isMatch = await bcrypt.compare(password, hashedPassword);\n    return isMatch;\n}\n```\n\n### User Registration\n\n```javascript\nconst bcrypt = require(''bcrypt'');\nconst User = require(''../models/user'');\n\napp.post(''/register'', async (req, res) => {\n    try {\n        const { name, email, password } = req.body;\n        \n        // Check if user exists\n        const existingUser = await User.findOne({ email });\n        if (existingUser) {\n            return res.status(400).json({ error: ''User already exists'' });\n        }\n        \n        // Hash password\n        const hashedPassword = await bcrypt.hash(password, 10);\n        \n        // Create user\n        const user = await User.create({\n            name,\n            email,\n            password: hashedPassword\n        });\n        \n        // Generate token\n        const token = jwt.sign(\n            { userId: user.id },\n            process.env.JWT_SECRET,\n            { expiresIn: ''1h'' }\n        );\n        \n        res.status(201).json({\n            token,\n            user: { id: user.id, name: user.name, email: user.email }\n        });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n});\n```\n\n### User Login\n\n```javascript\nconst bcrypt = require(''bcrypt'');\nconst jwt = require(''jsonwebtoken'');\nconst User = require(''../models/user'');\n\napp.post(''/login'', async (req, res) => {\n    try {\n        const { email, password } = req.body;\n        \n        // Find user\n        const user = await User.findOne({ email });\n        if (!user) {\n            return res.status(401).json({ error: ''Invalid credentials'' });\n        }\n        \n        // Compare password\n        const isMatch = await bcrypt.compare(password, user.password);\n        if (!isMatch) {\n            return res.status(401).json({ error: ''Invalid credentials'' });\n        }\n        \n        // Generate token\n        const token = jwt.sign(\n            { userId: user.id },\n            process.env.JWT_SECRET,\n            { expiresIn: ''1h'' }\n        );\n        \n        res.json({\n            token,\n            user: { id: user.id, name: user.name, email: user.email }\n        });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n});\n```\n\n---\n\n## Session Management\n\n### Express Sessions\n\n```bash\nnpm install express-session\n```\n\n### Session Setup\n\n```javascript\nconst express = require(''express'');\nconst session = require(''express-session'');\nconst app = express();\n\napp.use(session({\n    secret: process.env.SESSION_SECRET,\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n        secure: process.env.NODE_ENV === ''production'',\n        httpOnly: true,\n        maxAge: 24 * 60 * 60 * 1000 // 24 hours\n    }\n}));\n```\n\n### Using Sessions\n\n```javascript\n// Login\napp.post(''/login'', async (req, res) => {\n    const { email, password } = req.body;\n    \n    const user = await User.findOne({ email });\n    if (!user) {\n        return res.status(401).json({ error: ''Invalid credentials'' });\n    }\n    \n    const isMatch = await bcrypt.compare(password, user.password);\n    if (!isMatch) {\n        return res.status(401).json({ error: ''Invalid credentials'' });\n    }\n    \n    // Store in session\n    req.session.userId = user.id;\n    req.session.email = user.email;\n    \n    res.json({ message: ''Logged in successfully'' });\n});\n\n// Protected route\napp.get(''/profile'', (req, res) => {\n    if (!req.session.userId) {\n        return res.status(401).json({ error: ''Not authenticated'' });\n    }\n    \n    res.json({ userId: req.session.userId, email: req.session.email });\n});\n\n// Logout\napp.post(''/logout'', (req, res) => {\n    req.session.destroy((err) => {\n        if (err) {\n            return res.status(500).json({ error: ''Logout failed'' });\n        }\n        res.json({ message: ''Logged out successfully'' });\n    });\n});\n```\n\n---\n\n## Security Best Practices\n\n### Password Requirements\n\n```javascript\nfunction validatePassword(password) {\n    // At least 8 characters\n    if (password.length < 8) {\n        return { valid: false, error: ''Password must be at least 8 characters'' };\n    }\n    \n    // At least one uppercase letter\n    if (!/[A-Z]/.test(password)) {\n        return { valid: false, error: ''Password must contain uppercase letter'' };\n    }\n    \n    // At least one lowercase letter\n    if (!/[a-z]/.test(password)) {\n        return { valid: false, error: ''Password must contain lowercase letter'' };\n    }\n    \n    // At least one number\n    if (!/[0-9]/.test(password)) {\n        return { valid: false, error: ''Password must contain a number'' };\n    }\n    \n    // At least one special character\n    if (!/[!@#$%^&*]/.test(password)) {\n        return { valid: false, error: ''Password must contain special character'' };\n    }\n    \n    return { valid: true };\n}\n```\n\n### Rate Limiting\n\n```bash\nnpm install express-rate-limit\n```\n\n```javascript\nconst rateLimit = require(''express-rate-limit'');\n\nconst loginLimiter = rateLimit({\n    windowMs: 15 * 60 * 1000, // 15 minutes\n    max: 5, // 5 requests per window\n    message: ''Too many login attempts, please try again later''\n});\n\napp.post(''/login'', loginLimiter, async (req, res) => {\n    // Login logic\n});\n```\n\n### Input Validation\n\n```javascript\nconst validator = require(''validator'');\n\nfunction validateEmail(email) {\n    return validator.isEmail(email);\n}\n\nfunction validatePassword(password) {\n    return password.length >= 8;\n}\n\napp.post(''/register'', (req, res) => {\n    const { email, password } = req.body;\n    \n    if (!validateEmail(email)) {\n        return res.status(400).json({ error: ''Invalid email'' });\n    }\n    \n    if (!validatePassword(password)) {\n        return res.status(400).json({ error: ''Invalid password'' });\n    }\n    \n    // Continue registration\n});\n```\n\n### Environment Variables\n\n```javascript\n// .env file\nJWT_SECRET=your-secret-key-here\nJWT_REFRESH_SECRET=your-refresh-secret-here\nSESSION_SECRET=your-session-secret-here\nNODE_ENV=production\n\n// Use in code\nrequire(''dotenv'').config();\n\nconst token = jwt.sign(\n    { userId: user.id },\n    process.env.JWT_SECRET\n);\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Authentication System\n\n**Objective**: Practice implementing authentication, JWT tokens, password hashing, and session management.\n\n**Instructions**:\n\n1. Create authentication system\n2. Implement JWT tokens\n3. Hash passwords\n4. Add session management\n5. Practice:\n   - User registration\n   - User login\n   - Token generation\n   - Password hashing\n   - Protected routes\n\n**Example Solution**:\n\n```javascript\n// src/middleware/auth.js\nconst jwt = require(''jsonwebtoken'');\n\nconst authenticateToken = (req, res, next) => {\n    const authHeader = req.headers[''authorization''];\n    const token = authHeader && authHeader.split('' '')[1];\n    \n    if (!token) {\n        return res.status(401).json({ error: ''Access token required'' });\n    }\n    \n    jwt.verify(token, process.env.JWT_SECRET, (err, user) => {\n        if (err) {\n            return res.status(403).json({ error: ''Invalid or expired token'' });\n        }\n        req.user = user;\n        next();\n    });\n};\n\nmodule.exports = authenticateToken;\n```\n\n```javascript\n// src/routes/auth.js\nconst express = require(''express'');\nconst bcrypt = require(''bcrypt'');\nconst jwt = require(''jsonwebtoken'');\nconst User = require(''../models/user'');\nconst authenticateToken = require(''../middleware/auth'');\n\nconst router = express.Router();\n\n// Register\nrouter.post(''/register'', async (req, res) => {\n    try {\n        const { name, email, password } = req.body;\n        \n        // Validation\n        if (!name || !email || !password) {\n            return res.status(400).json({\n                error: ''Name, email, and password are required''\n            });\n        }\n        \n        if (password.length < 8) {\n            return res.status(400).json({\n                error: ''Password must be at least 8 characters''\n            });\n        }\n        \n        // Check if user exists\n        const existingUser = await User.findOne({ email });\n        if (existingUser) {\n            return res.status(400).json({ error: ''User already exists'' });\n        }\n        \n        // Hash password\n        const hashedPassword = await bcrypt.hash(password, 10);\n        \n        // Create user\n        const user = await User.create({\n            name,\n            email,\n            password: hashedPassword\n        });\n        \n        // Generate token\n        const token = jwt.sign(\n            { userId: user._id },\n            process.env.JWT_SECRET,\n            { expiresIn: ''24h'' }\n        );\n        \n        res.status(201).json({\n            success: true,\n            token,\n            user: {\n                id: user._id,\n                name: user.name,\n                email: user.email\n            }\n        });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n});\n\n// Login\nrouter.post(''/login'', async (req, res) => {\n    try {\n        const { email, password } = req.body;\n        \n        if (!email || !password) {\n            return res.status(400).json({\n                error: ''Email and password are required''\n            });\n        }\n        \n        // Find user\n        const user = await User.findOne({ email });\n        if (!user) {\n            return res.status(401).json({ error: ''Invalid credentials'' });\n        }\n        \n        // Compare password\n        const isMatch = await bcrypt.compare(password, user.password);\n        if (!isMatch) {\n            return res.status(401).json({ error: ''Invalid credentials'' });\n        }\n        \n        // Generate token\n        const token = jwt.sign(\n            { userId: user._id },\n            process.env.JWT_SECRET,\n            { expiresIn: ''24h'' }\n        );\n        \n        res.json({\n            success: true,\n            token,\n            user: {\n                id: user._id,\n                name: user.name,\n                email: user.email\n            }\n        });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n});\n\n// Get current user\nrouter.get(''/me'', authenticateToken, async (req, res) => {\n    try {\n        const user = await User.findById(req.user.userId).select(''-password'');\n        if (!user) {\n            return res.status(404).json({ error: ''User not found'' });\n        }\n        res.json({ success: true, user });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n});\n\nmodule.exports = router;\n```\n\n```javascript\n// src/models/user.js\nconst mongoose = require(''mongoose'');\n\nconst userSchema = new mongoose.Schema({\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    email: {\n        type: String,\n        required: true,\n        unique: true,\n        lowercase: true,\n        trim: true\n    },\n    password: {\n        type: String,\n        required: true,\n        minlength: 8\n    }\n}, {\n    timestamps: true\n});\n\n// Remove password from JSON\nuserSchema.methods.toJSON = function() {\n    const user = this.toObject();\n    delete user.password;\n    return user;\n};\n\nconst User = mongoose.model(''User'', userSchema);\n\nmodule.exports = User;\n```\n\n```javascript\n// src/app.js\nconst express = require(''express'');\nconst mongoose = require(''mongoose'');\nconst authRouter = require(''./routes/auth'');\nrequire(''dotenv'').config();\n\nconst app = express();\n\napp.use(express.json());\n\n// Connect to MongoDB\nmongoose.connect(process.env.MONGODB_URI || ''mongodb://localhost:27017/mydb'')\n    .then(() => console.log(''Connected to MongoDB''))\n    .catch(err => console.error(''MongoDB connection error:'', err));\n\n// Routes\napp.use(''/api/auth'', authRouter);\n\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () => {\n    console.log(`Server running on port ${PORT}`);\n});\n```\n\n**Expected Output**:\n- User registration working\n- User login working\n- JWT tokens generated\n- Passwords hashed\n- Protected routes working\n\n**Challenge (Optional)**:\n- Add refresh tokens\n- Implement password reset\n- Add email verification\n- Add two-factor authentication\n\n---\n\n## Common Mistakes\n\n### 1. Storing Plain Text Passwords\n\n```javascript\n// ❌ Bad: Plain text password\nconst user = await User.create({\n    email,\n    password: password  // Never do this!\n});\n\n// ✅ Good: Hash password\nconst hashedPassword = await bcrypt.hash(password, 10);\nconst user = await User.create({\n    email,\n    password: hashedPassword\n});\n```\n\n### 2. Weak JWT Secret\n\n```javascript\n// ❌ Bad: Weak secret\nconst token = jwt.sign(payload, ''secret'');\n\n// ✅ Good: Strong secret from environment\nconst token = jwt.sign(payload, process.env.JWT_SECRET);\n```\n\n### 3. Not Validating Tokens\n\n```javascript\n// ❌ Bad: No validation\nconst decoded = jwt.decode(token);\n\n// ✅ Good: Verify token\nconst decoded = jwt.verify(token, process.env.JWT_SECRET);\n```\n\n---\n\n## Key Takeaways\n\n1. **Authentication**: Verify user identity\n2. **JWT Tokens**: Stateless authentication\n3. **Password Hashing**: Use bcrypt\n4. **Sessions**: Server-side state\n5. **Security**: Rate limiting, validation, strong secrets\n6. **Best Practice**: Never store plain passwords, use HTTPS\n7. **Tokens**: Short-lived access tokens, longer refresh tokens\n\n---\n\n## Quiz: Authentication\n\nTest your understanding with these questions:\n\n1. **Authentication:**\n   - A) Verify identity\n   - B) Verify permissions\n   - C) Both\n   - D) Neither\n\n2. **JWT:**\n   - A) Stateless\n   - B) Stateful\n   - C) Both\n   - D) Neither\n\n3. **bcrypt:**\n   - A) Hash passwords\n   - B) Encrypt passwords\n   - C) Both\n   - D) Neither\n\n4. **Password hashing:**\n   - A) One-way\n   - B) Two-way\n   - C) Both\n   - D) Neither\n\n5. **JWT secret:**\n   - A) Should be strong\n   - B) Can be weak\n   - C) Both\n   - D) Neither\n\n6. **Sessions:**\n   - A) Server-side\n   - B) Client-side\n   - C) Both\n   - D) Neither\n\n7. **Rate limiting:**\n   - A) Prevents abuse\n   - B) Doesn''t prevent abuse\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Verify identity\n2. A) Stateless\n3. A) Hash passwords\n4. A) One-way\n5. A) Should be strong\n6. A) Server-side\n7. A) Prevents abuse\n\n---\n\n## Next Steps\n\nCongratulations! You''ve learned authentication and security. You now know:\n- How to implement authentication\n- How to use JWT tokens\n- How to hash passwords\n- How to manage sessions\n\n**What''s Next?**\n- Lesson 30.3: API Security\n- Learn CORS\n- Understand rate limiting\n- Implement input validation\n\n---\n\n## Additional Resources\n\n- **JWT**: [jwt.io](https://jwt.io)\n- **bcrypt**: [github.com/kelektiv/node.bcrypt.js](https://github.com/kelektiv/node.bcrypt.js)\n- **Express Sessions**: [github.com/expressjs/session](https://github.com/expressjs/session)\n- **OWASP**: [owasp.org](https://owasp.org)\n\n---\n\n*Lesson completed! You''re ready to move on to the next lesson.*\n\n', NULL, 2, '2026-01-03 10:13:14', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand authentication strategies\n- Implement JWT tokens\n- Hash passwords with bcrypt\n- Manage sessions\n- Apply security best practices\n- Build secure authentication systems\n- Protect user data');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (189, 70, 17, 'API Development', 'api-development', '# Lesson 30.3: API Security\n\n## Learning Objectives\n\nBy the end of this lesson, you will be able to:\n- Understand and implement CORS\n- Use rate limiting\n- Validate input\n- Prevent SQL injection\n- Implement HTTPS\n- Secure APIs\n- Follow security best practices\n\n---\n\n## Introduction to API Security\n\nAPI security is crucial for protecting your APIs from attacks and unauthorized access. It involves multiple layers of protection.\n\n### Security Threats\n\n- **SQL Injection**: Malicious SQL code injection\n- **XSS (Cross-Site Scripting)**: Script injection attacks\n- **CSRF (Cross-Site Request Forgery)**: Unauthorized actions\n- **DDoS**: Denial of service attacks\n- **Man-in-the-Middle**: Intercepting communications\n- **Brute Force**: Password guessing attacks\n\n---\n\n## CORS\n\n### What is CORS?\n\nCORS (Cross-Origin Resource Sharing) is a mechanism that allows resources to be requested from a different domain.\n\n### CORS Setup\n\n```bash\nnpm install cors\n```\n\n```javascript\nconst express = require(''express'');\nconst cors = require(''cors'');\nconst app = express();\n\n// Enable CORS for all routes\napp.use(cors());\n\n// Or configure CORS\napp.use(cors({\n    origin: ''https://example.com'',\n    methods: [''GET'', ''POST'', ''PUT'', ''DELETE''],\n    allowedHeaders: [''Content-Type'', ''Authorization''],\n    credentials: true\n}));\n```\n\n### CORS Middleware\n\n```javascript\n// Custom CORS middleware\nconst corsMiddleware = (req, res, next) => {\n    const allowedOrigins = [\n        ''https://example.com'',\n        ''https://www.example.com''\n    ];\n    \n    const origin = req.headers.origin;\n    \n    if (allowedOrigins.includes(origin)) {\n        res.header(''Access-Control-Allow-Origin'', origin);\n    }\n    \n    res.header(''Access-Control-Allow-Methods'', ''GET, POST, PUT, DELETE'');\n    res.header(''Access-Control-Allow-Headers'', ''Content-Type, Authorization'');\n    res.header(''Access-Control-Allow-Credentials'', ''true'');\n    \n    // Handle preflight\n    if (req.method === ''OPTIONS'') {\n        res.sendStatus(200);\n    } else {\n        next();\n    }\n};\n\napp.use(corsMiddleware);\n```\n\n---\n\n## Rate Limiting\n\n### What is Rate Limiting?\n\nRate limiting controls how many requests a client can make in a given time period.\n\n### Express Rate Limit\n\n```bash\nnpm install express-rate-limit\n```\n\n```javascript\nconst rateLimit = require(''express-rate-limit'');\n\n// General rate limiter\nconst limiter = rateLimit({\n    windowMs: 15 * 60 * 1000, // 15 minutes\n    max: 100, // 100 requests per window\n    message: ''Too many requests, please try again later''\n});\n\napp.use(limiter);\n\n// Specific route limiter\nconst loginLimiter = rateLimit({\n    windowMs: 15 * 60 * 1000,\n    max: 5,\n    message: ''Too many login attempts, please try again later'',\n    standardHeaders: true,\n    legacyHeaders: false\n});\n\napp.post(''/login'', loginLimiter, (req, res) => {\n    // Login logic\n});\n```\n\n### Advanced Rate Limiting\n\n```javascript\nconst rateLimit = require(''express-rate-limit'');\n\n// Store limiter (requires Redis or similar)\nconst createAccountLimiter = rateLimit({\n    windowMs: 60 * 60 * 1000, // 1 hour\n    max: 3, // 3 accounts per hour\n    message: ''Too many accounts created, please try again later'',\n    skipSuccessfulRequests: true\n});\n\napp.post(''/register'', createAccountLimiter, (req, res) => {\n    // Registration logic\n});\n\n// IP-based rate limiting\nconst ipLimiter = rateLimit({\n    windowMs: 15 * 60 * 1000,\n    max: 100,\n    keyGenerator: (req) => {\n        return req.ip;\n    }\n});\n```\n\n---\n\n## Input Validation\n\n### Why Validate Input?\n\n- **Security**: Prevent injection attacks\n- **Data Integrity**: Ensure correct data format\n- **User Experience**: Provide clear error messages\n\n### Manual Validation\n\n```javascript\nfunction validateEmail(email) {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n}\n\nfunction validatePassword(password) {\n    if (password.length < 8) {\n        return { valid: false, error: ''Password must be at least 8 characters'' };\n    }\n    if (!/[A-Z]/.test(password)) {\n        return { valid: false, error: ''Password must contain uppercase letter'' };\n    }\n    if (!/[a-z]/.test(password)) {\n        return { valid: false, error: ''Password must contain lowercase letter'' };\n    }\n    if (!/[0-9]/.test(password)) {\n        return { valid: false, error: ''Password must contain a number'' };\n    }\n    return { valid: true };\n}\n\napp.post(''/register'', (req, res) => {\n    const { email, password } = req.body;\n    \n    if (!validateEmail(email)) {\n        return res.status(400).json({ error: ''Invalid email'' });\n    }\n    \n    const passwordValidation = validatePassword(password);\n    if (!passwordValidation.valid) {\n        return res.status(400).json({ error: passwordValidation.error });\n    }\n    \n    // Continue registration\n});\n```\n\n### Using Validator Library\n\n```bash\nnpm install validator\n```\n\n```javascript\nconst validator = require(''validator'');\n\napp.post(''/register'', (req, res) => {\n    const { email, password, name } = req.body;\n    \n    if (!validator.isEmail(email)) {\n        return res.status(400).json({ error: ''Invalid email'' });\n    }\n    \n    if (!validator.isLength(password, { min: 8 })) {\n        return res.status(400).json({ error: ''Password too short'' });\n    }\n    \n    if (!validator.isAlphanumeric(name, ''en-US'', { ignore: '' '' })) {\n        return res.status(400).json({ error: ''Invalid name'' });\n    }\n    \n    // Continue registration\n});\n```\n\n### Using Joi\n\n```bash\nnpm install joi\n```\n\n```javascript\nconst Joi = require(''joi'');\n\nconst userSchema = Joi.object({\n    name: Joi.string().min(3).max(30).required(),\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).pattern(new RegExp(''^[a-zA-Z0-9]{3,30}$'')).required(),\n    age: Joi.number().integer().min(0).max(150).optional()\n});\n\napp.post(''/register'', (req, res) => {\n    const { error, value } = userSchema.validate(req.body);\n    \n    if (error) {\n        return res.status(400).json({\n            error: error.details[0].message\n        });\n    }\n    \n    // Use validated value\n    // Continue registration\n});\n```\n\n### Sanitization\n\n```javascript\nconst validator = require(''validator'');\n\nfunction sanitizeInput(input) {\n    // Remove HTML tags\n    let sanitized = validator.escape(input);\n    \n    // Trim whitespace\n    sanitized = sanitized.trim();\n    \n    return sanitized;\n}\n\napp.post(''/comment'', (req, res) => {\n    const { comment } = req.body;\n    const sanitizedComment = sanitizeInput(comment);\n    \n    // Use sanitized comment\n});\n```\n\n---\n\n## SQL Injection Prevention\n\n### What is SQL Injection?\n\nSQL injection is a code injection technique that exploits security vulnerabilities in database queries.\n\n### Vulnerable Code\n\n```javascript\n// ❌ Bad: SQL injection vulnerability\nconst query = `SELECT * FROM users WHERE email = ''${email}''`;\nconst [rows] = await pool.execute(query);\n```\n\n### Prevention with Parameterized Queries\n\n```javascript\n// ✅ Good: Parameterized query\nconst query = ''SELECT * FROM users WHERE email = ?'';\nconst [rows] = await pool.execute(query, [email]);\n```\n\n### Using ORMs\n\n```javascript\n// Sequelize (automatically prevents SQL injection)\nconst user = await User.findOne({\n    where: { email: email }\n});\n\n// Mongoose (automatically prevents injection)\nconst user = await User.findOne({ email });\n```\n\n### Input Validation\n\n```javascript\nfunction validateEmail(email) {\n    // Only allow valid email format\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n}\n\napp.get(''/user'', async (req, res) => {\n    const { email } = req.query;\n    \n    if (!validateEmail(email)) {\n        return res.status(400).json({ error: ''Invalid email'' });\n    }\n    \n    // Safe to use in query\n    const user = await User.findOne({ email });\n    res.json(user);\n});\n```\n\n---\n\n## HTTPS\n\n### What is HTTPS?\n\nHTTPS (HTTP Secure) encrypts data between client and server using SSL/TLS.\n\n### Setting Up HTTPS\n\n```bash\n# Generate self-signed certificate (development)\nopenssl req -x509 -newkey rsa:4096 -nodes -keyout key.pem -out cert.pem -days 365\n```\n\n```javascript\nconst https = require(''https'');\nconst fs = require(''fs'');\nconst express = require(''express'');\n\nconst app = express();\n\nconst options = {\n    key: fs.readFileSync(''key.pem''),\n    cert: fs.readFileSync(''cert.pem'')\n};\n\nhttps.createServer(options, app).listen(443, () => {\n    console.log(''HTTPS server running on port 443'');\n});\n```\n\n### Redirect HTTP to HTTPS\n\n```javascript\nconst express = require(''express'');\nconst app = express();\n\n// Redirect HTTP to HTTPS\napp.use((req, res, next) => {\n    if (req.secure || req.headers[''x-forwarded-proto''] === ''https'') {\n        next();\n    } else {\n        res.redirect(`https://${req.headers.host}${req.url}`);\n    }\n});\n```\n\n### Security Headers\n\n```javascript\nconst helmet = require(''helmet'');\napp.use(helmet());\n\n// Or manually set headers\napp.use((req, res, next) => {\n    res.setHeader(''Strict-Transport-Security'', ''max-age=31536000; includeSubDomains'');\n    res.setHeader(''X-Content-Type-Options'', ''nosniff'');\n    res.setHeader(''X-Frame-Options'', ''DENY'');\n    res.setHeader(''X-XSS-Protection'', ''1; mode=block'');\n    next();\n});\n```\n\n---\n\n## Practice Exercise\n\n### Exercise: Securing APIs\n\n**Objective**: Practice implementing CORS, rate limiting, input validation, SQL injection prevention, and HTTPS.\n\n**Instructions**:\n\n1. Secure your API\n2. Implement CORS\n3. Add rate limiting\n4. Validate input\n5. Prevent SQL injection\n6. Practice:\n   - CORS configuration\n   - Rate limiting\n   - Input validation\n   - Security headers\n   - HTTPS setup\n\n**Example Solution**:\n\n```javascript\n// src/middleware/security.js\nconst rateLimit = require(''express-rate-limit'');\nconst helmet = require(''helmet'');\n\n// Security headers\nconst securityHeaders = helmet({\n    contentSecurityPolicy: {\n        directives: {\n            defaultSrc: ["''self''"],\n            styleSrc: ["''self''", "''unsafe-inline''"],\n            scriptSrc: ["''self''"],\n            imgSrc: ["''self''", ''data:'', ''https:'']\n        }\n    },\n    hsts: {\n        maxAge: 31536000,\n        includeSubDomains: true,\n        preload: true\n    }\n});\n\n// Rate limiters\nconst generalLimiter = rateLimit({\n    windowMs: 15 * 60 * 1000, // 15 minutes\n    max: 100,\n    message: ''Too many requests, please try again later''\n});\n\nconst authLimiter = rateLimit({\n    windowMs: 15 * 60 * 1000,\n    max: 5,\n    message: ''Too many authentication attempts, please try again later'',\n    skipSuccessfulRequests: true\n});\n\nconst createAccountLimiter = rateLimit({\n    windowMs: 60 * 60 * 1000, // 1 hour\n    max: 3,\n    message: ''Too many accounts created, please try again later''\n});\n\nmodule.exports = {\n    securityHeaders,\n    generalLimiter,\n    authLimiter,\n    createAccountLimiter\n};\n```\n\n```javascript\n// src/middleware/validation.js\nconst Joi = require(''joi'');\n\nconst validate = (schema) => {\n    return (req, res, next) => {\n        const { error, value } = schema.validate(req.body, {\n            abortEarly: false,\n            stripUnknown: true\n        });\n        \n        if (error) {\n            const errors = error.details.map(detail => ({\n                field: detail.path.join(''.''),\n                message: detail.message\n            }));\n            \n            return res.status(400).json({\n                success: false,\n                errors\n            });\n        }\n        \n        req.body = value;\n        next();\n    };\n};\n\n// Validation schemas\nconst registerSchema = Joi.object({\n    name: Joi.string().min(3).max(50).required(),\n    email: Joi.string().email().required(),\n    password: Joi.string().min(8).pattern(new RegExp(''^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])'')).required()\n});\n\nconst loginSchema = Joi.object({\n    email: Joi.string().email().required(),\n    password: Joi.string().required()\n});\n\nmodule.exports = {\n    validate,\n    registerSchema,\n    loginSchema\n};\n```\n\n```javascript\n// src/middleware/cors.js\nconst cors = require(''cors'');\n\nconst corsOptions = {\n    origin: (origin, callback) => {\n        const allowedOrigins = [\n            ''http://localhost:3000'',\n            ''https://example.com''\n        ];\n        \n        // Allow requests with no origin (mobile apps, Postman, etc.)\n        if (!origin) return callback(null, true);\n        \n        if (allowedOrigins.indexOf(origin) !== -1) {\n            callback(null, true);\n        } else {\n            callback(new Error(''Not allowed by CORS''));\n        }\n    },\n    methods: [''GET'', ''POST'', ''PUT'', ''DELETE'', ''PATCH''],\n    allowedHeaders: [''Content-Type'', ''Authorization''],\n    credentials: true,\n    maxAge: 86400 // 24 hours\n};\n\nmodule.exports = cors(corsOptions);\n```\n\n```javascript\n// src/routes/auth.js\nconst express = require(''express'');\nconst router = express.Router();\nconst { validate, registerSchema, loginSchema } = require(''../middleware/validation'');\nconst { authLimiter, createAccountLimiter } = require(''../middleware/security'');\n\n// Register with validation and rate limiting\nrouter.post(''/register'',\n    createAccountLimiter,\n    validate(registerSchema),\n    async (req, res) => {\n        // Registration logic\n    }\n);\n\n// Login with validation and rate limiting\nrouter.post(''/login'',\n    authLimiter,\n    validate(loginSchema),\n    async (req, res) => {\n        // Login logic\n    }\n);\n\nmodule.exports = router;\n```\n\n```javascript\n// src/app.js\nconst express = require(''express'');\nconst mongoose = require(''mongoose'');\nconst { securityHeaders, generalLimiter } = require(''./middleware/security'');\nconst corsOptions = require(''./middleware/cors'');\nconst authRouter = require(''./routes/auth'');\nrequire(''dotenv'').config();\n\nconst app = express();\n\n// Security middleware\napp.use(securityHeaders);\napp.use(corsOptions);\napp.use(express.json({ limit: ''10mb'' }));\napp.use(express.urlencoded({ extended: true, limit: ''10mb'' }));\n\n// Rate limiting\napp.use(''/api/'', generalLimiter);\n\n// Database connection\nmongoose.connect(process.env.MONGODB_URI || ''mongodb://localhost:27017/mydb'')\n    .then(() => console.log(''Connected to MongoDB''))\n    .catch(err => console.error(''MongoDB connection error:'', err));\n\n// Routes\napp.use(''/api/auth'', authRouter);\n\n// Error handling\napp.use((err, req, res, next) => {\n    console.error(err.stack);\n    res.status(500).json({\n        success: false,\n        error: process.env.NODE_ENV === ''production'' \n            ? ''Internal server error'' \n            : err.message\n    });\n});\n\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () => {\n    console.log(`Server running on port ${PORT}`);\n});\n```\n\n```json\n// package.json\n{\n  "name": "api-security-practice",\n  "version": "1.0.0",\n  "description": "API security practice",\n  "main": "src/app.js",\n  "scripts": {\n    "start": "node src/app.js",\n    "dev": "nodemon src/app.js"\n  },\n  "dependencies": {\n    "express": "^4.18.0",\n    "mongoose": "^7.0.0",\n    "cors": "^2.8.5",\n    "helmet": "^7.0.0",\n    "express-rate-limit": "^6.7.0",\n    "joi": "^17.9.0",\n    "dotenv": "^16.0.0"\n  },\n  "devDependencies": {\n    "nodemon": "^2.0.0"\n  }\n}\n```\n\n**Expected Output**:\n- CORS configured\n- Rate limiting active\n- Input validation working\n- Security headers set\n- API secured\n\n**Challenge (Optional)**:\n- Add request logging\n- Implement API key authentication\n- Add IP whitelisting\n- Create security monitoring\n\n---\n\n## Common Mistakes\n\n### 1. Not Using Parameterized Queries\n\n```javascript\n// ❌ Bad: SQL injection vulnerability\nconst query = `SELECT * FROM users WHERE email = ''${email}''`;\n\n// ✅ Good: Parameterized query\nconst query = ''SELECT * FROM users WHERE email = ?'';\nconst [rows] = await pool.execute(query, [email]);\n```\n\n### 2. Weak CORS Configuration\n\n```javascript\n// ❌ Bad: Allow all origins\napp.use(cors());\n\n// ✅ Good: Specific origins\napp.use(cors({\n    origin: [''https://example.com'']\n}));\n```\n\n### 3. No Input Validation\n\n```javascript\n// ❌ Bad: No validation\napp.post(''/user'', (req, res) => {\n    const user = await User.create(req.body);\n});\n\n// ✅ Good: Validate input\napp.post(''/user'', validate(userSchema), (req, res) => {\n    const user = await User.create(req.body);\n});\n```\n\n---\n\n## Key Takeaways\n\n1. **CORS**: Control cross-origin requests\n2. **Rate Limiting**: Prevent abuse\n3. **Input Validation**: Ensure data integrity\n4. **SQL Injection**: Use parameterized queries\n5. **HTTPS**: Encrypt communications\n6. **Security Headers**: Add extra protection\n7. **Best Practice**: Multiple layers of security\n\n---\n\n## Quiz: API Security\n\nTest your understanding with these questions:\n\n1. **CORS:**\n   - A) Cross-Origin Resource Sharing\n   - B) Cross-Origin Request Sharing\n   - C) Both\n   - D) Neither\n\n2. **Rate limiting:**\n   - A) Prevents abuse\n   - B) Allows abuse\n   - C) Both\n   - D) Neither\n\n3. **SQL injection:**\n   - A) Prevented with parameterized queries\n   - B) Not prevented\n   - C) Both\n   - D) Neither\n\n4. **HTTPS:**\n   - A) Encrypts data\n   - B) Doesn''t encrypt data\n   - C) Both\n   - D) Neither\n\n5. **Input validation:**\n   - A) Important for security\n   - B) Not important\n   - C) Both\n   - D) Neither\n\n6. **Security headers:**\n   - A) Add protection\n   - B) Don''t add protection\n   - C) Both\n   - D) Neither\n\n7. **Parameterized queries:**\n   - A) Prevent SQL injection\n   - B) Don''t prevent SQL injection\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Cross-Origin Resource Sharing\n2. A) Prevents abuse\n3. A) Prevented with parameterized queries\n4. A) Encrypts data\n5. A) Important for security\n6. A) Add protection\n7. A) Prevent SQL injection\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed Module 30: Databases and Authentication. You now know:\n- How to work with databases\n- How to implement authentication\n- How to secure APIs\n- How to protect applications\n\n**What''s Next?**\n- Course 9: Practical Projects\n- Build real-world applications\n- Apply all learned concepts\n- Create portfolio projects\n\n---\n\n## Additional Resources\n\n- **OWASP**: [owasp.org](https://owasp.org)\n- **CORS**: [developer.mozilla.org/en-US/docs/Web/HTTP/CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS)\n- **Helmet**: [helmetjs.github.io](https://helmetjs.github.io)\n- **Rate Limiting**: [github.com/express-rate-limit/express-rate-limit](https://github.com/express-rate-limit/express-rate-limit)\n\n---\n\n*Lesson completed! You''ve finished Module 30: Databases and Authentication. Ready for Course 9: Practical Projects!*\n\n', NULL, 3, '2026-01-03 10:13:14', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this lesson, you will be able to:\n- Understand and implement CORS\n- Use rate limiting\n- Validate input\n- Prevent SQL injection\n- Implement HTTPS\n- Secure APIs\n- Follow security best practices');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (194, 71, 18, 'Todo List Application', 'todo-list-application', '# Project 1.1: Todo List Application\n\n## Project Overview\n\nBuild a fully functional Todo List application using vanilla JavaScript. This project will help you practice DOM manipulation, event handling, local storage, and CRUD operations.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Manipulate the DOM dynamically\n- Handle various user events\n- Store data in local storage\n- Implement CRUD operations\n- Build a complete interactive application\n- Structure JavaScript code effectively\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **Add Todos**: Users can add new todo items\n2. **View Todos**: Display all todos in a list\n3. **Edit Todos**: Update existing todo items\n4. **Delete Todos**: Remove todo items\n5. **Mark Complete**: Toggle completion status\n6. **Filter Todos**: Filter by all/active/completed\n7. **Persist Data**: Save todos to local storage\n8. **Clear Completed**: Remove all completed todos\n\n### Technical Requirements\n\n- Use vanilla JavaScript (no frameworks)\n- Use semantic HTML5\n- Responsive CSS design\n- Local storage for persistence\n- Clean, organized code structure\n- Error handling\n\n---\n\n## Project Structure\n\n```\ntodo-app/\n├── index.html\n├── css/\n│   └── style.css\n├── js/\n│   ├── app.js\n│   ├── todo.js\n│   └── storage.js\n└── README.md\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Step 1: HTML Structure\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Todo List Application</title>\n    <link rel="stylesheet" href="css/style.css">\n</head>\n<body>\n    <div class="container">\n        <header>\n            <h1>My Todo List</h1>\n        </header>\n        \n        <main>\n            <!-- Add Todo Form -->\n            <form id="todo-form">\n                <input \n                    type="text" \n                    id="todo-input" \n                    placeholder="Add a new todo..."\n                    required\n                >\n                <button type="submit">Add</button>\n            </form>\n            \n            <!-- Filter Buttons -->\n            <div class="filters">\n                <button class="filter-btn active" data-filter="all">All</button>\n                <button class="filter-btn" data-filter="active">Active</button>\n                <button class="filter-btn" data-filter="completed">Completed</button>\n            </div>\n            \n            <!-- Todo List -->\n            <ul id="todo-list"></ul>\n            \n            <!-- Todo Stats -->\n            <div class="stats">\n                <span id="todo-count">0 items left</span>\n                <button id="clear-completed">Clear Completed</button>\n            </div>\n        </main>\n    </div>\n    \n    <script src="js/storage.js"></script>\n    <script src="js/todo.js"></script>\n    <script src="js/app.js"></script>\n</body>\n</html>\n```\n\n### Step 2: CSS Styling\n\n```css\n/* css/style.css */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: ''Segoe UI'', Tahoma, Geneva, Verdana, sans-serif;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    min-height: 100vh;\n    padding: 20px;\n}\n\n.container {\n    max-width: 600px;\n    margin: 0 auto;\n    background: white;\n    border-radius: 10px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n    overflow: hidden;\n}\n\nheader {\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n    padding: 30px;\n    text-align: center;\n}\n\nheader h1 {\n    font-size: 2.5em;\n    font-weight: 300;\n}\n\nmain {\n    padding: 30px;\n}\n\n#todo-form {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n}\n\n#todo-input {\n    flex: 1;\n    padding: 12px;\n    border: 2px solid #e0e0e0;\n    border-radius: 5px;\n    font-size: 16px;\n    transition: border-color 0.3s;\n}\n\n#todo-input:focus {\n    outline: none;\n    border-color: #667eea;\n}\n\n#todo-form button {\n    padding: 12px 24px;\n    background: #667eea;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    font-size: 16px;\n    cursor: pointer;\n    transition: background 0.3s;\n}\n\n#todo-form button:hover {\n    background: #5568d3;\n}\n\n.filters {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n    justify-content: center;\n}\n\n.filter-btn {\n    padding: 8px 16px;\n    background: #f5f5f5;\n    border: 1px solid #e0e0e0;\n    border-radius: 5px;\n    cursor: pointer;\n    transition: all 0.3s;\n}\n\n.filter-btn:hover {\n    background: #e0e0e0;\n}\n\n.filter-btn.active {\n    background: #667eea;\n    color: white;\n    border-color: #667eea;\n}\n\n#todo-list {\n    list-style: none;\n    margin-bottom: 20px;\n}\n\n.todo-item {\n    display: flex;\n    align-items: center;\n    padding: 15px;\n    margin-bottom: 10px;\n    background: #f9f9f9;\n    border-radius: 5px;\n    transition: all 0.3s;\n}\n\n.todo-item:hover {\n    background: #f0f0f0;\n}\n\n.todo-item.completed {\n    opacity: 0.6;\n}\n\n.todo-item.completed .todo-text {\n    text-decoration: line-through;\n}\n\n.todo-checkbox {\n    width: 20px;\n    height: 20px;\n    margin-right: 15px;\n    cursor: pointer;\n}\n\n.todo-text {\n    flex: 1;\n    font-size: 16px;\n    color: #333;\n}\n\n.todo-item.editing .todo-text {\n    display: none;\n}\n\n.todo-edit-input {\n    flex: 1;\n    padding: 8px;\n    border: 2px solid #667eea;\n    border-radius: 5px;\n    font-size: 16px;\n    display: none;\n}\n\n.todo-item.editing .todo-edit-input {\n    display: block;\n}\n\n.todo-actions {\n    display: flex;\n    gap: 10px;\n}\n\n.todo-btn {\n    padding: 5px 10px;\n    border: none;\n    border-radius: 3px;\n    cursor: pointer;\n    font-size: 14px;\n    transition: all 0.3s;\n}\n\n.edit-btn {\n    background: #4caf50;\n    color: white;\n}\n\n.edit-btn:hover {\n    background: #45a049;\n}\n\n.delete-btn {\n    background: #f44336;\n    color: white;\n}\n\n.delete-btn:hover {\n    background: #da190b;\n}\n\n.stats {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding-top: 20px;\n    border-top: 1px solid #e0e0e0;\n}\n\n#todo-count {\n    color: #666;\n    font-size: 14px;\n}\n\n#clear-completed {\n    padding: 8px 16px;\n    background: #f44336;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 14px;\n    transition: background 0.3s;\n}\n\n#clear-completed:hover {\n    background: #da190b;\n}\n\n#clear-completed:disabled {\n    background: #ccc;\n    cursor: not-allowed;\n}\n\n.empty-state {\n    text-align: center;\n    padding: 40px;\n    color: #999;\n}\n\n.empty-state.hidden {\n    display: none;\n}\n```\n\n### Step 3: Storage Module\n\n```javascript\n// js/storage.js\nclass Storage {\n    static getTodos() {\n        const todos = localStorage.getItem(''todos'');\n        return todos ? JSON.parse(todos) : [];\n    }\n    \n    static saveTodos(todos) {\n        localStorage.setItem(''todos'', JSON.stringify(todos));\n    }\n    \n    static addTodo(todo) {\n        const todos = this.getTodos();\n        todos.push(todo);\n        this.saveTodos(todos);\n        return todo;\n    }\n    \n    static updateTodo(id, updates) {\n        const todos = this.getTodos();\n        const index = todos.findIndex(todo => todo.id === id);\n        if (index !== -1) {\n            todos[index] = { ...todos[index], ...updates };\n            this.saveTodos(todos);\n            return todos[index];\n        }\n        return null;\n    }\n    \n    static deleteTodo(id) {\n        const todos = this.getTodos();\n        const filtered = todos.filter(todo => todo.id !== id);\n        this.saveTodos(filtered);\n        return filtered;\n    }\n    \n    static clearCompleted() {\n        const todos = this.getTodos();\n        const active = todos.filter(todo => !todo.completed);\n        this.saveTodos(active);\n        return active;\n    }\n}\n```\n\n### Step 4: Todo Model\n\n```javascript\n// js/todo.js\nclass Todo {\n    constructor(id, text, completed = false) {\n        this.id = id;\n        this.text = text;\n        this.completed = completed;\n        this.createdAt = new Date().toISOString();\n    }\n    \n    toggle() {\n        this.completed = !this.completed;\n        return this;\n    }\n    \n    updateText(newText) {\n        this.text = newText;\n        return this;\n    }\n    \n    toJSON() {\n        return {\n            id: this.id,\n            text: this.text,\n            completed: this.completed,\n            createdAt: this.createdAt\n        };\n    }\n    \n    static fromJSON(data) {\n        const todo = new Todo(data.id, data.text, data.completed);\n        todo.createdAt = data.createdAt;\n        return todo;\n    }\n}\n```\n\n### Step 5: Main Application\n\n```javascript\n// js/app.js\nclass TodoApp {\n    constructor() {\n        this.todos = [];\n        this.currentFilter = ''all'';\n        this.editingId = null;\n        \n        this.initializeElements();\n        this.loadTodos();\n        this.attachEventListeners();\n        this.render();\n    }\n    \n    initializeElements() {\n        this.form = document.getElementById(''todo-form'');\n        this.input = document.getElementById(''todo-input'');\n        this.todoList = document.getElementById(''todo-list'');\n        this.filterBtns = document.querySelectorAll(''.filter-btn'');\n        this.todoCount = document.getElementById(''todo-count'');\n        this.clearCompletedBtn = document.getElementById(''clear-completed'');\n    }\n    \n    loadTodos() {\n        const todosData = Storage.getTodos();\n        this.todos = todosData.map(data => Todo.fromJSON(data));\n    }\n    \n    attachEventListeners() {\n        // Form submission\n        this.form.addEventListener(''submit'', (e) => {\n            e.preventDefault();\n            this.addTodo();\n        });\n        \n        // Filter buttons\n        this.filterBtns.forEach(btn => {\n            btn.addEventListener(''click'', (e) => {\n                this.setFilter(e.target.dataset.filter);\n            });\n        });\n        \n        // Clear completed\n        this.clearCompletedBtn.addEventListener(''click'', () => {\n            this.clearCompleted();\n        });\n    }\n    \n    addTodo() {\n        const text = this.input.value.trim();\n        if (!text) return;\n        \n        const todo = new Todo(Date.now(), text);\n        Storage.addTodo(todo.toJSON());\n        this.todos.push(todo);\n        this.input.value = '''';\n        this.render();\n    }\n    \n    deleteTodo(id) {\n        this.todos = Storage.deleteTodo(id);\n        this.render();\n    }\n    \n    toggleTodo(id) {\n        const todo = this.todos.find(t => t.id === id);\n        if (todo) {\n            todo.toggle();\n            Storage.updateTodo(id, { completed: todo.completed });\n            this.render();\n        }\n    }\n    \n    startEditing(id) {\n        this.editingId = id;\n        this.render();\n    }\n    \n    saveEdit(id, newText) {\n        const text = newText.trim();\n        if (!text) {\n            this.cancelEdit();\n            return;\n        }\n        \n        const todo = this.todos.find(t => t.id === id);\n        if (todo) {\n            todo.updateText(text);\n            Storage.updateTodo(id, { text: todo.text });\n            this.editingId = null;\n            this.render();\n        }\n    }\n    \n    cancelEdit() {\n        this.editingId = null;\n        this.render();\n    }\n    \n    setFilter(filter) {\n        this.currentFilter = filter;\n        this.filterBtns.forEach(btn => {\n            btn.classList.toggle(''active'', btn.dataset.filter === filter);\n        });\n        this.render();\n    }\n    \n    clearCompleted() {\n        this.todos = Storage.clearCompleted();\n        this.render();\n    }\n    \n    getFilteredTodos() {\n        switch (this.currentFilter) {\n            case ''active'':\n                return this.todos.filter(todo => !todo.completed);\n            case ''completed'':\n                return this.todos.filter(todo => todo.completed);\n            default:\n                return this.todos;\n        }\n    }\n    \n    getActiveCount() {\n        return this.todos.filter(todo => !todo.completed).length;\n    }\n    \n    render() {\n        const filteredTodos = this.getFilteredTodos();\n        \n        // Render todos\n        if (filteredTodos.length === 0) {\n            this.todoList.innerHTML = `\n                <li class="empty-state">\n                    <p>No todos found. Add one to get started!</p>\n                </li>\n            `;\n        } else {\n            this.todoList.innerHTML = filteredTodos.map(todo => {\n                const isEditing = this.editingId === todo.id;\n                return `\n                    <li class="todo-item ${todo.completed ? ''completed'' : ''''} ${isEditing ? ''editing'' : ''''}">\n                        <input \n                            type="checkbox" \n                            class="todo-checkbox" \n                            ${todo.completed ? ''checked'' : ''''}\n                            onchange="app.toggleTodo(${todo.id})"\n                        >\n                        <span class="todo-text">${this.escapeHtml(todo.text)}</span>\n                        <input \n                            type="text" \n                            class="todo-edit-input" \n                            value="${this.escapeHtml(todo.text)}"\n                            onblur="app.saveEdit(${todo.id}, this.value)"\n                            onkeypress="if(event.key === ''Enter'') app.saveEdit(${todo.id}, this.value)"\n                            onkeydown="if(event.key === ''Escape'') app.cancelEdit()"\n                        >\n                        <div class="todo-actions">\n                            <button class="todo-btn edit-btn" onclick="app.startEditing(${todo.id})">\n                                Edit\n                            </button>\n                            <button class="todo-btn delete-btn" onclick="app.deleteTodo(${todo.id})">\n                                Delete\n                            </button>\n                        </div>\n                    </li>\n                `;\n            }).join('''');\n        }\n        \n        // Update count\n        const activeCount = this.getActiveCount();\n        this.todoCount.textContent = `${activeCount} ${activeCount === 1 ? ''item'' : ''items''} left`;\n        \n        // Update clear completed button\n        const completedCount = this.todos.filter(t => t.completed).length;\n        this.clearCompletedBtn.disabled = completedCount === 0;\n    }\n    \n    escapeHtml(text) {\n        const div = document.createElement(''div'');\n        div.textContent = text;\n        return div.innerHTML;\n    }\n}\n\n// Initialize app\nconst app = new TodoApp();\n```\n\n---\n\n## Features Implementation\n\n### DOM Manipulation\n\n- **Dynamic List Rendering**: Todos are rendered dynamically based on state\n- **Event Delegation**: Efficient event handling\n- **DOM Updates**: Smooth updates without page refresh\n\n### Event Handling\n\n- **Form Submission**: Add new todos\n- **Click Events**: Edit, delete, toggle todos\n- **Keyboard Events**: Enter to save, Escape to cancel\n- **Change Events**: Checkbox toggles\n\n### Local Storage\n\n- **Persist Data**: Todos saved automatically\n- **Load on Start**: Todos loaded when app starts\n- **Sync Updates**: All changes saved immediately\n\n### CRUD Operations\n\n- **Create**: Add new todos\n- **Read**: Display todos with filtering\n- **Update**: Edit todo text and toggle completion\n- **Delete**: Remove individual or completed todos\n\n---\n\n## Testing Your Application\n\n### Manual Testing Checklist\n\n- [ ] Add a new todo\n- [ ] Mark todo as complete\n- [ ] Edit todo text\n- [ ] Delete a todo\n- [ ] Filter by All/Active/Completed\n- [ ] Clear all completed todos\n- [ ] Refresh page (data should persist)\n- [ ] Test with empty input\n- [ ] Test with special characters\n- [ ] Test keyboard shortcuts\n\n---\n\n## Exercise: Build Todo App\n\n**Instructions**:\n\n1. Create the project structure\n2. Implement all files as shown\n3. Test all features\n4. Customize the design\n5. Add your own enhancements\n\n**Enhancement Ideas**:\n\n- Add due dates\n- Add priority levels\n- Add categories/tags\n- Add search functionality\n- Add drag-and-drop reordering\n- Add animations\n- Add dark mode\n- Add export/import functionality\n\n---\n\n## Common Issues and Solutions\n\n### Issue: Todos not persisting\n\n**Solution**: Check browser console for errors. Ensure localStorage is enabled.\n\n### Issue: Events not working\n\n**Solution**: Make sure DOM is loaded before initializing app. Use DOMContentLoaded event if needed.\n\n### Issue: Editing not working\n\n**Solution**: Check that editingId is being set correctly and input events are attached.\n\n---\n\n## Quiz: Project Concepts\n\n1. **Local storage stores data as:**\n   - A) Strings\n   - B) Objects\n   - C) Both (JSON stringified)\n   - D) Neither\n\n2. **DOM manipulation:**\n   - A) Changes page structure\n   - B) Doesn''t change page\n   - C) Both\n   - D) Neither\n\n3. **Event handling:**\n   - A) Responds to user actions\n   - B) Doesn''t respond\n   - C) Both\n   - D) Neither\n\n4. **CRUD stands for:**\n   - A) Create, Read, Update, Delete\n   - B) Create, Remove, Update, Delete\n   - C) Both\n   - D) Neither\n\n5. **Local storage:**\n   - A) Persists data\n   - B) Temporary data\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Strings (JSON stringified)\n2. A) Changes page structure\n3. A) Responds to user actions\n4. A) Create, Read, Update, Delete\n5. A) Persists data\n\n---\n\n## Key Takeaways\n\n1. **DOM Manipulation**: Essential for dynamic web pages\n2. **Event Handling**: Responds to user interactions\n3. **Local Storage**: Persists data in browser\n4. **CRUD Operations**: Core functionality of most apps\n5. **Code Organization**: Separate concerns into modules\n6. **Best Practice**: Clean, maintainable code structure\n\n---\n\n## Next Steps\n\nCongratulations! You''ve built a complete Todo List application. You now know:\n- How to manipulate the DOM\n- How to handle events\n- How to use local storage\n- How to implement CRUD operations\n\n**What''s Next?**\n- Project 1.2: Weather App\n- Learn API integration\n- Work with external data\n- Build a weather application\n\n---\n\n*Project completed! You''re ready to move on to the next project.*\n\n', NULL, 1, '2026-01-03 10:32:02', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Manipulate the DOM dynamically\n- Handle various user events\n- Store data in local storage\n- Implement CRUD operations\n- Build a complete interactive application\n- Structure JavaScript code effectively');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (195, 71, 18, 'Weather App', 'weather-app', '# Project 1.2: Weather App\n\n## Project Overview\n\nBuild a Weather Application that fetches real-time weather data from an API and displays it in a beautiful, user-friendly interface. This project will help you practice API integration, Fetch API, error handling, and UI design.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Integrate with external APIs\n- Use Fetch API for HTTP requests\n- Handle API errors gracefully\n- Design responsive user interfaces\n- Parse and display JSON data\n- Handle async operations\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **Search by City**: Enter city name to get weather\n2. **Current Weather**: Display current temperature, conditions\n3. **Weather Details**: Show humidity, wind speed, pressure\n4. **Weather Icons**: Visual representation of weather\n5. **Error Handling**: Handle API errors and invalid inputs\n6. **Loading States**: Show loading indicators\n7. **Recent Searches**: Remember recent city searches\n8. **Responsive Design**: Works on all devices\n\n### Technical Requirements\n\n- Use Fetch API for HTTP requests\n- Use a weather API (OpenWeatherMap recommended)\n- Handle errors gracefully\n- Responsive CSS design\n- Clean, organized code\n- API key management\n\n---\n\n## Project Structure\n\n```\nweather-app/\n├── index.html\n├── css/\n│   └── style.css\n├── js/\n│   ├── app.js\n│   ├── api.js\n│   └── ui.js\n└── README.md\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Step 1: Get API Key\n\n1. Sign up at [OpenWeatherMap](https://openweathermap.org/api)\n2. Get your free API key\n3. Store it securely (use environment variables in production)\n\n### Step 2: HTML Structure\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Weather App</title>\n    <link rel="stylesheet" href="css/style.css">\n    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">\n</head>\n<body>\n    <div class="container">\n        <header>\n            <h1><i class="fas fa-cloud-sun"></i> Weather App</h1>\n        </header>\n        \n        <main>\n            <!-- Search Section -->\n            <div class="search-section">\n                <form id="search-form">\n                    <input \n                        type="text" \n                        id="city-input" \n                        placeholder="Enter city name..."\n                        autocomplete="off"\n                    >\n                    <button type="submit">\n                        <i class="fas fa-search"></i>\n                    </button>\n                </form>\n                <div id="error-message" class="error-message hidden"></div>\n            </div>\n            \n            <!-- Loading Indicator -->\n            <div id="loading" class="loading hidden">\n                <i class="fas fa-spinner fa-spin"></i>\n                <p>Loading weather data...</p>\n            </div>\n            \n            <!-- Weather Display -->\n            <div id="weather-container" class="weather-container hidden">\n                <!-- Current Weather -->\n                <div class="current-weather">\n                    <div class="location">\n                        <h2 id="city-name"></h2>\n                        <p id="date"></p>\n                    </div>\n                    <div class="temperature">\n                        <img id="weather-icon" src="" alt="Weather icon">\n                        <div>\n                            <span id="temperature"></span>\n                            <span class="unit">°C</span>\n                        </div>\n                    </div>\n                    <div class="description">\n                        <p id="weather-description"></p>\n                    </div>\n                </div>\n                \n                <!-- Weather Details -->\n                <div class="weather-details">\n                    <div class="detail-item">\n                        <i class="fas fa-tint"></i>\n                        <div>\n                            <p class="label">Humidity</p>\n                            <p id="humidity" class="value"></p>\n                        </div>\n                    </div>\n                    <div class="detail-item">\n                        <i class="fas fa-wind"></i>\n                        <div>\n                            <p class="label">Wind Speed</p>\n                            <p id="wind-speed" class="value"></p>\n                        </div>\n                    </div>\n                    <div class="detail-item">\n                        <i class="fas fa-compress-arrows-alt"></i>\n                        <div>\n                            <p class="label">Pressure</p>\n                            <p id="pressure" class="value"></p>\n                        </div>\n                    </div>\n                    <div class="detail-item">\n                        <i class="fas fa-eye"></i>\n                        <div>\n                            <p class="label">Visibility</p>\n                            <p id="visibility" class="value"></p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <!-- Recent Searches -->\n            <div class="recent-searches">\n                <h3>Recent Searches</h3>\n                <div id="recent-list" class="recent-list"></div>\n            </div>\n        </main>\n    </div>\n    \n    <script src="js/api.js"></script>\n    <script src="js/ui.js"></script>\n    <script src="js/app.js"></script>\n</body>\n</html>\n```\n\n### Step 3: CSS Styling\n\n```css\n/* css/style.css */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: ''Segoe UI'', Tahoma, Geneva, Verdana, sans-serif;\n    background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);\n    min-height: 100vh;\n    padding: 20px;\n}\n\n.container {\n    max-width: 600px;\n    margin: 0 auto;\n}\n\nheader {\n    text-align: center;\n    color: white;\n    margin-bottom: 30px;\n}\n\nheader h1 {\n    font-size: 2.5em;\n    font-weight: 300;\n    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.search-section {\n    margin-bottom: 30px;\n}\n\n#search-form {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 10px;\n}\n\n#city-input {\n    flex: 1;\n    padding: 15px;\n    border: none;\n    border-radius: 10px;\n    font-size: 16px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n#city-input:focus {\n    outline: none;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n}\n\n#search-form button {\n    padding: 15px 20px;\n    background: white;\n    border: none;\n    border-radius: 10px;\n    cursor: pointer;\n    font-size: 18px;\n    color: #0984e3;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    transition: all 0.3s;\n}\n\n#search-form button:hover {\n    background: #f0f0f0;\n    transform: translateY(-2px);\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n}\n\n.error-message {\n    background: #ff6b6b;\n    color: white;\n    padding: 12px;\n    border-radius: 5px;\n    text-align: center;\n    margin-top: 10px;\n}\n\n.error-message.hidden {\n    display: none;\n}\n\n.loading {\n    text-align: center;\n    color: white;\n    padding: 40px;\n}\n\n.loading i {\n    font-size: 3em;\n    margin-bottom: 20px;\n}\n\n.loading.hidden {\n    display: none;\n}\n\n.weather-container {\n    background: white;\n    border-radius: 20px;\n    padding: 30px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n    margin-bottom: 30px;\n}\n\n.weather-container.hidden {\n    display: none;\n}\n\n.current-weather {\n    text-align: center;\n    margin-bottom: 30px;\n    padding-bottom: 30px;\n    border-bottom: 1px solid #e0e0e0;\n}\n\n.location h2 {\n    font-size: 2em;\n    color: #333;\n    margin-bottom: 5px;\n}\n\n.location p {\n    color: #666;\n    font-size: 14px;\n}\n\n.temperature {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 20px;\n    margin: 20px 0;\n}\n\n.temperature img {\n    width: 80px;\n    height: 80px;\n}\n\n.temperature span {\n    font-size: 4em;\n    font-weight: 300;\n    color: #333;\n}\n\n.temperature .unit {\n    font-size: 2em;\n    vertical-align: super;\n}\n\n.description p {\n    font-size: 1.2em;\n    color: #666;\n    text-transform: capitalize;\n}\n\n.weather-details {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 20px;\n}\n\n.detail-item {\n    display: flex;\n    align-items: center;\n    gap: 15px;\n    padding: 15px;\n    background: #f8f9fa;\n    border-radius: 10px;\n}\n\n.detail-item i {\n    font-size: 2em;\n    color: #0984e3;\n}\n\n.detail-item .label {\n    font-size: 12px;\n    color: #666;\n    margin-bottom: 5px;\n}\n\n.detail-item .value {\n    font-size: 18px;\n    font-weight: 600;\n    color: #333;\n}\n\n.recent-searches {\n    background: white;\n    border-radius: 20px;\n    padding: 20px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n}\n\n.recent-searches h3 {\n    color: #333;\n    margin-bottom: 15px;\n}\n\n.recent-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px;\n}\n\n.recent-item {\n    padding: 8px 16px;\n    background: #f8f9fa;\n    border-radius: 20px;\n    cursor: pointer;\n    transition: all 0.3s;\n    font-size: 14px;\n}\n\n.recent-item:hover {\n    background: #e9ecef;\n    transform: translateY(-2px);\n}\n\n@media (max-width: 600px) {\n    .weather-details {\n        grid-template-columns: 1fr;\n    }\n    \n    .temperature {\n        flex-direction: column;\n    }\n    \n    header h1 {\n        font-size: 2em;\n    }\n}\n```\n\n### Step 4: API Module\n\n```javascript\n// js/api.js\nclass WeatherAPI {\n    constructor() {\n        // Replace with your API key\n        this.apiKey = ''YOUR_API_KEY_HERE'';\n        this.baseURL = ''https://api.openweathermap.org/data/2.5'';\n    }\n    \n    async getWeather(city) {\n        try {\n            const url = `${this.baseURL}/weather?q=${city}&appid=${this.apiKey}&units=metric`;\n            const response = await fetch(url);\n            \n            if (!response.ok) {\n                if (response.status === 404) {\n                    throw new Error(''City not found'');\n                }\n                throw new Error(''Failed to fetch weather data'');\n            }\n            \n            const data = await response.json();\n            return this.formatWeatherData(data);\n        } catch (error) {\n            throw error;\n        }\n    }\n    \n    formatWeatherData(data) {\n        return {\n            city: data.name,\n            country: data.sys.country,\n            temperature: Math.round(data.main.temp),\n            feelsLike: Math.round(data.main.feels_like),\n            description: data.weather[0].description,\n            icon: data.weather[0].icon,\n            humidity: data.main.humidity,\n            windSpeed: data.wind.speed,\n            pressure: data.main.pressure,\n            visibility: data.visibility ? (data.visibility / 1000).toFixed(1) : ''N/A'',\n            date: new Date().toLocaleDateString(''en-US'', {\n                weekday: ''long'',\n                year: ''numeric'',\n                month: ''long'',\n                day: ''numeric''\n            })\n        };\n    }\n    \n    getIconURL(iconCode) {\n        return `https://openweathermap.org/img/wn/${iconCode}@2x.png`;\n    }\n}\n```\n\n### Step 5: UI Module\n\n```javascript\n// js/ui.js\nclass WeatherUI {\n    constructor() {\n        this.initializeElements();\n    }\n    \n    initializeElements() {\n        this.weatherContainer = document.getElementById(''weather-container'');\n        this.loading = document.getElementById(''loading'');\n        this.errorMessage = document.getElementById(''error-message'');\n        this.cityName = document.getElementById(''city-name'');\n        this.date = document.getElementById(''date'');\n        this.temperature = document.getElementById(''temperature'');\n        this.weatherIcon = document.getElementById(''weather-icon'');\n        this.weatherDescription = document.getElementById(''weather-description'');\n        this.humidity = document.getElementById(''humidity'');\n        this.windSpeed = document.getElementById(''wind-speed'');\n        this.pressure = document.getElementById(''pressure'');\n        this.visibility = document.getElementById(''visibility'');\n        this.recentList = document.getElementById(''recent-list'');\n    }\n    \n    showLoading() {\n        this.loading.classList.remove(''hidden'');\n        this.weatherContainer.classList.add(''hidden'');\n        this.hideError();\n    }\n    \n    hideLoading() {\n        this.loading.classList.add(''hidden'');\n    }\n    \n    showWeather(weatherData, api) {\n        this.hideLoading();\n        this.hideError();\n        \n        this.cityName.textContent = `${weatherData.city}, ${weatherData.country}`;\n        this.date.textContent = weatherData.date;\n        this.temperature.textContent = weatherData.temperature;\n        this.weatherIcon.src = api.getIconURL(weatherData.icon);\n        this.weatherIcon.alt = weatherData.description;\n        this.weatherDescription.textContent = weatherData.description;\n        this.humidity.textContent = `${weatherData.humidity}%`;\n        this.windSpeed.textContent = `${weatherData.windSpeed} m/s`;\n        this.pressure.textContent = `${weatherData.pressure} hPa`;\n        this.visibility.textContent = `${weatherData.visibility} km`;\n        \n        this.weatherContainer.classList.remove(''hidden'');\n    }\n    \n    showError(message) {\n        this.hideLoading();\n        this.weatherContainer.classList.add(''hidden'');\n        this.errorMessage.textContent = message;\n        this.errorMessage.classList.remove(''hidden'');\n    }\n    \n    hideError() {\n        this.errorMessage.classList.add(''hidden'');\n    }\n    \n    addRecentSearch(city) {\n        const recentSearches = this.getRecentSearches();\n        if (!recentSearches.includes(city)) {\n            recentSearches.unshift(city);\n            if (recentSearches.length > 5) {\n                recentSearches.pop();\n            }\n            localStorage.setItem(''recentSearches'', JSON.stringify(recentSearches));\n            this.renderRecentSearches();\n        }\n    }\n    \n    getRecentSearches() {\n        const stored = localStorage.getItem(''recentSearches'');\n        return stored ? JSON.parse(stored) : [];\n    }\n    \n    renderRecentSearches() {\n        const recentSearches = this.getRecentSearches();\n        if (recentSearches.length === 0) {\n            this.recentList.innerHTML = ''<p style="color: #666;">No recent searches</p>'';\n            return;\n        }\n        \n        this.recentList.innerHTML = recentSearches.map(city => \n            `<span class="recent-item" data-city="${city}">${city}</span>`\n        ).join('''');\n    }\n}\n```\n\n### Step 6: Main Application\n\n```javascript\n// js/app.js\nclass WeatherApp {\n    constructor() {\n        this.api = new WeatherAPI();\n        this.ui = new WeatherUI();\n        this.initializeApp();\n    }\n    \n    initializeApp() {\n        this.attachEventListeners();\n        this.ui.renderRecentSearches();\n        \n        // Load weather for default city (optional)\n        // this.loadWeather(''London'');\n    }\n    \n    attachEventListeners() {\n        const form = document.getElementById(''search-form'');\n        form.addEventListener(''submit'', (e) => {\n            e.preventDefault();\n            this.handleSearch();\n        });\n        \n        // Recent searches click\n        this.ui.recentList.addEventListener(''click'', (e) => {\n            if (e.target.classList.contains(''recent-item'')) {\n                const city = e.target.dataset.city;\n                document.getElementById(''city-input'').value = city;\n                this.loadWeather(city);\n            }\n        });\n    }\n    \n    async handleSearch() {\n        const input = document.getElementById(''city-input'');\n        const city = input.value.trim();\n        \n        if (!city) {\n            this.ui.showError(''Please enter a city name'');\n            return;\n        }\n        \n        await this.loadWeather(city);\n    }\n    \n    async loadWeather(city) {\n        try {\n            this.ui.showLoading();\n            const weatherData = await this.api.getWeather(city);\n            this.ui.showWeather(weatherData, this.api);\n            this.ui.addRecentSearch(city);\n        } catch (error) {\n            this.ui.showError(error.message);\n        }\n    }\n}\n\n// Initialize app\nconst app = new WeatherApp();\n```\n\n---\n\n## API Integration\n\n### Fetch API Usage\n\n- **GET Requests**: Fetch weather data\n- **Error Handling**: Handle network and API errors\n- **Async/Await**: Modern async handling\n- **Response Parsing**: Convert JSON to usable data\n\n### Error Handling\n\n- **Network Errors**: Connection issues\n- **API Errors**: Invalid city, API key issues\n- **User Feedback**: Clear error messages\n- **Graceful Degradation**: App continues to work\n\n---\n\n## Testing Your Application\n\n### Manual Testing Checklist\n\n- [ ] Search for a valid city\n- [ ] Search for invalid city (error handling)\n- [ ] Check all weather data displays correctly\n- [ ] Test recent searches functionality\n- [ ] Test with empty input\n- [ ] Test loading states\n- [ ] Test on mobile devices\n- [ ] Test with slow network (loading indicator)\n\n---\n\n## Exercise: Build Weather App\n\n**Instructions**:\n\n1. Sign up for OpenWeatherMap API\n2. Get your API key\n3. Create all files as shown\n4. Replace ''YOUR_API_KEY_HERE'' with your actual key\n5. Test all features\n6. Customize the design\n\n**Enhancement Ideas**:\n\n- Add 5-day forecast\n- Add hourly forecast\n- Add weather maps\n- Add location-based weather (geolocation)\n- Add unit conversion (Celsius/Fahrenheit)\n- Add weather alerts\n- Add favorite cities\n- Add weather history\n\n---\n\n## Common Issues and Solutions\n\n### Issue: API key not working\n\n**Solution**: Check that you''ve replaced the placeholder and that your API key is valid.\n\n### Issue: CORS errors\n\n**Solution**: OpenWeatherMap API supports CORS. If you see CORS errors, check your API key.\n\n### Issue: City not found\n\n**Solution**: Ensure city name is spelled correctly. Try using city, country format.\n\n---\n\n## Quiz: API Integration\n\n1. **Fetch API:**\n   - A) Modern way to make HTTP requests\n   - B) Old way to make requests\n   - C) Both\n   - D) Neither\n\n2. **async/await:**\n   - A) Handles asynchronous operations\n   - B) Handles synchronous operations\n   - C) Both\n   - D) Neither\n\n3. **Error handling:**\n   - A) Important for API calls\n   - B) Not important\n   - C) Both\n   - D) Neither\n\n4. **API key:**\n   - A) Should be kept secret\n   - B) Can be public\n   - C) Both\n   - D) Neither\n\n5. **Loading states:**\n   - A) Improve user experience\n   - B) Don''t improve UX\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Modern way to make HTTP requests\n2. A) Handles asynchronous operations\n3. A) Important for API calls\n4. A) Should be kept secret\n5. A) Improve user experience\n\n---\n\n## Key Takeaways\n\n1. **API Integration**: Connect to external services\n2. **Fetch API**: Modern HTTP client\n3. **Error Handling**: Essential for robust apps\n4. **Async Operations**: Handle asynchronous data\n5. **UI Design**: Create beautiful interfaces\n6. **Best Practice**: Handle all error cases\n\n---\n\n## Next Steps\n\nCongratulations! You''ve built a Weather Application. You now know:\n- How to integrate with APIs\n- How to use Fetch API\n- How to handle errors\n- How to design user interfaces\n\n**What''s Next?**\n- Project 1.3: Calculator\n- Learn state management\n- Build a calculator application\n- Practice event handling\n\n---\n\n*Project completed! You''re ready to move on to the next project.*\n\n', NULL, 2, '2026-01-03 10:32:36', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Integrate with external APIs\n- Use Fetch API for HTTP requests\n- Handle API errors gracefully\n- Design responsive user interfaces\n- Parse and display JSON data\n- Handle async operations');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (196, 71, 18, 'Calculator', 'calculator', '# Project 1.3: Calculator\n\n## Project Overview\n\nBuild a fully functional Calculator application with a modern, clean interface. This project will help you practice event handling, state management, mathematical operations, and building interactive user interfaces.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Handle complex event interactions\n- Manage application state\n- Perform mathematical operations\n- Build interactive UI components\n- Handle edge cases and errors\n- Create a polished user experience\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **Basic Operations**: Addition, subtraction, multiplication, division\n2. **Number Input**: Enter numbers via buttons or keyboard\n3. **Clear Function**: Clear current input or all\n4. **Decimal Support**: Handle decimal numbers\n5. **Equals Function**: Calculate and display result\n6. **Error Handling**: Handle division by zero, invalid operations\n7. **Keyboard Support**: Use keyboard for input\n8. **History Display**: Show calculation history (optional)\n\n### Technical Requirements\n\n- Use vanilla JavaScript\n- Clean, modern UI design\n- Responsive layout\n- Proper state management\n- Error handling\n- Keyboard accessibility\n\n---\n\n## Project Structure\n\n```\ncalculator/\n├── index.html\n├── css/\n│   └── style.css\n├── js/\n│   ├── app.js\n│   ├── calculator.js\n│   └── display.js\n└── README.md\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Step 1: HTML Structure\n\n```html\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Calculator</title>\n    <link rel="stylesheet" href="css/style.css">\n</head>\n<body>\n    <div class="container">\n        <div class="calculator">\n            <header>\n                <h1>Calculator</h1>\n            </header>\n            \n            <!-- Display -->\n            <div class="display-container">\n                <div id="history" class="history"></div>\n                <div id="display" class="display">0</div>\n            </div>\n            \n            <!-- Buttons -->\n            <div class="buttons">\n                <!-- Row 1 -->\n                <button class="btn btn-clear" data-action="clear">C</button>\n                <button class="btn btn-clear" data-action="clear-entry">CE</button>\n                <button class="btn btn-operator" data-operator="%">%</button>\n                <button class="btn btn-operator" data-operator="/">÷</button>\n                \n                <!-- Row 2 -->\n                <button class="btn btn-number" data-number="7">7</button>\n                <button class="btn btn-number" data-number="8">8</button>\n                <button class="btn btn-number" data-number="9">9</button>\n                <button class="btn btn-operator" data-operator="*">×</button>\n                \n                <!-- Row 3 -->\n                <button class="btn btn-number" data-number="4">4</button>\n                <button class="btn btn-number" data-number="5">5</button>\n                <button class="btn btn-number" data-number="6">6</button>\n                <button class="btn btn-operator" data-operator="-">−</button>\n                \n                <!-- Row 4 -->\n                <button class="btn btn-number" data-number="1">1</button>\n                <button class="btn btn-number" data-number="2">2</button>\n                <button class="btn btn-number" data-number="3">3</button>\n                <button class="btn btn-operator" data-operator="+">+</button>\n                \n                <!-- Row 5 -->\n                <button class="btn btn-number btn-zero" data-number="0">0</button>\n                <button class="btn btn-number" data-number=".">.</button>\n                <button class="btn btn-equals" data-action="equals">=</button>\n            </div>\n        </div>\n    </div>\n    \n    <script src="js/calculator.js"></script>\n    <script src="js/display.js"></script>\n    <script src="js/app.js"></script>\n</body>\n</html>\n```\n\n### Step 2: CSS Styling\n\n```css\n/* css/style.css */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: ''Segoe UI'', Tahoma, Geneva, Verdana, sans-serif;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    min-height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 20px;\n}\n\n.container {\n    width: 100%;\n    max-width: 400px;\n}\n\n.calculator {\n    background: #1a1a1a;\n    border-radius: 20px;\n    padding: 20px;\n    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n}\n\nheader {\n    text-align: center;\n    margin-bottom: 20px;\n}\n\nheader h1 {\n    color: white;\n    font-size: 1.5em;\n    font-weight: 300;\n}\n\n.display-container {\n    background: #2a2a2a;\n    border-radius: 10px;\n    padding: 20px;\n    margin-bottom: 20px;\n    min-height: 120px;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n}\n\n.history {\n    color: #888;\n    font-size: 0.9em;\n    min-height: 20px;\n    text-align: right;\n    margin-bottom: 10px;\n    word-break: break-all;\n}\n\n.display {\n    color: white;\n    font-size: 3em;\n    text-align: right;\n    word-break: break-all;\n    overflow-wrap: break-word;\n}\n\n.buttons {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 10px;\n}\n\n.btn {\n    padding: 20px;\n    border: none;\n    border-radius: 10px;\n    font-size: 1.2em;\n    cursor: pointer;\n    transition: all 0.2s;\n    font-weight: 500;\n}\n\n.btn:active {\n    transform: scale(0.95);\n}\n\n.btn-number {\n    background: #3a3a3a;\n    color: white;\n}\n\n.btn-number:hover {\n    background: #4a4a4a;\n}\n\n.btn-operator {\n    background: #ff9500;\n    color: white;\n}\n\n.btn-operator:hover {\n    background: #ffaa33;\n}\n\n.btn-operator.active {\n    background: white;\n    color: #ff9500;\n}\n\n.btn-clear {\n    background: #505050;\n    color: white;\n}\n\n.btn-clear:hover {\n    background: #606060;\n}\n\n.btn-equals {\n    background: #ff9500;\n    color: white;\n    grid-column: span 1;\n}\n\n.btn-equals:hover {\n    background: #ffaa33;\n}\n\n.btn-zero {\n    grid-column: span 1;\n}\n\n@media (max-width: 480px) {\n    .display {\n        font-size: 2.5em;\n    }\n    \n    .btn {\n        padding: 15px;\n        font-size: 1em;\n    }\n}\n```\n\n### Step 3: Calculator Logic\n\n```javascript\n// js/calculator.js\nclass Calculator {\n    constructor() {\n        this.currentValue = ''0'';\n        this.previousValue = null;\n        this.operator = null;\n        this.waitingForOperand = false;\n    }\n    \n    inputNumber(number) {\n        if (this.waitingForOperand) {\n            this.currentValue = number;\n            this.waitingForOperand = false;\n        } else {\n            this.currentValue = this.currentValue === ''0'' ? number : this.currentValue + number;\n        }\n    }\n    \n    inputDecimal() {\n        if (this.waitingForOperand) {\n            this.currentValue = ''0.'';\n            this.waitingForOperand = false;\n        } else if (this.currentValue.indexOf(''.'') === -1) {\n            this.currentValue += ''.'';\n        }\n    }\n    \n    clear() {\n        this.currentValue = ''0'';\n        this.previousValue = null;\n        this.operator = null;\n        this.waitingForOperand = false;\n    }\n    \n    clearEntry() {\n        this.currentValue = ''0'';\n    }\n    \n    performOperation(nextOperator) {\n        const inputValue = parseFloat(this.currentValue);\n        \n        if (this.previousValue === null) {\n            this.previousValue = inputValue;\n        } else if (this.operator) {\n            const currentValue = this.previousValue || 0;\n            const newValue = this.calculate(currentValue, inputValue, this.operator);\n            \n            this.currentValue = String(newValue);\n            this.previousValue = newValue;\n        }\n        \n        this.waitingForOperand = true;\n        this.operator = nextOperator;\n    }\n    \n    calculate(firstValue, secondValue, operator) {\n        switch (operator) {\n            case ''+'':\n                return firstValue + secondValue;\n            case ''-'':\n                return firstValue - secondValue;\n            case ''*'':\n                return firstValue * secondValue;\n            case ''/'':\n                if (secondValue === 0) {\n                    throw new Error(''Cannot divide by zero'');\n                }\n                return firstValue / secondValue;\n            case ''%'':\n                return firstValue % secondValue;\n            default:\n                return secondValue;\n        }\n    }\n    \n    equals() {\n        if (this.operator && this.previousValue !== null) {\n            const inputValue = parseFloat(this.currentValue);\n            const newValue = this.calculate(this.previousValue, inputValue, this.operator);\n            \n            this.currentValue = String(newValue);\n            this.previousValue = null;\n            this.operator = null;\n            this.waitingForOperand = true;\n        }\n    }\n    \n    getDisplayValue() {\n        return this.currentValue;\n    }\n    \n    getHistory() {\n        if (this.previousValue !== null && this.operator) {\n            return `${this.previousValue} ${this.operator}`;\n        }\n        return '''';\n    }\n}\n```\n\n### Step 4: Display Module\n\n```javascript\n// js/display.js\nclass Display {\n    constructor() {\n        this.display = document.getElementById(''display'');\n        this.history = document.getElementById(''history'');\n    }\n    \n    updateDisplay(value) {\n        // Format large numbers\n        const numValue = parseFloat(value);\n        if (isNaN(numValue)) {\n            this.display.textContent = ''Error'';\n            return;\n        }\n        \n        // Handle very large numbers\n        if (Math.abs(numValue) > 999999999) {\n            this.display.textContent = numValue.toExponential(3);\n        } else {\n            // Format with appropriate decimal places\n            const formatted = this.formatNumber(value);\n            this.display.textContent = formatted;\n        }\n    }\n    \n    formatNumber(value) {\n        const num = parseFloat(value);\n        if (isNaN(num)) return ''0'';\n        \n        // If it''s an integer, don''t show decimals\n        if (num % 1 === 0) {\n            return num.toString();\n        }\n        \n        // Otherwise, limit to 9 decimal places\n        return num.toFixed(9).replace(/\\.?0+$/, '''');\n    }\n    \n    updateHistory(history) {\n        this.history.textContent = history;\n    }\n    \n    showError(message) {\n        this.display.textContent = message;\n        this.history.textContent = '''';\n    }\n}\n```\n\n### Step 5: Main Application\n\n```javascript\n// js/app.js\nclass CalculatorApp {\n    constructor() {\n        this.calculator = new Calculator();\n        this.display = new Display();\n        this.initializeApp();\n    }\n    \n    initializeApp() {\n        this.attachEventListeners();\n        this.attachKeyboardListeners();\n        this.updateDisplay();\n    }\n    \n    attachEventListeners() {\n        // Number buttons\n        document.querySelectorAll(''.btn-number[data-number]'').forEach(btn => {\n            btn.addEventListener(''click'', () => {\n                const number = btn.dataset.number;\n                if (number === ''.'') {\n                    this.calculator.inputDecimal();\n                } else {\n                    this.calculator.inputNumber(number);\n                }\n                this.updateDisplay();\n            });\n        });\n        \n        // Operator buttons\n        document.querySelectorAll(''.btn-operator[data-operator]'').forEach(btn => {\n            btn.addEventListener(''click'', () => {\n                const operator = btn.dataset.operator;\n                try {\n                    this.calculator.performOperation(operator);\n                    this.updateDisplay();\n                    this.updateOperatorButtons();\n                } catch (error) {\n                    this.display.showError(error.message);\n                }\n            });\n        });\n        \n        // Equals button\n        document.querySelector(''.btn-equals'').addEventListener(''click'', () => {\n            try {\n                this.calculator.equals();\n                this.updateDisplay();\n                this.updateOperatorButtons();\n            } catch (error) {\n                this.display.showError(error.message);\n            }\n        });\n        \n        // Clear buttons\n        document.querySelector(''[data-action="clear"]'').addEventListener(''click'', () => {\n            this.calculator.clear();\n            this.updateDisplay();\n            this.updateOperatorButtons();\n        });\n        \n        document.querySelector(''[data-action="clear-entry"]'').addEventListener(''click'', () => {\n            this.calculator.clearEntry();\n            this.updateDisplay();\n        });\n    }\n    \n    attachKeyboardListeners() {\n        document.addEventListener(''keydown'', (e) => {\n            // Prevent default for calculator keys\n            if (this.isCalculatorKey(e.key)) {\n                e.preventDefault();\n            }\n            \n            // Handle number keys\n            if (e.key >= ''0'' && e.key <= ''9'') {\n                this.calculator.inputNumber(e.key);\n                this.updateDisplay();\n            }\n            \n            // Handle decimal\n            if (e.key === ''.'') {\n                this.calculator.inputDecimal();\n                this.updateDisplay();\n            }\n            \n            // Handle operators\n            if ([''+'', ''-'', ''*'', ''/'', ''%''].includes(e.key)) {\n                try {\n                    this.calculator.performOperation(e.key);\n                    this.updateDisplay();\n                    this.updateOperatorButtons();\n                } catch (error) {\n                    this.display.showError(error.message);\n                }\n            }\n            \n            // Handle equals\n            if (e.key === ''='' || e.key === ''Enter'') {\n                try {\n                    this.calculator.equals();\n                    this.updateDisplay();\n                    this.updateOperatorButtons();\n                } catch (error) {\n                    this.display.showError(error.message);\n                }\n            }\n            \n            // Handle clear\n            if (e.key === ''Escape'') {\n                this.calculator.clear();\n                this.updateDisplay();\n                this.updateOperatorButtons();\n            }\n            \n            // Handle backspace\n            if (e.key === ''Backspace'') {\n                const current = this.calculator.getDisplayValue();\n                if (current.length > 1) {\n                    this.calculator.currentValue = current.slice(0, -1);\n                } else {\n                    this.calculator.currentValue = ''0'';\n                }\n                this.updateDisplay();\n            }\n        });\n    }\n    \n    isCalculatorKey(key) {\n        return (key >= ''0'' && key <= ''9'') ||\n               [''+'', ''-'', ''*'', ''/'', ''%'', ''.'', ''='', ''Enter'', ''Escape'', ''Backspace''].includes(key);\n    }\n    \n    updateDisplay() {\n        this.display.updateDisplay(this.calculator.getDisplayValue());\n        this.display.updateHistory(this.calculator.getHistory());\n    }\n    \n    updateOperatorButtons() {\n        document.querySelectorAll(''.btn-operator'').forEach(btn => {\n            btn.classList.remove(''active'');\n        });\n        \n        if (this.calculator.operator) {\n            const activeBtn = document.querySelector(`[data-operator="${this.calculator.operator}"]`);\n            if (activeBtn) {\n                activeBtn.classList.add(''active'');\n            }\n        }\n    }\n}\n\n// Initialize app\nconst app = new CalculatorApp();\n```\n\n---\n\n## Features Implementation\n\n### Event Handling\n\n- **Button Clicks**: All calculator buttons functional\n- **Keyboard Support**: Full keyboard input support\n- **Visual Feedback**: Active operator highlighting\n- **Smooth Interactions**: Button press animations\n\n### State Management\n\n- **Current Value**: Currently displayed number\n- **Previous Value**: Stored for operations\n- **Operator**: Current operation type\n- **Waiting Flag**: Tracks input state\n\n### Mathematical Operations\n\n- **Basic Operations**: +, -, *, /\n- **Modulo**: % operation\n- **Decimal Support**: Proper decimal handling\n- **Error Handling**: Division by zero, invalid operations\n\n---\n\n## Testing Your Application\n\n### Manual Testing Checklist\n\n- [ ] Test all number buttons\n- [ ] Test all operators\n- [ ] Test equals function\n- [ ] Test clear functions\n- [ ] Test decimal input\n- [ ] Test division by zero\n- [ ] Test keyboard input\n- [ ] Test chained operations\n- [ ] Test large numbers\n- [ ] Test negative numbers\n\n---\n\n## Exercise: Build Calculator\n\n**Instructions**:\n\n1. Create all files as shown\n2. Implement all features\n3. Test thoroughly\n4. Customize the design\n5. Add your own enhancements\n\n**Enhancement Ideas**:\n\n- Add scientific calculator functions\n- Add memory functions (M+, M-, MR, MC)\n- Add calculation history\n- Add theme switcher (light/dark)\n- Add sound effects\n- Add animation effects\n- Add keyboard shortcuts display\n- Add unit conversion\n\n---\n\n## Common Issues and Solutions\n\n### Issue: Decimal input not working\n\n**Solution**: Check that inputDecimal() properly handles the waitingForOperand state.\n\n### Issue: Operations not chaining\n\n**Solution**: Ensure performOperation() properly stores previous value and operator.\n\n### Issue: Division by zero\n\n**Solution**: Add check in calculate() method to throw error for division by zero.\n\n---\n\n## Quiz: Calculator Concepts\n\n1. **State management:**\n   - A) Tracks calculator state\n   - B) Doesn''t track state\n   - C) Both\n   - D) Neither\n\n2. **Event handling:**\n   - A) Responds to user input\n   - B) Doesn''t respond\n   - C) Both\n   - D) Neither\n\n3. **Mathematical operations:**\n   - A) Perform calculations\n   - B) Don''t perform calculations\n   - C) Both\n   - D) Neither\n\n4. **Error handling:**\n   - A) Important for calculator\n   - B) Not important\n   - C) Both\n   - D) Neither\n\n5. **Keyboard support:**\n   - A) Improves usability\n   - B) Doesn''t improve usability\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Tracks calculator state\n2. A) Responds to user input\n3. A) Perform calculations\n4. A) Important for calculator\n5. A) Improves usability\n\n---\n\n## Key Takeaways\n\n1. **Event Handling**: Complex interactions require careful event management\n2. **State Management**: Track all necessary state for calculations\n3. **Mathematical Operations**: Implement operations correctly\n4. **Error Handling**: Handle edge cases gracefully\n5. **User Experience**: Smooth interactions and visual feedback\n6. **Best Practice**: Clean code structure and proper separation of concerns\n\n---\n\n## Next Steps\n\nCongratulations! You''ve built a complete Calculator application. You now know:\n- How to handle complex events\n- How to manage application state\n- How to perform mathematical operations\n- How to build interactive UIs\n\n**What''s Next?**\n- Project 2: Frontend Applications\n- Learn React projects\n- Build React applications\n- Apply React concepts\n\n---\n\n*Project completed! You''ve finished Project 1: Interactive Web Pages. Ready for Project 2: Frontend Applications!*\n\n', NULL, 3, '2026-01-03 10:32:36', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Handle complex event interactions\n- Manage application state\n- Perform mathematical operations\n- Build interactive UI components\n- Handle edge cases and errors\n- Create a polished user experience');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (197, 72, 18, 'React Todo App', 'react-todo-app', '# Project 2.1: React Todo App\n\n## Project Overview\n\nBuild a fully functional Todo List application using React. This project will help you practice React components, state management, hooks, and local storage integration.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Create React components\n- Manage state with hooks\n- Use useEffect for side effects\n- Integrate local storage\n- Build reusable components\n- Structure React applications\n- Handle user interactions\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **Add Todos**: Create new todo items\n2. **View Todos**: Display all todos\n3. **Edit Todos**: Update todo text\n4. **Delete Todos**: Remove todos\n5. **Toggle Complete**: Mark todos as complete/incomplete\n6. **Filter Todos**: Filter by all/active/completed\n7. **Persist Data**: Save to local storage\n8. **Clear Completed**: Remove all completed todos\n\n### Technical Requirements\n\n- Use React (Create React App or Vite)\n- Use functional components with hooks\n- Implement local storage\n- Clean component structure\n- Responsive design\n- Error handling\n\n---\n\n## Project Setup\n\n### Option 1: Create React App\n\n```bash\nnpx create-react-app react-todo-app\ncd react-todo-app\nnpm start\n```\n\n### Option 2: Vite\n\n```bash\nnpm create vite@latest react-todo-app -- --template react\ncd react-todo-app\nnpm install\nnpm run dev\n```\n\n---\n\n## Project Structure\n\n```\nreact-todo-app/\n├── public/\n│   └── index.html\n├── src/\n│   ├── components/\n│   │   ├── TodoForm.jsx\n│   │   ├── TodoList.jsx\n│   │   ├── TodoItem.jsx\n│   │   ├── FilterButtons.jsx\n│   │   └── TodoStats.jsx\n│   ├── hooks/\n│   │   └── useLocalStorage.js\n│   ├── utils/\n│   │   └── storage.js\n│   ├── App.jsx\n│   ├── App.css\n│   └── index.js\n└── package.json\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Step 1: Custom Hook for Local Storage\n\n```javascript\n// src/hooks/useLocalStorage.js\nimport { useState, useEffect } from ''react'';\n\nfunction useLocalStorage(key, initialValue) {\n    const [storedValue, setStoredValue] = useState(() => {\n        try {\n            const item = window.localStorage.getItem(key);\n            return item ? JSON.parse(item) : initialValue;\n        } catch (error) {\n            console.error(error);\n            return initialValue;\n        }\n    });\n    \n    const setValue = (value) => {\n        try {\n            const valueToStore = value instanceof Function ? value(storedValue) : value;\n            setStoredValue(valueToStore);\n            window.localStorage.setItem(key, JSON.stringify(valueToStore));\n        } catch (error) {\n            console.error(error);\n        }\n    };\n    \n    return [storedValue, setValue];\n}\n\nexport default useLocalStorage;\n```\n\n### Step 2: Todo Form Component\n\n```javascript\n// src/components/TodoForm.jsx\nimport { useState } from ''react'';\nimport ''./TodoForm.css'';\n\nfunction TodoForm({ onAddTodo }) {\n    const [input, setInput] = useState('''');\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (input.trim()) {\n            onAddTodo(input.trim());\n            setInput('''');\n        }\n    };\n    \n    return (\n        <form className="todo-form" onSubmit={handleSubmit}>\n            <input\n                type="text"\n                className="todo-input"\n                placeholder="Add a new todo..."\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n            />\n            <button type="submit" className="todo-button">\n                Add\n            </button>\n        </form>\n    );\n}\n\nexport default TodoForm;\n```\n\n### Step 3: Todo Item Component\n\n```javascript\n// src/components/TodoItem.jsx\nimport { useState } from ''react'';\nimport ''./TodoItem.css'';\n\nfunction TodoItem({ todo, onToggle, onDelete, onUpdate }) {\n    const [isEditing, setIsEditing] = useState(false);\n    const [editText, setEditText] = useState(todo.text);\n    \n    const handleEdit = () => {\n        setIsEditing(true);\n    };\n    \n    const handleSave = () => {\n        if (editText.trim()) {\n            onUpdate(todo.id, editText.trim());\n            setIsEditing(false);\n        }\n    };\n    \n    const handleCancel = () => {\n        setEditText(todo.text);\n        setIsEditing(false);\n    };\n    \n    const handleKeyDown = (e) => {\n        if (e.key === ''Enter'') {\n            handleSave();\n        } else if (e.key === ''Escape'') {\n            handleCancel();\n        }\n    };\n    \n    return (\n        <li className={`todo-item ${todo.completed ? ''completed'' : ''''} ${isEditing ? ''editing'' : ''''}`}>\n            <input\n                type="checkbox"\n                className="todo-checkbox"\n                checked={todo.completed}\n                onChange={() => onToggle(todo.id)}\n            />\n            \n            {isEditing ? (\n                <input\n                    type="text"\n                    className="todo-edit-input"\n                    value={editText}\n                    onChange={(e) => setEditText(e.target.value)}\n                    onBlur={handleSave}\n                    onKeyDown={handleKeyDown}\n                    autoFocus\n                />\n            ) : (\n                <span className="todo-text" onDoubleClick={handleEdit}>\n                    {todo.text}\n                </span>\n            )}\n            \n            <div className="todo-actions">\n                <button\n                    className="todo-btn edit-btn"\n                    onClick={handleEdit}\n                    disabled={isEditing}\n                >\n                    Edit\n                </button>\n                <button\n                    className="todo-btn delete-btn"\n                    onClick={() => onDelete(todo.id)}\n                >\n                    Delete\n                </button>\n            </div>\n        </li>\n    );\n}\n\nexport default TodoItem;\n```\n\n### Step 4: Todo List Component\n\n```javascript\n// src/components/TodoList.jsx\nimport TodoItem from ''./TodoItem'';\nimport ''./TodoList.css'';\n\nfunction TodoList({ todos, onToggle, onDelete, onUpdate }) {\n    if (todos.length === 0) {\n        return (\n            <div className="empty-state">\n                <p>No todos found. Add one to get started!</p>\n            </div>\n        );\n    }\n    \n    return (\n        <ul className="todo-list">\n            {todos.map(todo => (\n                <TodoItem\n                    key={todo.id}\n                    todo={todo}\n                    onToggle={onToggle}\n                    onDelete={onDelete}\n                    onUpdate={onUpdate}\n                />\n            ))}\n        </ul>\n    );\n}\n\nexport default TodoList;\n```\n\n### Step 5: Filter Buttons Component\n\n```javascript\n// src/components/FilterButtons.jsx\nimport ''./FilterButtons.css'';\n\nconst filters = [\n    { key: ''all'', label: ''All'' },\n    { key: ''active'', label: ''Active'' },\n    { key: ''completed'', label: ''Completed'' }\n];\n\nfunction FilterButtons({ currentFilter, onFilterChange }) {\n    return (\n        <div className="filters">\n            {filters.map(filter => (\n                <button\n                    key={filter.key}\n                    className={`filter-btn ${currentFilter === filter.key ? ''active'' : ''''}`}\n                    onClick={() => onFilterChange(filter.key)}\n                >\n                    {filter.label}\n                </button>\n            ))}\n        </div>\n    );\n}\n\nexport default FilterButtons;\n```\n\n### Step 6: Todo Stats Component\n\n```javascript\n// src/components/TodoStats.jsx\nimport ''./TodoStats.css'';\n\nfunction TodoStats({ todos, onClearCompleted }) {\n    const activeCount = todos.filter(todo => !todo.completed).length;\n    const completedCount = todos.filter(todo => todo.completed).length;\n    \n    return (\n        <div className="todo-stats">\n            <span className="todo-count">\n                {activeCount} {activeCount === 1 ? ''item'' : ''items''} left\n            </span>\n            <button\n                className="clear-completed-btn"\n                onClick={onClearCompleted}\n                disabled={completedCount === 0}\n            >\n                Clear Completed\n            </button>\n        </div>\n    );\n}\n\nexport default TodoStats;\n```\n\n### Step 7: Main App Component\n\n```javascript\n// src/App.jsx\nimport { useState, useMemo } from ''react'';\nimport useLocalStorage from ''./hooks/useLocalStorage'';\nimport TodoForm from ''./components/TodoForm'';\nimport TodoList from ''./components/TodoList'';\nimport FilterButtons from ''./components/FilterButtons'';\nimport TodoStats from ''./components/TodoStats'';\nimport ''./App.css'';\n\nfunction App() {\n    const [todos, setTodos] = useLocalStorage(''todos'', []);\n    const [filter, setFilter] = useState(''all'');\n    \n    const addTodo = (text) => {\n        const newTodo = {\n            id: Date.now(),\n            text,\n            completed: false,\n            createdAt: new Date().toISOString()\n        };\n        setTodos([...todos, newTodo]);\n    };\n    \n    const toggleTodo = (id) => {\n        setTodos(todos.map(todo =>\n            todo.id === id ? { ...todo, completed: !todo.completed } : todo\n        ));\n    };\n    \n    const deleteTodo = (id) => {\n        setTodos(todos.filter(todo => todo.id !== id));\n    };\n    \n    const updateTodo = (id, newText) => {\n        setTodos(todos.map(todo =>\n            todo.id === id ? { ...todo, text: newText } : todo\n        ));\n    };\n    \n    const clearCompleted = () => {\n        setTodos(todos.filter(todo => !todo.completed));\n    };\n    \n    const filteredTodos = useMemo(() => {\n        switch (filter) {\n            case ''active'':\n                return todos.filter(todo => !todo.completed);\n            case ''completed'':\n                return todos.filter(todo => todo.completed);\n            default:\n                return todos;\n        }\n    }, [todos, filter]);\n    \n    return (\n        <div className="app">\n            <div className="container">\n                <header>\n                    <h1>React Todo App</h1>\n                </header>\n                \n                <main>\n                    <TodoForm onAddTodo={addTodo} />\n                    <FilterButtons\n                        currentFilter={filter}\n                        onFilterChange={setFilter}\n                    />\n                    <TodoList\n                        todos={filteredTodos}\n                        onToggle={toggleTodo}\n                        onDelete={deleteTodo}\n                        onUpdate={updateTodo}\n                    />\n                    <TodoStats\n                        todos={todos}\n                        onClearCompleted={clearCompleted}\n                    />\n                </main>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n```\n\n### Step 8: CSS Styling\n\n```css\n/* src/App.css */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: ''Segoe UI'', Tahoma, Geneva, Verdana, sans-serif;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    min-height: 100vh;\n}\n\n.app {\n    min-height: 100vh;\n    padding: 20px;\n}\n\n.container {\n    max-width: 600px;\n    margin: 0 auto;\n    background: white;\n    border-radius: 10px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n    overflow: hidden;\n}\n\nheader {\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n    padding: 30px;\n    text-align: center;\n}\n\nheader h1 {\n    font-size: 2.5em;\n    font-weight: 300;\n}\n\nmain {\n    padding: 30px;\n}\n```\n\n```css\n/* src/components/TodoForm.css */\n.todo-form {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n}\n\n.todo-input {\n    flex: 1;\n    padding: 12px;\n    border: 2px solid #e0e0e0;\n    border-radius: 5px;\n    font-size: 16px;\n    transition: border-color 0.3s;\n}\n\n.todo-input:focus {\n    outline: none;\n    border-color: #667eea;\n}\n\n.todo-button {\n    padding: 12px 24px;\n    background: #667eea;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    font-size: 16px;\n    cursor: pointer;\n    transition: background 0.3s;\n}\n\n.todo-button:hover {\n    background: #5568d3;\n}\n```\n\n```css\n/* src/components/TodoItem.css */\n.todo-item {\n    display: flex;\n    align-items: center;\n    padding: 15px;\n    margin-bottom: 10px;\n    background: #f9f9f9;\n    border-radius: 5px;\n    transition: all 0.3s;\n}\n\n.todo-item:hover {\n    background: #f0f0f0;\n}\n\n.todo-item.completed {\n    opacity: 0.6;\n}\n\n.todo-item.completed .todo-text {\n    text-decoration: line-through;\n}\n\n.todo-checkbox {\n    width: 20px;\n    height: 20px;\n    margin-right: 15px;\n    cursor: pointer;\n}\n\n.todo-text {\n    flex: 1;\n    font-size: 16px;\n    color: #333;\n    cursor: pointer;\n}\n\n.todo-item.editing .todo-text {\n    display: none;\n}\n\n.todo-edit-input {\n    flex: 1;\n    padding: 8px;\n    border: 2px solid #667eea;\n    border-radius: 5px;\n    font-size: 16px;\n    display: none;\n}\n\n.todo-item.editing .todo-edit-input {\n    display: block;\n}\n\n.todo-actions {\n    display: flex;\n    gap: 10px;\n}\n\n.todo-btn {\n    padding: 5px 10px;\n    border: none;\n    border-radius: 3px;\n    cursor: pointer;\n    font-size: 14px;\n    transition: all 0.3s;\n}\n\n.edit-btn {\n    background: #4caf50;\n    color: white;\n}\n\n.edit-btn:hover:not(:disabled) {\n    background: #45a049;\n}\n\n.delete-btn {\n    background: #f44336;\n    color: white;\n}\n\n.delete-btn:hover {\n    background: #da190b;\n}\n\n.todo-btn:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n```\n\n```css\n/* src/components/FilterButtons.css */\n.filters {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 20px;\n    justify-content: center;\n}\n\n.filter-btn {\n    padding: 8px 16px;\n    background: #f5f5f5;\n    border: 1px solid #e0e0e0;\n    border-radius: 5px;\n    cursor: pointer;\n    transition: all 0.3s;\n}\n\n.filter-btn:hover {\n    background: #e0e0e0;\n}\n\n.filter-btn.active {\n    background: #667eea;\n    color: white;\n    border-color: #667eea;\n}\n```\n\n```css\n/* src/components/TodoStats.css */\n.todo-stats {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding-top: 20px;\n    border-top: 1px solid #e0e0e0;\n}\n\n.todo-count {\n    color: #666;\n    font-size: 14px;\n}\n\n.clear-completed-btn {\n    padding: 8px 16px;\n    background: #f44336;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 14px;\n    transition: background 0.3s;\n}\n\n.clear-completed-btn:hover:not(:disabled) {\n    background: #da190b;\n}\n\n.clear-completed-btn:disabled {\n    background: #ccc;\n    cursor: not-allowed;\n}\n```\n\n---\n\n## Features Implementation\n\n### React Components\n\n- **Functional Components**: All components use function syntax\n- **Props**: Data passed via props\n- **State Management**: useState and custom hooks\n- **Component Composition**: Reusable components\n\n### State Management\n\n- **useState**: Local component state\n- **useLocalStorage**: Custom hook for persistence\n- **useMemo**: Optimize filtered todos\n- **Lifting State**: State managed in App component\n\n### Local Storage\n\n- **Custom Hook**: useLocalStorage hook\n- **Automatic Sync**: Data saved automatically\n- **Load on Mount**: Data loaded on app start\n\n---\n\n## Testing Your Application\n\n### Manual Testing Checklist\n\n- [ ] Add new todos\n- [ ] Toggle todo completion\n- [ ] Edit todo text\n- [ ] Delete todos\n- [ ] Filter todos\n- [ ] Clear completed\n- [ ] Refresh page (data persists)\n- [ ] Test with empty input\n- [ ] Test keyboard shortcuts\n\n---\n\n## Exercise: React Todo App\n\n**Instructions**:\n\n1. Set up React project\n2. Create all components\n3. Implement all features\n4. Test thoroughly\n5. Customize design\n\n**Enhancement Ideas**:\n\n- Add due dates\n- Add priority levels\n- Add categories\n- Add search functionality\n- Add drag-and-drop\n- Add animations\n- Add dark mode\n- Add export/import\n\n---\n\n## Common Issues and Solutions\n\n### Issue: State not updating\n\n**Solution**: Ensure you''re using functional updates or spreading state correctly.\n\n### Issue: Local storage not working\n\n**Solution**: Check browser console for errors. Ensure localStorage is enabled.\n\n### Issue: Components not re-rendering\n\n**Solution**: Check that state updates are creating new objects/arrays.\n\n---\n\n## Quiz: React Project\n\n1. **React components:**\n   - A) Reusable UI pieces\n   - B) Not reusable\n   - C) Both\n   - D) Neither\n\n2. **useState:**\n   - A) Manages state\n   - B) Doesn''t manage state\n   - C) Both\n   - D) Neither\n\n3. **Props:**\n   - A) Pass data to components\n   - B) Don''t pass data\n   - C) Both\n   - D) Neither\n\n4. **useEffect:**\n   - A) Handles side effects\n   - B) Doesn''t handle side effects\n   - C) Both\n   - D) Neither\n\n5. **Local storage:**\n   - A) Persists data\n   - B) Temporary data\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Reusable UI pieces\n2. A) Manages state\n3. A) Pass data to components\n4. A) Handles side effects\n5. A) Persists data\n\n---\n\n## Key Takeaways\n\n1. **React Components**: Build reusable UI components\n2. **State Management**: Use hooks for state\n3. **Local Storage**: Persist data in browser\n4. **Component Structure**: Organize components well\n5. **Best Practice**: Clean, maintainable code\n\n---\n\n## Next Steps\n\nCongratulations! You''ve built a React Todo App. You now know:\n- How to create React components\n- How to manage state\n- How to use local storage\n- How to structure React apps\n\n**What''s Next?**\n- Project 2.2: React Blog Application\n- Learn React Router\n- Build a blog application\n- Integrate with APIs\n\n---\n\n*Project completed! You''re ready to move on to the next project.*\n\n', NULL, 1, '2026-01-03 10:35:57', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Create React components\n- Manage state with hooks\n- Use useEffect for side effects\n- Integrate local storage\n- Build reusable components\n- Structure React applications\n- Handle user interactions');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (198, 72, 18, 'React Blog Application', 'react-blog-application', '# Project 2.2: React Blog Application\n\n## Project Overview\n\nBuild a complete Blog Application using React and React Router. This project will help you practice routing, component architecture, API integration, and building multi-page React applications.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Set up and use React Router\n- Create multiple routes and pages\n- Build component architecture\n- Integrate with APIs\n- Handle navigation\n- Manage application state\n- Create dynamic routes\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **Home Page**: Display list of blog posts\n2. **Post Detail**: View individual post\n3. **Create Post**: Add new blog posts\n4. **Edit Post**: Update existing posts\n5. **Delete Post**: Remove posts\n6. **Navigation**: Navigate between pages\n7. **API Integration**: Fetch and post data\n8. **Loading States**: Show loading indicators\n\n### Technical Requirements\n\n- Use React Router for navigation\n- Component-based architecture\n- API integration (JSONPlaceholder or custom)\n- Error handling\n- Responsive design\n- Clean code structure\n\n---\n\n## Project Setup\n\n```bash\n# Create React app\nnpx create-react-app react-blog-app\ncd react-blog-app\n\n# Install React Router\nnpm install react-router-dom\n\n# Start development server\nnpm start\n```\n\n---\n\n## Project Structure\n\n```\nreact-blog-app/\n├── public/\n│   └── index.html\n├── src/\n│   ├── components/\n│   │   ├── Layout.jsx\n│   │   ├── Navigation.jsx\n│   │   ├── PostCard.jsx\n│   │   ├── PostForm.jsx\n│   │   └── Loading.jsx\n│   ├── pages/\n│   │   ├── Home.jsx\n│   │   ├── PostDetail.jsx\n│   │   ├── CreatePost.jsx\n│   │   └── EditPost.jsx\n│   ├── hooks/\n│   │   └── usePosts.js\n│   ├── services/\n│   │   └── api.js\n│   ├── App.jsx\n│   ├── App.css\n│   └── index.js\n└── package.json\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Step 1: API Service\n\n```javascript\n// src/services/api.js\nconst API_URL = ''https://jsonplaceholder.typicode.com/posts'';\n\nexport const api = {\n    // Get all posts\n    async getPosts() {\n        try {\n            const response = await fetch(API_URL);\n            if (!response.ok) {\n                throw new Error(''Failed to fetch posts'');\n            }\n            return await response.json();\n        } catch (error) {\n            throw error;\n        }\n    },\n    \n    // Get single post\n    async getPost(id) {\n        try {\n            const response = await fetch(`${API_URL}/${id}`);\n            if (!response.ok) {\n                throw new Error(''Failed to fetch post'');\n            }\n            return await response.json();\n        } catch (error) {\n            throw error;\n        }\n    },\n    \n    // Create post\n    async createPost(post) {\n        try {\n            const response = await fetch(API_URL, {\n                method: ''POST'',\n                headers: {\n                    ''Content-Type'': ''application/json'',\n                },\n                body: JSON.stringify(post),\n            });\n            if (!response.ok) {\n                throw new Error(''Failed to create post'');\n            }\n            return await response.json();\n        } catch (error) {\n            throw error;\n        }\n    },\n    \n    // Update post\n    async updatePost(id, post) {\n        try {\n            const response = await fetch(`${API_URL}/${id}`, {\n                method: ''PUT'',\n                headers: {\n                    ''Content-Type'': ''application/json'',\n                },\n                body: JSON.stringify(post),\n            });\n            if (!response.ok) {\n                throw new Error(''Failed to update post'');\n            }\n            return await response.json();\n        } catch (error) {\n            throw error;\n        }\n    },\n    \n    // Delete post\n    async deletePost(id) {\n        try {\n            const response = await fetch(`${API_URL}/${id}`, {\n                method: ''DELETE'',\n            });\n            if (!response.ok) {\n                throw new Error(''Failed to delete post'');\n            }\n            return true;\n        } catch (error) {\n            throw error;\n        }\n    },\n};\n```\n\n### Step 2: Custom Hook for Posts\n\n```javascript\n// src/hooks/usePosts.js\nimport { useState, useEffect } from ''react'';\nimport { api } from ''../services/api'';\n\nexport function usePosts() {\n    const [posts, setPosts] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    \n    useEffect(() => {\n        loadPosts();\n    }, []);\n    \n    const loadPosts = async () => {\n        try {\n            setLoading(true);\n            setError(null);\n            const data = await api.getPosts();\n            setPosts(data);\n        } catch (err) {\n            setError(err.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    const createPost = async (post) => {\n        try {\n            const newPost = await api.createPost(post);\n            setPosts([newPost, ...posts]);\n            return newPost;\n        } catch (err) {\n            throw err;\n        }\n    };\n    \n    const updatePost = async (id, post) => {\n        try {\n            const updatedPost = await api.updatePost(id, post);\n            setPosts(posts.map(p => p.id === id ? updatedPost : p));\n            return updatedPost;\n        } catch (err) {\n            throw err;\n        }\n    };\n    \n    const deletePost = async (id) => {\n        try {\n            await api.deletePost(id);\n            setPosts(posts.filter(p => p.id !== id));\n        } catch (err) {\n            throw err;\n        }\n    };\n    \n    return {\n        posts,\n        loading,\n        error,\n        createPost,\n        updatePost,\n        deletePost,\n        reloadPosts: loadPosts\n    };\n}\n```\n\n### Step 3: Layout Component\n\n```javascript\n// src/components/Layout.jsx\nimport { Outlet } from ''react-router-dom'';\nimport Navigation from ''./Navigation'';\nimport ''./Layout.css'';\n\nfunction Layout() {\n    return (\n        <div className="layout">\n            <Navigation />\n            <main className="main-content">\n                <Outlet />\n            </main>\n        </div>\n    );\n}\n\nexport default Layout;\n```\n\n### Step 4: Navigation Component\n\n```javascript\n// src/components/Navigation.jsx\nimport { Link, useLocation } from ''react-router-dom'';\nimport ''./Navigation.css'';\n\nfunction Navigation() {\n    const location = useLocation();\n    \n    const isActive = (path) => {\n        return location.pathname === path;\n    };\n    \n    return (\n        <nav className="navigation">\n            <div className="nav-container">\n                <Link to="/" className="nav-logo">\n                    My Blog\n                </Link>\n                <div className="nav-links">\n                    <Link\n                        to="/"\n                        className={`nav-link ${isActive(''/'') ? ''active'' : ''''}`}\n                    >\n                        Home\n                    </Link>\n                    <Link\n                        to="/create"\n                        className={`nav-link ${isActive(''/create'') ? ''active'' : ''''}`}\n                    >\n                        Create Post\n                    </Link>\n                </div>\n            </div>\n        </nav>\n    );\n}\n\nexport default Navigation;\n```\n\n### Step 5: Post Card Component\n\n```javascript\n// src/components/PostCard.jsx\nimport { Link } from ''react-router-dom'';\nimport ''./PostCard.css'';\n\nfunction PostCard({ post, onDelete }) {\n    const handleDelete = async (e) => {\n        e.preventDefault();\n        if (window.confirm(''Are you sure you want to delete this post?'')) {\n            await onDelete(post.id);\n        }\n    };\n    \n    return (\n        <div className="post-card">\n            <Link to={`/posts/${post.id}`} className="post-link">\n                <h2 className="post-title">{post.title}</h2>\n                <p className="post-body">{post.body}</p>\n            </Link>\n            <div className="post-actions">\n                <Link to={`/posts/${post.id}/edit`} className="btn btn-edit">\n                    Edit\n                </Link>\n                <button onClick={handleDelete} className="btn btn-delete">\n                    Delete\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default PostCard;\n```\n\n### Step 6: Post Form Component\n\n```javascript\n// src/components/PostForm.jsx\nimport { useState, useEffect } from ''react'';\nimport ''./PostForm.css'';\n\nfunction PostForm({ post, onSubmit, onCancel }) {\n    const [title, setTitle] = useState('''');\n    const [body, setBody] = useState('''');\n    const [errors, setErrors] = useState({});\n    \n    useEffect(() => {\n        if (post) {\n            setTitle(post.title || '''');\n            setBody(post.body || '''');\n        }\n    }, [post]);\n    \n    const validate = () => {\n        const newErrors = {};\n        if (!title.trim()) {\n            newErrors.title = ''Title is required'';\n        }\n        if (!body.trim()) {\n            newErrors.body = ''Body is required'';\n        }\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (validate()) {\n            onSubmit({ title: title.trim(), body: body.trim() });\n        }\n    };\n    \n    return (\n        <form className="post-form" onSubmit={handleSubmit}>\n            <div className="form-group">\n                <label htmlFor="title">Title</label>\n                <input\n                    type="text"\n                    id="title"\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    className={errors.title ? ''error'' : ''''}\n                />\n                {errors.title && <span className="error-message">{errors.title}</span>}\n            </div>\n            \n            <div className="form-group">\n                <label htmlFor="body">Body</label>\n                <textarea\n                    id="body"\n                    value={body}\n                    onChange={(e) => setBody(e.target.value)}\n                    rows="10"\n                    className={errors.body ? ''error'' : ''''}\n                />\n                {errors.body && <span className="error-message">{errors.body}</span>}\n            </div>\n            \n            <div className="form-actions">\n                <button type="submit" className="btn btn-primary">\n                    {post ? ''Update'' : ''Create''} Post\n                </button>\n                {onCancel && (\n                    <button type="button" onClick={onCancel} className="btn btn-secondary">\n                        Cancel\n                    </button>\n                )}\n            </div>\n        </form>\n    );\n}\n\nexport default PostForm;\n```\n\n### Step 7: Loading Component\n\n```javascript\n// src/components/Loading.jsx\nimport ''./Loading.css'';\n\nfunction Loading() {\n    return (\n        <div className="loading">\n            <div className="spinner"></div>\n            <p>Loading...</p>\n        </div>\n    );\n}\n\nexport default Loading;\n```\n\n### Step 8: Home Page\n\n```javascript\n// src/pages/Home.jsx\nimport { usePosts } from ''../hooks/usePosts'';\nimport PostCard from ''../components/PostCard'';\nimport Loading from ''../components/Loading'';\nimport ''./Home.css'';\n\nfunction Home() {\n    const { posts, loading, error, deletePost } = usePosts();\n    \n    if (loading) {\n        return <Loading />;\n    }\n    \n    if (error) {\n        return <div className="error">Error: {error}</div>;\n    }\n    \n    return (\n        <div className="home">\n            <h1>Blog Posts</h1>\n            <div className="posts-grid">\n                {posts.map(post => (\n                    <PostCard\n                        key={post.id}\n                        post={post}\n                        onDelete={deletePost}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default Home;\n```\n\n### Step 9: Post Detail Page\n\n```javascript\n// src/pages/PostDetail.jsx\nimport { useParams, Link, useNavigate } from ''react-router-dom'';\nimport { useState, useEffect } from ''react'';\nimport { api } from ''../services/api'';\nimport Loading from ''../components/Loading'';\nimport ''./PostDetail.css'';\n\nfunction PostDetail() {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const [post, setPost] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    \n    useEffect(() => {\n        loadPost();\n    }, [id]);\n    \n    const loadPost = async () => {\n        try {\n            setLoading(true);\n            setError(null);\n            const data = await api.getPost(id);\n            setPost(data);\n        } catch (err) {\n            setError(err.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    const handleDelete = async () => {\n        if (window.confirm(''Are you sure you want to delete this post?'')) {\n            try {\n                await api.deletePost(id);\n                navigate(''/'');\n            } catch (err) {\n                alert(''Failed to delete post'');\n            }\n        }\n    };\n    \n    if (loading) {\n        return <Loading />;\n    }\n    \n    if (error) {\n        return <div className="error">Error: {error}</div>;\n    }\n    \n    if (!post) {\n        return <div className="error">Post not found</div>;\n    }\n    \n    return (\n        <div className="post-detail">\n            <Link to="/" className="back-link">← Back to Posts</Link>\n            <article className="post">\n                <h1>{post.title}</h1>\n                <div className="post-meta">\n                    <span>Post ID: {post.id}</span>\n                </div>\n                <div className="post-body">\n                    <p>{post.body}</p>\n                </div>\n                <div className="post-actions">\n                    <Link to={`/posts/${post.id}/edit`} className="btn btn-edit">\n                        Edit\n                    </Link>\n                    <button onClick={handleDelete} className="btn btn-delete">\n                        Delete\n                    </button>\n                </div>\n            </article>\n        </div>\n    );\n}\n\nexport default PostDetail;\n```\n\n### Step 10: Create Post Page\n\n```javascript\n// src/pages/CreatePost.jsx\nimport { useNavigate } from ''react-router-dom'';\nimport { usePosts } from ''../hooks/usePosts'';\nimport PostForm from ''../components/PostForm'';\nimport ''./CreatePost.css'';\n\nfunction CreatePost() {\n    const navigate = useNavigate();\n    const { createPost } = usePosts();\n    \n    const handleSubmit = async (postData) => {\n        try {\n            await createPost({\n                ...postData,\n                userId: 1 // Default user ID\n            });\n            navigate(''/'');\n        } catch (error) {\n            alert(''Failed to create post'');\n        }\n    };\n    \n    return (\n        <div className="create-post">\n            <h1>Create New Post</h1>\n            <PostForm onSubmit={handleSubmit} onCancel={() => navigate(''/'')} />\n        </div>\n    );\n}\n\nexport default CreatePost;\n```\n\n### Step 11: Edit Post Page\n\n```javascript\n// src/pages/EditPost.jsx\nimport { useParams, useNavigate } from ''react-router-dom'';\nimport { useState, useEffect } from ''react'';\nimport { api } from ''../services/api'';\nimport { usePosts } from ''../hooks/usePosts'';\nimport PostForm from ''../components/PostForm'';\nimport Loading from ''../components/Loading'';\nimport ''./EditPost.css'';\n\nfunction EditPost() {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const { updatePost } = usePosts();\n    const [post, setPost] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    \n    useEffect(() => {\n        loadPost();\n    }, [id]);\n    \n    const loadPost = async () => {\n        try {\n            setLoading(true);\n            setError(null);\n            const data = await api.getPost(id);\n            setPost(data);\n        } catch (err) {\n            setError(err.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    const handleSubmit = async (postData) => {\n        try {\n            await updatePost(id, {\n                ...postData,\n                userId: post.userId,\n                id: parseInt(id)\n            });\n            navigate(`/posts/${id}`);\n        } catch (error) {\n            alert(''Failed to update post'');\n        }\n    };\n    \n    if (loading) {\n        return <Loading />;\n    }\n    \n    if (error) {\n        return <div className="error">Error: {error}</div>;\n    }\n    \n    if (!post) {\n        return <div className="error">Post not found</div>;\n    }\n    \n    return (\n        <div className="edit-post">\n            <h1>Edit Post</h1>\n            <PostForm post={post} onSubmit={handleSubmit} onCancel={() => navigate(-1)} />\n        </div>\n    );\n}\n\nexport default EditPost;\n```\n\n### Step 12: App Component with Routes\n\n```javascript\n// src/App.jsx\nimport { BrowserRouter, Routes, Route } from ''react-router-dom'';\nimport Layout from ''./components/Layout'';\nimport Home from ''./pages/Home'';\nimport PostDetail from ''./pages/PostDetail'';\nimport CreatePost from ''./pages/CreatePost'';\nimport EditPost from ''./pages/EditPost'';\nimport ''./App.css'';\n\nfunction App() {\n    return (\n        <BrowserRouter>\n            <Routes>\n                <Route path="/" element={<Layout />}>\n                    <Route index element={<Home />} />\n                    <Route path="posts/:id" element={<PostDetail />} />\n                    <Route path="posts/:id/edit" element={<EditPost />} />\n                    <Route path="create" element={<CreatePost />} />\n                </Route>\n            </Routes>\n        </BrowserRouter>\n    );\n}\n\nexport default App;\n```\n\n---\n\n## Features Implementation\n\n### React Router\n\n- **BrowserRouter**: Enables routing\n- **Routes**: Define route structure\n- **Route**: Individual routes\n- **Link**: Navigation links\n- **useNavigate**: Programmatic navigation\n- **useParams**: Access route parameters\n\n### Component Architecture\n\n- **Layout Component**: Shared layout\n- **Page Components**: Route-specific pages\n- **Reusable Components**: PostCard, PostForm, etc.\n- **Separation of Concerns**: Clear component boundaries\n\n### API Integration\n\n- **Service Layer**: API calls in service file\n- **Custom Hooks**: usePosts hook for data management\n- **Error Handling**: Proper error handling\n- **Loading States**: Loading indicators\n\n---\n\n## Testing Your Application\n\n### Manual Testing Checklist\n\n- [ ] Navigate to home page\n- [ ] View post details\n- [ ] Create new post\n- [ ] Edit existing post\n- [ ] Delete post\n- [ ] Test navigation\n- [ ] Test error handling\n- [ ] Test loading states\n\n---\n\n## Exercise: Blog App\n\n**Instructions**:\n\n1. Set up React Router\n2. Create all components and pages\n3. Implement API integration\n4. Test all features\n5. Customize design\n\n**Enhancement Ideas**:\n\n- Add user authentication\n- Add comments system\n- Add categories/tags\n- Add search functionality\n- Add pagination\n- Add image upload\n- Add markdown support\n- Add dark mode\n\n---\n\n## Common Issues and Solutions\n\n### Issue: Routes not working\n\n**Solution**: Ensure BrowserRouter wraps the app and routes are correctly defined.\n\n### Issue: API calls failing\n\n**Solution**: Check API URL and network connectivity. Handle CORS if needed.\n\n### Issue: Navigation not working\n\n**Solution**: Use Link components for navigation, not anchor tags.\n\n---\n\n## Quiz: React Routing\n\n1. **React Router:**\n   - A) Enables routing\n   - B) Doesn''t enable routing\n   - C) Both\n   - D) Neither\n\n2. **BrowserRouter:**\n   - A) Wraps the app\n   - B) Doesn''t wrap app\n   - C) Both\n   - D) Neither\n\n3. **useParams:**\n   - A) Gets route parameters\n   - B) Doesn''t get parameters\n   - C) Both\n   - D) Neither\n\n4. **Link component:**\n   - A) Navigates without reload\n   - B) Reloads page\n   - C) Both\n   - D) Neither\n\n5. **Outlet:**\n   - A) Renders child routes\n   - B) Doesn''t render routes\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Enables routing\n2. A) Wraps the app\n3. A) Gets route parameters\n4. A) Navigates without reload\n5. A) Renders child routes\n\n---\n\n## Key Takeaways\n\n1. **React Router**: Essential for multi-page apps\n2. **Component Architecture**: Organize components well\n3. **API Integration**: Connect to backend services\n4. **Navigation**: Smooth user experience\n5. **Best Practice**: Clean, maintainable structure\n\n---\n\n## Next Steps\n\nCongratulations! You''ve built a React Blog Application. You now know:\n- How to use React Router\n- How to build component architecture\n- How to integrate with APIs\n- How to create multi-page apps\n\n**What''s Next?**\n- Project 2.3: E-commerce Frontend\n- Learn complex state management\n- Build shopping cart\n- Create product catalog\n\n---\n\n*Project completed! You''re ready to move on to the next project.*\n\n', NULL, 2, '2026-01-03 10:35:57', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Set up and use React Router\n- Create multiple routes and pages\n- Build component architecture\n- Integrate with APIs\n- Handle navigation\n- Manage application state\n- Create dynamic routes');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (199, 72, 18, 'E-commerce Frontend', 'ecommerce-frontend', '# Project 2.3: E-commerce Frontend\n\n## Project Overview\n\nBuild a complete E-commerce Frontend application with shopping cart, product catalog, and complex state management. This project will help you practice advanced React concepts, state management patterns, and building complex user interfaces.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Manage complex application state\n- Implement shopping cart functionality\n- Build product catalog with filtering\n- Use Context API for global state\n- Handle user interactions\n- Create responsive e-commerce UI\n- Implement cart persistence\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **Product Catalog**: Display products with images, prices, descriptions\n2. **Product Details**: View individual product information\n3. **Shopping Cart**: Add/remove items, update quantities\n4. **Cart Persistence**: Save cart to local storage\n5. **Filter Products**: Filter by category, price, search\n6. **Cart Summary**: Show total, item count\n7. **Checkout Page**: Review order before checkout\n8. **Responsive Design**: Works on all devices\n\n### Technical Requirements\n\n- Use React with Context API\n- Complex state management\n- Local storage integration\n- Responsive design\n- Clean component architecture\n- Error handling\n\n---\n\n## Project Setup\n\n```bash\n# Create React app\nnpx create-react-app ecommerce-frontend\ncd ecommerce-frontend\n\n# Install dependencies\nnpm install react-router-dom\n\n# Start development server\nnpm start\n```\n\n---\n\n## Project Structure\n\n```\necommerce-frontend/\n├── public/\n│   └── index.html\n├── src/\n│   ├── components/\n│   │   ├── Layout.jsx\n│   │   ├── Navigation.jsx\n│   │   ├── ProductCard.jsx\n│   │   ├── ProductList.jsx\n│   │   ├── ProductDetail.jsx\n│   │   ├── Cart.jsx\n│   │   ├── CartItem.jsx\n│   │   ├── FilterBar.jsx\n│   │   └── Checkout.jsx\n│   ├── context/\n│   │   ├── CartContext.jsx\n│   │   └── ProductContext.jsx\n│   ├── pages/\n│   │   ├── Home.jsx\n│   │   ├── Products.jsx\n│   │   ├── ProductDetailPage.jsx\n│   │   └── CheckoutPage.jsx\n│   ├── data/\n│   │   └── products.js\n│   ├── App.jsx\n│   ├── App.css\n│   └── index.js\n└── package.json\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Step 1: Products Data\n\n```javascript\n// src/data/products.js\nexport const products = [\n    {\n        id: 1,\n        name: ''Wireless Headphones'',\n        price: 99.99,\n        image: ''https://via.placeholder.com/300'',\n        category: ''Electronics'',\n        description: ''High-quality wireless headphones with noise cancellation.'',\n        inStock: true\n    },\n    {\n        id: 2,\n        name: ''Smart Watch'',\n        price: 199.99,\n        image: ''https://via.placeholder.com/300'',\n        category: ''Electronics'',\n        description: ''Feature-rich smartwatch with fitness tracking.'',\n        inStock: true\n    },\n    {\n        id: 3,\n        name: ''Laptop Backpack'',\n        price: 49.99,\n        image: ''https://via.placeholder.com/300'',\n        category: ''Accessories'',\n        description: ''Durable laptop backpack with multiple compartments.'',\n        inStock: true\n    },\n    {\n        id: 4,\n        name: ''USB-C Cable'',\n        price: 19.99,\n        image: ''https://via.placeholder.com/300'',\n        category: ''Accessories'',\n        description: ''Fast charging USB-C cable, 6 feet long.'',\n        inStock: true\n    },\n    {\n        id: 5,\n        name: ''Wireless Mouse'',\n        price: 29.99,\n        image: ''https://via.placeholder.com/300'',\n        category: ''Electronics'',\n        description: ''Ergonomic wireless mouse with long battery life.'',\n        inStock: true\n    },\n    {\n        id: 6,\n        name: ''Mechanical Keyboard'',\n        price: 129.99,\n        image: ''https://via.placeholder.com/300'',\n        category: ''Electronics'',\n        description: ''RGB mechanical keyboard with customizable keys.'',\n        inStock: false\n    }\n];\n```\n\n### Step 2: Cart Context\n\n```javascript\n// src/context/CartContext.jsx\nimport { createContext, useContext, useReducer, useEffect } from ''react'';\n\nconst CartContext = createContext();\n\nconst cartReducer = (state, action) => {\n    switch (action.type) {\n        case ''LOAD_CART'':\n            return action.payload;\n        case ''ADD_ITEM'':\n            const existingItem = state.items.find(item => item.id === action.payload.id);\n            if (existingItem) {\n                return {\n                    ...state,\n                    items: state.items.map(item =>\n                        item.id === action.payload.id\n                            ? { ...item, quantity: item.quantity + 1 }\n                            : item\n                    )\n                };\n            }\n            return {\n                ...state,\n                items: [...state.items, { ...action.payload, quantity: 1 }]\n            };\n        case ''REMOVE_ITEM'':\n            return {\n                ...state,\n                items: state.items.filter(item => item.id !== action.payload)\n            };\n        case ''UPDATE_QUANTITY'':\n            return {\n                ...state,\n                items: state.items.map(item =>\n                    item.id === action.payload.id\n                        ? { ...item, quantity: action.payload.quantity }\n                        : item\n                )\n            };\n        case ''CLEAR_CART'':\n            return { items: [] };\n        default:\n            return state;\n    }\n};\n\nconst initialState = { items: [] };\n\nexport function CartProvider({ children }) {\n    const [state, dispatch] = useReducer(cartReducer, initialState);\n    \n    // Load cart from localStorage\n    useEffect(() => {\n        const savedCart = localStorage.getItem(''cart'');\n        if (savedCart) {\n            dispatch({ type: ''LOAD_CART'', payload: JSON.parse(savedCart) });\n        }\n    }, []);\n    \n    // Save cart to localStorage\n    useEffect(() => {\n        localStorage.setItem(''cart'', JSON.stringify(state));\n    }, [state]);\n    \n    const addItem = (product) => {\n        dispatch({ type: ''ADD_ITEM'', payload: product });\n    };\n    \n    const removeItem = (id) => {\n        dispatch({ type: ''REMOVE_ITEM'', payload: id });\n    };\n    \n    const updateQuantity = (id, quantity) => {\n        if (quantity <= 0) {\n            removeItem(id);\n        } else {\n            dispatch({ type: ''UPDATE_QUANTITY'', payload: { id, quantity } });\n        }\n    };\n    \n    const clearCart = () => {\n        dispatch({ type: ''CLEAR_CART'' });\n    };\n    \n    const getTotal = () => {\n        return state.items.reduce((total, item) => {\n            return total + (item.price * item.quantity);\n        }, 0);\n    };\n    \n    const getItemCount = () => {\n        return state.items.reduce((count, item) => count + item.quantity, 0);\n    };\n    \n    return (\n        <CartContext.Provider\n            value={{\n                items: state.items,\n                addItem,\n                removeItem,\n                updateQuantity,\n                clearCart,\n                getTotal,\n                getItemCount\n            }}\n        >\n            {children}\n        </CartContext.Provider>\n    );\n}\n\nexport function useCart() {\n    const context = useContext(CartContext);\n    if (!context) {\n        throw new Error(''useCart must be used within CartProvider'');\n    }\n    return context;\n}\n```\n\n### Step 3: Product Context\n\n```javascript\n// src/context/ProductContext.jsx\nimport { createContext, useContext, useState, useMemo } from ''react'';\nimport { products } from ''../data/products'';\n\nconst ProductContext = createContext();\n\nexport function ProductProvider({ children }) {\n    const [searchTerm, setSearchTerm] = useState('''');\n    const [selectedCategory, setSelectedCategory] = useState(''All'');\n    const [priceRange, setPriceRange] = useState([0, 1000]);\n    \n    const categories = useMemo(() => {\n        const cats = [''All'', ...new Set(products.map(p => p.category))];\n        return cats;\n    }, []);\n    \n    const filteredProducts = useMemo(() => {\n        return products.filter(product => {\n            const matchesSearch = product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                                product.description.toLowerCase().includes(searchTerm.toLowerCase());\n            const matchesCategory = selectedCategory === ''All'' || product.category === selectedCategory;\n            const matchesPrice = product.price >= priceRange[0] && product.price <= priceRange[1];\n            \n            return matchesSearch && matchesCategory && matchesPrice;\n        });\n    }, [searchTerm, selectedCategory, priceRange]);\n    \n    return (\n        <ProductContext.Provider\n            value={{\n                products: filteredProducts,\n                allProducts: products,\n                categories,\n                searchTerm,\n                setSearchTerm,\n                selectedCategory,\n                setSelectedCategory,\n                priceRange,\n                setPriceRange\n            }}\n        >\n            {children}\n        </ProductContext.Provider>\n    );\n}\n\nexport function useProducts() {\n    const context = useContext(ProductContext);\n    if (!context) {\n        throw new Error(''useProducts must be used within ProductProvider'');\n    }\n    return context;\n}\n```\n\n### Step 4: Product Card Component\n\n```javascript\n// src/components/ProductCard.jsx\nimport { Link } from ''react-router-dom'';\nimport { useCart } from ''../context/CartContext'';\nimport ''./ProductCard.css'';\n\nfunction ProductCard({ product }) {\n    const { addItem } = useCart();\n    \n    const handleAddToCart = (e) => {\n        e.preventDefault();\n        addItem(product);\n    };\n    \n    return (\n        <div className="product-card">\n            <Link to={`/products/${product.id}`} className="product-link">\n                <div className="product-image-container">\n                    <img src={product.image} alt={product.name} className="product-image" />\n                    {!product.inStock && (\n                        <div className="out-of-stock">Out of Stock</div>\n                    )}\n                </div>\n                <div className="product-info">\n                    <h3 className="product-name">{product.name}</h3>\n                    <p className="product-category">{product.category}</p>\n                    <p className="product-price">${product.price.toFixed(2)}</p>\n                </div>\n            </Link>\n            <button\n                className="add-to-cart-btn"\n                onClick={handleAddToCart}\n                disabled={!product.inStock}\n            >\n                {product.inStock ? ''Add to Cart'' : ''Out of Stock''}\n            </button>\n        </div>\n    );\n}\n\nexport default ProductCard;\n```\n\n### Step 5: Product List Component\n\n```javascript\n// src/components/ProductList.jsx\nimport ProductCard from ''./ProductCard'';\nimport ''./ProductList.css'';\n\nfunction ProductList({ products }) {\n    if (products.length === 0) {\n        return (\n            <div className="no-products">\n                <p>No products found. Try adjusting your filters.</p>\n            </div>\n        );\n    }\n    \n    return (\n        <div className="product-list">\n            {products.map(product => (\n                <ProductCard key={product.id} product={product} />\n            ))}\n        </div>\n    );\n}\n\nexport default ProductList;\n```\n\n### Step 6: Filter Bar Component\n\n```javascript\n// src/components/FilterBar.jsx\nimport { useProducts } from ''../context/ProductContext'';\nimport ''./FilterBar.css'';\n\nfunction FilterBar() {\n    const {\n        searchTerm,\n        setSearchTerm,\n        selectedCategory,\n        setSelectedCategory,\n        categories,\n        priceRange,\n        setPriceRange\n    } = useProducts();\n    \n    return (\n        <div className="filter-bar">\n            <div className="filter-group">\n                <label>Search</label>\n                <input\n                    type="text"\n                    placeholder="Search products..."\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className="search-input"\n                />\n            </div>\n            \n            <div className="filter-group">\n                <label>Category</label>\n                <select\n                    value={selectedCategory}\n                    onChange={(e) => setSelectedCategory(e.target.value)}\n                    className="category-select"\n                >\n                    {categories.map(category => (\n                        <option key={category} value={category}>\n                            {category}\n                        </option>\n                    ))}\n                </select>\n            </div>\n            \n            <div className="filter-group">\n                <label>Price Range: ${priceRange[0]} - ${priceRange[1]}</label>\n                <input\n                    type="range"\n                    min="0"\n                    max="1000"\n                    value={priceRange[1]}\n                    onChange={(e) => setPriceRange([priceRange[0], parseInt(e.target.value)])}\n                    className="price-range"\n                />\n            </div>\n        </div>\n    );\n}\n\nexport default FilterBar;\n```\n\n### Step 7: Cart Item Component\n\n```javascript\n// src/components/CartItem.jsx\nimport { useCart } from ''../context/CartContext'';\nimport ''./CartItem.css'';\n\nfunction CartItem({ item }) {\n    const { removeItem, updateQuantity } = useCart();\n    \n    return (\n        <div className="cart-item">\n            <img src={item.image} alt={item.name} className="cart-item-image" />\n            <div className="cart-item-info">\n                <h4>{item.name}</h4>\n                <p className="cart-item-price">${item.price.toFixed(2)}</p>\n            </div>\n            <div className="cart-item-actions">\n                <div className="quantity-controls">\n                    <button onClick={() => updateQuantity(item.id, item.quantity - 1)}>\n                        −\n                    </button>\n                    <span>{item.quantity}</span>\n                    <button onClick={() => updateQuantity(item.id, item.quantity + 1)}>\n                        +\n                    </button>\n                </div>\n                <button\n                    className="remove-btn"\n                    onClick={() => removeItem(item.id)}\n                >\n                    Remove\n                </button>\n            </div>\n            <div className="cart-item-total">\n                ${(item.price * item.quantity).toFixed(2)}\n            </div>\n        </div>\n    );\n}\n\nexport default CartItem;\n```\n\n### Step 8: Cart Component\n\n```javascript\n// src/components/Cart.jsx\nimport { useCart } from ''../context/CartContext'';\nimport CartItem from ''./CartItem'';\nimport { Link } from ''react-router-dom'';\nimport ''./Cart.css'';\n\nfunction Cart() {\n    const { items, getTotal, clearCart } = useCart();\n    \n    if (items.length === 0) {\n        return (\n            <div className="cart-empty">\n                <p>Your cart is empty</p>\n                <Link to="/products" className="btn btn-primary">\n                    Continue Shopping\n                </Link>\n            </div>\n        );\n    }\n    \n    return (\n        <div className="cart">\n            <div className="cart-header">\n                <h2>Shopping Cart</h2>\n                <button onClick={clearCart} className="clear-cart-btn">\n                    Clear Cart\n                </button>\n            </div>\n            \n            <div className="cart-items">\n                {items.map(item => (\n                    <CartItem key={item.id} item={item} />\n                ))}\n            </div>\n            \n            <div className="cart-summary">\n                <div className="cart-total">\n                    <h3>Total: ${getTotal().toFixed(2)}</h3>\n                </div>\n                <Link to="/checkout" className="btn btn-checkout">\n                    Proceed to Checkout\n                </Link>\n            </div>\n        </div>\n    );\n}\n\nexport default Cart;\n```\n\n### Step 9: Checkout Component\n\n```javascript\n// src/components/Checkout.jsx\nimport { useState } from ''react'';\nimport { useCart } from ''../context/CartContext'';\nimport { useNavigate } from ''react-router-dom'';\nimport ''./Checkout.css'';\n\nfunction Checkout() {\n    const { items, getTotal, clearCart } = useCart();\n    const navigate = useNavigate();\n    const [formData, setFormData] = useState({\n        name: '''',\n        email: '''',\n        address: '''',\n        city: '''',\n        zip: '''',\n        cardNumber: '''',\n        expiryDate: '''',\n        cvv: ''''\n    });\n    const [errors, setErrors] = useState({});\n    \n    const handleChange = (e) => {\n        setFormData({\n            ...formData,\n            [e.target.name]: e.target.value\n        });\n    };\n    \n    const validate = () => {\n        const newErrors = {};\n        if (!formData.name.trim()) newErrors.name = ''Name is required'';\n        if (!formData.email.trim()) newErrors.email = ''Email is required'';\n        if (!formData.address.trim()) newErrors.address = ''Address is required'';\n        if (!formData.city.trim()) newErrors.city = ''City is required'';\n        if (!formData.zip.trim()) newErrors.zip = ''ZIP code is required'';\n        if (!formData.cardNumber.trim()) newErrors.cardNumber = ''Card number is required'';\n        if (!formData.expiryDate.trim()) newErrors.expiryDate = ''Expiry date is required'';\n        if (!formData.cvv.trim()) newErrors.cvv = ''CVV is required'';\n        \n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (validate()) {\n            // In a real app, this would send data to backend\n            alert(''Order placed successfully!'');\n            clearCart();\n            navigate(''/'');\n        }\n    };\n    \n    return (\n        <div className="checkout">\n            <h1>Checkout</h1>\n            <div className="checkout-content">\n                <div className="checkout-form-container">\n                    <form className="checkout-form" onSubmit={handleSubmit}>\n                        <h2>Shipping Information</h2>\n                        <div className="form-group">\n                            <label>Full Name</label>\n                            <input\n                                type="text"\n                                name="name"\n                                value={formData.name}\n                                onChange={handleChange}\n                                className={errors.name ? ''error'' : ''''}\n                            />\n                            {errors.name && <span className="error-message">{errors.name}</span>}\n                        </div>\n                        \n                        <div className="form-group">\n                            <label>Email</label>\n                            <input\n                                type="email"\n                                name="email"\n                                value={formData.email}\n                                onChange={handleChange}\n                                className={errors.email ? ''error'' : ''''}\n                            />\n                            {errors.email && <span className="error-message">{errors.email}</span>}\n                        </div>\n                        \n                        <div className="form-group">\n                            <label>Address</label>\n                            <input\n                                type="text"\n                                name="address"\n                                value={formData.address}\n                                onChange={handleChange}\n                                className={errors.address ? ''error'' : ''''}\n                            />\n                            {errors.address && <span className="error-message">{errors.address}</span>}\n                        </div>\n                        \n                        <div className="form-row">\n                            <div className="form-group">\n                                <label>City</label>\n                                <input\n                                    type="text"\n                                    name="city"\n                                    value={formData.city}\n                                    onChange={handleChange}\n                                    className={errors.city ? ''error'' : ''''}\n                                />\n                                {errors.city && <span className="error-message">{errors.city}</span>}\n                            </div>\n                            \n                            <div className="form-group">\n                                <label>ZIP Code</label>\n                                <input\n                                    type="text"\n                                    name="zip"\n                                    value={formData.zip}\n                                    onChange={handleChange}\n                                    className={errors.zip ? ''error'' : ''''}\n                                />\n                                {errors.zip && <span className="error-message">{errors.zip}</span>}\n                            </div>\n                        </div>\n                        \n                        <h2>Payment Information</h2>\n                        <div className="form-group">\n                            <label>Card Number</label>\n                            <input\n                                type="text"\n                                name="cardNumber"\n                                value={formData.cardNumber}\n                                onChange={handleChange}\n                                placeholder="1234 5678 9012 3456"\n                                className={errors.cardNumber ? ''error'' : ''''}\n                            />\n                            {errors.cardNumber && <span className="error-message">{errors.cardNumber}</span>}\n                        </div>\n                        \n                        <div className="form-row">\n                            <div className="form-group">\n                                <label>Expiry Date</label>\n                                <input\n                                    type="text"\n                                    name="expiryDate"\n                                    value={formData.expiryDate}\n                                    onChange={handleChange}\n                                    placeholder="MM/YY"\n                                    className={errors.expiryDate ? ''error'' : ''''}\n                                />\n                                {errors.expiryDate && <span className="error-message">{errors.expiryDate}</span>}\n                            </div>\n                            \n                            <div className="form-group">\n                                <label>CVV</label>\n                                <input\n                                    type="text"\n                                    name="cvv"\n                                    value={formData.cvv}\n                                    onChange={handleChange}\n                                    placeholder="123"\n                                    className={errors.cvv ? ''error'' : ''''}\n                                />\n                                {errors.cvv && <span className="error-message">{errors.cvv}</span>}\n                            </div>\n                        </div>\n                        \n                        <button type="submit" className="btn btn-submit">\n                            Place Order\n                        </button>\n                    </form>\n                </div>\n                \n                <div className="order-summary">\n                    <h2>Order Summary</h2>\n                    <div className="summary-items">\n                        {items.map(item => (\n                            <div key={item.id} className="summary-item">\n                                <span>{item.name} x{item.quantity}</span>\n                                <span>${(item.price * item.quantity).toFixed(2)}</span>\n                            </div>\n                        ))}\n                    </div>\n                    <div className="summary-total">\n                        <h3>Total: ${getTotal().toFixed(2)}</h3>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Checkout;\n```\n\n### Step 10: Navigation Component\n\n```javascript\n// src/components/Navigation.jsx\nimport { Link } from ''react-router-dom'';\nimport { useCart } from ''../context/CartContext'';\nimport ''./Navigation.css'';\n\nfunction Navigation() {\n    const { getItemCount } = useCart();\n    const itemCount = getItemCount();\n    \n    return (\n        <nav className="navigation">\n            <div className="nav-container">\n                <Link to="/" className="nav-logo">\n                    E-Commerce\n                </Link>\n                <div className="nav-links">\n                    <Link to="/" className="nav-link">Home</Link>\n                    <Link to="/products" className="nav-link">Products</Link>\n                    <Link to="/cart" className="nav-link cart-link">\n                        Cart\n                        {itemCount > 0 && <span className="cart-badge">{itemCount}</span>}\n                    </Link>\n                </div>\n            </div>\n        </nav>\n    );\n}\n\nexport default Navigation;\n```\n\n### Step 11: Pages\n\n```javascript\n// src/pages/Home.jsx\nimport { Link } from ''react-router-dom'';\nimport ''./Home.css'';\n\nfunction Home() {\n    return (\n        <div className="home">\n            <div className="hero">\n                <h1>Welcome to Our Store</h1>\n                <p>Discover amazing products at great prices</p>\n                <Link to="/products" className="btn btn-primary">\n                    Shop Now\n                </Link>\n            </div>\n        </div>\n    );\n}\n\nexport default Home;\n```\n\n```javascript\n// src/pages/Products.jsx\nimport { useProducts } from ''../context/ProductContext'';\nimport FilterBar from ''../components/FilterBar'';\nimport ProductList from ''../components/ProductList'';\nimport ''./Products.css'';\n\nfunction Products() {\n    const { products } = useProducts();\n    \n    return (\n        <div className="products-page">\n            <h1>Products</h1>\n            <FilterBar />\n            <ProductList products={products} />\n        </div>\n    );\n}\n\nexport default Products;\n```\n\n```javascript\n// src/pages/ProductDetailPage.jsx\nimport { useParams, useNavigate } from ''react-router-dom'';\nimport { useProducts } from ''../context/ProductContext'';\nimport { useCart } from ''../context/CartContext'';\nimport ''./ProductDetailPage.css'';\n\nfunction ProductDetailPage() {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const { allProducts } = useProducts();\n    const { addItem } = useCart();\n    \n    const product = allProducts.find(p => p.id === parseInt(id));\n    \n    if (!product) {\n        return <div>Product not found</div>;\n    }\n    \n    const handleAddToCart = () => {\n        addItem(product);\n        navigate(''/cart'');\n    };\n    \n    return (\n        <div className="product-detail-page">\n            <button onClick={() => navigate(-1)} className="back-btn">\n                ← Back\n            </button>\n            <div className="product-detail">\n                <div className="product-detail-image">\n                    <img src={product.image} alt={product.name} />\n                </div>\n                <div className="product-detail-info">\n                    <h1>{product.name}</h1>\n                    <p className="product-category">{product.category}</p>\n                    <p className="product-price">${product.price.toFixed(2)}</p>\n                    <p className="product-description">{product.description}</p>\n                    <div className="product-status">\n                        {product.inStock ? (\n                            <span className="in-stock">In Stock</span>\n                        ) : (\n                            <span className="out-of-stock">Out of Stock</span>\n                        )}\n                    </div>\n                    <button\n                        className="btn btn-primary add-to-cart-detail"\n                        onClick={handleAddToCart}\n                        disabled={!product.inStock}\n                    >\n                        {product.inStock ? ''Add to Cart'' : ''Out of Stock''}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ProductDetailPage;\n```\n\n```javascript\n// src/pages/CheckoutPage.jsx\nimport Checkout from ''../components/Checkout'';\nimport ''./CheckoutPage.css'';\n\nfunction CheckoutPage() {\n    return (\n        <div className="checkout-page">\n            <Checkout />\n        </div>\n    );\n}\n\nexport default CheckoutPage;\n```\n\n### Step 12: App Component\n\n```javascript\n// src/App.jsx\nimport { BrowserRouter, Routes, Route } from ''react-router-dom'';\nimport { CartProvider } from ''./context/CartContext'';\nimport { ProductProvider } from ''./context/ProductContext'';\nimport Layout from ''./components/Layout'';\nimport Home from ''./pages/Home'';\nimport Products from ''./pages/Products'';\nimport ProductDetailPage from ''./pages/ProductDetailPage'';\nimport Cart from ''./components/Cart'';\nimport CheckoutPage from ''./pages/CheckoutPage'';\nimport ''./App.css'';\n\nfunction App() {\n    return (\n        <CartProvider>\n            <ProductProvider>\n                <BrowserRouter>\n                    <Routes>\n                        <Route path="/" element={<Layout />}>\n                            <Route index element={<Home />} />\n                            <Route path="products" element={<Products />} />\n                            <Route path="products/:id" element={<ProductDetailPage />} />\n                            <Route path="cart" element={<Cart />} />\n                            <Route path="checkout" element={<CheckoutPage />} />\n                        </Route>\n                    </Routes>\n                </BrowserRouter>\n            </ProductProvider>\n        </CartProvider>\n    );\n}\n\nexport default App;\n```\n\n---\n\n## Features Implementation\n\n### Complex State Management\n\n- **Context API**: Global state for cart and products\n- **useReducer**: Complex cart state management\n- **Local Storage**: Persist cart data\n- **State Updates**: Efficient state updates\n\n### Shopping Cart\n\n- **Add Items**: Add products to cart\n- **Remove Items**: Remove from cart\n- **Update Quantities**: Change item quantities\n- **Calculate Totals**: Automatic total calculation\n- **Persist Cart**: Save to local storage\n\n### Product Catalog\n\n- **Display Products**: Show all products\n- **Filtering**: Filter by category, price, search\n- **Product Details**: Individual product pages\n- **Responsive Grid**: Product grid layout\n\n---\n\n## Testing Your Application\n\n### Manual Testing Checklist\n\n- [ ] View product catalog\n- [ ] Filter products\n- [ ] View product details\n- [ ] Add items to cart\n- [ ] Update cart quantities\n- [ ] Remove items from cart\n- [ ] View cart\n- [ ] Proceed to checkout\n- [ ] Complete checkout form\n- [ ] Test cart persistence\n\n---\n\n## Exercise: E-commerce Frontend\n\n**Instructions**:\n\n1. Set up React project\n2. Create all components and contexts\n3. Implement all features\n4. Test thoroughly\n5. Customize design\n\n**Enhancement Ideas**:\n\n- Add user authentication\n- Add product reviews\n- Add wishlist functionality\n- Add product recommendations\n- Add order history\n- Add payment integration\n- Add shipping calculator\n- Add product images gallery\n\n---\n\n## Common Issues and Solutions\n\n### Issue: Cart not persisting\n\n**Solution**: Check localStorage implementation in CartContext.\n\n### Issue: State not updating\n\n**Solution**: Ensure Context providers wrap components correctly.\n\n### Issue: Filters not working\n\n**Solution**: Check useMemo dependencies in ProductContext.\n\n---\n\n## Quiz: Complex React App\n\n1. **Context API:**\n   - A) Manages global state\n   - B) Doesn''t manage state\n   - C) Both\n   - D) Neither\n\n2. **useReducer:**\n   - A) Complex state management\n   - B) Simple state management\n   - C) Both\n   - D) Neither\n\n3. **Shopping cart:**\n   - A) Complex state\n   - B) Simple state\n   - C) Both\n   - D) Neither\n\n4. **Local storage:**\n   - A) Persists data\n   - B) Temporary data\n   - C) Both\n   - D) Neither\n\n5. **Product filtering:**\n   - A) Uses useMemo\n   - B) Doesn''t use useMemo\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Manages global state\n2. A) Complex state management\n3. A) Complex state\n4. A) Persists data\n5. A) Uses useMemo (for optimization)\n\n---\n\n## Key Takeaways\n\n1. **Complex State**: Use Context API and useReducer\n2. **Shopping Cart**: Implement cart functionality\n3. **Product Catalog**: Build filtering and display\n4. **State Management**: Efficient state updates\n5. **Best Practice**: Clean architecture and separation\n\n---\n\n## Next Steps\n\nCongratulations! You''ve built an E-commerce Frontend. You now know:\n- How to manage complex state\n- How to implement shopping cart\n- How to build product catalog\n- How to create complex React apps\n\n**What''s Next?**\n- Project 3: Full-Stack Applications\n- Learn backend development\n- Build REST APIs\n- Create full-stack applications\n\n---\n\n*Project completed! You''ve finished Project 2: Frontend Applications. Ready for Project 3: Full-Stack Applications!*\n\n', NULL, 3, '2026-01-03 10:35:57', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Manage complex application state\n- Implement shopping cart functionality\n- Build product catalog with filtering\n- Use Context API for global state\n- Handle user interactions\n- Create responsive e-commerce UI\n- Implement cart persistence');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (200, 73, 18, 'REST API with Node.js', 'rest-api-with-nodejs', '# Project 3.1: REST API with Node.js\n\n## Project Overview\n\nBuild a complete REST API using Node.js, Express.js, and a database. This project will help you practice backend development, database integration, CRUD operations, and authentication.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Set up Express.js server\n- Integrate with databases (MongoDB or MySQL)\n- Implement CRUD operations\n- Add authentication and authorization\n- Handle errors properly\n- Structure backend applications\n- Test API endpoints\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **User Management**: Register, login, get user profile\n2. **Product Management**: CRUD operations for products\n3. **Authentication**: JWT-based authentication\n4. **Authorization**: Protect routes\n5. **Error Handling**: Proper error responses\n6. **Validation**: Input validation\n7. **Database**: Persistent data storage\n8. **API Documentation**: Clear API structure\n\n### Technical Requirements\n\n- Node.js and Express.js\n- Database (MongoDB with Mongoose or MySQL)\n- JWT authentication\n- Input validation\n- Error handling middleware\n- Environment variables\n- RESTful API design\n\n---\n\n## Project Setup\n\n```bash\n# Create project directory\nmkdir rest-api-project\ncd rest-api-project\n\n# Initialize npm\nnpm init -y\n\n# Install dependencies\nnpm install express mongoose dotenv bcrypt jsonwebtoken express-validator cors\nnpm install --save-dev nodemon\n\n# Create project structure\nmkdir src\nmkdir src/controllers\nmkdir src/models\nmkdir src/routes\nmkdir src/middleware\nmkdir src/utils\n```\n\n---\n\n## Project Structure\n\n```\nrest-api-project/\n├── src/\n│   ├── controllers/\n│   │   ├── authController.js\n│   │   └── productController.js\n│   ├── models/\n│   │   ├── User.js\n│   │   └── Product.js\n│   ├── routes/\n│   │   ├── authRoutes.js\n│   │   └── productRoutes.js\n│   ├── middleware/\n│   │   ├── auth.js\n│   │   ├── errorHandler.js\n│   │   └── validate.js\n│   ├── utils/\n│   │   └── generateToken.js\n│   └── server.js\n├── .env\n├── .gitignore\n└── package.json\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Step 1: Package.json Configuration\n\n```json\n{\n  "name": "rest-api-project",\n  "version": "1.0.0",\n  "description": "REST API with Node.js and Express",\n  "main": "src/server.js",\n  "scripts": {\n    "start": "node src/server.js",\n    "dev": "nodemon src/server.js"\n  },\n  "keywords": ["api", "rest", "express"],\n  "author": "",\n  "license": "ISC",\n  "dependencies": {\n    "express": "^4.18.0",\n    "mongoose": "^7.0.0",\n    "dotenv": "^16.0.0",\n    "bcrypt": "^5.1.0",\n    "jsonwebtoken": "^9.0.0",\n    "express-validator": "^7.0.0",\n    "cors": "^2.8.5"\n  },\n  "devDependencies": {\n    "nodemon": "^2.0.0"\n  }\n}\n```\n\n### Step 2: Environment Variables\n\n```bash\n# .env\nNODE_ENV=development\nPORT=5000\nMONGODB_URI=mongodb://localhost:27017/ecommerce\nJWT_SECRET=your-super-secret-jwt-key-change-this-in-production\nJWT_EXPIRE=7d\n```\n\n### Step 3: User Model\n\n```javascript\n// src/models/User.js\nconst mongoose = require(''mongoose'');\nconst bcrypt = require(''bcrypt'');\n\nconst userSchema = new mongoose.Schema({\n    name: {\n        type: String,\n        required: [true, ''Please provide a name''],\n        trim: true\n    },\n    email: {\n        type: String,\n        required: [true, ''Please provide an email''],\n        unique: true,\n        lowercase: true,\n        trim: true,\n        match: [/^\\S+@\\S+\\.\\S+$/, ''Please provide a valid email'']\n    },\n    password: {\n        type: String,\n        required: [true, ''Please provide a password''],\n        minlength: [6, ''Password must be at least 6 characters''],\n        select: false\n    },\n    role: {\n        type: String,\n        enum: [''user'', ''admin''],\n        default: ''user''\n    }\n}, {\n    timestamps: true\n});\n\n// Hash password before saving\nuserSchema.pre(''save'', async function(next) {\n    if (!this.isModified(''password'')) {\n        return next();\n    }\n    const salt = await bcrypt.genSalt(10);\n    this.password = await bcrypt.hash(this.password, salt);\n    next();\n});\n\n// Compare password method\nuserSchema.methods.comparePassword = async function(candidatePassword) {\n    return await bcrypt.compare(candidatePassword, this.password);\n};\n\nmodule.exports = mongoose.model(''User'', userSchema);\n```\n\n### Step 4: Product Model\n\n```javascript\n// src/models/Product.js\nconst mongoose = require(''mongoose'');\n\nconst productSchema = new mongoose.Schema({\n    name: {\n        type: String,\n        required: [true, ''Please provide a product name''],\n        trim: true\n    },\n    description: {\n        type: String,\n        required: [true, ''Please provide a description'']\n    },\n    price: {\n        type: Number,\n        required: [true, ''Please provide a price''],\n        min: [0, ''Price must be positive'']\n    },\n    category: {\n        type: String,\n        required: [true, ''Please provide a category'']\n    },\n    image: {\n        type: String,\n        default: ''https://via.placeholder.com/300''\n    },\n    inStock: {\n        type: Boolean,\n        default: true\n    },\n    stock: {\n        type: Number,\n        default: 0,\n        min: 0\n    },\n    createdBy: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: ''User'',\n        required: true\n    }\n}, {\n    timestamps: true\n});\n\nmodule.exports = mongoose.model(''Product'', productSchema);\n```\n\n### Step 5: Generate Token Utility\n\n```javascript\n// src/utils/generateToken.js\nconst jwt = require(''jsonwebtoken'');\n\nconst generateToken = (userId) => {\n    return jwt.sign({ userId }, process.env.JWT_SECRET, {\n        expiresIn: process.env.JWT_EXPIRE\n    });\n};\n\nmodule.exports = generateToken;\n```\n\n### Step 6: Authentication Middleware\n\n```javascript\n// src/middleware/auth.js\nconst jwt = require(''jsonwebtoken'');\nconst User = require(''../models/User'');\n\nconst protect = async (req, res, next) => {\n    let token;\n    \n    if (req.headers.authorization && req.headers.authorization.startsWith(''Bearer'')) {\n        token = req.headers.authorization.split('' '')[1];\n    }\n    \n    if (!token) {\n        return res.status(401).json({\n            success: false,\n            error: ''Not authorized to access this route''\n        });\n    }\n    \n    try {\n        const decoded = jwt.verify(token, process.env.JWT_SECRET);\n        req.user = await User.findById(decoded.userId).select(''-password'');\n        \n        if (!req.user) {\n            return res.status(401).json({\n                success: false,\n                error: ''User not found''\n            });\n        }\n        \n        next();\n    } catch (error) {\n        return res.status(401).json({\n            success: false,\n            error: ''Not authorized to access this route''\n        });\n    }\n};\n\nconst authorize = (...roles) => {\n    return (req, res, next) => {\n        if (!roles.includes(req.user.role)) {\n            return res.status(403).json({\n                success: false,\n                error: `User role ${req.user.role} is not authorized to access this route`\n            });\n        }\n        next();\n    };\n};\n\nmodule.exports = { protect, authorize };\n```\n\n### Step 7: Validation Middleware\n\n```javascript\n// src/middleware/validate.js\nconst { validationResult } = require(''express-validator'');\n\nconst validate = (req, res, next) => {\n    const errors = validationResult(req);\n    if (!errors.isEmpty()) {\n        return res.status(400).json({\n            success: false,\n            errors: errors.array()\n        });\n    }\n    next();\n};\n\nmodule.exports = validate;\n```\n\n### Step 8: Error Handler Middleware\n\n```javascript\n// src/middleware/errorHandler.js\nconst errorHandler = (err, req, res, next) => {\n    let error = { ...err };\n    error.message = err.message;\n    \n    // Log error\n    console.error(err);\n    \n    // Mongoose bad ObjectId\n    if (err.name === ''CastError'') {\n        const message = ''Resource not found'';\n        error = { message, statusCode: 404 };\n    }\n    \n    // Mongoose duplicate key\n    if (err.code === 11000) {\n        const message = ''Duplicate field value entered'';\n        error = { message, statusCode: 400 };\n    }\n    \n    // Mongoose validation error\n    if (err.name === ''ValidationError'') {\n        const message = Object.values(err.errors).map(val => val.message);\n        error = { message, statusCode: 400 };\n    }\n    \n    res.status(error.statusCode || 500).json({\n        success: false,\n        error: error.message || ''Server Error''\n    });\n};\n\nmodule.exports = errorHandler;\n```\n\n### Step 9: Auth Controller\n\n```javascript\n// src/controllers/authController.js\nconst User = require(''../models/User'');\nconst generateToken = require(''../utils/generateToken'');\n\n// @desc    Register user\n// @route   POST /api/auth/register\n// @access  Public\nexports.register = async (req, res, next) => {\n    try {\n        const { name, email, password } = req.body;\n        \n        // Check if user exists\n        const userExists = await User.findOne({ email });\n        if (userExists) {\n            return res.status(400).json({\n                success: false,\n                error: ''User already exists''\n            });\n        }\n        \n        // Create user\n        const user = await User.create({\n            name,\n            email,\n            password\n        });\n        \n        // Generate token\n        const token = generateToken(user._id);\n        \n        res.status(201).json({\n            success: true,\n            token,\n            user: {\n                id: user._id,\n                name: user.name,\n                email: user.email,\n                role: user.role\n            }\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\n// @desc    Login user\n// @route   POST /api/auth/login\n// @access  Public\nexports.login = async (req, res, next) => {\n    try {\n        const { email, password } = req.body;\n        \n        // Validate email and password\n        if (!email || !password) {\n            return res.status(400).json({\n                success: false,\n                error: ''Please provide email and password''\n            });\n        }\n        \n        // Check for user\n        const user = await User.findOne({ email }).select(''+password'');\n        if (!user) {\n            return res.status(401).json({\n                success: false,\n                error: ''Invalid credentials''\n            });\n        }\n        \n        // Check if password matches\n        const isMatch = await user.comparePassword(password);\n        if (!isMatch) {\n            return res.status(401).json({\n                success: false,\n                error: ''Invalid credentials''\n            });\n        }\n        \n        // Generate token\n        const token = generateToken(user._id);\n        \n        res.json({\n            success: true,\n            token,\n            user: {\n                id: user._id,\n                name: user.name,\n                email: user.email,\n                role: user.role\n            }\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\n// @desc    Get current user\n// @route   GET /api/auth/me\n// @access  Private\nexports.getMe = async (req, res, next) => {\n    try {\n        const user = await User.findById(req.user._id);\n        \n        res.json({\n            success: true,\n            user: {\n                id: user._id,\n                name: user.name,\n                email: user.email,\n                role: user.role\n            }\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n```\n\n### Step 10: Product Controller\n\n```javascript\n// src/controllers/productController.js\nconst Product = require(''../models/Product'');\n\n// @desc    Get all products\n// @route   GET /api/products\n// @access  Public\nexports.getProducts = async (req, res, next) => {\n    try {\n        const { category, search, page = 1, limit = 10 } = req.query;\n        \n        // Build query\n        const query = {};\n        if (category) {\n            query.category = category;\n        }\n        if (search) {\n            query.$or = [\n                { name: { $regex: search, $options: ''i'' } },\n                { description: { $regex: search, $options: ''i'' } }\n            ];\n        }\n        \n        // Pagination\n        const skip = (page - 1) * limit;\n        \n        const products = await Product.find(query)\n            .populate(''createdBy'', ''name email'')\n            .skip(skip)\n            .limit(parseInt(limit))\n            .sort({ createdAt: -1 });\n        \n        const total = await Product.countDocuments(query);\n        \n        res.json({\n            success: true,\n            count: products.length,\n            total,\n            page: parseInt(page),\n            pages: Math.ceil(total / limit),\n            data: products\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\n// @desc    Get single product\n// @route   GET /api/products/:id\n// @access  Public\nexports.getProduct = async (req, res, next) => {\n    try {\n        const product = await Product.findById(req.params.id)\n            .populate(''createdBy'', ''name email'');\n        \n        if (!product) {\n            return res.status(404).json({\n                success: false,\n                error: ''Product not found''\n            });\n        }\n        \n        res.json({\n            success: true,\n            data: product\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\n// @desc    Create product\n// @route   POST /api/products\n// @access  Private\nexports.createProduct = async (req, res, next) => {\n    try {\n        req.body.createdBy = req.user._id;\n        \n        const product = await Product.create(req.body);\n        \n        res.status(201).json({\n            success: true,\n            data: product\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\n// @desc    Update product\n// @route   PUT /api/products/:id\n// @access  Private\nexports.updateProduct = async (req, res, next) => {\n    try {\n        let product = await Product.findById(req.params.id);\n        \n        if (!product) {\n            return res.status(404).json({\n                success: false,\n                error: ''Product not found''\n            });\n        }\n        \n        // Make sure user is product owner or admin\n        if (product.createdBy.toString() !== req.user._id.toString() && req.user.role !== ''admin'') {\n            return res.status(403).json({\n                success: false,\n                error: ''Not authorized to update this product''\n            });\n        }\n        \n        product = await Product.findByIdAndUpdate(\n            req.params.id,\n            req.body,\n            {\n                new: true,\n                runValidators: true\n            }\n        );\n        \n        res.json({\n            success: true,\n            data: product\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\n// @desc    Delete product\n// @route   DELETE /api/products/:id\n// @access  Private\nexports.deleteProduct = async (req, res, next) => {\n    try {\n        const product = await Product.findById(req.params.id);\n        \n        if (!product) {\n            return res.status(404).json({\n                success: false,\n                error: ''Product not found''\n            });\n        }\n        \n        // Make sure user is product owner or admin\n        if (product.createdBy.toString() !== req.user._id.toString() && req.user.role !== ''admin'') {\n            return res.status(403).json({\n                success: false,\n                error: ''Not authorized to delete this product''\n            });\n        }\n        \n        await product.deleteOne();\n        \n        res.json({\n            success: true,\n            data: {}\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n```\n\n### Step 11: Auth Routes\n\n```javascript\n// src/routes/authRoutes.js\nconst express = require(''express'');\nconst { body } = require(''express-validator'');\nconst { register, login, getMe } = require(''../controllers/authController'');\nconst { protect } = require(''../middleware/auth'');\nconst validate = require(''../middleware/validate'');\n\nconst router = express.Router();\n\nrouter.post(\n    ''/register'',\n    [\n        body(''name'').trim().notEmpty().withMessage(''Name is required''),\n        body(''email'').isEmail().withMessage(''Please provide a valid email''),\n        body(''password'').isLength({ min: 6 }).withMessage(''Password must be at least 6 characters'')\n    ],\n    validate,\n    register\n);\n\nrouter.post(\n    ''/login'',\n    [\n        body(''email'').isEmail().withMessage(''Please provide a valid email''),\n        body(''password'').notEmpty().withMessage(''Password is required'')\n    ],\n    validate,\n    login\n);\n\nrouter.get(''/me'', protect, getMe);\n\nmodule.exports = router;\n```\n\n### Step 12: Product Routes\n\n```javascript\n// src/routes/productRoutes.js\nconst express = require(''express'');\nconst { body } = require(''express-validator'');\nconst {\n    getProducts,\n    getProduct,\n    createProduct,\n    updateProduct,\n    deleteProduct\n} = require(''../controllers/productController'');\nconst { protect, authorize } = require(''../middleware/auth'');\nconst validate = require(''../middleware/validate'');\n\nconst router = express.Router();\n\nrouter.get(''/'', getProducts);\nrouter.get(''/:id'', getProduct);\nrouter.post(\n    ''/'',\n    protect,\n    [\n        body(''name'').trim().notEmpty().withMessage(''Product name is required''),\n        body(''description'').trim().notEmpty().withMessage(''Description is required''),\n        body(''price'').isFloat({ min: 0 }).withMessage(''Price must be a positive number''),\n        body(''category'').trim().notEmpty().withMessage(''Category is required'')\n    ],\n    validate,\n    createProduct\n);\nrouter.put(\n    ''/:id'',\n    protect,\n    [\n        body(''name'').optional().trim().notEmpty().withMessage(''Product name cannot be empty''),\n        body(''price'').optional().isFloat({ min: 0 }).withMessage(''Price must be a positive number'')\n    ],\n    validate,\n    updateProduct\n);\nrouter.delete(''/:id'', protect, deleteProduct);\n\nmodule.exports = router;\n```\n\n### Step 13: Server Setup\n\n```javascript\n// src/server.js\nconst express = require(''express'');\nconst mongoose = require(''mongoose'');\nconst cors = require(''cors'');\nrequire(''dotenv'').config();\n\nconst authRoutes = require(''./routes/authRoutes'');\nconst productRoutes = require(''./routes/productRoutes'');\nconst errorHandler = require(''./middleware/errorHandler'');\n\nconst app = express();\n\n// Middleware\napp.use(cors());\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\n// Routes\napp.use(''/api/auth'', authRoutes);\napp.use(''/api/products'', productRoutes);\n\n// Health check\napp.get(''/api/health'', (req, res) => {\n    res.json({\n        success: true,\n        message: ''API is running''\n    });\n});\n\n// Error handler (must be last)\napp.use(errorHandler);\n\n// Connect to database\nmongoose.connect(process.env.MONGODB_URI)\n    .then(() => {\n        console.log(''Connected to MongoDB'');\n        // Start server\n        const PORT = process.env.PORT || 5000;\n        app.listen(PORT, () => {\n            console.log(`Server running on port ${PORT}`);\n        });\n    })\n    .catch((error) => {\n        console.error(''MongoDB connection error:'', error);\n        process.exit(1);\n    });\n```\n\n---\n\n## API Endpoints\n\n### Authentication\n\n- `POST /api/auth/register` - Register new user\n- `POST /api/auth/login` - Login user\n- `GET /api/auth/me` - Get current user (Protected)\n\n### Products\n\n- `GET /api/products` - Get all products (with filters)\n- `GET /api/products/:id` - Get single product\n- `POST /api/products` - Create product (Protected)\n- `PUT /api/products/:id` - Update product (Protected)\n- `DELETE /api/products/:id` - Delete product (Protected)\n\n---\n\n## Testing Your API\n\n### Using Postman or cURL\n\n```bash\n# Register user\ncurl -X POST http://localhost:5000/api/auth/register \\\n  -H "Content-Type: application/json" \\\n  -d ''{"name":"John Doe","email":"john@example.com","password":"password123"}''\n\n# Login\ncurl -X POST http://localhost:5000/api/auth/login \\\n  -H "Content-Type: application/json" \\\n  -d ''{"email":"john@example.com","password":"password123"}''\n\n# Get products\ncurl http://localhost:5000/api/products\n\n# Create product (with token)\ncurl -X POST http://localhost:5000/api/products \\\n  -H "Content-Type: application/json" \\\n  -H "Authorization: Bearer YOUR_TOKEN" \\\n  -d ''{"name":"Product Name","description":"Description","price":99.99,"category":"Electronics"}''\n```\n\n---\n\n## Exercise: REST API\n\n**Instructions**:\n\n1. Set up the project\n2. Create all files\n3. Test all endpoints\n4. Add more features\n5. Document the API\n\n**Enhancement Ideas**:\n\n- Add order management\n- Add review/rating system\n- Add file upload for images\n- Add pagination improvements\n- Add sorting options\n- Add caching\n- Add rate limiting\n- Add API documentation (Swagger)\n\n---\n\n## Common Issues and Solutions\n\n### Issue: Database connection fails\n\n**Solution**: Check MongoDB is running and connection string is correct.\n\n### Issue: JWT token invalid\n\n**Solution**: Ensure JWT_SECRET is set and token is sent in Authorization header.\n\n### Issue: Validation errors\n\n**Solution**: Check express-validator rules and request body format.\n\n---\n\n## Quiz: Backend API\n\n1. **Express.js:**\n   - A) Web framework\n   - B) Database\n   - C) Both\n   - D) Neither\n\n2. **Mongoose:**\n   - A) MongoDB ODM\n   - B) SQL ORM\n   - C) Both\n   - D) Neither\n\n3. **JWT:**\n   - A) Authentication token\n   - B) Database\n   - C) Both\n   - D) Neither\n\n4. **Middleware:**\n   - A) Processes requests\n   - B) Doesn''t process requests\n   - C) Both\n   - D) Neither\n\n5. **REST API:**\n   - A) Uses HTTP methods\n   - B) Doesn''t use HTTP methods\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Web framework\n2. A) MongoDB ODM\n3. A) Authentication token\n4. A) Processes requests\n5. A) Uses HTTP methods\n\n---\n\n## Key Takeaways\n\n1. **Express.js**: Fast web framework\n2. **Database Integration**: Connect to MongoDB\n3. **CRUD Operations**: Create, read, update, delete\n4. **Authentication**: JWT-based auth\n5. **Best Practice**: Clean structure, error handling\n\n---\n\n## Next Steps\n\nCongratulations! You''ve built a REST API. You now know:\n- How to set up Express.js\n- How to integrate databases\n- How to implement CRUD operations\n- How to add authentication\n\n**What''s Next?**\n- Project 3.2: Full-Stack Application\n- Connect frontend and backend\n- Build complete application\n- Integrate all components\n\n---\n\n*Project completed! You''re ready to move on to the next project.*\n\n', NULL, 1, '2026-01-03 10:37:38', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Set up Express.js server\n- Integrate with databases (MongoDB or MySQL)\n- Implement CRUD operations\n- Add authentication and authorization\n- Handle errors properly\n- Structure backend applications\n- Test API endpoints');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (201, 73, 18, 'Full-Stack Application', 'full-stack-application', '# Project 3.2: Full-Stack Application\n\n## Project Overview\n\nBuild a complete full-stack application combining the React frontend with the Node.js backend. This project will help you practice connecting frontend and backend, managing authentication across the stack, and building production-ready applications.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Connect React frontend to Node.js backend\n- Implement authentication flow\n- Manage API calls from frontend\n- Handle authentication state\n- Build complete full-stack applications\n- Deploy full-stack applications\n- Handle CORS and security\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **User Authentication**: Register, login, logout\n2. **Product Management**: View, create, edit, delete products\n3. **Protected Routes**: Secure frontend routes\n4. **API Integration**: Connect frontend to backend\n5. **State Management**: Manage auth and data state\n6. **Error Handling**: Handle API errors\n7. **Loading States**: Show loading indicators\n8. **Responsive Design**: Works on all devices\n\n### Technical Requirements\n\n- React frontend\n- Node.js/Express backend\n- MongoDB database\n- JWT authentication\n- Axios for API calls\n- Context API for state\n- Protected routes\n\n---\n\n## Project Structure\n\n```\nfullstack-app/\n├── backend/\n│   ├── src/\n│   │   ├── controllers/\n│   │   ├── models/\n│   │   ├── routes/\n│   │   ├── middleware/\n│   │   └── server.js\n│   ├── .env\n│   └── package.json\n├── frontend/\n│   ├── src/\n│   │   ├── components/\n│   │   ├── pages/\n│   │   ├── context/\n│   │   ├── services/\n│   │   └── App.jsx\n│   └── package.json\n└── README.md\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Backend Setup\n\nUse the backend from Project 3.1 or set it up following those instructions.\n\n### Frontend Setup\n\n```bash\n# Create React app\nnpx create-react-app frontend\ncd frontend\n\n# Install dependencies\nnpm install axios react-router-dom\n\n# Start development server\nnpm start\n```\n\n### Frontend API Service\n\n```javascript\n// src/services/api.js\nimport axios from ''axios'';\n\nconst API_URL = process.env.REACT_APP_API_URL || ''http://localhost:5000/api'';\n\n// Create axios instance\nconst api = axios.create({\n    baseURL: API_URL,\n    headers: {\n        ''Content-Type'': ''application/json''\n    }\n});\n\n// Add token to requests\napi.interceptors.request.use(\n    (config) => {\n        const token = localStorage.getItem(''token'');\n        if (token) {\n            config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n    },\n    (error) => {\n        return Promise.reject(error);\n    }\n);\n\n// Handle response errors\napi.interceptors.response.use(\n    (response) => response,\n    (error) => {\n        if (error.response?.status === 401) {\n            localStorage.removeItem(''token'');\n            window.location.href = ''/login'';\n        }\n        return Promise.reject(error);\n    }\n);\n\n// Auth API\nexport const authAPI = {\n    register: (userData) => api.post(''/auth/register'', userData),\n    login: (credentials) => api.post(''/auth/login'', credentials),\n    getMe: () => api.get(''/auth/me'')\n};\n\n// Products API\nexport const productsAPI = {\n    getProducts: (params) => api.get(''/products'', { params }),\n    getProduct: (id) => api.get(`/products/${id}`),\n    createProduct: (productData) => api.post(''/products'', productData),\n    updateProduct: (id, productData) => api.put(`/products/${id}`, productData),\n    deleteProduct: (id) => api.delete(`/products/${id}`)\n};\n\nexport default api;\n```\n\n### Auth Context\n\n```javascript\n// src/context/AuthContext.jsx\nimport { createContext, useContext, useState, useEffect } from ''react'';\nimport { authAPI } from ''../services/api'';\n\nconst AuthContext = createContext();\n\nexport function AuthProvider({ children }) {\n    const [user, setUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [token, setToken] = useState(localStorage.getItem(''token''));\n    \n    useEffect(() => {\n        if (token) {\n            loadUser();\n        } else {\n            setLoading(false);\n        }\n    }, [token]);\n    \n    const loadUser = async () => {\n        try {\n            const response = await authAPI.getMe();\n            setUser(response.data.user);\n        } catch (error) {\n            localStorage.removeItem(''token'');\n            setToken(null);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    const register = async (userData) => {\n        try {\n            const response = await authAPI.register(userData);\n            const { token, user } = response.data;\n            localStorage.setItem(''token'', token);\n            setToken(token);\n            setUser(user);\n            return { success: true };\n        } catch (error) {\n            return {\n                success: false,\n                error: error.response?.data?.error || ''Registration failed''\n            };\n        }\n    };\n    \n    const login = async (credentials) => {\n        try {\n            const response = await authAPI.login(credentials);\n            const { token, user } = response.data;\n            localStorage.setItem(''token'', token);\n            setToken(token);\n            setUser(user);\n            return { success: true };\n        } catch (error) {\n            return {\n                success: false,\n                error: error.response?.data?.error || ''Login failed''\n            };\n        }\n    };\n    \n    const logout = () => {\n        localStorage.removeItem(''token'');\n        setToken(null);\n        setUser(null);\n    };\n    \n    return (\n        <AuthContext.Provider\n            value={{\n                user,\n                loading,\n                register,\n                login,\n                logout,\n                isAuthenticated: !!user\n            }}\n        >\n            {children}\n        </AuthContext.Provider>\n    );\n}\n\nexport function useAuth() {\n    const context = useContext(AuthContext);\n    if (!context) {\n        throw new Error(''useAuth must be used within AuthProvider'');\n    }\n    return context;\n}\n```\n\n### Protected Route Component\n\n```javascript\n// src/components/ProtectedRoute.jsx\nimport { Navigate } from ''react-router-dom'';\nimport { useAuth } from ''../context/AuthContext'';\n\nfunction ProtectedRoute({ children }) {\n    const { isAuthenticated, loading } = useAuth();\n    \n    if (loading) {\n        return <div>Loading...</div>;\n    }\n    \n    return isAuthenticated ? children : <Navigate to="/login" />;\n}\n\nexport default ProtectedRoute;\n```\n\n### Login Page\n\n```javascript\n// src/pages/Login.jsx\nimport { useState } from ''react'';\nimport { useNavigate, Link } from ''react-router-dom'';\nimport { useAuth } from ''../context/AuthContext'';\nimport ''./Login.css'';\n\nfunction Login() {\n    const navigate = useNavigate();\n    const { login } = useAuth();\n    const [formData, setFormData] = useState({\n        email: '''',\n        password: ''''\n    });\n    const [error, setError] = useState('''');\n    const [loading, setLoading] = useState(false);\n    \n    const handleChange = (e) => {\n        setFormData({\n            ...formData,\n            [e.target.name]: e.target.value\n        });\n    };\n    \n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('''');\n        setLoading(true);\n        \n        const result = await login(formData);\n        \n        if (result.success) {\n            navigate(''/'');\n        } else {\n            setError(result.error);\n        }\n        \n        setLoading(false);\n    };\n    \n    return (\n        <div className="login-page">\n            <div className="login-container">\n                <h1>Login</h1>\n                {error && <div className="error-message">{error}</div>}\n                <form onSubmit={handleSubmit}>\n                    <div className="form-group">\n                        <label>Email</label>\n                        <input\n                            type="email"\n                            name="email"\n                            value={formData.email}\n                            onChange={handleChange}\n                            required\n                        />\n                    </div>\n                    <div className="form-group">\n                        <label>Password</label>\n                        <input\n                            type="password"\n                            name="password"\n                            value={formData.password}\n                            onChange={handleChange}\n                            required\n                        />\n                    </div>\n                    <button type="submit" disabled={loading} className="btn btn-primary">\n                        {loading ? ''Logging in...'' : ''Login''}\n                    </button>\n                </form>\n                <p>\n                    Don''t have an account? <Link to="/register">Register</Link>\n                </p>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;\n```\n\n### Register Page\n\n```javascript\n// src/pages/Register.jsx\nimport { useState } from ''react'';\nimport { useNavigate, Link } from ''react-router-dom'';\nimport { useAuth } from ''../context/AuthContext'';\nimport ''./Register.css'';\n\nfunction Register() {\n    const navigate = useNavigate();\n    const { register } = useAuth();\n    const [formData, setFormData] = useState({\n        name: '''',\n        email: '''',\n        password: ''''\n    });\n    const [error, setError] = useState('''');\n    const [loading, setLoading] = useState(false);\n    \n    const handleChange = (e) => {\n        setFormData({\n            ...formData,\n            [e.target.name]: e.target.value\n        });\n    };\n    \n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('''');\n        setLoading(true);\n        \n        const result = await register(formData);\n        \n        if (result.success) {\n            navigate(''/'');\n        } else {\n            setError(result.error);\n        }\n        \n        setLoading(false);\n    };\n    \n    return (\n        <div className="register-page">\n            <div className="register-container">\n                <h1>Register</h1>\n                {error && <div className="error-message">{error}</div>}\n                <form onSubmit={handleSubmit}>\n                    <div className="form-group">\n                        <label>Name</label>\n                        <input\n                            type="text"\n                            name="name"\n                            value={formData.name}\n                            onChange={handleChange}\n                            required\n                        />\n                    </div>\n                    <div className="form-group">\n                        <label>Email</label>\n                        <input\n                            type="email"\n                            name="email"\n                            value={formData.email}\n                            onChange={handleChange}\n                            required\n                        />\n                    </div>\n                    <div className="form-group">\n                        <label>Password</label>\n                        <input\n                            type="password"\n                            name="password"\n                            value={formData.password}\n                            onChange={handleChange}\n                            required\n                            minLength="6"\n                        />\n                    </div>\n                    <button type="submit" disabled={loading} className="btn btn-primary">\n                        {loading ? ''Registering...'' : ''Register''}\n                    </button>\n                </form>\n                <p>\n                    Already have an account? <Link to="/login">Login</Link>\n                </p>\n            </div>\n        </div>\n    );\n}\n\nexport default Register;\n```\n\n### Products Page\n\n```javascript\n// src/pages/Products.jsx\nimport { useState, useEffect } from ''react'';\nimport { Link } from ''react-router-dom'';\nimport { productsAPI } from ''../services/api'';\nimport { useAuth } from ''../context/AuthContext'';\nimport ''./Products.css'';\n\nfunction Products() {\n    const { isAuthenticated } = useAuth();\n    const [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('''');\n    const [filters, setFilters] = useState({\n        search: '''',\n        category: ''''\n    });\n    \n    useEffect(() => {\n        loadProducts();\n    }, [filters]);\n    \n    const loadProducts = async () => {\n        try {\n            setLoading(true);\n            const response = await productsAPI.getProducts(filters);\n            setProducts(response.data.data);\n        } catch (error) {\n            setError(''Failed to load products'');\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    const handleDelete = async (id) => {\n        if (window.confirm(''Are you sure you want to delete this product?'')) {\n            try {\n                await productsAPI.deleteProduct(id);\n                loadProducts();\n            } catch (error) {\n                alert(''Failed to delete product'');\n            }\n        }\n    };\n    \n    if (loading) {\n        return <div className="loading">Loading products...</div>;\n    }\n    \n    return (\n        <div className="products-page">\n            <div className="products-header">\n                <h1>Products</h1>\n                {isAuthenticated && (\n                    <Link to="/products/new" className="btn btn-primary">\n                        Add Product\n                    </Link>\n                )}\n            </div>\n            \n            <div className="filters">\n                <input\n                    type="text"\n                    placeholder="Search products..."\n                    value={filters.search}\n                    onChange={(e) => setFilters({ ...filters, search: e.target.value })}\n                />\n                <select\n                    value={filters.category}\n                    onChange={(e) => setFilters({ ...filters, category: e.target.value })}\n                >\n                    <option value="">All Categories</option>\n                    <option value="Electronics">Electronics</option>\n                    <option value="Accessories">Accessories</option>\n                </select>\n            </div>\n            \n            {error && <div className="error">{error}</div>}\n            \n            <div className="products-grid">\n                {products.map(product => (\n                    <div key={product._id} className="product-card">\n                        <Link to={`/products/${product._id}`}>\n                            <img src={product.image} alt={product.name} />\n                            <h3>{product.name}</h3>\n                            <p className="price">${product.price.toFixed(2)}</p>\n                        </Link>\n                        {isAuthenticated && (\n                            <div className="product-actions">\n                                <Link\n                                    to={`/products/${product._id}/edit`}\n                                    className="btn btn-edit"\n                                >\n                                    Edit\n                                </Link>\n                                <button\n                                    onClick={() => handleDelete(product._id)}\n                                    className="btn btn-delete"\n                                >\n                                    Delete\n                                </button>\n                            </div>\n                        )}\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default Products;\n```\n\n### Create Product Page\n\n```javascript\n// src/pages/CreateProduct.jsx\nimport { useState } from ''react'';\nimport { useNavigate } from ''react-router-dom'';\nimport { productsAPI } from ''../services/api'';\nimport ''./CreateProduct.css'';\n\nfunction CreateProduct() {\n    const navigate = useNavigate();\n    const [formData, setFormData] = useState({\n        name: '''',\n        description: '''',\n        price: '''',\n        category: '''',\n        image: ''https://via.placeholder.com/300'',\n        inStock: true,\n        stock: 0\n    });\n    const [error, setError] = useState('''');\n    const [loading, setLoading] = useState(false);\n    \n    const handleChange = (e) => {\n        const value = e.target.type === ''checkbox'' ? e.target.checked : e.target.value;\n        setFormData({\n            ...formData,\n            [e.target.name]: value\n        });\n    };\n    \n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('''');\n        setLoading(true);\n        \n        try {\n            await productsAPI.createProduct({\n                ...formData,\n                price: parseFloat(formData.price),\n                stock: parseInt(formData.stock)\n            });\n            navigate(''/products'');\n        } catch (error) {\n            setError(error.response?.data?.error || ''Failed to create product'');\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    return (\n        <div className="create-product-page">\n            <h1>Create Product</h1>\n            {error && <div className="error-message">{error}</div>}\n            <form onSubmit={handleSubmit} className="product-form">\n                <div className="form-group">\n                    <label>Name</label>\n                    <input\n                        type="text"\n                        name="name"\n                        value={formData.name}\n                        onChange={handleChange}\n                        required\n                    />\n                </div>\n                <div className="form-group">\n                    <label>Description</label>\n                    <textarea\n                        name="description"\n                        value={formData.description}\n                        onChange={handleChange}\n                        required\n                    />\n                </div>\n                <div className="form-row">\n                    <div className="form-group">\n                        <label>Price</label>\n                        <input\n                            type="number"\n                            name="price"\n                            value={formData.price}\n                            onChange={handleChange}\n                            step="0.01"\n                            min="0"\n                            required\n                        />\n                    </div>\n                    <div className="form-group">\n                        <label>Category</label>\n                        <select\n                            name="category"\n                            value={formData.category}\n                            onChange={handleChange}\n                            required\n                        >\n                            <option value="">Select category</option>\n                            <option value="Electronics">Electronics</option>\n                            <option value="Accessories">Accessories</option>\n                        </select>\n                    </div>\n                </div>\n                <div className="form-group">\n                    <label>Image URL</label>\n                    <input\n                        type="url"\n                        name="image"\n                        value={formData.image}\n                        onChange={handleChange}\n                    />\n                </div>\n                <div className="form-row">\n                    <div className="form-group">\n                        <label>Stock</label>\n                        <input\n                            type="number"\n                            name="stock"\n                            value={formData.stock}\n                            onChange={handleChange}\n                            min="0"\n                        />\n                    </div>\n                    <div className="form-group">\n                        <label>\n                            <input\n                                type="checkbox"\n                                name="inStock"\n                                checked={formData.inStock}\n                                onChange={handleChange}\n                            />\n                            In Stock\n                        </label>\n                    </div>\n                </div>\n                <div className="form-actions">\n                    <button type="submit" disabled={loading} className="btn btn-primary">\n                        {loading ? ''Creating...'' : ''Create Product''}\n                    </button>\n                    <button\n                        type="button"\n                        onClick={() => navigate(''/products'')}\n                        className="btn btn-secondary"\n                    >\n                        Cancel\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default CreateProduct;\n```\n\n### App Component with Routes\n\n```javascript\n// src/App.jsx\nimport { BrowserRouter, Routes, Route } from ''react-router-dom'';\nimport { AuthProvider } from ''./context/AuthContext'';\nimport ProtectedRoute from ''./components/ProtectedRoute'';\nimport Navigation from ''./components/Navigation'';\nimport Home from ''./pages/Home'';\nimport Login from ''./pages/Login'';\nimport Register from ''./pages/Register'';\nimport Products from ''./pages/Products'';\nimport ProductDetail from ''./pages/ProductDetail'';\nimport CreateProduct from ''./pages/CreateProduct'';\nimport EditProduct from ''./pages/EditProduct'';\nimport ''./App.css'';\n\nfunction App() {\n    return (\n        <AuthProvider>\n            <BrowserRouter>\n                <Navigation />\n                <Routes>\n                    <Route path="/" element={<Home />} />\n                    <Route path="/login" element={<Login />} />\n                    <Route path="/register" element={<Register />} />\n                    <Route path="/products" element={<Products />} />\n                    <Route path="/products/:id" element={<ProductDetail />} />\n                    <Route\n                        path="/products/new"\n                        element={\n                            <ProtectedRoute>\n                                <CreateProduct />\n                            </ProtectedRoute>\n                        }\n                    />\n                    <Route\n                        path="/products/:id/edit"\n                        element={\n                            <ProtectedRoute>\n                                <EditProduct />\n                            </ProtectedRoute>\n                        }\n                    />\n                </Routes>\n            </BrowserRouter>\n        </AuthProvider>\n    );\n}\n\nexport default App;\n```\n\n### Navigation Component\n\n```javascript\n// src/components/Navigation.jsx\nimport { Link } from ''react-router-dom'';\nimport { useAuth } from ''../context/AuthContext'';\nimport ''./Navigation.css'';\n\nfunction Navigation() {\n    const { isAuthenticated, user, logout } = useAuth();\n    \n    return (\n        <nav className="navigation">\n            <div className="nav-container">\n                <Link to="/" className="nav-logo">\n                    E-Commerce\n                </Link>\n                <div className="nav-links">\n                    <Link to="/" className="nav-link">Home</Link>\n                    <Link to="/products" className="nav-link">Products</Link>\n                    {isAuthenticated ? (\n                        <>\n                            <span className="nav-user">Welcome, {user?.name}</span>\n                            <button onClick={logout} className="btn btn-logout">\n                                Logout\n                            </button>\n                        </>\n                    ) : (\n                        <>\n                            <Link to="/login" className="nav-link">Login</Link>\n                            <Link to="/register" className="nav-link">Register</Link>\n                        </>\n                    )}\n                </div>\n            </div>\n        </nav>\n    );\n}\n\nexport default Navigation;\n```\n\n---\n\n## Features Implementation\n\n### Frontend-Backend Connection\n\n- **API Service**: Centralized API calls\n- **Axios Interceptors**: Automatic token handling\n- **Error Handling**: Proper error responses\n- **Loading States**: User feedback\n\n### Authentication Flow\n\n- **Register**: Create account, get token\n- **Login**: Authenticate, get token\n- **Token Storage**: Save in localStorage\n- **Protected Routes**: Require authentication\n- **Auto-logout**: On token expiration\n\n### State Management\n\n- **Auth Context**: Global auth state\n- **API State**: Component-level state\n- **Synchronization**: Keep frontend/backend in sync\n\n---\n\n## Testing Your Application\n\n### Manual Testing Checklist\n\n- [ ] Register new user\n- [ ] Login with credentials\n- [ ] View products\n- [ ] Create product (authenticated)\n- [ ] Edit product (authenticated)\n- [ ] Delete product (authenticated)\n- [ ] Logout\n- [ ] Access protected routes\n- [ ] Test error handling\n\n---\n\n## Exercise: Full-Stack App\n\n**Instructions**:\n\n1. Set up both frontend and backend\n2. Connect them together\n3. Test all features\n4. Deploy application\n5. Add enhancements\n\n**Enhancement Ideas**:\n\n- Add order management\n- Add shopping cart\n- Add user profile page\n- Add product reviews\n- Add image upload\n- Add email notifications\n- Add admin dashboard\n- Add analytics\n\n---\n\n## Deployment\n\n### Backend Deployment\n\n```bash\n# Deploy to Heroku, Railway, or similar\n# Set environment variables\n# Update CORS settings\n```\n\n### Frontend Deployment\n\n```bash\n# Build for production\nnpm run build\n\n# Deploy to Vercel, Netlify, or similar\n# Set REACT_APP_API_URL environment variable\n```\n\n---\n\n## Common Issues and Solutions\n\n### Issue: CORS errors\n\n**Solution**: Configure CORS in backend to allow frontend origin.\n\n### Issue: Token not sent\n\n**Solution**: Check axios interceptors and localStorage.\n\n### Issue: API calls failing\n\n**Solution**: Verify API URL and backend is running.\n\n---\n\n## Quiz: Full-Stack Concepts\n\n1. **Full-stack app:**\n   - A) Frontend + Backend\n   - B) Frontend only\n   - C) Both\n   - D) Neither\n\n2. **Axios:**\n   - A) HTTP client\n   - B) Database\n   - C) Both\n   - D) Neither\n\n3. **Context API:**\n   - A) Manages global state\n   - B) Doesn''t manage state\n   - C) Both\n   - D) Neither\n\n4. **Protected routes:**\n   - A) Require authentication\n   - B) Don''t require authentication\n   - C) Both\n   - D) Neither\n\n5. **CORS:**\n   - A) Cross-origin resource sharing\n   - B) Same-origin only\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Frontend + Backend\n2. A) HTTP client\n3. A) Manages global state\n4. A) Require authentication\n5. A) Cross-origin resource sharing\n\n---\n\n## Key Takeaways\n\n1. **Full-Stack**: Combine frontend and backend\n2. **API Integration**: Connect React to Express\n3. **Authentication**: Manage auth across stack\n4. **State Management**: Sync frontend/backend\n5. **Best Practice**: Clean architecture, security\n\n---\n\n## Next Steps\n\nCongratulations! You''ve built a Full-Stack Application. You now know:\n- How to connect frontend and backend\n- How to implement authentication\n- How to manage state\n- How to build complete applications\n\n**What''s Next?**\n- Project 4: Advanced Projects\n- Learn WebSockets\n- Build real-time applications\n- Create advanced features\n\n---\n\n*Project completed! You''ve finished Project 3: Full-Stack Applications. Ready for Project 4: Advanced Projects!*\n\n', NULL, 2, '2026-01-03 10:37:38', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Connect React frontend to Node.js backend\n- Implement authentication flow\n- Manage API calls from frontend\n- Handle authentication state\n- Build complete full-stack applications\n- Deploy full-stack applications\n- Handle CORS and security');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (202, 74, 18, 'Real-Time Chat Application', 'realtime-chat-application', '# Project 4.1: Real-Time Chat Application\n\n## Project Overview\n\nBuild a real-time chat application using WebSockets and Socket.io. This project will help you practice real-time communication, WebSocket connections, user management, and building interactive applications.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Understand WebSockets and real-time communication\n- Use Socket.io for bidirectional communication\n- Manage user connections and disconnections\n- Handle real-time messaging\n- Build interactive chat interfaces\n- Manage chat rooms and channels\n- Handle user presence\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **Real-Time Messaging**: Send and receive messages instantly\n2. **User Management**: Join/leave, user list\n3. **Chat Rooms**: Multiple chat rooms\n4. **Typing Indicators**: Show when users are typing\n5. **User Presence**: Show online/offline status\n6. **Message History**: Store and display message history\n7. **Notifications**: Notify users of new messages\n8. **Responsive Design**: Works on all devices\n\n### Technical Requirements\n\n- Node.js backend with Socket.io\n- React frontend with Socket.io client\n- Real-time WebSocket connections\n- User session management\n- Message storage (optional database)\n- Clean UI/UX\n\n---\n\n## Project Setup\n\n### Backend Setup\n\n```bash\n# Create backend directory\nmkdir chat-backend\ncd chat-backend\n\n# Initialize npm\nnpm init -y\n\n# Install dependencies\nnpm install express socket.io cors dotenv\nnpm install --save-dev nodemon\n\n# Create project structure\nmkdir src\n```\n\n### Frontend Setup\n\n```bash\n# Create React app\nnpx create-react-app chat-frontend\ncd chat-frontend\n\n# Install Socket.io client\nnpm install socket.io-client\n\n# Start development server\nnpm start\n```\n\n---\n\n## Project Structure\n\n```\nchat-application/\n├── backend/\n│   ├── src/\n│   │   ├── server.js\n│   │   └── socketHandlers.js\n│   ├── .env\n│   └── package.json\n└── frontend/\n    ├── src/\n    │   ├── components/\n    │   │   ├── ChatRoom.jsx\n    │   │   ├── MessageList.jsx\n    │   │   ├── MessageInput.jsx\n    │   │   ├── UserList.jsx\n    │   │   └── Login.jsx\n    │   ├── hooks/\n    │   │   └── useSocket.js\n    │   ├── App.jsx\n    │   └── index.js\n    └── package.json\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Backend: Server Setup\n\n```javascript\n// backend/src/server.js\nconst express = require(''express'');\nconst http = require(''http'');\nconst { Server } = require(''socket.io'');\nconst cors = require(''cors'');\nrequire(''dotenv'').config();\n\nconst app = express();\nconst server = http.createServer(app);\n\n// Configure CORS for Socket.io\nconst io = new Server(server, {\n    cors: {\n        origin: process.env.CLIENT_URL || ''http://localhost:3000'',\n        methods: [''GET'', ''POST'']\n    }\n});\n\napp.use(cors());\napp.use(express.json());\n\n// Store connected users\nconst users = new Map();\nconst messages = [];\n\n// Socket.io connection handling\nio.on(''connection'', (socket) => {\n    console.log(''User connected:'', socket.id);\n    \n    // User joins\n    socket.on(''user:join'', (userData) => {\n        users.set(socket.id, {\n            id: socket.id,\n            username: userData.username,\n            room: userData.room || ''general''\n        });\n        \n        // Join room\n        socket.join(userData.room || ''general'');\n        \n        // Notify others\n        socket.to(userData.room || ''general'').emit(''user:joined'', {\n            username: userData.username,\n            message: `${userData.username} joined the chat`\n        });\n        \n        // Send current users\n        const roomUsers = Array.from(users.values())\n            .filter(user => user.room === (userData.room || ''general''));\n        io.to(userData.room || ''general'').emit(''users:list'', roomUsers);\n        \n        // Send message history\n        const roomMessages = messages.filter(\n            msg => msg.room === (userData.room || ''general'')\n        );\n        socket.emit(''messages:history'', roomMessages);\n    });\n    \n    // Send message\n    socket.on(''message:send'', (messageData) => {\n        const user = users.get(socket.id);\n        if (user) {\n            const message = {\n                id: Date.now(),\n                username: user.username,\n                text: messageData.text,\n                room: user.room,\n                timestamp: new Date().toISOString()\n            };\n            \n            messages.push(message);\n            \n            // Send to room\n            io.to(user.room).emit(''message:receive'', message);\n        }\n    });\n    \n    // Typing indicator\n    socket.on(''typing:start'', () => {\n        const user = users.get(socket.id);\n        if (user) {\n            socket.to(user.room).emit(''typing:start'', {\n                username: user.username\n            });\n        }\n    });\n    \n    socket.on(''typing:stop'', () => {\n        const user = users.get(socket.id);\n        if (user) {\n            socket.to(user.room).emit(''typing:stop'', {\n                username: user.username\n            });\n        }\n    });\n    \n    // User disconnects\n    socket.on(''disconnect'', () => {\n        const user = users.get(socket.id);\n        if (user) {\n            users.delete(socket.id);\n            \n            // Notify others\n            socket.to(user.room).emit(''user:left'', {\n                username: user.username,\n                message: `${user.username} left the chat`\n            });\n            \n            // Update user list\n            const roomUsers = Array.from(users.values())\n                .filter(u => u.room === user.room);\n            io.to(user.room).emit(''users:list'', roomUsers);\n        }\n        console.log(''User disconnected:'', socket.id);\n    });\n});\n\nconst PORT = process.env.PORT || 5000;\nserver.listen(PORT, () => {\n    console.log(`Server running on port ${PORT}`);\n});\n```\n\n### Frontend: Socket Hook\n\n```javascript\n// frontend/src/hooks/useSocket.js\nimport { useEffect, useState } from ''react'';\nimport io from ''socket.io-client'';\n\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || ''http://localhost:5000'';\n\nexport function useSocket() {\n    const [socket, setSocket] = useState(null);\n    const [connected, setConnected] = useState(false);\n    \n    useEffect(() => {\n        const newSocket = io(SOCKET_URL);\n        \n        newSocket.on(''connect'', () => {\n            setConnected(true);\n        });\n        \n        newSocket.on(''disconnect'', () => {\n            setConnected(false);\n        });\n        \n        setSocket(newSocket);\n        \n        return () => {\n            newSocket.close();\n        };\n    }, []);\n    \n    return { socket, connected };\n}\n```\n\n### Frontend: Login Component\n\n```javascript\n// frontend/src/components/Login.jsx\nimport { useState } from ''react'';\nimport ''./Login.css'';\n\nfunction Login({ onLogin }) {\n    const [username, setUsername] = useState('''');\n    const [room, setRoom] = useState(''general'');\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (username.trim()) {\n            onLogin(username.trim(), room);\n        }\n    };\n    \n    return (\n        <div className="login-container">\n            <div className="login-box">\n                <h1>Join Chat</h1>\n                <form onSubmit={handleSubmit}>\n                    <div className="form-group">\n                        <label>Username</label>\n                        <input\n                            type="text"\n                            value={username}\n                            onChange={(e) => setUsername(e.target.value)}\n                            placeholder="Enter your username"\n                            required\n                        />\n                    </div>\n                    <div className="form-group">\n                        <label>Room</label>\n                        <select\n                            value={room}\n                            onChange={(e) => setRoom(e.target.value)}\n                        >\n                            <option value="general">General</option>\n                            <option value="random">Random</option>\n                            <option value="tech">Tech</option>\n                            <option value="gaming">Gaming</option>\n                        </select>\n                    </div>\n                    <button type="submit" className="btn btn-primary">\n                        Join Chat\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;\n```\n\n### Frontend: Message List Component\n\n```javascript\n// frontend/src/components/MessageList.jsx\nimport { useEffect, useRef } from ''react'';\nimport ''./MessageList.css'';\n\nfunction MessageList({ messages, currentUser }) {\n    const messagesEndRef = useRef(null);\n    \n    const scrollToBottom = () => {\n        messagesEndRef.current?.scrollIntoView({ behavior: ''smooth'' });\n    };\n    \n    useEffect(() => {\n        scrollToBottom();\n    }, [messages]);\n    \n    return (\n        <div className="message-list">\n            {messages.map(message => (\n                <div\n                    key={message.id}\n                    className={`message ${message.username === currentUser ? ''own'' : ''''}`}\n                >\n                    <div className="message-header">\n                        <span className="message-username">{message.username}</span>\n                        <span className="message-time">\n                            {new Date(message.timestamp).toLocaleTimeString()}\n                        </span>\n                    </div>\n                    <div className="message-text">{message.text}</div>\n                </div>\n            ))}\n            <div ref={messagesEndRef} />\n        </div>\n    );\n}\n\nexport default MessageList;\n```\n\n### Frontend: Message Input Component\n\n```javascript\n// frontend/src/components/MessageInput.jsx\nimport { useState, useEffect, useRef } from ''react'';\nimport ''./MessageInput.css'';\n\nfunction MessageInput({ socket, currentUser, room }) {\n    const [message, setMessage] = useState('''');\n    const [isTyping, setIsTyping] = useState(false);\n    const typingTimeoutRef = useRef(null);\n    \n    useEffect(() => {\n        return () => {\n            if (typingTimeoutRef.current) {\n                clearTimeout(typingTimeoutRef.current);\n            }\n        };\n    }, []);\n    \n    const handleChange = (e) => {\n        setMessage(e.target.value);\n        \n        if (!isTyping) {\n            setIsTyping(true);\n            socket.emit(''typing:start'');\n        }\n        \n        clearTimeout(typingTimeoutRef.current);\n        typingTimeoutRef.current = setTimeout(() => {\n            setIsTyping(false);\n            socket.emit(''typing:stop'');\n        }, 1000);\n    };\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (message.trim()) {\n            socket.emit(''message:send'', { text: message.trim() });\n            setMessage('''');\n            setIsTyping(false);\n            socket.emit(''typing:stop'');\n        }\n    };\n    \n    return (\n        <form className="message-input" onSubmit={handleSubmit}>\n            <input\n                type="text"\n                value={message}\n                onChange={handleChange}\n                placeholder="Type a message..."\n                className="message-input-field"\n            />\n            <button type="submit" className="btn btn-send">\n                Send\n            </button>\n        </form>\n    );\n}\n\nexport default MessageInput;\n```\n\n### Frontend: User List Component\n\n```javascript\n// frontend/src/components/UserList.jsx\nimport ''./UserList.css'';\n\nfunction UserList({ users, currentUser }) {\n    return (\n        <div className="user-list">\n            <h3>Online Users ({users.length})</h3>\n            <ul>\n                {users.map(user => (\n                    <li key={user.id} className={user.username === currentUser ? ''current'' : ''''}>\n                        <span className="user-indicator"></span>\n                        {user.username}\n                        {user.username === currentUser && '' (You)''}\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default UserList;\n```\n\n### Frontend: Chat Room Component\n\n```javascript\n// frontend/src/components/ChatRoom.jsx\nimport { useState, useEffect } from ''react'';\nimport { useSocket } from ''../hooks/useSocket'';\nimport MessageList from ''./MessageList'';\nimport MessageInput from ''./MessageInput'';\nimport UserList from ''./UserList'';\nimport ''./ChatRoom.css'';\n\nfunction ChatRoom({ username, room, onLeave }) {\n    const { socket, connected } = useSocket();\n    const [messages, setMessages] = useState([]);\n    const [users, setUsers] = useState([]);\n    const [typingUsers, setTypingUsers] = useState([]);\n    const [systemMessage, setSystemMessage] = useState('''');\n    \n    useEffect(() => {\n        if (socket && username) {\n            // Join room\n            socket.emit(''user:join'', { username, room });\n            \n            // Listen for messages\n            socket.on(''message:receive'', (message) => {\n                setMessages(prev => [...prev, message]);\n            });\n            \n            // Listen for message history\n            socket.on(''messages:history'', (history) => {\n                setMessages(history);\n            });\n            \n            // Listen for user list\n            socket.on(''users:list'', (userList) => {\n                setUsers(userList);\n            });\n            \n            // Listen for user joined\n            socket.on(''user:joined'', (data) => {\n                setSystemMessage(`${data.username} joined the chat`);\n                setTimeout(() => setSystemMessage(''''), 3000);\n            });\n            \n            // Listen for user left\n            socket.on(''user:left'', (data) => {\n                setSystemMessage(`${data.username} left the chat`);\n                setTimeout(() => setSystemMessage(''''), 3000);\n            });\n            \n            // Listen for typing\n            socket.on(''typing:start'', (data) => {\n                setTypingUsers(prev => {\n                    if (!prev.includes(data.username)) {\n                        return [...prev, data.username];\n                    }\n                    return prev;\n                });\n            });\n            \n            socket.on(''typing:stop'', (data) => {\n                setTypingUsers(prev => prev.filter(u => u !== data.username));\n            });\n            \n            return () => {\n                socket.off(''message:receive'');\n                socket.off(''messages:history'');\n                socket.off(''users:list'');\n                socket.off(''user:joined'');\n                socket.off(''user:left'');\n                socket.off(''typing:start'');\n                socket.off(''typing:stop'');\n            };\n        }\n    }, [socket, username, room]);\n    \n    return (\n        <div className="chat-room">\n            <div className="chat-header">\n                <div>\n                    <h2>Room: {room}</h2>\n                    <span className={`connection-status ${connected ? ''connected'' : ''disconnected''}`}>\n                        {connected ? ''● Connected'' : ''○ Disconnected''}\n                    </span>\n                </div>\n                <button onClick={onLeave} className="btn btn-leave">\n                    Leave Room\n                </button>\n            </div>\n            \n            <div className="chat-content">\n                <div className="chat-messages">\n                    <MessageList messages={messages} currentUser={username} />\n                    {systemMessage && (\n                        <div className="system-message">{systemMessage}</div>\n                    )}\n                    {typingUsers.length > 0 && (\n                        <div className="typing-indicator">\n                            {typingUsers.join('', '')} {typingUsers.length === 1 ? ''is'' : ''are''} typing...\n                        </div>\n                    )}\n                    <MessageInput socket={socket} currentUser={username} room={room} />\n                </div>\n                \n                <UserList users={users} currentUser={username} />\n            </div>\n        </div>\n    );\n}\n\nexport default ChatRoom;\n```\n\n### Frontend: App Component\n\n```javascript\n// frontend/src/App.jsx\nimport { useState } from ''react'';\nimport Login from ''./components/Login'';\nimport ChatRoom from ''./components/ChatRoom'';\nimport ''./App.css'';\n\nfunction App() {\n    const [username, setUsername] = useState(null);\n    const [room, setRoom] = useState(null);\n    \n    const handleLogin = (user, selectedRoom) => {\n        setUsername(user);\n        setRoom(selectedRoom);\n    };\n    \n    const handleLeave = () => {\n        setUsername(null);\n        setRoom(null);\n    };\n    \n    return (\n        <div className="app">\n            {!username ? (\n                <Login onLogin={handleLogin} />\n            ) : (\n                <ChatRoom username={username} room={room} onLeave={handleLeave} />\n            )}\n        </div>\n    );\n}\n\nexport default App;\n```\n\n---\n\n## Features Implementation\n\n### WebSockets\n\n- **Real-Time Connection**: Bidirectional communication\n- **Event-Based**: Emit and listen to events\n- **Room Management**: Join/leave rooms\n- **Connection Status**: Track connection state\n\n### Real-Time Communication\n\n- **Instant Messaging**: Messages sent/received instantly\n- **Typing Indicators**: Show when users are typing\n- **User Presence**: Show online users\n- **System Messages**: Notify of user joins/leaves\n\n### User Management\n\n- **User List**: Display connected users\n- **User Identification**: Track users by socket ID\n- **Room Assignment**: Users belong to rooms\n- **Disconnect Handling**: Clean up on disconnect\n\n---\n\n## Testing Your Application\n\n### Manual Testing Checklist\n\n- [ ] Connect to chat\n- [ ] Send messages\n- [ ] Receive messages\n- [ ] See user list\n- [ ] See typing indicators\n- [ ] Join different rooms\n- [ ] See system messages\n- [ ] Handle disconnection\n- [ ] Multiple users\n- [ ] Message history\n\n---\n\n## Exercise: Chat App\n\n**Instructions**:\n\n1. Set up backend and frontend\n2. Implement all features\n3. Test with multiple users\n4. Add enhancements\n5. Deploy application\n\n**Enhancement Ideas**:\n\n- Add private messaging\n- Add file sharing\n- Add emoji support\n- Add message reactions\n- Add user avatars\n- Add message search\n- Add message editing/deleting\n- Add voice/video chat\n\n---\n\n## Common Issues and Solutions\n\n### Issue: Connection fails\n\n**Solution**: Check CORS configuration and Socket.io URL.\n\n### Issue: Messages not appearing\n\n**Solution**: Verify event names match on emit and on.\n\n### Issue: Users not updating\n\n**Solution**: Ensure user list is updated on join/leave events.\n\n---\n\n## Quiz: WebSockets\n\n1. **WebSockets:**\n   - A) Real-time communication\n   - B) Request-response only\n   - C) Both\n   - D) Neither\n\n2. **Socket.io:**\n   - A) WebSocket library\n   - B) HTTP library\n   - C) Both\n   - D) Neither\n\n3. **Real-time:**\n   - A) Instant updates\n   - B) Delayed updates\n   - C) Both\n   - D) Neither\n\n4. **Rooms:**\n   - A) Group users\n   - B) Don''t group users\n   - C) Both\n   - D) Neither\n\n5. **Typing indicators:**\n   - A) Show user activity\n   - B) Don''t show activity\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Real-time communication\n2. A) WebSocket library\n3. A) Instant updates\n4. A) Group users\n5. A) Show user activity\n\n---\n\n## Key Takeaways\n\n1. **WebSockets**: Real-time bidirectional communication\n2. **Socket.io**: Easy WebSocket implementation\n3. **Real-Time**: Instant updates without polling\n4. **User Management**: Track connected users\n5. **Best Practice**: Handle connections and disconnections\n\n---\n\n## Next Steps\n\nCongratulations! You''ve built a Real-Time Chat Application. You now know:\n- How to use WebSockets\n- How to implement Socket.io\n- How to handle real-time communication\n- How to manage users\n\n**What''s Next?**\n- Project 4.2: Social Media Clone\n- Learn complex state management\n- Build social features\n- Handle image uploads\n\n---\n\n*Project completed! You''re ready to move on to the next project.*\n\n', NULL, 1, '2026-01-03 10:39:34', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Understand WebSockets and real-time communication\n- Use Socket.io for bidirectional communication\n- Manage user connections and disconnections\n- Handle real-time messaging\n- Build interactive chat interfaces\n- Manage chat rooms and channels\n- Handle user presence');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (203, 74, 18, 'Social Media Clone', 'social-media-clone', '# Project 4.2: Social Media Clone\n\n## Project Overview\n\nBuild a Social Media Clone application with complex state management, image uploads, and user interactions. This project will help you practice advanced React concepts, file handling, and building complex user interfaces.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Manage complex application state\n- Handle image uploads\n- Implement user interactions (like, comment, share)\n- Build feed systems\n- Create user profiles\n- Handle real-time updates\n- Optimize performance\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **User Profiles**: View and edit profiles\n2. **Posts**: Create, view, edit, delete posts\n3. **Feed**: Display posts in chronological order\n4. **Image Upload**: Upload and display images\n5. **Interactions**: Like, comment on posts\n6. **Follow System**: Follow/unfollow users\n7. **Notifications**: Show user notifications\n8. **Search**: Search users and posts\n\n### Technical Requirements\n\n- React with Context API or Redux\n- Image upload handling\n- Complex state management\n- API integration\n- Responsive design\n- Performance optimization\n\n---\n\n## Project Setup\n\n```bash\n# Create React app\nnpx create-react-app social-media-app\ncd social-media-app\n\n# Install dependencies\nnpm install axios react-router-dom\nnpm install react-dropzone  # For image uploads\nnpm install date-fns  # For date formatting\n\n# Start development server\nnpm start\n```\n\n---\n\n## Project Structure\n\n```\nsocial-media-app/\n├── src/\n│   ├── components/\n│   │   ├── Layout.jsx\n│   │   ├── Navigation.jsx\n│   │   ├── PostCard.jsx\n│   │   ├── PostForm.jsx\n│   │   ├── CommentSection.jsx\n│   │   ├── UserProfile.jsx\n│   │   ├── Feed.jsx\n│   │   └── ImageUpload.jsx\n│   ├── context/\n│   │   ├── AuthContext.jsx\n│   │   └── PostContext.jsx\n│   ├── pages/\n│   │   ├── Home.jsx\n│   │   ├── Profile.jsx\n│   │   └── Explore.jsx\n│   ├── services/\n│   │   └── api.js\n│   ├── utils/\n│   │   └── imageUtils.js\n│   ├── App.jsx\n│   └── index.js\n└── package.json\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Image Upload Component\n\n```javascript\n// src/components/ImageUpload.jsx\nimport { useState, useCallback } from ''react'';\nimport { useDropzone } from ''react-dropzone'';\nimport ''./ImageUpload.css'';\n\nfunction ImageUpload({ onImageSelect, maxSize = 5 * 1024 * 1024 }) {\n    const [preview, setPreview] = useState(null);\n    const [error, setError] = useState('''');\n    \n    const onDrop = useCallback((acceptedFiles, rejectedFiles) => {\n        setError('''');\n        \n        if (rejectedFiles.length > 0) {\n            setError(''File is too large or invalid format'');\n            return;\n        }\n        \n        const file = acceptedFiles[0];\n        if (file.size > maxSize) {\n            setError(''File size exceeds 5MB'');\n            return;\n        }\n        \n        // Create preview\n        const reader = new FileReader();\n        reader.onload = () => {\n            setPreview(reader.result);\n            onImageSelect(file);\n        };\n        reader.readAsDataURL(file);\n    }, [onImageSelect, maxSize]);\n    \n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\n        onDrop,\n        accept: {\n            ''image/*'': [''.jpeg'', ''.jpg'', ''.png'', ''.gif'']\n        },\n        maxFiles: 1,\n        maxSize: maxSize\n    });\n    \n    const handleRemove = () => {\n        setPreview(null);\n        onImageSelect(null);\n    };\n    \n    return (\n        <div className="image-upload">\n            {preview ? (\n                <div className="image-preview">\n                    <img src={preview} alt="Preview" />\n                    <button onClick={handleRemove} className="btn-remove">\n                        Remove\n                    </button>\n                </div>\n            ) : (\n                <div\n                    {...getRootProps()}\n                    className={`dropzone ${isDragActive ? ''active'' : ''''}`}\n                >\n                    <input {...getInputProps()} />\n                    <p>Drag & drop an image, or click to select</p>\n                    <p className="dropzone-hint">Max size: 5MB</p>\n                </div>\n            )}\n            {error && <div className="error-message">{error}</div>}\n        </div>\n    );\n}\n\nexport default ImageUpload;\n```\n\n### Post Context\n\n```javascript\n// src/context/PostContext.jsx\nimport { createContext, useContext, useReducer, useEffect } from ''react'';\nimport { postsAPI } from ''../services/api'';\n\nconst PostContext = createContext();\n\nconst postReducer = (state, action) => {\n    switch (action.type) {\n        case ''SET_LOADING'':\n            return { ...state, loading: action.payload };\n        case ''SET_POSTS'':\n            return { ...state, posts: action.payload, loading: false };\n        case ''ADD_POST'':\n            return { ...state, posts: [action.payload, ...state.posts] };\n        case ''UPDATE_POST'':\n            return {\n                ...state,\n                posts: state.posts.map(post =>\n                    post.id === action.payload.id ? action.payload : post\n                )\n            };\n        case ''DELETE_POST'':\n            return {\n                ...state,\n                posts: state.posts.filter(post => post.id !== action.payload)\n            };\n        case ''LIKE_POST'':\n            return {\n                ...state,\n                posts: state.posts.map(post =>\n                    post.id === action.payload.id\n                        ? {\n                              ...post,\n                              likes: action.payload.liked\n                                  ? [...post.likes, action.payload.userId]\n                                  : post.likes.filter(id => id !== action.payload.userId)\n                          }\n                        : post\n                )\n            };\n        case ''ADD_COMMENT'':\n            return {\n                ...state,\n                posts: state.posts.map(post =>\n                    post.id === action.payload.postId\n                        ? {\n                              ...post,\n                              comments: [...post.comments, action.payload.comment]\n                          }\n                        : post\n                )\n            };\n        default:\n            return state;\n    }\n};\n\nconst initialState = {\n    posts: [],\n    loading: true,\n    error: null\n};\n\nexport function PostProvider({ children }) {\n    const [state, dispatch] = useReducer(postReducer, initialState);\n    \n    useEffect(() => {\n        loadPosts();\n    }, []);\n    \n    const loadPosts = async () => {\n        try {\n            dispatch({ type: ''SET_LOADING'', payload: true });\n            const response = await postsAPI.getPosts();\n            dispatch({ type: ''SET_POSTS'', payload: response.data });\n        } catch (error) {\n            dispatch({ type: ''SET_ERROR'', payload: error.message });\n        }\n    };\n    \n    const createPost = async (postData) => {\n        try {\n            const response = await postsAPI.createPost(postData);\n            dispatch({ type: ''ADD_POST'', payload: response.data });\n            return { success: true };\n        } catch (error) {\n            return { success: false, error: error.message };\n        }\n    };\n    \n    const updatePost = async (id, postData) => {\n        try {\n            const response = await postsAPI.updatePost(id, postData);\n            dispatch({ type: ''UPDATE_POST'', payload: response.data });\n            return { success: true };\n        } catch (error) {\n            return { success: false, error: error.message };\n        }\n    };\n    \n    const deletePost = async (id) => {\n        try {\n            await postsAPI.deletePost(id);\n            dispatch({ type: ''DELETE_POST'', payload: id });\n            return { success: true };\n        } catch (error) {\n            return { success: false, error: error.message };\n        }\n    };\n    \n    const likePost = async (postId, userId) => {\n        try {\n            const post = state.posts.find(p => p.id === postId);\n            const isLiked = post.likes.includes(userId);\n            \n            await postsAPI.likePost(postId, !isLiked);\n            dispatch({\n                type: ''LIKE_POST'',\n                payload: { id: postId, userId, liked: !isLiked }\n            });\n        } catch (error) {\n            console.error(''Failed to like post:'', error);\n        }\n    };\n    \n    const addComment = async (postId, commentText, userId) => {\n        try {\n            const comment = {\n                id: Date.now(),\n                userId,\n                text: commentText,\n                createdAt: new Date().toISOString()\n            };\n            \n            await postsAPI.addComment(postId, comment);\n            dispatch({\n                type: ''ADD_COMMENT'',\n                payload: { postId, comment }\n            });\n        } catch (error) {\n            console.error(''Failed to add comment:'', error);\n        }\n    };\n    \n    return (\n        <PostContext.Provider\n            value={{\n                ...state,\n                loadPosts,\n                createPost,\n                updatePost,\n                deletePost,\n                likePost,\n                addComment\n            }}\n        >\n            {children}\n        </PostContext.Provider>\n    );\n}\n\nexport function usePosts() {\n    const context = useContext(PostContext);\n    if (!context) {\n        throw new Error(''usePosts must be used within PostProvider'');\n    }\n    return context;\n}\n```\n\n### Post Form Component\n\n```javascript\n// src/components/PostForm.jsx\nimport { useState } from ''react'';\nimport { usePosts } from ''../context/PostContext'';\nimport { useAuth } from ''../context/AuthContext'';\nimport ImageUpload from ''./ImageUpload'';\nimport ''./PostForm.css'';\n\nfunction PostForm({ onClose }) {\n    const { createPost } = usePosts();\n    const { user } = useAuth();\n    const [text, setText] = useState('''');\n    const [image, setImage] = useState(null);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('''');\n    \n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        \n        if (!text.trim() && !image) {\n            setError(''Please add text or an image'');\n            return;\n        }\n        \n        setLoading(true);\n        setError('''');\n        \n        try {\n            // Upload image if present\n            let imageUrl = null;\n            if (image) {\n                const formData = new FormData();\n                formData.append(''image'', image);\n                // Upload image to server\n                // imageUrl = await uploadImage(formData);\n            }\n            \n            const result = await createPost({\n                text: text.trim(),\n                image: imageUrl,\n                userId: user.id\n            });\n            \n            if (result.success) {\n                setText('''');\n                setImage(null);\n                if (onClose) onClose();\n            } else {\n                setError(result.error);\n            }\n        } catch (error) {\n            setError(''Failed to create post'');\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    return (\n        <div className="post-form-container">\n            <form className="post-form" onSubmit={handleSubmit}>\n                <div className="post-form-header">\n                    <h2>Create Post</h2>\n                    {onClose && (\n                        <button type="button" onClick={onClose} className="btn-close">\n                            ×\n                        </button>\n                    )}\n                </div>\n                \n                <div className="post-form-content">\n                    <textarea\n                        value={text}\n                        onChange={(e) => setText(e.target.value)}\n                        placeholder="What''s on your mind?"\n                        className="post-textarea"\n                        rows="4"\n                    />\n                    \n                    <ImageUpload onImageSelect={setImage} />\n                    \n                    {error && <div className="error-message">{error}</div>}\n                </div>\n                \n                <div className="post-form-actions">\n                    <button\n                        type="submit"\n                        disabled={loading}\n                        className="btn btn-primary"\n                    >\n                        {loading ? ''Posting...'' : ''Post''}\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default PostForm;\n```\n\n### Post Card Component\n\n```javascript\n// src/components/PostCard.jsx\nimport { useState } from ''react'';\nimport { formatDistanceToNow } from ''date-fns'';\nimport { usePosts } from ''../context/PostContext'';\nimport { useAuth } from ''../context/AuthContext'';\nimport CommentSection from ''./CommentSection'';\nimport ''./PostCard.css'';\n\nfunction PostCard({ post }) {\n    const { likePost, deletePost } = usePosts();\n    const { user } = useAuth();\n    const [showComments, setShowComments] = useState(false);\n    \n    const isLiked = post.likes?.includes(user?.id) || false;\n    const isOwner = post.userId === user?.id;\n    \n    const handleLike = () => {\n        if (user) {\n            likePost(post.id, user.id);\n        }\n    };\n    \n    const handleDelete = async () => {\n        if (window.confirm(''Are you sure you want to delete this post?'')) {\n            await deletePost(post.id);\n        }\n    };\n    \n    return (\n        <div className="post-card">\n            <div className="post-header">\n                <div className="post-author">\n                    <img\n                        src={post.author?.avatar || ''https://via.placeholder.com/40''}\n                        alt={post.author?.name}\n                        className="author-avatar"\n                    />\n                    <div>\n                        <h4>{post.author?.name || ''Unknown User''}</h4>\n                        <span className="post-time">\n                            {formatDistanceToNow(new Date(post.createdAt), { addSuffix: true })}\n                        </span>\n                    </div>\n                </div>\n                {isOwner && (\n                    <button onClick={handleDelete} className="btn-delete">\n                        Delete\n                    </button>\n                )}\n            </div>\n            \n            {post.text && (\n                <div className="post-content">\n                    <p>{post.text}</p>\n                </div>\n            )}\n            \n            {post.image && (\n                <div className="post-image">\n                    <img src={post.image} alt="Post" />\n                </div>\n            )}\n            \n            <div className="post-actions">\n                <button\n                    onClick={handleLike}\n                    className={`btn-action ${isLiked ? ''liked'' : ''''}`}\n                >\n                    <span>❤️</span>\n                    <span>{post.likes?.length || 0}</span>\n                </button>\n                <button\n                    onClick={() => setShowComments(!showComments)}\n                    className="btn-action"\n                >\n                    <span>💬</span>\n                    <span>{post.comments?.length || 0}</span>\n                </button>\n                <button className="btn-action">\n                    <span>🔗</span>\n                    <span>Share</span>\n                </button>\n            </div>\n            \n            {showComments && (\n                <CommentSection postId={post.id} comments={post.comments || []} />\n            )}\n        </div>\n    );\n}\n\nexport default PostCard;\n```\n\n### Comment Section Component\n\n```javascript\n// src/components/CommentSection.jsx\nimport { useState } from ''react'';\nimport { formatDistanceToNow } from ''date-fns'';\nimport { usePosts } from ''../context/PostContext'';\nimport { useAuth } from ''../context/AuthContext'';\nimport ''./CommentSection.css'';\n\nfunction CommentSection({ postId, comments }) {\n    const { addComment } = usePosts();\n    const { user } = useAuth();\n    const [commentText, setCommentText] = useState('''');\n    const [loading, setLoading] = useState(false);\n    \n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (!commentText.trim() || !user) return;\n        \n        setLoading(true);\n        await addComment(postId, commentText.trim(), user.id);\n        setCommentText('''');\n        setLoading(false);\n    };\n    \n    return (\n        <div className="comment-section">\n            <div className="comments-list">\n                {comments.map(comment => (\n                    <div key={comment.id} className="comment">\n                        <img\n                            src={comment.author?.avatar || ''https://via.placeholder.com/30''}\n                            alt={comment.author?.name}\n                            className="comment-avatar"\n                        />\n                        <div className="comment-content">\n                            <div className="comment-header">\n                                <strong>{comment.author?.name || ''Unknown''}</strong>\n                                <span className="comment-time">\n                                    {formatDistanceToNow(new Date(comment.createdAt), { addSuffix: true })}\n                                </span>\n                            </div>\n                            <p>{comment.text}</p>\n                        </div>\n                    </div>\n                ))}\n            </div>\n            \n            {user && (\n                <form className="comment-form" onSubmit={handleSubmit}>\n                    <input\n                        type="text"\n                        value={commentText}\n                        onChange={(e) => setCommentText(e.target.value)}\n                        placeholder="Write a comment..."\n                        className="comment-input"\n                    />\n                    <button\n                        type="submit"\n                        disabled={loading || !commentText.trim()}\n                        className="btn-comment"\n                    >\n                        Post\n                    </button>\n                </form>\n            )}\n        </div>\n    );\n}\n\nexport default CommentSection;\n```\n\n### Feed Component\n\n```javascript\n// src/components/Feed.jsx\nimport { usePosts } from ''../context/PostContext'';\nimport PostCard from ''./PostCard'';\nimport Loading from ''./Loading'';\nimport ''./Feed.css'';\n\nfunction Feed() {\n    const { posts, loading } = usePosts();\n    \n    if (loading) {\n        return <Loading />;\n    }\n    \n    if (posts.length === 0) {\n        return (\n            <div className="empty-feed">\n                <p>No posts yet. Be the first to post!</p>\n            </div>\n        );\n    }\n    \n    return (\n        <div className="feed">\n            {posts.map(post => (\n                <PostCard key={post.id} post={post} />\n            ))}\n        </div>\n    );\n}\n\nexport default Feed;\n```\n\n### App Component\n\n```javascript\n// src/App.jsx\nimport { BrowserRouter, Routes, Route } from ''react-router-dom'';\nimport { AuthProvider } from ''./context/AuthContext'';\nimport { PostProvider } from ''./context/PostContext'';\nimport Layout from ''./components/Layout'';\nimport Home from ''./pages/Home'';\nimport Profile from ''./pages/Profile'';\nimport Explore from ''./pages/Explore'';\nimport ''./App.css'';\n\nfunction App() {\n    return (\n        <AuthProvider>\n            <PostProvider>\n                <BrowserRouter>\n                    <Routes>\n                        <Route path="/" element={<Layout />}>\n                            <Route index element={<Home />} />\n                            <Route path="profile/:userId" element={<Profile />} />\n                            <Route path="explore" element={<Explore />} />\n                        </Route>\n                    </Routes>\n                </BrowserRouter>\n            </PostProvider>\n        </AuthProvider>\n    );\n}\n\nexport default App;\n```\n\n---\n\n## Features Implementation\n\n### Complex State Management\n\n- **Context API**: Global state for posts and auth\n- **useReducer**: Complex state logic\n- **Optimistic Updates**: Immediate UI updates\n- **State Synchronization**: Keep state in sync\n\n### Image Uploads\n\n- **File Handling**: Process image files\n- **Preview**: Show image before upload\n- **Validation**: Check file size and type\n- **Upload**: Send to server\n\n### User Interactions\n\n- **Likes**: Toggle like status\n- **Comments**: Add and display comments\n- **Shares**: Share posts\n- **Real-Time**: Update UI instantly\n\n---\n\n## Testing Your Application\n\n### Manual Testing Checklist\n\n- [ ] Create post with text\n- [ ] Create post with image\n- [ ] Like/unlike posts\n- [ ] Add comments\n- [ ] Delete own posts\n- [ ] View feed\n- [ ] View profiles\n- [ ] Search functionality\n- [ ] Follow users\n- [ ] Handle errors\n\n---\n\n## Exercise: Social Media App\n\n**Instructions**:\n\n1. Set up React project\n2. Create all components\n3. Implement state management\n4. Add image upload\n5. Test all features\n\n**Enhancement Ideas**:\n\n- Add stories feature\n- Add direct messaging\n- Add video posts\n- Add hashtags\n- Add mentions\n- Add notifications\n- Add analytics\n- Add dark mode\n\n---\n\n## Common Issues and Solutions\n\n### Issue: Images not uploading\n\n**Solution**: Check file size limits and server configuration.\n\n### Issue: State not updating\n\n**Solution**: Ensure reducer returns new state objects.\n\n### Issue: Performance issues\n\n**Solution**: Use React.memo, useMemo, and useCallback.\n\n---\n\n## Quiz: Complex App\n\n1. **Complex state:**\n   - A) Requires careful management\n   - B) Simple to manage\n   - C) Both\n   - D) Neither\n\n2. **Image uploads:**\n   - A) Need file handling\n   - B) Don''t need handling\n   - C) Both\n   - D) Neither\n\n3. **User interactions:**\n   - A) Update state\n   - B) Don''t update state\n   - C) Both\n   - D) Neither\n\n4. **Performance:**\n   - A) Important for complex apps\n   - B) Not important\n   - C) Both\n   - D) Neither\n\n5. **State management:**\n   - A) Critical for complex apps\n   - B) Not critical\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Requires careful management\n2. A) Need file handling\n3. A) Update state\n4. A) Important for complex apps\n5. A) Critical for complex apps\n\n---\n\n## Key Takeaways\n\n1. **Complex State**: Use Context API and useReducer\n2. **Image Uploads**: Handle files properly\n3. **User Interactions**: Real-time updates\n4. **Performance**: Optimize with memoization\n5. **Best Practice**: Clean architecture, proper state management\n\n---\n\n## Next Steps\n\nCongratulations! You''ve built a Social Media Clone. You now know:\n- How to manage complex state\n- How to handle image uploads\n- How to implement user interactions\n- How to build complex applications\n\n**What''s Next?**\n- Final Projects: Capstone Projects\n- Build complete applications\n- Apply all learned concepts\n- Create portfolio projects\n\n---\n\n*Project completed! You''ve finished Project 4: Advanced Projects. Ready for Final Projects!*\n\n', NULL, 2, '2026-01-03 10:40:10', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Manage complex application state\n- Handle image uploads\n- Implement user interactions (like, comment, share)\n- Build feed systems\n- Create user profiles\n- Handle real-time updates\n- Optimize performance');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (204, 75, 18, 'Full-Stack Web Application', 'full-stack-web-application', '# Capstone Project 1: Full-Stack Web Application\n\n## Project Overview\n\nBuild a complete, production-ready Full-Stack Web Application that demonstrates mastery of JavaScript, React, Node.js, databases, and deployment. This capstone project will showcase all the skills you''ve learned throughout the JavaScript curriculum.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Design and build a complete full-stack application\n- Implement secure authentication and authorization\n- Integrate databases effectively\n- Design RESTful APIs\n- Deploy applications to production\n- Handle errors and edge cases\n- Write clean, maintainable code\n- Document your application\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **User Authentication & Authorization**\n   - User registration and login\n   - JWT-based authentication\n   - Protected routes\n   - User profiles\n   - Password reset (optional)\n\n2. **Core Application Features**\n   - CRUD operations for main entities\n   - Data relationships\n   - Search and filtering\n   - Pagination\n   - Sorting\n\n3. **Database Integration**\n   - MongoDB or MySQL/PostgreSQL\n   - Proper schema design\n   - Relationships and associations\n   - Data validation\n\n4. **API Design**\n   - RESTful API endpoints\n   - Proper HTTP methods\n   - Status codes\n   - Error handling\n   - API documentation\n\n5. **Frontend**\n   - React application\n   - State management\n   - Routing\n   - Responsive design\n   - Error handling\n   - Loading states\n\n6. **Deployment**\n   - Backend deployment\n   - Frontend deployment\n   - Environment configuration\n   - Database setup\n\n### Technical Requirements\n\n- **Backend**: Node.js, Express.js\n- **Frontend**: React\n- **Database**: MongoDB (Mongoose) or MySQL/PostgreSQL (Sequelize)\n- **Authentication**: JWT\n- **Validation**: Input validation on both ends\n- **Error Handling**: Comprehensive error handling\n- **Security**: CORS, rate limiting, input sanitization\n- **Documentation**: README with setup instructions\n\n---\n\n## Project Ideas\n\nChoose one of these or create your own:\n\n### Option 1: Task Management System\n- Projects, tasks, subtasks\n- Team collaboration\n- Due dates and priorities\n- File attachments\n- Activity logs\n\n### Option 2: E-Commerce Platform\n- Product catalog\n- Shopping cart\n- Checkout process\n- Order management\n- Payment integration (Stripe)\n\n### Option 3: Social Media Platform\n- User profiles\n- Posts and comments\n- Likes and shares\n- Follow system\n- News feed\n\n### Option 4: Learning Management System\n- Courses and lessons\n- Student enrollment\n- Progress tracking\n- Quizzes and assessments\n- Certificates\n\n### Option 5: Recipe Sharing Platform\n- Recipe creation\n- Categories and tags\n- Ratings and reviews\n- Search and filtering\n- User collections\n\n---\n\n## Recommended Project: Task Management System\n\nWe''ll use a Task Management System as our example. You can adapt this to any of the options above.\n\n---\n\n## Project Structure\n\n```\ntask-management-system/\n├── backend/\n│   ├── src/\n│   │   ├── config/\n│   │   │   └── database.js\n│   │   ├── controllers/\n│   │   │   ├── authController.js\n│   │   │   ├── projectController.js\n│   │   │   ├── taskController.js\n│   │   │   └── userController.js\n│   │   ├── models/\n│   │   │   ├── User.js\n│   │   │   ├── Project.js\n│   │   │   └── Task.js\n│   │   ├── routes/\n│   │   │   ├── authRoutes.js\n│   │   │   ├── projectRoutes.js\n│   │   │   ├── taskRoutes.js\n│   │   │   └── userRoutes.js\n│   │   ├── middleware/\n│   │   │   ├── auth.js\n│   │   │   ├── errorHandler.js\n│   │   │   └── validate.js\n│   │   ├── utils/\n│   │   │   └── generateToken.js\n│   │   └── server.js\n│   ├── .env\n│   ├── .gitignore\n│   └── package.json\n├── frontend/\n│   ├── src/\n│   │   ├── components/\n│   │   │   ├── Layout.jsx\n│   │   │   ├── Navigation.jsx\n│   │   │   ├── ProjectCard.jsx\n│   │   │   ├── TaskCard.jsx\n│   │   │   ├── ProjectForm.jsx\n│   │   │   ├── TaskForm.jsx\n│   │   │   └── Loading.jsx\n│   │   ├── pages/\n│   │   │   ├── Home.jsx\n│   │   │   ├── Login.jsx\n│   │   │   ├── Register.jsx\n│   │   │   ├── Dashboard.jsx\n│   │   │   ├── Projects.jsx\n│   │   │   ├── ProjectDetail.jsx\n│   │   │   └── Profile.jsx\n│   │   ├── context/\n│   │   │   ├── AuthContext.jsx\n│   │   │   └── ProjectContext.jsx\n│   │   ├── services/\n│   │   │   └── api.js\n│   │   ├── App.jsx\n│   │   └── index.js\n│   ├── .env\n│   └── package.json\n└── README.md\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Phase 1: Backend Setup\n\n#### 1. Initialize Backend\n\n```bash\nmkdir task-management-backend\ncd task-management-backend\nnpm init -y\nnpm install express mongoose dotenv bcrypt jsonwebtoken express-validator cors helmet express-rate-limit\nnpm install --save-dev nodemon\n```\n\n#### 2. Database Models\n\n```javascript\n// backend/src/models/User.js\nconst mongoose = require(''mongoose'');\nconst bcrypt = require(''bcrypt'');\n\nconst userSchema = new mongoose.Schema({\n    name: {\n        type: String,\n        required: [true, ''Please provide a name''],\n        trim: true\n    },\n    email: {\n        type: String,\n        required: [true, ''Please provide an email''],\n        unique: true,\n        lowercase: true,\n        trim: true,\n        match: [/^\\S+@\\S+\\.\\S+$/, ''Please provide a valid email'']\n    },\n    password: {\n        type: String,\n        required: [true, ''Please provide a password''],\n        minlength: [6, ''Password must be at least 6 characters''],\n        select: false\n    },\n    avatar: {\n        type: String,\n        default: ''https://via.placeholder.com/150''\n    },\n    role: {\n        type: String,\n        enum: [''user'', ''admin''],\n        default: ''user''\n    }\n}, {\n    timestamps: true\n});\n\nuserSchema.pre(''save'', async function(next) {\n    if (!this.isModified(''password'')) return next();\n    const salt = await bcrypt.genSalt(10);\n    this.password = await bcrypt.hash(this.password, salt);\n    next();\n});\n\nuserSchema.methods.comparePassword = async function(candidatePassword) {\n    return await bcrypt.compare(candidatePassword, this.password);\n};\n\nmodule.exports = mongoose.model(''User'', userSchema);\n```\n\n```javascript\n// backend/src/models/Project.js\nconst mongoose = require(''mongoose'');\n\nconst projectSchema = new mongoose.Schema({\n    name: {\n        type: String,\n        required: [true, ''Please provide a project name''],\n        trim: true\n    },\n    description: {\n        type: String,\n        trim: true\n    },\n    owner: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: ''User'',\n        required: true\n    },\n    members: [{\n        type: mongoose.Schema.Types.ObjectId,\n        ref: ''User''\n    }],\n    status: {\n        type: String,\n        enum: [''active'', ''completed'', ''archived''],\n        default: ''active''\n    },\n    color: {\n        type: String,\n        default: ''#667eea''\n    }\n}, {\n    timestamps: true\n});\n\nmodule.exports = mongoose.model(''Project'', projectSchema);\n```\n\n```javascript\n// backend/src/models/Task.js\nconst mongoose = require(''mongoose'');\n\nconst taskSchema = new mongoose.Schema({\n    title: {\n        type: String,\n        required: [true, ''Please provide a task title''],\n        trim: true\n    },\n    description: {\n        type: String,\n        trim: true\n    },\n    project: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: ''Project'',\n        required: true\n    },\n    assignedTo: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: ''User''\n    },\n    createdBy: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: ''User'',\n        required: true\n    },\n    status: {\n        type: String,\n        enum: [''todo'', ''in-progress'', ''completed''],\n        default: ''todo''\n    },\n    priority: {\n        type: String,\n        enum: [''low'', ''medium'', ''high''],\n        default: ''medium''\n    },\n    dueDate: {\n        type: Date\n    },\n    tags: [{\n        type: String\n    }]\n}, {\n    timestamps: true\n});\n\nmodule.exports = mongoose.model(''Task'', taskSchema);\n```\n\n#### 3. Controllers\n\n```javascript\n// backend/src/controllers/projectController.js\nconst Project = require(''../models/Project'');\nconst Task = require(''../models/Task'');\n\nexports.getProjects = async (req, res, next) => {\n    try {\n        const projects = await Project.find({\n            $or: [\n                { owner: req.user._id },\n                { members: req.user._id }\n            ]\n        })\n        .populate(''owner'', ''name email'')\n        .populate(''members'', ''name email'')\n        .sort({ createdAt: -1 });\n        \n        res.json({\n            success: true,\n            count: projects.length,\n            data: projects\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\nexports.getProject = async (req, res, next) => {\n    try {\n        const project = await Project.findById(req.params.id)\n            .populate(''owner'', ''name email'')\n            .populate(''members'', ''name email'');\n        \n        if (!project) {\n            return res.status(404).json({\n                success: false,\n                error: ''Project not found''\n            });\n        }\n        \n        // Check access\n        const hasAccess = project.owner._id.toString() === req.user._id.toString() ||\n                         project.members.some(m => m._id.toString() === req.user._id.toString());\n        \n        if (!hasAccess) {\n            return res.status(403).json({\n                success: false,\n                error: ''Not authorized to access this project''\n            });\n        }\n        \n        res.json({\n            success: true,\n            data: project\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\nexports.createProject = async (req, res, next) => {\n    try {\n        req.body.owner = req.user._id;\n        const project = await Project.create(req.body);\n        \n        const populatedProject = await Project.findById(project._id)\n            .populate(''owner'', ''name email'');\n        \n        res.status(201).json({\n            success: true,\n            data: populatedProject\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\nexports.updateProject = async (req, res, next) => {\n    try {\n        let project = await Project.findById(req.params.id);\n        \n        if (!project) {\n            return res.status(404).json({\n                success: false,\n                error: ''Project not found''\n            });\n        }\n        \n        // Check ownership\n        if (project.owner.toString() !== req.user._id.toString() && req.user.role !== ''admin'') {\n            return res.status(403).json({\n                success: false,\n                error: ''Not authorized to update this project''\n            });\n        }\n        \n        project = await Project.findByIdAndUpdate(\n            req.params.id,\n            req.body,\n            { new: true, runValidators: true }\n        ).populate(''owner'', ''name email'')\n         .populate(''members'', ''name email'');\n        \n        res.json({\n            success: true,\n            data: project\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\nexports.deleteProject = async (req, res, next) => {\n    try {\n        const project = await Project.findById(req.params.id);\n        \n        if (!project) {\n            return res.status(404).json({\n                success: false,\n                error: ''Project not found''\n            });\n        }\n        \n        // Check ownership\n        if (project.owner.toString() !== req.user._id.toString() && req.user.role !== ''admin'') {\n            return res.status(403).json({\n                success: false,\n                error: ''Not authorized to delete this project''\n            });\n        }\n        \n        // Delete associated tasks\n        await Task.deleteMany({ project: project._id });\n        \n        await project.deleteOne();\n        \n        res.json({\n            success: true,\n            data: {}\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n```\n\n```javascript\n// backend/src/controllers/taskController.js\nconst Task = require(''../models/Task'');\nconst Project = require(''../models/Project'');\n\nexports.getTasks = async (req, res, next) => {\n    try {\n        const { projectId, status, priority } = req.query;\n        const query = {};\n        \n        if (projectId) {\n            query.project = projectId;\n        }\n        if (status) {\n            query.status = status;\n        }\n        if (priority) {\n            query.priority = priority;\n        }\n        \n        // Only get tasks from projects user has access to\n        const userProjects = await Project.find({\n            $or: [\n                { owner: req.user._id },\n                { members: req.user._id }\n            ]\n        }).select(''_id'');\n        \n        const projectIds = userProjects.map(p => p._id);\n        query.project = { $in: projectIds };\n        \n        const tasks = await Task.find(query)\n            .populate(''project'', ''name'')\n            .populate(''assignedTo'', ''name email'')\n            .populate(''createdBy'', ''name email'')\n            .sort({ createdAt: -1 });\n        \n        res.json({\n            success: true,\n            count: tasks.length,\n            data: tasks\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\nexports.getTask = async (req, res, next) => {\n    try {\n        const task = await Task.findById(req.params.id)\n            .populate(''project'', ''name owner members'')\n            .populate(''assignedTo'', ''name email'')\n            .populate(''createdBy'', ''name email'');\n        \n        if (!task) {\n            return res.status(404).json({\n                success: false,\n                error: ''Task not found''\n            });\n        }\n        \n        // Check access through project\n        const project = task.project;\n        const hasAccess = project.owner.toString() === req.user._id.toString() ||\n                         project.members.some(m => m.toString() === req.user._id.toString());\n        \n        if (!hasAccess) {\n            return res.status(403).json({\n                success: false,\n                error: ''Not authorized to access this task''\n            });\n        }\n        \n        res.json({\n            success: true,\n            data: task\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\nexports.createTask = async (req, res, next) => {\n    try {\n        // Verify project access\n        const project = await Project.findById(req.body.project);\n        if (!project) {\n            return res.status(404).json({\n                success: false,\n                error: ''Project not found''\n            });\n        }\n        \n        const hasAccess = project.owner.toString() === req.user._id.toString() ||\n                         project.members.some(m => m.toString() === req.user._id.toString());\n        \n        if (!hasAccess) {\n            return res.status(403).json({\n                success: false,\n                error: ''Not authorized to create tasks in this project''\n            });\n        }\n        \n        req.body.createdBy = req.user._id;\n        const task = await Task.create(req.body);\n        \n        const populatedTask = await Task.findById(task._id)\n            .populate(''project'', ''name'')\n            .populate(''assignedTo'', ''name email'')\n            .populate(''createdBy'', ''name email'');\n        \n        res.status(201).json({\n            success: true,\n            data: populatedTask\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\nexports.updateTask = async (req, res, next) => {\n    try {\n        let task = await Task.findById(req.params.id).populate(''project'');\n        \n        if (!task) {\n            return res.status(404).json({\n                success: false,\n                error: ''Task not found''\n            });\n        }\n        \n        // Check access\n        const project = task.project;\n        const hasAccess = project.owner.toString() === req.user._id.toString() ||\n                         project.members.some(m => m.toString() === req.user._id.toString()) ||\n                         task.assignedTo?.toString() === req.user._id.toString();\n        \n        if (!hasAccess) {\n            return res.status(403).json({\n                success: false,\n                error: ''Not authorized to update this task''\n            });\n        }\n        \n        task = await Task.findByIdAndUpdate(\n            req.params.id,\n            req.body,\n            { new: true, runValidators: true }\n        ).populate(''project'', ''name'')\n         .populate(''assignedTo'', ''name email'')\n         .populate(''createdBy'', ''name email'');\n        \n        res.json({\n            success: true,\n            data: task\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n\nexports.deleteTask = async (req, res, next) => {\n    try {\n        const task = await Task.findById(req.params.id).populate(''project'');\n        \n        if (!task) {\n            return res.status(404).json({\n                success: false,\n                error: ''Task not found''\n            });\n        }\n        \n        // Check access\n        const project = task.project;\n        const hasAccess = project.owner.toString() === req.user._id.toString() ||\n                         project.members.some(m => m.toString() === req.user._id.toString()) ||\n                         task.createdBy.toString() === req.user._id.toString();\n        \n        if (!hasAccess) {\n            return res.status(403).json({\n                success: false,\n                error: ''Not authorized to delete this task''\n            });\n        }\n        \n        await task.deleteOne();\n        \n        res.json({\n            success: true,\n            data: {}\n        });\n    } catch (error) {\n        next(error);\n    }\n};\n```\n\n#### 4. Routes\n\n```javascript\n// backend/src/routes/projectRoutes.js\nconst express = require(''express'');\nconst {\n    getProjects,\n    getProject,\n    createProject,\n    updateProject,\n    deleteProject\n} = require(''../controllers/projectController'');\nconst { protect } = require(''../middleware/auth'');\nconst { body } = require(''express-validator'');\nconst validate = require(''../middleware/validate'');\n\nconst router = express.Router();\n\nrouter.use(protect);\n\nrouter.get(''/'', getProjects);\nrouter.get(''/:id'', getProject);\nrouter.post(\n    ''/'',\n    [\n        body(''name'').trim().notEmpty().withMessage(''Project name is required'')\n    ],\n    validate,\n    createProject\n);\nrouter.put(''/:id'', updateProject);\nrouter.delete(''/:id'', deleteProject);\n\nmodule.exports = router;\n```\n\n```javascript\n// backend/src/routes/taskRoutes.js\nconst express = require(''express'');\nconst {\n    getTasks,\n    getTask,\n    createTask,\n    updateTask,\n    deleteTask\n} = require(''../controllers/taskController'');\nconst { protect } = require(''../middleware/auth'');\nconst { body } = require(''express-validator'');\nconst validate = require(''../middleware/validate'');\n\nconst router = express.Router();\n\nrouter.use(protect);\n\nrouter.get(''/'', getTasks);\nrouter.get(''/:id'', getTask);\nrouter.post(\n    ''/'',\n    [\n        body(''title'').trim().notEmpty().withMessage(''Task title is required''),\n        body(''project'').notEmpty().withMessage(''Project is required'')\n    ],\n    validate,\n    createTask\n);\nrouter.put(''/:id'', updateTask);\nrouter.delete(''/:id'', deleteTask);\n\nmodule.exports = router;\n```\n\n#### 5. Server Setup\n\n```javascript\n// backend/src/server.js\nconst express = require(''express'');\nconst mongoose = require(''mongoose'');\nconst cors = require(''cors'');\nconst helmet = require(''helmet'');\nconst rateLimit = require(''express-rate-limit'');\nrequire(''dotenv'').config();\n\nconst authRoutes = require(''./routes/authRoutes'');\nconst projectRoutes = require(''./routes/projectRoutes'');\nconst taskRoutes = require(''./routes/taskRoutes'');\nconst userRoutes = require(''./routes/userRoutes'');\nconst errorHandler = require(''./middleware/errorHandler'');\n\nconst app = express();\n\n// Security middleware\napp.use(helmet());\napp.use(cors({\n    origin: process.env.CLIENT_URL || ''http://localhost:3000'',\n    credentials: true\n}));\n\n// Rate limiting\nconst limiter = rateLimit({\n    windowMs: 15 * 60 * 1000, // 15 minutes\n    max: 100 // limit each IP to 100 requests per windowMs\n});\napp.use(''/api/'', limiter);\n\n// Body parser\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\n// Routes\napp.use(''/api/auth'', authRoutes);\napp.use(''/api/projects'', projectRoutes);\napp.use(''/api/tasks'', taskRoutes);\napp.use(''/api/users'', userRoutes);\n\n// Health check\napp.get(''/api/health'', (req, res) => {\n    res.json({\n        success: true,\n        message: ''API is running'',\n        timestamp: new Date().toISOString()\n    });\n});\n\n// Error handler (must be last)\napp.use(errorHandler);\n\n// Connect to database\nmongoose.connect(process.env.MONGODB_URI)\n    .then(() => {\n        console.log(''Connected to MongoDB'');\n        const PORT = process.env.PORT || 5000;\n        app.listen(PORT, () => {\n            console.log(`Server running on port ${PORT}`);\n        });\n    })\n    .catch((error) => {\n        console.error(''MongoDB connection error:'', error);\n        process.exit(1);\n    });\n```\n\n### Phase 2: Frontend Setup\n\n#### 1. Initialize Frontend\n\n```bash\nnpx create-react-app task-management-frontend\ncd task-management-frontend\nnpm install axios react-router-dom date-fns\n```\n\n#### 2. API Service\n\n```javascript\n// frontend/src/services/api.js\nimport axios from ''axios'';\n\nconst API_URL = process.env.REACT_APP_API_URL || ''http://localhost:5000/api'';\n\nconst api = axios.create({\n    baseURL: API_URL,\n    headers: {\n        ''Content-Type'': ''application/json''\n    }\n});\n\n// Add token to requests\napi.interceptors.request.use(\n    (config) => {\n        const token = localStorage.getItem(''token'');\n        if (token) {\n            config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n    },\n    (error) => Promise.reject(error)\n);\n\n// Handle response errors\napi.interceptors.response.use(\n    (response) => response,\n    (error) => {\n        if (error.response?.status === 401) {\n            localStorage.removeItem(''token'');\n            window.location.href = ''/login'';\n        }\n        return Promise.reject(error);\n    }\n);\n\nexport const authAPI = {\n    register: (userData) => api.post(''/auth/register'', userData),\n    login: (credentials) => api.post(''/auth/login'', credentials),\n    getMe: () => api.get(''/auth/me'')\n};\n\nexport const projectsAPI = {\n    getProjects: () => api.get(''/projects''),\n    getProject: (id) => api.get(`/projects/${id}`),\n    createProject: (data) => api.post(''/projects'', data),\n    updateProject: (id, data) => api.put(`/projects/${id}`, data),\n    deleteProject: (id) => api.delete(`/projects/${id}`)\n};\n\nexport const tasksAPI = {\n    getTasks: (params) => api.get(''/tasks'', { params }),\n    getTask: (id) => api.get(`/tasks/${id}`),\n    createTask: (data) => api.post(''/tasks'', data),\n    updateTask: (id, data) => api.put(`/tasks/${id}`, data),\n    deleteTask: (id) => api.delete(`/tasks/${id}`)\n};\n\nexport default api;\n```\n\n#### 3. Context Providers\n\n```javascript\n// frontend/src/context/AuthContext.jsx\nimport { createContext, useContext, useState, useEffect } from ''react'';\nimport { authAPI } from ''../services/api'';\n\nconst AuthContext = createContext();\n\nexport function AuthProvider({ children }) {\n    const [user, setUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [token, setToken] = useState(localStorage.getItem(''token''));\n    \n    useEffect(() => {\n        if (token) {\n            loadUser();\n        } else {\n            setLoading(false);\n        }\n    }, [token]);\n    \n    const loadUser = async () => {\n        try {\n            const response = await authAPI.getMe();\n            setUser(response.data.user);\n        } catch (error) {\n            localStorage.removeItem(''token'');\n            setToken(null);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    const register = async (userData) => {\n        try {\n            const response = await authAPI.register(userData);\n            const { token, user } = response.data;\n            localStorage.setItem(''token'', token);\n            setToken(token);\n            setUser(user);\n            return { success: true };\n        } catch (error) {\n            return {\n                success: false,\n                error: error.response?.data?.error || ''Registration failed''\n            };\n        }\n    };\n    \n    const login = async (credentials) => {\n        try {\n            const response = await authAPI.login(credentials);\n            const { token, user } = response.data;\n            localStorage.setItem(''token'', token);\n            setToken(token);\n            setUser(user);\n            return { success: true };\n        } catch (error) {\n            return {\n                success: false,\n                error: error.response?.data?.error || ''Login failed''\n            };\n        }\n    };\n    \n    const logout = () => {\n        localStorage.removeItem(''token'');\n        setToken(null);\n        setUser(null);\n    };\n    \n    return (\n        <AuthContext.Provider\n            value={{\n                user,\n                loading,\n                register,\n                login,\n                logout,\n                isAuthenticated: !!user\n            }}\n        >\n            {children}\n        </AuthContext.Provider>\n    );\n}\n\nexport function useAuth() {\n    const context = useContext(AuthContext);\n    if (!context) {\n        throw new Error(''useAuth must be used within AuthProvider'');\n    }\n    return context;\n}\n```\n\n#### 4. Main Pages\n\n```javascript\n// frontend/src/pages/Dashboard.jsx\nimport { useState, useEffect } from ''react'';\nimport { Link } from ''react-router-dom'';\nimport { projectsAPI, tasksAPI } from ''../services/api'';\nimport { useAuth } from ''../context/AuthContext'';\nimport ProjectCard from ''../components/ProjectCard'';\nimport Loading from ''../components/Loading'';\nimport ''./Dashboard.css'';\n\nfunction Dashboard() {\n    const { user } = useAuth();\n    const [projects, setProjects] = useState([]);\n    const [tasks, setTasks] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [stats, setStats] = useState({\n        totalProjects: 0,\n        totalTasks: 0,\n        completedTasks: 0,\n        activeTasks: 0\n    });\n    \n    useEffect(() => {\n        loadData();\n    }, []);\n    \n    const loadData = async () => {\n        try {\n            setLoading(true);\n            const [projectsRes, tasksRes] = await Promise.all([\n                projectsAPI.getProjects(),\n                tasksAPI.getTasks()\n            ]);\n            \n            setProjects(projectsRes.data.data.slice(0, 5));\n            setTasks(tasksRes.data.data.slice(0, 5));\n            \n            const allTasks = tasksRes.data.data;\n            setStats({\n                totalProjects: projectsRes.data.count,\n                totalTasks: allTasks.length,\n                completedTasks: allTasks.filter(t => t.status === ''completed'').length,\n                activeTasks: allTasks.filter(t => t.status !== ''completed'').length\n            });\n        } catch (error) {\n            console.error(''Failed to load data:'', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    if (loading) {\n        return <Loading />;\n    }\n    \n    return (\n        <div className="dashboard">\n            <h1>Welcome, {user?.name}!</h1>\n            \n            <div className="stats-grid">\n                <div className="stat-card">\n                    <h3>{stats.totalProjects}</h3>\n                    <p>Projects</p>\n                </div>\n                <div className="stat-card">\n                    <h3>{stats.totalTasks}</h3>\n                    <p>Total Tasks</p>\n                </div>\n                <div className="stat-card">\n                    <h3>{stats.activeTasks}</h3>\n                    <p>Active Tasks</p>\n                </div>\n                <div className="stat-card">\n                    <h3>{stats.completedTasks}</h3>\n                    <p>Completed Tasks</p>\n                </div>\n            </div>\n            \n            <div className="dashboard-sections">\n                <section className="recent-projects">\n                    <div className="section-header">\n                        <h2>Recent Projects</h2>\n                        <Link to="/projects" className="btn btn-link">View All</Link>\n                    </div>\n                    <div className="projects-grid">\n                        {projects.map(project => (\n                            <ProjectCard key={project._id} project={project} />\n                        ))}\n                    </div>\n                </section>\n                \n                <section className="recent-tasks">\n                    <div className="section-header">\n                        <h2>Recent Tasks</h2>\n                        <Link to="/tasks" className="btn btn-link">View All</Link>\n                    </div>\n                    <div className="tasks-list">\n                        {tasks.map(task => (\n                            <TaskCard key={task._id} task={task} />\n                        ))}\n                    </div>\n                </section>\n            </div>\n        </div>\n    );\n}\n\nexport default Dashboard;\n```\n\n---\n\n## Deployment Guide\n\n### Backend Deployment (Heroku Example)\n\n```bash\n# Install Heroku CLI\n# Login to Heroku\nheroku login\n\n# Create app\nheroku create your-app-name\n\n# Set environment variables\nheroku config:set NODE_ENV=production\nheroku config:set MONGODB_URI=your-mongodb-uri\nheroku config:set JWT_SECRET=your-secret-key\nheroku config:set CLIENT_URL=https://your-frontend-url.com\n\n# Deploy\ngit push heroku main\n```\n\n### Frontend Deployment (Vercel Example)\n\n```bash\n# Install Vercel CLI\nnpm install -g vercel\n\n# Build project\nnpm run build\n\n# Deploy\nvercel\n\n# Set environment variable\nvercel env add REACT_APP_API_URL\n```\n\n---\n\n## Testing Checklist\n\n- [ ] User registration\n- [ ] User login\n- [ ] Protected routes\n- [ ] Create project\n- [ ] View projects\n- [ ] Update project\n- [ ] Delete project\n- [ ] Create task\n- [ ] View tasks\n- [ ] Update task\n- [ ] Delete task\n- [ ] Filter and search\n- [ ] Error handling\n- [ ] Responsive design\n- [ ] Deployment\n\n---\n\n## Documentation Requirements\n\n### README.md Should Include:\n\n1. **Project Description**: What the application does\n2. **Features**: List of features\n3. **Tech Stack**: Technologies used\n4. **Installation**: Step-by-step setup\n5. **Configuration**: Environment variables\n6. **API Documentation**: Endpoints and examples\n7. **Deployment**: Deployment instructions\n8. **Screenshots**: Application screenshots\n9. **Contributing**: How to contribute\n10. **License**: License information\n\n---\n\n## Evaluation Criteria\n\nYour project will be evaluated on:\n\n1. **Functionality** (30%)\n   - All features work correctly\n   - No critical bugs\n   - Edge cases handled\n\n2. **Code Quality** (25%)\n   - Clean, readable code\n   - Proper structure\n   - Comments where needed\n\n3. **Security** (20%)\n   - Authentication implemented\n   - Input validation\n   - Error handling\n   - Security best practices\n\n4. **Design** (15%)\n   - User-friendly interface\n   - Responsive design\n   - Good UX\n\n5. **Documentation** (10%)\n   - Complete README\n   - API documentation\n   - Setup instructions\n\n---\n\n## Exercise: Full-Stack Web Application\n\n**Instructions**:\n\n1. Choose your project idea\n2. Plan your application architecture\n3. Set up backend and frontend\n4. Implement all features\n5. Test thoroughly\n6. Deploy to production\n7. Document your project\n\n**Timeline**: 2-4 weeks recommended\n\n---\n\n## Key Takeaways\n\n1. **Full-Stack Development**: Complete application development\n2. **Architecture**: Plan before coding\n3. **Security**: Always prioritize security\n4. **Testing**: Test all features\n5. **Deployment**: Deploy to production\n6. **Documentation**: Document everything\n\n---\n\n## Next Steps\n\nCongratulations! You''ve completed your Capstone Project. You now know:\n- How to build complete full-stack applications\n- How to implement authentication\n- How to integrate databases\n- How to design APIs\n- How to deploy applications\n\n**What''s Next?**\n- Capstone Project 2: Single Page Application (SPA)\n- Build modern SPAs\n- Apply advanced concepts\n- Create portfolio projects\n\n---\n\n*Capstone Project completed! You''ve demonstrated mastery of full-stack JavaScript development!*\n\n', NULL, 1, '2026-01-03 10:41:52', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Design and build a complete full-stack application\n- Implement secure authentication and authorization\n- Integrate databases effectively\n- Design RESTful APIs\n- Deploy applications to production\n- Handle errors and edge cases\n- Write clean, maintainable code\n- Document your application');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (205, 75, 18, 'Single Page Application (SPA)', 'single-page-application-spa', '# Capstone Project 2: Single Page Application (SPA)\n\n## Project Overview\n\nBuild a production-ready Single Page Application (SPA) using a modern framework (React or Vue). This capstone project will demonstrate mastery of frontend development, state management, routing, API integration, and responsive design.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Build complex single-page applications\n- Implement advanced state management\n- Create seamless routing and navigation\n- Integrate with external APIs\n- Design responsive, modern UIs\n- Optimize application performance\n- Handle complex user interactions\n- Deploy SPAs to production\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **Multiple Routes & Navigation**\n   - At least 5-7 different pages/routes\n   - Protected routes\n   - Dynamic routes with parameters\n   - Nested routes (optional)\n\n2. **State Management**\n   - Global state management (Context API or Redux)\n   - Local component state\n   - State persistence\n   - Complex state interactions\n\n3. **API Integration**\n   - Connect to external APIs or mock backend\n   - Handle loading states\n   - Error handling\n   - Data caching (optional)\n\n4. **User Interface**\n   - Modern, polished design\n   - Responsive (mobile, tablet, desktop)\n   - Smooth animations and transitions\n   - Accessible components\n\n5. **Advanced Features**\n   - Search and filtering\n   - Pagination or infinite scroll\n   - Form validation\n   - Image handling\n   - Real-time updates (optional)\n\n### Technical Requirements\n\n- **Framework**: React or Vue.js\n- **State Management**: Context API, Redux, or Vuex\n- **Routing**: React Router or Vue Router\n- **Styling**: CSS Modules, Styled Components, or Tailwind CSS\n- **API**: Axios or Fetch API\n- **Build Tool**: Vite, Create React App, or Vue CLI\n- **Performance**: Code splitting, lazy loading\n- **Responsive**: Mobile-first design\n\n---\n\n## Project Ideas\n\nChoose one of these or create your own:\n\n### Option 1: Movie Database App\n- Browse movies and TV shows\n- Search functionality\n- Movie details with cast and reviews\n- Watchlist/favorites\n- User ratings\n\n### Option 2: Recipe Finder App\n- Search recipes by ingredients\n- Recipe details with instructions\n- Save favorite recipes\n- Meal planning\n- Shopping list generation\n\n### Option 3: News Aggregator\n- Multiple news sources\n- Category filtering\n- Article reading view\n- Bookmark articles\n- Search functionality\n\n### Option 4: Music Discovery App\n- Browse artists and albums\n- Playlist creation\n- Search songs\n- Recently played\n- Favorite tracks\n\n### Option 5: Job Board Application\n- Browse job listings\n- Filter by location, type, salary\n- Save jobs\n- Application tracking\n- Company profiles\n\n---\n\n## Recommended Project: Movie Database App\n\nWe''ll use a Movie Database App as our example. You can adapt this to any of the options above.\n\n---\n\n## Project Structure\n\n```\nmovie-database-app/\n├── public/\n│   └── index.html\n├── src/\n│   ├── components/\n│   │   ├── Layout/\n│   │   │   ├── Header.jsx\n│   │   │   ├── Navigation.jsx\n│   │   │   └── Footer.jsx\n│   │   ├── Movie/\n│   │   │   ├── MovieCard.jsx\n│   │   │   ├── MovieList.jsx\n│   │   │   ├── MovieDetail.jsx\n│   │   │   └── MovieSearch.jsx\n│   │   ├── Common/\n│   │   │   ├── Loading.jsx\n│   │   │   ├── Error.jsx\n│   │   │   ├── Pagination.jsx\n│   │   │   └── FilterBar.jsx\n│   │   └── Watchlist/\n│   │       └── WatchlistButton.jsx\n│   ├── pages/\n│   │   ├── Home.jsx\n│   │   ├── Movies.jsx\n│   │   ├── MovieDetail.jsx\n│   │   ├── Watchlist.jsx\n│   │   ├── Search.jsx\n│   │   └── About.jsx\n│   ├── context/\n│   │   ├── MovieContext.jsx\n│   │   └── WatchlistContext.jsx\n│   ├── hooks/\n│   │   ├── useMovies.js\n│   │   ├── useLocalStorage.js\n│   │   └── useDebounce.js\n│   ├── services/\n│   │   └── api.js\n│   ├── utils/\n│   │   └── helpers.js\n│   ├── styles/\n│   │   ├── App.css\n│   │   └── components.css\n│   ├── App.jsx\n│   └── index.js\n└── package.json\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Phase 1: Project Setup\n\n```bash\n# Create React app with Vite\nnpm create vite@latest movie-database-app -- --template react\ncd movie-database-app\nnpm install\n\n# Install dependencies\nnpm install react-router-dom axios date-fns\nnpm install --save-dev @vitejs/plugin-react\n\n# Start development server\nnpm run dev\n```\n\n### Phase 2: API Service\n\n```javascript\n// src/services/api.js\nimport axios from ''axios'';\n\n// Using The Movie Database (TMDB) API\n// Sign up at https://www.themoviedb.org/ to get API key\nconst API_KEY = process.env.REACT_APP_TMDB_API_KEY || ''your-api-key'';\nconst BASE_URL = ''https://api.themoviedb.org/3'';\nconst IMAGE_BASE_URL = ''https://image.tmdb.org/t/p/w500'';\n\nconst api = axios.create({\n    baseURL: BASE_URL,\n    params: {\n        api_key: API_KEY\n    }\n});\n\nexport const moviesAPI = {\n    // Get popular movies\n    getPopularMovies: (page = 1) => \n        api.get(''/movie/popular'', { params: { page } }),\n    \n    // Get top rated movies\n    getTopRatedMovies: (page = 1) => \n        api.get(''/movie/top_rated'', { params: { page } }),\n    \n    // Get now playing movies\n    getNowPlayingMovies: (page = 1) => \n        api.get(''/movie/now_playing'', { params: { page } }),\n    \n    // Get upcoming movies\n    getUpcomingMovies: (page = 1) => \n        api.get(''/movie/upcoming'', { params: { page } }),\n    \n    // Get movie by ID\n    getMovieById: (id) => \n        api.get(`/movie/${id}`),\n    \n    // Search movies\n    searchMovies: (query, page = 1) => \n        api.get(''/search/movie'', { params: { query, page } }),\n    \n    // Get movie credits\n    getMovieCredits: (id) => \n        api.get(`/movie/${id}/credits`),\n    \n    // Get movie reviews\n    getMovieReviews: (id, page = 1) => \n        api.get(`/movie/${id}/reviews`, { params: { page } }),\n    \n    // Get similar movies\n    getSimilarMovies: (id, page = 1) => \n        api.get(`/movie/${id}/similar`, { params: { page } })\n};\n\nexport const getImageUrl = (path) => {\n    return path ? `${IMAGE_BASE_URL}${path}` : ''https://via.placeholder.com/500'';\n};\n\nexport default api;\n```\n\n### Phase 3: Custom Hooks\n\n```javascript\n// src/hooks/useMovies.js\nimport { useState, useEffect } from ''react'';\nimport { moviesAPI } from ''../services/api'';\n\nexport function useMovies(endpoint, page = 1) {\n    const [movies, setMovies] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [totalPages, setTotalPages] = useState(1);\n    \n    useEffect(() => {\n        loadMovies();\n    }, [endpoint, page]);\n    \n    const loadMovies = async () => {\n        try {\n            setLoading(true);\n            setError(null);\n            const response = await moviesAPI[endpoint](page);\n            setMovies(response.data.results);\n            setTotalPages(response.data.total_pages);\n        } catch (err) {\n            setError(err.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    return { movies, loading, error, totalPages, refetch: loadMovies };\n}\n\nexport function useMovie(id) {\n    const [movie, setMovie] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [credits, setCredits] = useState(null);\n    const [reviews, setReviews] = useState([]);\n    \n    useEffect(() => {\n        if (id) {\n            loadMovie();\n        }\n    }, [id]);\n    \n    const loadMovie = async () => {\n        try {\n            setLoading(true);\n            setError(null);\n            \n            const [movieRes, creditsRes, reviewsRes] = await Promise.all([\n                moviesAPI.getMovieById(id),\n                moviesAPI.getMovieCredits(id),\n                moviesAPI.getMovieReviews(id)\n            ]);\n            \n            setMovie(movieRes.data);\n            setCredits(creditsRes.data);\n            setReviews(reviewsRes.data.results);\n        } catch (err) {\n            setError(err.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    return { movie, credits, reviews, loading, error };\n}\n\nexport function useSearchMovies(query, page = 1) {\n    const [movies, setMovies] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [totalPages, setTotalPages] = useState(1);\n    \n    useEffect(() => {\n        if (query.trim()) {\n            searchMovies();\n        } else {\n            setMovies([]);\n        }\n    }, [query, page]);\n    \n    const searchMovies = async () => {\n        try {\n            setLoading(true);\n            setError(null);\n            const response = await moviesAPI.searchMovies(query, page);\n            setMovies(response.data.results);\n            setTotalPages(response.data.total_pages);\n        } catch (err) {\n            setError(err.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    return { movies, loading, error, totalPages };\n}\n```\n\n```javascript\n// src/hooks/useDebounce.js\nimport { useState, useEffect } from ''react'';\n\nexport function useDebounce(value, delay = 500) {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n    \n    useEffect(() => {\n        const handler = setTimeout(() => {\n            setDebouncedValue(value);\n        }, delay);\n        \n        return () => {\n            clearTimeout(handler);\n        };\n    }, [value, delay]);\n    \n    return debouncedValue;\n}\n```\n\n```javascript\n// src/hooks/useLocalStorage.js\nimport { useState, useEffect } from ''react'';\n\nexport function useLocalStorage(key, initialValue) {\n    const [storedValue, setStoredValue] = useState(() => {\n        try {\n            const item = window.localStorage.getItem(key);\n            return item ? JSON.parse(item) : initialValue;\n        } catch (error) {\n            return initialValue;\n        }\n    });\n    \n    const setValue = (value) => {\n        try {\n            const valueToStore = value instanceof Function ? value(storedValue) : value;\n            setStoredValue(valueToStore);\n            window.localStorage.setItem(key, JSON.stringify(valueToStore));\n        } catch (error) {\n            console.error(error);\n        }\n    };\n    \n    return [storedValue, setValue];\n}\n```\n\n### Phase 4: Context Providers\n\n```javascript\n// src/context/WatchlistContext.jsx\nimport { createContext, useContext } from ''react'';\nimport { useLocalStorage } from ''../hooks/useLocalStorage'';\n\nconst WatchlistContext = createContext();\n\nexport function WatchlistProvider({ children }) {\n    const [watchlist, setWatchlist] = useLocalStorage(''watchlist'', []);\n    \n    const addToWatchlist = (movie) => {\n        if (!watchlist.find(m => m.id === movie.id)) {\n            setWatchlist([...watchlist, movie]);\n        }\n    };\n    \n    const removeFromWatchlist = (movieId) => {\n        setWatchlist(watchlist.filter(m => m.id !== movieId));\n    };\n    \n    const isInWatchlist = (movieId) => {\n        return watchlist.some(m => m.id === movieId);\n    };\n    \n    return (\n        <WatchlistContext.Provider\n            value={{\n                watchlist,\n                addToWatchlist,\n                removeFromWatchlist,\n                isInWatchlist\n            }}\n        >\n            {children}\n        </WatchlistContext.Provider>\n    );\n}\n\nexport function useWatchlist() {\n    const context = useContext(WatchlistContext);\n    if (!context) {\n        throw new Error(''useWatchlist must be used within WatchlistProvider'');\n    }\n    return context;\n}\n```\n\n### Phase 5: Components\n\n```javascript\n// src/components/Movie/MovieCard.jsx\nimport { Link } from ''react-router-dom'';\nimport { getImageUrl } from ''../../services/api'';\nimport { useWatchlist } from ''../../context/WatchlistContext'';\nimport ''./MovieCard.css'';\n\nfunction MovieCard({ movie }) {\n    const { addToWatchlist, removeFromWatchlist, isInWatchlist } = useWatchlist();\n    const inWatchlist = isInWatchlist(movie.id);\n    \n    const handleWatchlistToggle = (e) => {\n        e.preventDefault();\n        if (inWatchlist) {\n            removeFromWatchlist(movie.id);\n        } else {\n            addToWatchlist(movie);\n        }\n    };\n    \n    return (\n        <div className="movie-card">\n            <Link to={`/movie/${movie.id}`} className="movie-link">\n                <div className="movie-image-container">\n                    <img\n                        src={getImageUrl(movie.poster_path)}\n                        alt={movie.title}\n                        className="movie-image"\n                    />\n                    <div className="movie-overlay">\n                        <div className="movie-rating">\n                            ⭐ {movie.vote_average?.toFixed(1)}\n                        </div>\n                    </div>\n                </div>\n                <div className="movie-info">\n                    <h3 className="movie-title">{movie.title}</h3>\n                    <p className="movie-date">\n                        {movie.release_date ? new Date(movie.release_date).getFullYear() : ''N/A''}\n                    </p>\n                </div>\n            </Link>\n            <button\n                onClick={handleWatchlistToggle}\n                className={`watchlist-btn ${inWatchlist ? ''active'' : ''''}`}\n                title={inWatchlist ? ''Remove from watchlist'' : ''Add to watchlist''}\n            >\n                {inWatchlist ? ''✓'' : ''+''}\n            </button>\n        </div>\n    );\n}\n\nexport default MovieCard;\n```\n\n```javascript\n// src/components/Movie/MovieList.jsx\nimport { lazy, Suspense } from ''react'';\nimport MovieCard from ''./MovieCard'';\nimport Loading from ''../Common/Loading'';\nimport ''./MovieList.css'';\n\nconst MovieCardLazy = lazy(() => import(''./MovieCard''));\n\nfunction MovieList({ movies, loading }) {\n    if (loading) {\n        return <Loading />;\n    }\n    \n    if (movies.length === 0) {\n        return (\n            <div className="no-movies">\n                <p>No movies found</p>\n            </div>\n        );\n    }\n    \n    return (\n        <div className="movie-list">\n            <Suspense fallback={<Loading />}>\n                {movies.map(movie => (\n                    <MovieCard key={movie.id} movie={movie} />\n                ))}\n            </Suspense>\n        </div>\n    );\n}\n\nexport default MovieList;\n```\n\n```javascript\n// src/components/Movie/MovieDetail.jsx\nimport { useMovie } from ''../../hooks/useMovies'';\nimport { getImageUrl } from ''../../services/api'';\nimport { format } from ''date-fns'';\nimport Loading from ''../Common/Loading'';\nimport Error from ''../Common/Error'';\nimport ''./MovieDetail.css'';\n\nfunction MovieDetail({ movieId }) {\n    const { movie, credits, reviews, loading, error } = useMovie(movieId);\n    \n    if (loading) {\n        return <Loading />;\n    }\n    \n    if (error) {\n        return <Error message={error} />;\n    }\n    \n    if (!movie) {\n        return <Error message="Movie not found" />;\n    }\n    \n    return (\n        <div className="movie-detail">\n            <div className="movie-detail-hero">\n                <img\n                    src={getImageUrl(movie.backdrop_path)}\n                    alt={movie.title}\n                    className="movie-backdrop"\n                />\n                <div className="movie-detail-content">\n                    <div className="movie-detail-poster">\n                        <img\n                            src={getImageUrl(movie.poster_path)}\n                            alt={movie.title}\n                        />\n                    </div>\n                    <div className="movie-detail-info">\n                        <h1>{movie.title}</h1>\n                        <div className="movie-meta">\n                            <span>⭐ {movie.vote_average?.toFixed(1)}</span>\n                            <span>•</span>\n                            <span>{movie.runtime} min</span>\n                            <span>•</span>\n                            <span>{format(new Date(movie.release_date), ''yyyy'')}</span>\n                        </div>\n                        <div className="movie-genres">\n                            {movie.genres?.map(genre => (\n                                <span key={genre.id} className="genre-tag">\n                                    {genre.name}\n                                </span>\n                            ))}\n                        </div>\n                        <p className="movie-overview">{movie.overview}</p>\n                    </div>\n                </div>\n            </div>\n            \n            {credits && credits.cast && (\n                <section className="movie-cast">\n                    <h2>Cast</h2>\n                    <div className="cast-list">\n                        {credits.cast.slice(0, 10).map(actor => (\n                            <div key={actor.id} className="cast-item">\n                                <img\n                                    src={getImageUrl(actor.profile_path)}\n                                    alt={actor.name}\n                                />\n                                <p className="actor-name">{actor.name}</p>\n                                <p className="character-name">{actor.character}</p>\n                            </div>\n                        ))}\n                    </div>\n                </section>\n            )}\n            \n            {reviews.length > 0 && (\n                <section className="movie-reviews">\n                    <h2>Reviews</h2>\n                    <div className="reviews-list">\n                        {reviews.map(review => (\n                            <div key={review.id} className="review-item">\n                                <div className="review-header">\n                                    <strong>{review.author}</strong>\n                                    <span>{format(new Date(review.created_at), ''MMM dd, yyyy'')}</span>\n                                </div>\n                                <p>{review.content}</p>\n                            </div>\n                        ))}\n                    </div>\n                </section>\n            )}\n        </div>\n    );\n}\n\nexport default MovieDetail;\n```\n\n```javascript\n// src/components/Movie/MovieSearch.jsx\nimport { useState, useEffect } from ''react'';\nimport { useSearchMovies } from ''../../hooks/useMovies'';\nimport { useDebounce } from ''../../hooks/useDebounce'';\nimport MovieList from ''./MovieList'';\nimport Pagination from ''../Common/Pagination'';\nimport ''./MovieSearch.css'';\n\nfunction MovieSearch() {\n    const [searchQuery, setSearchQuery] = useState('''');\n    const [page, setPage] = useState(1);\n    const debouncedQuery = useDebounce(searchQuery, 500);\n    const { movies, loading, error, totalPages } = useSearchMovies(debouncedQuery, page);\n    \n    useEffect(() => {\n        setPage(1);\n    }, [debouncedQuery]);\n    \n    return (\n        <div className="movie-search">\n            <div className="search-container">\n                <input\n                    type="text"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                    placeholder="Search movies..."\n                    className="search-input"\n                />\n            </div>\n            \n            {debouncedQuery && (\n                <>\n                    <h2>Search Results for "{debouncedQuery}"</h2>\n                    <MovieList movies={movies} loading={loading} />\n                    {totalPages > 1 && (\n                        <Pagination\n                            currentPage={page}\n                            totalPages={totalPages}\n                            onPageChange={setPage}\n                        />\n                    )}\n                </>\n            )}\n        </div>\n    );\n}\n\nexport default MovieSearch;\n```\n\n```javascript\n// src/components/Common/Pagination.jsx\nimport ''./Pagination.css'';\n\nfunction Pagination({ currentPage, totalPages, onPageChange }) {\n    const getPageNumbers = () => {\n        const pages = [];\n        const maxVisible = 5;\n        let start = Math.max(1, currentPage - Math.floor(maxVisible / 2));\n        let end = Math.min(totalPages, start + maxVisible - 1);\n        \n        if (end - start < maxVisible - 1) {\n            start = Math.max(1, end - maxVisible + 1);\n        }\n        \n        for (let i = start; i <= end; i++) {\n            pages.push(i);\n        }\n        \n        return pages;\n    };\n    \n    return (\n        <div className="pagination">\n            <button\n                onClick={() => onPageChange(currentPage - 1)}\n                disabled={currentPage === 1}\n                className="pagination-btn"\n            >\n                Previous\n            </button>\n            \n            <div className="pagination-numbers">\n                {getPageNumbers().map(page => (\n                    <button\n                        key={page}\n                        onClick={() => onPageChange(page)}\n                        className={`pagination-btn ${currentPage === page ? ''active'' : ''''}`}\n                    >\n                        {page}\n                    </button>\n                ))}\n            </div>\n            \n            <button\n                onClick={() => onPageChange(currentPage + 1)}\n                disabled={currentPage === totalPages}\n                className="pagination-btn"\n            >\n                Next\n            </button>\n        </div>\n    );\n}\n\nexport default Pagination;\n```\n\n### Phase 6: Pages\n\n```javascript\n// src/pages/Home.jsx\nimport { Link } from ''react-router-dom'';\nimport { useMovies } from ''../hooks/useMovies'';\nimport MovieList from ''../components/Movie/MovieList'';\nimport ''./Home.css'';\n\nfunction Home() {\n    const { movies, loading } = useMovies(''getPopularMovies'', 1);\n    \n    return (\n        <div className="home">\n            <section className="hero">\n                <h1>Discover Amazing Movies</h1>\n                <p>Explore the latest and greatest films</p>\n                <Link to="/movies" className="btn btn-primary">\n                    Browse Movies\n                </Link>\n            </section>\n            \n            <section className="featured-section">\n                <h2>Popular Movies</h2>\n                <MovieList movies={movies} loading={loading} />\n                <div className="section-footer">\n                    <Link to="/movies" className="btn btn-link">\n                        View All Movies →\n                    </Link>\n                </div>\n            </section>\n        </div>\n    );\n}\n\nexport default Home;\n```\n\n```javascript\n// src/pages/Movies.jsx\nimport { useState } from ''react'';\nimport { useMovies } from ''../hooks/useMovies'';\nimport MovieList from ''../components/Movie/MovieList'';\nimport FilterBar from ''../components/Common/FilterBar'';\nimport Pagination from ''../components/Common/Pagination'';\nimport ''./Movies.css'';\n\nconst FILTERS = {\n    popular: ''getPopularMovies'',\n    topRated: ''getTopRatedMovies'',\n    nowPlaying: ''getNowPlayingMovies'',\n    upcoming: ''getUpcomingMovies''\n};\n\nfunction Movies() {\n    const [filter, setFilter] = useState(''popular'');\n    const [page, setPage] = useState(1);\n    const { movies, loading, totalPages } = useMovies(FILTERS[filter], page);\n    \n    return (\n        <div className="movies-page">\n            <h1>Movies</h1>\n            \n            <FilterBar\n                filters={[\n                    { key: ''popular'', label: ''Popular'' },\n                    { key: ''topRated'', label: ''Top Rated'' },\n                    { key: ''nowPlaying'', label: ''Now Playing'' },\n                    { key: ''upcoming'', label: ''Upcoming'' }\n                ]}\n                activeFilter={filter}\n                onFilterChange={setFilter}\n            />\n            \n            <MovieList movies={movies} loading={loading} />\n            \n            {totalPages > 1 && (\n                <Pagination\n                    currentPage={page}\n                    totalPages={totalPages}\n                    onPageChange={setPage}\n                />\n            )}\n        </div>\n    );\n}\n\nexport default Movies;\n```\n\n```javascript\n// src/pages/MovieDetail.jsx\nimport { useParams } from ''react-router-dom'';\nimport MovieDetail from ''../components/Movie/MovieDetail'';\nimport ''./MovieDetailPage.css'';\n\nfunction MovieDetailPage() {\n    const { id } = useParams();\n    \n    return (\n        <div className="movie-detail-page">\n            <MovieDetail movieId={id} />\n        </div>\n    );\n}\n\nexport default MovieDetailPage;\n```\n\n```javascript\n// src/pages/Watchlist.jsx\nimport { useWatchlist } from ''../context/WatchlistContext'';\nimport MovieList from ''../components/Movie/MovieList'';\nimport ''./Watchlist.css'';\n\nfunction Watchlist() {\n    const { watchlist } = useWatchlist();\n    \n    return (\n        <div className="watchlist-page">\n            <h1>My Watchlist</h1>\n            {watchlist.length === 0 ? (\n                <div className="empty-watchlist">\n                    <p>Your watchlist is empty</p>\n                    <p>Start adding movies to your watchlist!</p>\n                </div>\n            ) : (\n                <MovieList movies={watchlist} loading={false} />\n            )}\n        </div>\n    );\n}\n\nexport default Watchlist;\n```\n\n```javascript\n// src/pages/Search.jsx\nimport MovieSearch from ''../components/Movie/MovieSearch'';\nimport ''./Search.css'';\n\nfunction Search() {\n    return (\n        <div className="search-page">\n            <h1>Search Movies</h1>\n            <MovieSearch />\n        </div>\n    );\n}\n\nexport default Search;\n```\n\n### Phase 7: App Component with Routing\n\n```javascript\n// src/App.jsx\nimport { BrowserRouter, Routes, Route } from ''react-router-dom'';\nimport { lazy, Suspense } from ''react'';\nimport { WatchlistProvider } from ''./context/WatchlistContext'';\nimport Layout from ''./components/Layout/Layout'';\nimport Loading from ''./components/Common/Loading'';\nimport ''./App.css'';\n\n// Lazy load pages for code splitting\nconst Home = lazy(() => import(''./pages/Home''));\nconst Movies = lazy(() => import(''./pages/Movies''));\nconst MovieDetail = lazy(() => import(''./pages/MovieDetail''));\nconst Watchlist = lazy(() => import(''./pages/Watchlist''));\nconst Search = lazy(() => import(''./pages/Search''));\nconst About = lazy(() => import(''./pages/About''));\n\nfunction App() {\n    return (\n        <WatchlistProvider>\n            <BrowserRouter>\n                <Layout>\n                    <Suspense fallback={<Loading />}>\n                        <Routes>\n                            <Route path="/" element={<Home />} />\n                            <Route path="/movies" element={<Movies />} />\n                            <Route path="/movie/:id" element={<MovieDetail />} />\n                            <Route path="/watchlist" element={<Watchlist />} />\n                            <Route path="/search" element={<Search />} />\n                            <Route path="/about" element={<About />} />\n                        </Routes>\n                    </Suspense>\n                </Layout>\n            </BrowserRouter>\n        </WatchlistProvider>\n    );\n}\n\nexport default App;\n```\n\n### Phase 8: Layout Component\n\n```javascript\n// src/components/Layout/Layout.jsx\nimport Header from ''./Header'';\nimport Footer from ''./Footer'';\nimport ''./Layout.css'';\n\nfunction Layout({ children }) {\n    return (\n        <div className="layout">\n            <Header />\n            <main className="main-content">\n                {children}\n            </main>\n            <Footer />\n        </div>\n    );\n}\n\nexport default Layout;\n```\n\n```javascript\n// src/components/Layout/Header.jsx\nimport { Link, useLocation } from ''react-router-dom'';\nimport { useWatchlist } from ''../../context/WatchlistContext'';\nimport ''./Header.css'';\n\nfunction Header() {\n    const location = useLocation();\n    const { watchlist } = useWatchlist();\n    \n    const isActive = (path) => location.pathname === path;\n    \n    return (\n        <header className="header">\n            <div className="header-container">\n                <Link to="/" className="logo">\n                    🎬 MovieDB\n                </Link>\n                <nav className="nav">\n                    <Link\n                        to="/"\n                        className={`nav-link ${isActive(''/'') ? ''active'' : ''''}`}\n                    >\n                        Home\n                    </Link>\n                    <Link\n                        to="/movies"\n                        className={`nav-link ${isActive(''/movies'') ? ''active'' : ''''}`}\n                    >\n                        Movies\n                    </Link>\n                    <Link\n                        to="/search"\n                        className={`nav-link ${isActive(''/search'') ? ''active'' : ''''}`}\n                    >\n                        Search\n                    </Link>\n                    <Link\n                        to="/watchlist"\n                        className={`nav-link ${isActive(''/watchlist'') ? ''active'' : ''''}`}\n                    >\n                        Watchlist\n                        {watchlist.length > 0 && (\n                            <span className="badge">{watchlist.length}</span>\n                        )}\n                    </Link>\n                    <Link\n                        to="/about"\n                        className={`nav-link ${isActive(''/about'') ? ''active'' : ''''}`}\n                    >\n                        About\n                    </Link>\n                </nav>\n            </div>\n        </header>\n    );\n}\n\nexport default Header;\n```\n\n---\n\n## Features Implementation\n\n### State Management\n\n- **Watchlist Context**: Global watchlist state\n- **Custom Hooks**: Reusable data fetching hooks\n- **Local Storage**: Persist watchlist\n- **Optimistic Updates**: Immediate UI feedback\n\n### Routing\n\n- **React Router**: Client-side routing\n- **Lazy Loading**: Code splitting for performance\n- **Dynamic Routes**: Movie detail pages\n- **Navigation**: Smooth page transitions\n\n### API Integration\n\n- **TMDB API**: External movie database\n- **Error Handling**: Graceful error handling\n- **Loading States**: User feedback\n- **Caching**: Reduce API calls\n\n### Responsive Design\n\n- **Mobile-First**: Start with mobile\n- **Flexible Layouts**: Grid and flexbox\n- **Breakpoints**: Multiple screen sizes\n- **Touch-Friendly**: Large tap targets\n\n---\n\n## Performance Optimization\n\n### Code Splitting\n\n```javascript\n// Lazy load components\nconst MovieDetail = lazy(() => import(''./pages/MovieDetail''));\n```\n\n### Image Optimization\n\n```javascript\n// Use different image sizes\nconst getImageUrl = (path, size = ''w500'') => {\n    return path ? `https://image.tmdb.org/t/p/${size}${path}` : placeholder;\n};\n```\n\n### Memoization\n\n```javascript\nimport { useMemo } from ''react'';\n\nconst filteredMovies = useMemo(() => {\n    return movies.filter(movie => /* filter logic */);\n}, [movies, filter]);\n```\n\n---\n\n## Testing Your Application\n\n### Manual Testing Checklist\n\n- [ ] Navigate between all routes\n- [ ] Search functionality works\n- [ ] Add/remove from watchlist\n- [ ] Pagination works\n- [ ] Filter movies\n- [ ] View movie details\n- [ ] Responsive on mobile\n- [ ] Loading states display\n- [ ] Error handling works\n- [ ] Performance is good\n\n---\n\n## Deployment\n\n### Build for Production\n\n```bash\nnpm run build\n```\n\n### Deploy to Vercel\n\n```bash\n# Install Vercel CLI\nnpm install -g vercel\n\n# Deploy\nvercel\n\n# Set environment variables\nvercel env add REACT_APP_TMDB_API_KEY\n```\n\n### Deploy to Netlify\n\n```bash\n# Install Netlify CLI\nnpm install -g netlify-cli\n\n# Deploy\nnetlify deploy --prod\n\n# Set environment variables in Netlify dashboard\n```\n\n---\n\n## Exercise: Single Page Application\n\n**Instructions**:\n\n1. Choose your project idea\n2. Set up React/Vue project\n3. Plan your routes and state\n4. Implement all features\n5. Optimize performance\n6. Test thoroughly\n7. Deploy to production\n\n**Timeline**: 2-3 weeks recommended\n\n---\n\n## Evaluation Criteria\n\nYour project will be evaluated on:\n\n1. **Functionality** (30%)\n   - All features work correctly\n   - Smooth navigation\n   - No critical bugs\n\n2. **State Management** (20%)\n   - Proper state organization\n   - Efficient updates\n   - State persistence\n\n3. **Routing** (15%)\n   - All routes work\n   - Navigation is smooth\n   - Protected routes (if applicable)\n\n4. **API Integration** (15%)\n   - Proper API usage\n   - Error handling\n   - Loading states\n\n5. **Design & UX** (15%)\n   - Modern, polished design\n   - Responsive layout\n   - Good user experience\n\n6. **Performance** (5%)\n   - Fast load times\n   - Smooth interactions\n   - Optimized code\n\n---\n\n## Common Issues and Solutions\n\n### Issue: Slow performance\n\n**Solution**: Implement code splitting, lazy loading, and memoization.\n\n### Issue: API rate limiting\n\n**Solution**: Implement caching and debouncing for search.\n\n### Issue: Routing not working\n\n**Solution**: Ensure BrowserRouter wraps the app and routes are correct.\n\n---\n\n## Quiz: SPA Concepts\n\n1. **SPA:**\n   - A) Single Page Application\n   - B) Multiple pages\n   - C) Both\n   - D) Neither\n\n2. **State management:**\n   - A) Important for SPAs\n   - B) Not important\n   - C) Both\n   - D) Neither\n\n3. **Routing:**\n   - A) Client-side navigation\n   - B) Server-side navigation\n   - C) Both\n   - D) Neither\n\n4. **Code splitting:**\n   - A) Improves performance\n   - B) Doesn''t improve performance\n   - C) Both\n   - D) Neither\n\n5. **Responsive design:**\n   - A) Works on all devices\n   - B) Desktop only\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Single Page Application\n2. A) Important for SPAs\n3. A) Client-side navigation\n4. A) Improves performance\n5. A) Works on all devices\n\n---\n\n## Key Takeaways\n\n1. **SPA Architecture**: Single page with client-side routing\n2. **State Management**: Critical for complex apps\n3. **Routing**: Smooth navigation without page reloads\n4. **API Integration**: Connect to external services\n5. **Performance**: Optimize with code splitting and lazy loading\n6. **Best Practice**: Clean code, good UX, responsive design\n\n---\n\n## Next Steps\n\nCongratulations! You''ve built a Single Page Application. You now know:\n- How to build complex SPAs\n- How to manage state effectively\n- How to implement routing\n- How to integrate with APIs\n- How to optimize performance\n\n**What''s Next?**\n- Capstone Project 3: Real-Time Application\n- Learn WebSocket integration\n- Build real-time features\n- Create advanced applications\n\n---\n\n*Capstone Project completed! You''ve demonstrated mastery of modern frontend development!*\n\n', NULL, 2, '2026-01-03 10:42:44', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Build complex single-page applications\n- Implement advanced state management\n- Create seamless routing and navigation\n- Integrate with external APIs\n- Design responsive, modern UIs\n- Optimize application performance\n- Handle complex user interactions\n- Deploy SPAs to production');
INSERT INTO `lessons` (`id`, `module_id`, `course_id`, `title`, `slug`, `content`, `code_examples`, `sort_order`, `created_at`, `updated_at`, `status`, `content_type`, `featured_image`, `estimated_time`, `objectives`) VALUES (206, 75, 18, 'Real-Time Application', 'realtime-application', '# Capstone Project 3: Real-Time Application\n\n## Project Overview\n\nBuild a production-ready Real-Time Application using WebSockets, combining frontend and backend with real-time communication. This capstone project will demonstrate mastery of WebSocket integration, real-time features, backend API development, database integration, and deployment.\n\n## Learning Objectives\n\nBy the end of this project, you will be able to:\n- Implement WebSocket connections\n- Build real-time features\n- Design and develop backend APIs\n- Integrate databases with real-time updates\n- Handle concurrent connections\n- Optimize real-time performance\n- Deploy real-time applications\n- Handle edge cases and errors\n\n---\n\n## Project Requirements\n\n### Core Features\n\n1. **Real-Time Communication**\n   - Instant message delivery\n   - Live updates\n   - User presence indicators\n   - Typing indicators\n   - Notifications\n\n2. **Backend API**\n   - RESTful API endpoints\n   - WebSocket server\n   - Database integration\n   - Authentication\n   - Error handling\n\n3. **Database**\n   - Store messages and data\n   - User management\n   - Real-time data sync\n   - Data persistence\n\n4. **User Features**\n   - User authentication\n   - User profiles\n   - Online/offline status\n   - Message history\n   - Room/channel management\n\n5. **Advanced Features**\n   - File sharing\n   - Message reactions\n   - Read receipts\n   - Message editing/deleting\n   - Search functionality\n\n### Technical Requirements\n\n- **Backend**: Node.js, Express.js, Socket.io\n- **Frontend**: React or Vue.js\n- **Database**: MongoDB or PostgreSQL\n- **Authentication**: JWT\n- **WebSockets**: Socket.io\n- **Deployment**: Backend and frontend deployment\n\n---\n\n## Project Ideas\n\nChoose one of these or create your own:\n\n### Option 1: Real-Time Collaboration Tool\n- Multiple users editing documents\n- Live cursor positions\n- Change tracking\n- Comments and suggestions\n- Version history\n\n### Option 2: Live Dashboard Application\n- Real-time data visualization\n- Multiple data sources\n- Live updates\n- Customizable widgets\n- Alerts and notifications\n\n### Option 3: Multiplayer Game\n- Real-time game state\n- Player interactions\n- Leaderboards\n- Game rooms\n- Chat system\n\n### Option 4: Live Polling/Voting App\n- Create polls\n- Real-time vote counting\n- Results visualization\n- Multiple poll types\n- Admin controls\n\n### Option 5: Team Communication Platform\n- Channels and direct messages\n- File sharing\n- Video/audio calls (optional)\n- Notifications\n- Message threads\n\n---\n\n## Recommended Project: Real-Time Collaboration Tool\n\nWe''ll use a Real-Time Collaboration Tool as our example. You can adapt this to any of the options above.\n\n---\n\n## Project Structure\n\n```\ncollaboration-app/\n├── backend/\n│   ├── src/\n│   │   ├── config/\n│   │   │   └── database.js\n│   │   ├── models/\n│   │   │   ├── User.js\n│   │   │   ├── Document.js\n│   │   │   └── Change.js\n│   │   ├── controllers/\n│   │   │   ├── authController.js\n│   │   │   ├── documentController.js\n│   │   │   └── userController.js\n│   │   ├── routes/\n│   │   │   ├── authRoutes.js\n│   │   │   ├── documentRoutes.js\n│   │   │   └── userRoutes.js\n│   │   ├── socket/\n│   │   │   ├── socketHandlers.js\n│   │   │   └── documentHandlers.js\n│   │   ├── middleware/\n│   │   │   ├── auth.js\n│   │   │   └── errorHandler.js\n│   │   └── server.js\n│   ├── .env\n│   └── package.json\n├── frontend/\n│   ├── src/\n│   │   ├── components/\n│   │   │   ├── Layout/\n│   │   │   ├── Document/\n│   │   │   ├── Editor/\n│   │   │   └── UserList/\n│   │   ├── pages/\n│   │   │   ├── Home.jsx\n│   │   │   ├── DocumentPage.jsx\n│   │   │   └── Dashboard.jsx\n│   │   ├── context/\n│   │   │   ├── AuthContext.jsx\n│   │   │   └── SocketContext.jsx\n│   │   ├── hooks/\n│   │   │   └── useSocket.js\n│   │   ├── services/\n│   │   │   └── api.js\n│   │   └── App.jsx\n│   └── package.json\n└── README.md\n```\n\n---\n\n## Step-by-Step Implementation\n\n### Phase 1: Backend Setup\n\n```bash\n# Create backend directory\nmkdir collaboration-backend\ncd collaboration-backend\nnpm init -y\n\n# Install dependencies\nnpm install express socket.io mongoose dotenv bcrypt jsonwebtoken cors helmet express-rate-limit\nnpm install --save-dev nodemon\n\n# Create project structure\nmkdir -p src/{config,models,controllers,routes,socket,middleware}\n```\n\n### Phase 2: Database Models\n\n```javascript\n// backend/src/models/Document.js\nconst mongoose = require(''mongoose'');\n\nconst changeSchema = new mongoose.Schema({\n    type: {\n        type: String,\n        enum: [''insert'', ''delete'', ''format''],\n        required: true\n    },\n    position: {\n        type: Number,\n        required: true\n    },\n    text: String,\n    length: Number,\n    format: {\n        type: Map,\n        of: String\n    },\n    userId: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: ''User'',\n        required: true\n    },\n    timestamp: {\n        type: Date,\n        default: Date.now\n    }\n}, { _id: false });\n\nconst documentSchema = new mongoose.Schema({\n    title: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    content: {\n        type: String,\n        default: ''''\n    },\n    owner: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: ''User'',\n        required: true\n    },\n    collaborators: [{\n        user: {\n            type: mongoose.Schema.Types.ObjectId,\n            ref: ''User''\n        },\n        role: {\n            type: String,\n            enum: [''viewer'', ''editor''],\n            default: ''editor''\n        }\n    }],\n    changes: [changeSchema],\n    version: {\n        type: Number,\n        default: 1\n    },\n    isPublic: {\n        type: Boolean,\n        default: false\n    }\n}, {\n    timestamps: true\n});\n\nmodule.exports = mongoose.model(''Document'', documentSchema);\n```\n\n### Phase 3: Socket Handlers\n\n```javascript\n// backend/src/socket/documentHandlers.js\nconst Document = require(''../models/Document'');\nconst User = require(''../models/User'');\n\n// Store active users per document\nconst activeUsers = new Map();\n\nfunction setupDocumentHandlers(io, socket) {\n    // Join document room\n    socket.on(''document:join'', async (data) => {\n        const { documentId, userId } = data;\n        \n        try {\n            const document = await Document.findById(documentId);\n            if (!document) {\n                socket.emit(''error'', { message: ''Document not found'' });\n                return;\n            }\n            \n            // Check access\n            const hasAccess = document.owner.toString() === userId ||\n                            document.collaborators.some(c => c.user.toString() === userId) ||\n                            document.isPublic;\n            \n            if (!hasAccess) {\n                socket.emit(''error'', { message: ''Access denied'' });\n                return;\n            }\n            \n            // Join room\n            socket.join(documentId);\n            \n            // Track active user\n            if (!activeUsers.has(documentId)) {\n                activeUsers.set(documentId, new Map());\n            }\n            \n            const user = await User.findById(userId).select(''name email'');\n            activeUsers.get(documentId).set(socket.id, {\n                userId,\n                name: user.name,\n                cursor: null\n            });\n            \n            // Notify others\n            socket.to(documentId).emit(''user:joined'', {\n                userId,\n                name: user.name\n            });\n            \n            // Send current document state\n            socket.emit(''document:state'', {\n                content: document.content,\n                version: document.version\n            });\n            \n            // Send active users\n            const users = Array.from(activeUsers.get(documentId).values());\n            io.to(documentId).emit(''users:list'', users);\n            \n        } catch (error) {\n            socket.emit(''error'', { message: error.message });\n        }\n    });\n    \n    // Handle text changes\n    socket.on(''document:change'', async (data) => {\n        const { documentId, change, userId } = data;\n        \n        try {\n            const document = await Document.findById(documentId);\n            if (!document) return;\n            \n            // Apply change to content\n            let newContent = document.content;\n            if (change.type === ''insert'') {\n                newContent = newContent.slice(0, change.position) +\n                           change.text +\n                           newContent.slice(change.position);\n            } else if (change.type === ''delete'') {\n                newContent = newContent.slice(0, change.position) +\n                           newContent.slice(change.position + change.length);\n            }\n            \n            // Save change\n            document.content = newContent;\n            document.changes.push({\n                ...change,\n                userId\n            });\n            document.version += 1;\n            await document.save();\n            \n            // Broadcast to other users in room\n            socket.to(documentId).emit(''document:change'', {\n                change,\n                userId,\n                version: document.version\n            });\n            \n        } catch (error) {\n            socket.emit(''error'', { message: error.message });\n        }\n    });\n    \n    // Handle cursor position\n    socket.on(''cursor:update'', (data) => {\n        const { documentId, position, userId } = data;\n        \n        if (activeUsers.has(documentId)) {\n            const user = activeUsers.get(documentId).get(socket.id);\n            if (user) {\n                user.cursor = position;\n                socket.to(documentId).emit(''cursor:update'', {\n                    userId,\n                    position,\n                    name: user.name\n                });\n            }\n        }\n    });\n    \n    // Handle user leaving\n    socket.on(''document:leave'', (data) => {\n        const { documentId, userId } = data;\n        \n        if (activeUsers.has(documentId)) {\n            activeUsers.get(documentId).delete(socket.id);\n            \n            if (activeUsers.get(documentId).size === 0) {\n                activeUsers.delete(documentId);\n            } else {\n                socket.to(documentId).emit(''user:left'', { userId });\n                const users = Array.from(activeUsers.get(documentId).values());\n                io.to(documentId).emit(''users:list'', users);\n            }\n        }\n    });\n    \n    // Cleanup on disconnect\n    socket.on(''disconnect'', () => {\n        activeUsers.forEach((users, documentId) => {\n            if (users.has(socket.id)) {\n                const user = users.get(socket.id);\n                users.delete(socket.id);\n                \n                if (users.size === 0) {\n                    activeUsers.delete(documentId);\n                } else {\n                    io.to(documentId).emit(''user:left'', { userId: user.userId });\n                    const userList = Array.from(users.values());\n                    io.to(documentId).emit(''users:list'', userList);\n                }\n            }\n        });\n    });\n}\n\nmodule.exports = setupDocumentHandlers;\n```\n\n### Phase 4: Socket Server Setup\n\n```javascript\n// backend/src/socket/socketHandlers.js\nconst jwt = require(''jsonwebtoken'');\nconst User = require(''../models/User'');\nconst setupDocumentHandlers = require(''./documentHandlers'');\n\nfunction setupSocketIO(io) {\n    // Authentication middleware for Socket.io\n    io.use(async (socket, next) => {\n        try {\n            const token = socket.handshake.auth.token;\n            \n            if (!token) {\n                return next(new Error(''Authentication error''));\n            }\n            \n            const decoded = jwt.verify(token, process.env.JWT_SECRET);\n            const user = await User.findById(decoded.userId).select(''-password'');\n            \n            if (!user) {\n                return next(new Error(''User not found''));\n            }\n            \n            socket.userId = user._id.toString();\n            socket.user = user;\n            next();\n        } catch (error) {\n            next(new Error(''Authentication error''));\n        }\n    });\n    \n    io.on(''connection'', (socket) => {\n        console.log(''User connected:'', socket.userId);\n        \n        // Setup document handlers\n        setupDocumentHandlers(io, socket);\n        \n        socket.on(''disconnect'', () => {\n            console.log(''User disconnected:'', socket.userId);\n        });\n    });\n}\n\nmodule.exports = setupSocketIO;\n```\n\n### Phase 5: Server with Socket.io\n\n```javascript\n// backend/src/server.js\nconst express = require(''express'');\nconst http = require(''http'');\nconst { Server } = require(''socket.io'');\nconst mongoose = require(''mongoose'');\nconst cors = require(''cors'');\nconst helmet = require(''helmet'');\nrequire(''dotenv'').config();\n\nconst authRoutes = require(''./routes/authRoutes'');\nconst documentRoutes = require(''./routes/documentRoutes'');\nconst errorHandler = require(''./middleware/errorHandler'');\nconst setupSocketIO = require(''./socket/socketHandlers'');\n\nconst app = express();\nconst server = http.createServer(app);\n\n// Configure Socket.io\nconst io = new Server(server, {\n    cors: {\n        origin: process.env.CLIENT_URL || ''http://localhost:3000'',\n        methods: [''GET'', ''POST''],\n        credentials: true\n    }\n});\n\n// Setup Socket.io handlers\nsetupSocketIO(io);\n\n// Middleware\napp.use(helmet());\napp.use(cors({\n    origin: process.env.CLIENT_URL || ''http://localhost:3000'',\n    credentials: true\n}));\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\n// Routes\napp.use(''/api/auth'', authRoutes);\napp.use(''/api/documents'', documentRoutes);\n\n// Health check\napp.get(''/api/health'', (req, res) => {\n    res.json({\n        success: true,\n        message: ''API is running'',\n        timestamp: new Date().toISOString()\n    });\n});\n\n// Error handler\napp.use(errorHandler);\n\n// Connect to database\nmongoose.connect(process.env.MONGODB_URI)\n    .then(() => {\n        console.log(''Connected to MongoDB'');\n        const PORT = process.env.PORT || 5000;\n        server.listen(PORT, () => {\n            console.log(`Server running on port ${PORT}`);\n        });\n    })\n    .catch((error) => {\n        console.error(''MongoDB connection error:'', error);\n        process.exit(1);\n    });\n```\n\n### Phase 6: Frontend Socket Context\n\n```javascript\n// frontend/src/context/SocketContext.jsx\nimport { createContext, useContext, useEffect, useState } from ''react'';\nimport { io } from ''socket.io-client'';\nimport { useAuth } from ''./AuthContext'';\n\nconst SocketContext = createContext();\n\nexport function SocketProvider({ children }) {\n    const { user, isAuthenticated } = useAuth();\n    const [socket, setSocket] = useState(null);\n    const [connected, setConnected] = useState(false);\n    \n    useEffect(() => {\n        if (isAuthenticated && user) {\n            const token = localStorage.getItem(''token'');\n            const newSocket = io(process.env.REACT_APP_SOCKET_URL || ''http://localhost:5000'', {\n                auth: {\n                    token\n                },\n                transports: [''websocket'']\n            });\n            \n            newSocket.on(''connect'', () => {\n                console.log(''Socket connected'');\n                setConnected(true);\n            });\n            \n            newSocket.on(''disconnect'', () => {\n                console.log(''Socket disconnected'');\n                setConnected(false);\n            });\n            \n            newSocket.on(''error'', (error) => {\n                console.error(''Socket error:'', error);\n            });\n            \n            setSocket(newSocket);\n            \n            return () => {\n                newSocket.close();\n            };\n        }\n    }, [isAuthenticated, user]);\n    \n    return (\n        <SocketContext.Provider value={{ socket, connected }}>\n            {children}\n        </SocketContext.Provider>\n    );\n}\n\nexport function useSocket() {\n    const context = useContext(SocketContext);\n    if (!context) {\n        throw new Error(''useSocket must be used within SocketProvider'');\n    }\n    return context;\n}\n```\n\n### Phase 7: Document Editor Component\n\n```javascript\n// frontend/src/components/Editor/DocumentEditor.jsx\nimport { useState, useEffect, useRef } from ''react'';\nimport { useSocket } from ''../../context/SocketContext'';\nimport { useAuth } from ''../../context/AuthContext'';\nimport ''./DocumentEditor.css'';\n\nfunction DocumentEditor({ documentId, initialContent }) {\n    const { socket } = useSocket();\n    const { user } = useAuth();\n    const [content, setContent] = useState(initialContent || '''');\n    const [version, setVersion] = useState(1);\n    const [activeUsers, setActiveUsers] = useState([]);\n    const [cursors, setCursors] = useState(new Map());\n    const editorRef = useRef(null);\n    const lastChangeRef = useRef(null);\n    \n    useEffect(() => {\n        if (!socket || !documentId) return;\n        \n        // Join document\n        socket.emit(''document:join'', {\n            documentId,\n            userId: user.id\n        });\n        \n        // Listen for document state\n        socket.on(''document:state'', (data) => {\n            setContent(data.content);\n            setVersion(data.version);\n        });\n        \n        // Listen for changes from others\n        socket.on(''document:change'', (data) => {\n            if (data.userId !== user.id) {\n                applyChange(data.change);\n                setVersion(data.version);\n            }\n        });\n        \n        // Listen for active users\n        socket.on(''users:list'', (users) => {\n            setActiveUsers(users);\n        });\n        \n        // Listen for cursor updates\n        socket.on(''cursor:update'', (data) => {\n            if (data.userId !== user.id) {\n                setCursors(prev => {\n                    const newCursors = new Map(prev);\n                    newCursors.set(data.userId, {\n                        position: data.position,\n                        name: data.name\n                    });\n                    return newCursors;\n                });\n            }\n        });\n        \n        // Listen for user joined/left\n        socket.on(''user:joined'', (data) => {\n            console.log(`${data.name} joined`);\n        });\n        \n        socket.on(''user:left'', (data) => {\n            setCursors(prev => {\n                const newCursors = new Map(prev);\n                newCursors.delete(data.userId);\n                return newCursors;\n            });\n        });\n        \n        return () => {\n            socket.emit(''document:leave'', { documentId, userId: user.id });\n            socket.off(''document:state'');\n            socket.off(''document:change'');\n            socket.off(''users:list'');\n            socket.off(''cursor:update'');\n            socket.off(''user:joined'');\n            socket.off(''user:left'');\n        };\n    }, [socket, documentId, user]);\n    \n    const applyChange = (change) => {\n        setContent(prev => {\n            if (change.type === ''insert'') {\n                return prev.slice(0, change.position) +\n                       change.text +\n                       prev.slice(change.position);\n            } else if (change.type === ''delete'') {\n                return prev.slice(0, change.position) +\n                       prev.slice(change.position + change.length);\n            }\n            return prev;\n        });\n    };\n    \n    const handleChange = (e) => {\n        const newContent = e.target.value;\n        const oldContent = content;\n        const position = e.target.selectionStart;\n        \n        // Calculate change\n        let change;\n        if (newContent.length > oldContent.length) {\n            // Insert\n            const insertedText = newContent.slice(position - (newContent.length - oldContent.length), position);\n            change = {\n                type: ''insert'',\n                position: position - insertedText.length,\n                text: insertedText\n            };\n        } else {\n            // Delete\n            change = {\n                type: ''delete'',\n                position,\n                length: oldContent.length - newContent.length\n            };\n        }\n        \n        // Update local state\n        setContent(newContent);\n        \n        // Debounce and send change\n        if (lastChangeRef.current) {\n            clearTimeout(lastChangeRef.current);\n        }\n        \n        lastChangeRef.current = setTimeout(() => {\n            if (socket && documentId) {\n                socket.emit(''document:change'', {\n                    documentId,\n                    change,\n                    userId: user.id\n                });\n            }\n        }, 100);\n        \n        // Update cursor position\n        if (socket && documentId) {\n            socket.emit(''cursor:update'', {\n                documentId,\n                position: e.target.selectionStart,\n                userId: user.id\n            });\n        }\n    };\n    \n    const handleSelectionChange = (e) => {\n        if (socket && documentId) {\n            socket.emit(''cursor:update'', {\n                documentId,\n                position: e.target.selectionStart,\n                userId: user.id\n            });\n        }\n    };\n    \n    return (\n        <div className="document-editor">\n            <div className="editor-header">\n                <div className="active-users">\n                    {activeUsers.map(u => (\n                        <span key={u.userId} className="user-badge">\n                            {u.name}\n                        </span>\n                    ))}\n                </div>\n                <div className="editor-version">\n                    Version: {version}\n                </div>\n            </div>\n            \n            <textarea\n                ref={editorRef}\n                value={content}\n                onChange={handleChange}\n                onSelect={handleSelectionChange}\n                className="editor-textarea"\n                placeholder="Start typing..."\n            />\n            \n            <div className="cursors-overlay">\n                {Array.from(cursors.entries()).map(([userId, cursor]) => (\n                    <div\n                        key={userId}\n                        className="cursor-indicator"\n                        style={{ left: `${cursor.position * 8}px` }}\n                    >\n                        <span className="cursor-name">{cursor.name}</span>\n                        <div className="cursor-line"></div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default DocumentEditor;\n```\n\n### Phase 8: Document Page\n\n```javascript\n// frontend/src/pages/DocumentPage.jsx\nimport { useState, useEffect } from ''react'';\nimport { useParams, useNavigate } from ''react-router-dom'';\nimport { documentsAPI } from ''../services/api'';\nimport { useAuth } from ''../context/AuthContext'';\nimport DocumentEditor from ''../components/Editor/DocumentEditor'';\nimport Loading from ''../components/Common/Loading'';\nimport Error from ''../components/Common/Error'';\nimport ''./DocumentPage.css'';\n\nfunction DocumentPage() {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const { user } = useAuth();\n    const [document, setDocument] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    \n    useEffect(() => {\n        loadDocument();\n    }, [id]);\n    \n    const loadDocument = async () => {\n        try {\n            setLoading(true);\n            const response = await documentsAPI.getDocument(id);\n            setDocument(response.data.data);\n        } catch (err) {\n            setError(err.response?.data?.error || ''Failed to load document'');\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    if (loading) {\n        return <Loading />;\n    }\n    \n    if (error) {\n        return <Error message={error} />;\n    }\n    \n    if (!document) {\n        return <Error message="Document not found" />;\n    }\n    \n    return (\n        <div className="document-page">\n            <div className="document-header">\n                <button onClick={() => navigate(-1)} className="btn btn-back">\n                    ← Back\n                </button>\n                <h1>{document.title}</h1>\n                <div className="document-actions">\n                    <button className="btn btn-secondary">Share</button>\n                    <button className="btn btn-secondary">Export</button>\n                </div>\n            </div>\n            \n            <DocumentEditor\n                documentId={id}\n                initialContent={document.content}\n            />\n        </div>\n    );\n}\n\nexport default DocumentPage;\n```\n\n### Phase 9: App Component\n\n```javascript\n// frontend/src/App.jsx\nimport { BrowserRouter, Routes, Route } from ''react-router-dom'';\nimport { AuthProvider } from ''./context/AuthContext'';\nimport { SocketProvider } from ''./context/SocketContext'';\nimport Layout from ''./components/Layout/Layout'';\nimport Home from ''./pages/Home'';\nimport Login from ''./pages/Login'';\nimport Register from ''./pages/Register'';\nimport Dashboard from ''./pages/Dashboard'';\nimport DocumentPage from ''./pages/DocumentPage'';\nimport ProtectedRoute from ''./components/ProtectedRoute'';\nimport ''./App.css'';\n\nfunction App() {\n    return (\n        <AuthProvider>\n            <SocketProvider>\n                <BrowserRouter>\n                    <Layout>\n                        <Routes>\n                            <Route path="/" element={<Home />} />\n                            <Route path="/login" element={<Login />} />\n                            <Route path="/register" element={<Register />} />\n                            <Route\n                                path="/dashboard"\n                                element={\n                                    <ProtectedRoute>\n                                        <Dashboard />\n                                    </ProtectedRoute>\n                                }\n                            />\n                            <Route\n                                path="/document/:id"\n                                element={\n                                    <ProtectedRoute>\n                                        <DocumentPage />\n                                    </ProtectedRoute>\n                                }\n                            />\n                        </Routes>\n                    </Layout>\n                </BrowserRouter>\n            </SocketProvider>\n        </AuthProvider>\n    );\n}\n\nexport default App;\n```\n\n---\n\n## Features Implementation\n\n### WebSocket Integration\n\n- **Socket.io Server**: Real-time server setup\n- **Socket.io Client**: Frontend connection\n- **Authentication**: JWT-based socket auth\n- **Room Management**: Document rooms\n\n### Real-Time Features\n\n- **Live Editing**: Collaborative text editing\n- **Cursor Tracking**: See other users'' cursors\n- **User Presence**: Show active users\n- **Change Broadcasting**: Instant updates\n- **Version Control**: Track document versions\n\n### Backend API\n\n- **REST Endpoints**: Document CRUD\n- **WebSocket Events**: Real-time events\n- **Database**: MongoDB integration\n- **Authentication**: Secure access\n\n### Database\n\n- **Document Storage**: Store documents\n- **Change History**: Track all changes\n- **User Management**: User data\n- **Relationships**: User-document relationships\n\n---\n\n## Testing Your Application\n\n### Manual Testing Checklist\n\n- [ ] Connect multiple users\n- [ ] Real-time text editing\n- [ ] See other users'' cursors\n- [ ] User join/leave notifications\n- [ ] Document persistence\n- [ ] Change history\n- [ ] Error handling\n- [ ] Reconnection handling\n- [ ] Performance with many users\n- [ ] Mobile responsiveness\n\n---\n\n## Deployment\n\n### Backend Deployment\n\n```bash\n# Heroku example\nheroku create your-app-backend\nheroku config:set MONGODB_URI=your-uri\nheroku config:set JWT_SECRET=your-secret\nheroku config:set CLIENT_URL=https://your-frontend.com\ngit push heroku main\n```\n\n### Frontend Deployment\n\n```bash\n# Vercel example\nnpm run build\nvercel\nvercel env add REACT_APP_SOCKET_URL\nvercel env add REACT_APP_API_URL\n```\n\n### Environment Variables\n\n**Backend (.env)**:\n```\nNODE_ENV=production\nPORT=5000\nMONGODB_URI=your-mongodb-uri\nJWT_SECRET=your-secret-key\nCLIENT_URL=https://your-frontend.com\n```\n\n**Frontend (.env)**:\n```\nREACT_APP_API_URL=https://your-backend.com/api\nREACT_APP_SOCKET_URL=https://your-backend.com\n```\n\n---\n\n## Exercise: Real-Time Application\n\n**Instructions**:\n\n1. Choose your project idea\n2. Set up backend with Socket.io\n3. Set up frontend\n4. Implement real-time features\n5. Test with multiple users\n6. Deploy to production\n\n**Timeline**: 3-4 weeks recommended\n\n---\n\n## Common Issues and Solutions\n\n### Issue: Socket connection fails\n\n**Solution**: Check CORS configuration and authentication token.\n\n### Issue: Changes not syncing\n\n**Solution**: Verify event names match and changes are being saved.\n\n### Issue: Performance issues\n\n**Solution**: Implement debouncing, optimize change broadcasting.\n\n---\n\n## Quiz: WebSockets\n\n1. **WebSockets:**\n   - A) Real-time bidirectional communication\n   - B) One-way communication\n   - C) Both\n   - D) Neither\n\n2. **Socket.io:**\n   - A) WebSocket library\n   - B) HTTP library\n   - C) Both\n   - D) Neither\n\n3. **Real-time features:**\n   - A) Instant updates\n   - B) Delayed updates\n   - C) Both\n   - D) Neither\n\n4. **Rooms:**\n   - A) Group connections\n   - B) Don''t group connections\n   - C) Both\n   - D) Neither\n\n5. **Database:**\n   - A) Persists real-time data\n   - B) Doesn''t persist data\n   - C) Both\n   - D) Neither\n\n**Answers**:\n1. A) Real-time bidirectional communication\n2. A) WebSocket library\n3. A) Instant updates\n4. A) Group connections\n5. A) Persists real-time data\n\n---\n\n## Key Takeaways\n\n1. **WebSockets**: Enable real-time communication\n2. **Socket.io**: Simplifies WebSocket implementation\n3. **Real-Time Features**: Instant updates and collaboration\n4. **Backend API**: REST + WebSocket combination\n5. **Database**: Persist real-time data\n6. **Best Practice**: Handle connections, errors, and performance\n\n---\n\n## Next Steps\n\nCongratulations! You''ve built a Real-Time Application. You now know:\n- How to implement WebSockets\n- How to build real-time features\n- How to integrate backend APIs\n- How to work with databases\n- How to deploy real-time apps\n\n**What''s Next?**\n- Assessment and Certification\n- Complete all projects\n- Pass assessments\n- Get certified\n\n---\n\n*Capstone Project completed! You''ve demonstrated mastery of real-time application development!*\n\n', NULL, 3, '2026-01-03 10:43:39', '2026-01-03 10:43:39', 'published', 'markdown', NULL, NULL, 'By the end of this project, you will be able to:\n- Implement WebSocket connections\n- Build real-time features\n- Design and develop backend APIs\n- Integrate databases with real-time updates\n- Handle concurrent connections\n- Optimize real-time performance\n- Deploy real-time applications\n- Handle edge cases and errors');

SET FOREIGN_KEY_CHECKS=1;

COMMIT;

-- ============================================
-- Export completed successfully
-- ============================================
